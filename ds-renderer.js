/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	var parentJsonpFunction = window["webpackJsonp"];
/******/ 	window["webpackJsonp"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [], result;
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId])
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);
/******/ 		while(resolves.length)
/******/ 			resolves.shift()();
/******/
/******/ 	};
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// objects to store loaded and loading chunks
/******/ 	var installedChunks = {
/******/ 		1: 0
/******/ 	};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		if(installedChunks[chunkId] === 0)
/******/ 			return Promise.resolve();
/******/
/******/ 		// an Promise means "currently loading".
/******/ 		if(installedChunks[chunkId]) {
/******/ 			return installedChunks[chunkId][2];
/******/ 		}
/******/ 		// start chunk loading
/******/ 		var head = document.getElementsByTagName('head')[0];
/******/ 		var script = document.createElement('script');
/******/ 		script.type = 'text/javascript';
/******/ 		script.charset = 'utf-8';
/******/ 		script.async = true;
/******/ 		script.timeout = 120000;
/******/
/******/ 		if (__webpack_require__.nc) {
/******/ 			script.setAttribute("nonce", __webpack_require__.nc);
/******/ 		}
/******/ 		script.src = __webpack_require__.p + "" + chunkId + ".ds-renderer.js";
/******/ 		var timeout = setTimeout(onScriptComplete, 120000);
/******/ 		script.onerror = script.onload = onScriptComplete;
/******/ 		function onScriptComplete() {
/******/ 			// avoid mem leaks in IE.
/******/ 			script.onerror = script.onload = null;
/******/ 			clearTimeout(timeout);
/******/ 			var chunk = installedChunks[chunkId];
/******/ 			if(chunk !== 0) {
/******/ 				if(chunk) chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));
/******/ 				installedChunks[chunkId] = undefined;
/******/ 			}
/******/ 		};
/******/
/******/ 		var promise = new Promise(function(resolve, reject) {
/******/ 			installedChunks[chunkId] = [resolve, reject];
/******/ 		});
/******/ 		installedChunks[chunkId][2] = promise;
/******/
/******/ 		head.appendChild(script);
/******/ 		return promise;
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 857);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(334);
module.exports.default = module.exports;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(799), __esModule: true };

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

exports.default = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }

  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
};

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
};

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.fromJS = exports.OSet = exports.OMap = exports.Iterable = exports.Stack = exports.Set = exports.Seq = exports.Record = exports.List = exports.Map = exports.Struct = undefined;

var _immutableEnhanced = __webpack_require__(574);

var _immutableEnhanced2 = _interopRequireDefault(_immutableEnhanced);

var _struct = __webpack_require__(575);

var _struct2 = _interopRequireDefault(_struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/immutable');


var Map = _immutableEnhanced2.default.Map,
    List = _immutableEnhanced2.default.List,
    Record = _immutableEnhanced2.default.Record,
    Seq = _immutableEnhanced2.default.Seq,
    Set = _immutableEnhanced2.default.Set,
    Stack = _immutableEnhanced2.default.Stack,
    Iterable = _immutableEnhanced2.default.Iterable,
    OMap = _immutableEnhanced2.default.OMap,
    OSet = _immutableEnhanced2.default.OSet,
    fromJS = _immutableEnhanced2.default.fromJS;

// export default {
//   Struct,
//   Map,
//   List,
//   Record,
//   Seq,
//   Set,
//   Stack,
//   Iterable,
//   OMap,
//   OSet,
//   fromJS,
//   Immutable,
// }

exports.default = _immutableEnhanced2.default;
exports.Struct = _struct2.default;
exports.Map = Map;
exports.List = List;
exports.Record = Record;
exports.Seq = Seq;
exports.Set = Set;
exports.Stack = Stack;
exports.Iterable = Iterable;
exports.OMap = OMap;
exports.OSet = OSet;
exports.fromJS = fromJS;

// Object.defineProperty(exports, '__esModule', {
//   value: true,
// })
// exports.default = Immutable
// exports.Struct = Struct
// exports.Map = Map
// exports.List = List
// exports.Record = Record
// exports.Seq = Seq
// exports.Set = Set
// exports.Stack = Stack
// exports.Iterable = Iterable
// exports.OMap = OMap
// exports.OSet = OSet
// exports.fromJS = fromJS

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
};

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(792), __esModule: true };

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.StyleContext = exports.Styleverse = exports.Style = exports.enhance = undefined;

var _Styleverse = __webpack_require__(242);

var _Styleverse2 = _interopRequireDefault(_Styleverse);

var _style = __webpack_require__(739);

var _style2 = _interopRequireDefault(_style);

var _styleContext = __webpack_require__(248);

var _styleContext2 = _interopRequireDefault(_styleContext);

var _enhance = __webpack_require__(683);

var _enhance2 = _interopRequireDefault(_enhance);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/styleverse");


_Styleverse2.default.enhance = _enhance2.default;

exports.default = _Styleverse2.default;
exports.enhance = _enhance2.default;
exports.Style = _style2.default;
exports.Styleverse = _Styleverse2.default;
exports.StyleContext = _styleContext2.default;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];

    for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }

  return target;
};

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(801), __esModule: true };

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectState = exports.enhance = exports.install = exports.installStore = exports.Store = undefined;

var _store = __webpack_require__(218);

var _store2 = _interopRequireDefault(_store);

var _installStore = __webpack_require__(590);

var _installStore2 = _interopRequireDefault(_installStore);

var _connectState = __webpack_require__(589);

var _connectState2 = _interopRequireDefault(_connectState);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/cymatics');


// TODO: deprecated API
var enhance = _installStore2.default;
var install = _installStore2.default;

var Contextual = {
  Store: _store2.default,
  installStore: _installStore2.default, install: install, enhance: enhance,
  connectState: _connectState2.default
};

exports.Store = _store2.default;
exports.installStore = _installStore2.default;
exports.install = install;
exports.enhance = enhance;
exports.connectState = _connectState2.default;
exports.default = Contextual;

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.React = exports.range = exports.PropTypes = exports.omit = exports.imgflo = exports.fromTo = exports.degrees = exports.cloneComponentProps = exports.fromJS = exports.OSet = exports.OMap = exports.Iterable = exports.Stack = exports.Set = exports.Seq = exports.Record = exports.List = exports.Map = exports.Struct = exports.debounce = exports.palettes = exports.polator = exports.chromatose = exports.Color = exports.raf = undefined;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _raf = __webpack_require__(514);

var _raf2 = _interopRequireDefault(_raf);

var _chromatoseNext = __webpack_require__(101);

var _chromatoseNext2 = _interopRequireDefault(_chromatoseNext);

var _lodash = __webpack_require__(70);

var _lodash2 = _interopRequireDefault(_lodash);

var _immutable = __webpack_require__(6);

var _cloneComponentProps = __webpack_require__(509);

var _cloneComponentProps2 = _interopRequireDefault(_cloneComponentProps);

var _degrees = __webpack_require__(510);

var _degrees2 = _interopRequireDefault(_degrees);

var _fromTo = __webpack_require__(511);

var _fromTo2 = _interopRequireDefault(_fromTo);

var _imgflo = __webpack_require__(512);

var _imgflo2 = _interopRequireDefault(_imgflo);

var _omit = __webpack_require__(513);

var _omit2 = _interopRequireDefault(_omit);

var _PropTypes = __webpack_require__(507);

var _PropTypes2 = _interopRequireDefault(_PropTypes);

var _range = __webpack_require__(515);

var _range2 = _interopRequireDefault(_range);

var _React = __webpack_require__(508);

var _React2 = _interopRequireDefault(_React);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/deps');

var window = window || global;
window.Inferno = _infernoCompat2.default;
console.log('window.Inferno');

exports.raf = _raf2.default;
exports.Color = _chromatoseNext.Color;
exports.chromatose = _chromatoseNext2.default;
exports.polator = _chromatoseNext.polator;
exports.palettes = _chromatoseNext.palettes;
exports.debounce = _lodash2.default;
exports.Struct = _immutable.Struct;
exports.Map = _immutable.Map;
exports.List = _immutable.List;
exports.Record = _immutable.Record;
exports.Seq = _immutable.Seq;
exports.Set = _immutable.Set;
exports.Stack = _immutable.Stack;
exports.Iterable = _immutable.Iterable;
exports.OMap = _immutable.OMap;
exports.OSet = _immutable.OSet;
exports.fromJS = _immutable.fromJS;
exports.cloneComponentProps = _cloneComponentProps2.default;
exports.degrees = _degrees2.default;
exports.fromTo = _fromTo2.default;
exports.imgflo = _imgflo2.default;
exports.omit = _omit2.default;
exports.PropTypes = _PropTypes2.default;
exports.range = _range2.default;
exports.React = _React2.default;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Component = undefined;

var _Component = __webpack_require__(588);

var _Component2 = _interopRequireDefault(_Component);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Component2.default;
exports.Component = _Component2.default;

/***/ }),
/* 15 */
/***/ (function(module, exports) {

var core = module.exports = {version: '2.4.0'};
if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(793), __esModule: true };

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(794), __esModule: true };

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;
var createHelper = function createHelper(func, helperName) {
  var setDisplayName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  var noArgs = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

  if (false) {
    var _ret = function () {
      /* eslint-disable global-require */
      var wrapDisplayName = require('./wrapDisplayName').default;
      /* eslint-enable global-require */

      if (noArgs) {
        return {
          v: function v(BaseComponent) {
            var Component = func(BaseComponent);
            Component.displayName = wrapDisplayName(BaseComponent, helperName);
            return Component;
          }
        };
      }

      return {
        v: function v() {
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          return function (BaseComponent) {
            var Component = func.apply(undefined, args)(BaseComponent);
            Component.displayName = wrapDisplayName(BaseComponent, helperName);
            return Component;
          };
        }
      };
    }();

    if ((typeof _ret === 'undefined' ? 'undefined' : (0, _typeof3.default)(_ret)) === "object") return _ret.v;
  }

  return func;
};

exports.default = createHelper;

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(802), __esModule: true };

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(796), __esModule: true };

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(788), __esModule: true };

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var g;

// This works in non-strict mode
g = function () {
	return this;
}();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if ((typeof window === "undefined" ? "undefined" : (0, _typeof3.default)(window)) === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault2(_symbol);

var _getOwnPropertySymbols = __webpack_require__(80);

var _getOwnPropertySymbols2 = _interopRequireDefault2(_getOwnPropertySymbols);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault2(_getOwnPropertyNames);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault2(_from);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
var _slice = Array.prototype.slice;

var _createDecoratedClass = function () {
  function defineProperties(target, descriptors, initializers) {
    for (var i = 0; i < descriptors.length; i++) {
      var descriptor = descriptors[i];var decorators = descriptor.decorators;var key = descriptor.key;delete descriptor.key;delete descriptor.decorators;descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor || descriptor.initializer) descriptor.writable = true;if (decorators) {
        for (var f = 0; f < decorators.length; f++) {
          var decorator = decorators[f];if (typeof decorator === 'function') {
            descriptor = decorator(target, key, descriptor) || descriptor;
          } else {
            throw new TypeError('The decorator for method ' + descriptor.key + ' is of the invalid type ' + (typeof decorator === 'undefined' ? 'undefined' : (0, _typeof3.default)(decorator)));
          }
        }if (descriptor.initializer !== undefined) {
          initializers[key] = descriptor;continue;
        }
      }(0, _defineProperty2.default)(target, key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps, protoInitializers, staticInitializers) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps, protoInitializers);if (staticProps) defineProperties(Constructor, staticProps, staticInitializers);return Constructor;
  };
}();

exports.isDescriptor = isDescriptor;
exports.decorate = decorate;
exports.metaFor = metaFor;
exports.getOwnPropertyDescriptors = getOwnPropertyDescriptors;
exports.createDefaultSetter = createDefaultSetter;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

function _defineDecoratedPropertyDescriptor(target, key, descriptors) {
  var _descriptor = descriptors[key];if (!_descriptor) return;var descriptor = {};for (var _key in _descriptor) {
    descriptor[_key] = _descriptor[_key];
  }descriptor.value = descriptor.initializer ? descriptor.initializer.call(target) : undefined;(0, _defineProperty2.default)(target, key, descriptor);
}

var _lazyInitialize = __webpack_require__(176);

var _lazyInitialize2 = _interopRequireDefault(_lazyInitialize);

var defineProperty = _defineProperty2.default;
var getOwnPropertyDescriptor = _getOwnPropertyDescriptor2.default;
var getOwnPropertyNames = _getOwnPropertyNames2.default;
var getOwnPropertySymbols = _getOwnPropertySymbols2.default;

function isDescriptor(desc) {
  if (!desc || !desc.hasOwnProperty) {
    return false;
  }

  var keys = ['value', 'initializer', 'get', 'set'];

  for (var i = 0, l = keys.length; i < l; i++) {
    if (desc.hasOwnProperty(keys[i])) {
      return true;
    }
  }

  return false;
}

function decorate(handleDescriptor, entryArgs) {
  if (isDescriptor(entryArgs[entryArgs.length - 1])) {
    return handleDescriptor.apply(undefined, _toConsumableArray(entryArgs).concat([[]]));
  } else {
    return function () {
      return handleDescriptor.apply(undefined, _slice.call(arguments).concat([entryArgs]));
    };
  }
}

var Meta = function () {
  var _instanceInitializers = {};

  function Meta() {
    _classCallCheck(this, Meta);

    _defineDecoratedPropertyDescriptor(this, 'debounceTimeoutIds', _instanceInitializers);

    _defineDecoratedPropertyDescriptor(this, 'throttleTimeoutIds', _instanceInitializers);

    _defineDecoratedPropertyDescriptor(this, 'throttlePreviousTimestamps', _instanceInitializers);

    _defineDecoratedPropertyDescriptor(this, 'throttleTrailingArgs', _instanceInitializers);
  }

  _createDecoratedClass(Meta, [{
    key: 'debounceTimeoutIds',
    decorators: [_lazyInitialize2['default']],
    initializer: function initializer() {
      return {};
    },
    enumerable: true
  }, {
    key: 'throttleTimeoutIds',
    decorators: [_lazyInitialize2['default']],
    initializer: function initializer() {
      return {};
    },
    enumerable: true
  }, {
    key: 'throttlePreviousTimestamps',
    decorators: [_lazyInitialize2['default']],
    initializer: function initializer() {
      return {};
    },
    enumerable: true
  }, {
    key: 'throttleTrailingArgs',
    decorators: [_lazyInitialize2['default']],
    initializer: function initializer() {
      return null;
    },
    enumerable: true
  }], null, _instanceInitializers);

  return Meta;
}();

var META_KEY = typeof _symbol2.default === 'function' ? (0, _symbol2.default)('__core_decorators__') : '__core_decorators__';

function metaFor(obj) {
  if (obj.hasOwnProperty(META_KEY) === false) {
    defineProperty(obj, META_KEY, {
      // Defaults: NOT enumerable, configurable, or writable
      value: new Meta()
    });
  }

  return obj[META_KEY];
}

var getOwnKeys = getOwnPropertySymbols ? function (object) {
  return getOwnPropertyNames(object).concat(getOwnPropertySymbols(object));
} : getOwnPropertyNames;

exports.getOwnKeys = getOwnKeys;

function getOwnPropertyDescriptors(obj) {
  var descs = {};

  getOwnKeys(obj).forEach(function (key) {
    return descs[key] = getOwnPropertyDescriptor(obj, key);
  });

  return descs;
}

function createDefaultSetter(key) {
  return function set(newValue) {
    (0, _defineProperty2.default)(this, key, {
      configurable: true,
      writable: true,
      // IS enumerable when reassigned by the outside word
      enumerable: true,
      value: newValue
    });

    return newValue;
  };
}

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createEagerElementUtil = __webpack_require__(200);

var _createEagerElementUtil2 = _interopRequireDefault(_createEagerElementUtil);

var _isReferentiallyTransparentFunctionComponent = __webpack_require__(198);

var _isReferentiallyTransparentFunctionComponent2 = _interopRequireDefault(_isReferentiallyTransparentFunctionComponent);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var createFactory = function createFactory(type) {
  var isReferentiallyTransparent = (0, _isReferentiallyTransparentFunctionComponent2.default)(type);
  return function (p, c) {
    return (0, _createEagerElementUtil2.default)(false, isReferentiallyTransparent, type, p, c);
  };
};

exports.default = createFactory;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

var global    = __webpack_require__(32)
  , core      = __webpack_require__(15)
  , ctx       = __webpack_require__(55)
  , hide      = __webpack_require__(58)
  , PROTOTYPE = 'prototype';

var $export = function(type, name, source){
  var IS_FORCED = type & $export.F
    , IS_GLOBAL = type & $export.G
    , IS_STATIC = type & $export.S
    , IS_PROTO  = type & $export.P
    , IS_BIND   = type & $export.B
    , IS_WRAP   = type & $export.W
    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
    , expProto  = exports[PROTOTYPE]
    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
    , key, own, out;
  if(IS_GLOBAL)source = name;
  for(key in source){
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if(own && key in exports)continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function(C){
      var F = function(a, b, c){
        if(this instanceof C){
          switch(arguments.length){
            case 0: return new C;
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if(IS_PROTO){
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library` 
module.exports = $export;

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

exports.default = function (obj, keys) {
  var target = {};

  for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;
    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
    target[i] = obj[i];
  }

  return target;
};

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

var store      = __webpack_require__(161)('wks')
  , uid        = __webpack_require__(116)
  , Symbol     = __webpack_require__(32).Symbol
  , USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function(name){
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractStorylineStore = exports.AbstractStoryline = exports.StorylineContent = exports.Storyline = exports.Story = undefined;

var _story = __webpack_require__(241);

var _story2 = _interopRequireDefault(_story);

var _storyline = __webpack_require__(676);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Story = _story2.default;
exports.Storyline = _storyline.Storyline;
exports.StorylineContent = _storyline.StorylineContent;
exports.AbstractStoryline = _storyline.AbstractStoryline;
exports.AbstractStorylineStore = _storyline.AbstractStorylineStore;

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var now = __webpack_require__(89),
    root = typeof window === 'undefined' ? global : window,
    vendors = ['moz', 'webkit'],
    suffix = 'AnimationFrame',
    raf = root['request' + suffix],
    caf = root['cancel' + suffix] || root['cancelRequest' + suffix];

for (var i = 0; !raf && i < vendors.length; i++) {
  raf = root[vendors[i] + 'Request' + suffix];
  caf = root[vendors[i] + 'Cancel' + suffix] || root[vendors[i] + 'CancelRequest' + suffix];
}

// Some versions of FF have rAF but not cAF
if (!raf || !caf) {
  var last = 0,
      id = 0,
      queue = [],
      frameDuration = 1000 / 60;

  raf = function raf(callback) {
    if (queue.length === 0) {
      var _now = now(),
          next = Math.max(0, frameDuration - (_now - last));
      last = next + _now;
      setTimeout(function () {
        var cp = queue.slice(0);
        // Clear queue here to prevent
        // callbacks from appending listeners
        // to the current frame's queue
        queue.length = 0;
        for (var i = 0; i < cp.length; i++) {
          if (!cp[i].cancelled) {
            try {
              cp[i].callback(last);
            } catch (e) {
              setTimeout(function () {
                throw e;
              }, 0);
            }
          }
        }
      }, Math.round(next));
    }
    queue.push({
      handle: ++id,
      callback: callback,
      cancelled: false
    });
    return id;
  };

  caf = function caf(handle) {
    for (var i = 0; i < queue.length; i++) {
      if (queue[i].handle === handle) {
        queue[i].cancelled = true;
      }
    }
  };
}

module.exports = function (fn) {
  // Wrap in a new function to prevent
  // `cancel` potentially being assigned
  // to the native rAF function
  return raf.call(root, fn);
};
module.exports.cancel = function () {
  caf.apply(root, arguments);
};
module.exports.polyfill = function () {
  root.requestAnimationFrame = raf;
  root.cancelAnimationFrame = caf;
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _layoutverseMediator = __webpack_require__(229);

var _layoutverseMediator2 = _interopRequireDefault(_layoutverseMediator);

var _enhance = __webpack_require__(638);

var _enhance2 = _interopRequireDefault(_enhance);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var layoutverse = new _layoutverseMediator2.default(); // singleton
layoutverse.enhance = _enhance2.default;

var window = window ? window : global;
if (window) window.layoutverse = layoutverse;

exports.default = layoutverse;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(804), __esModule: true };

/***/ }),
/* 32 */
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ }),
/* 33 */
/***/ (function(module, exports) {

module.exports = function(it){
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bind = __webpack_require__(174);

/*global toString:true*/

// utils is a library of generic helper functions non-specific to axios

var toString = Object.prototype.toString;

/**
 * Determine if a value is an Array
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Array, otherwise false
 */
function isArray(val) {
  return toString.call(val) === '[object Array]';
}

/**
 * Determine if a value is an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an ArrayBuffer, otherwise false
 */
function isArrayBuffer(val) {
  return toString.call(val) === '[object ArrayBuffer]';
}

/**
 * Determine if a value is a FormData
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an FormData, otherwise false
 */
function isFormData(val) {
  return typeof FormData !== 'undefined' && val instanceof FormData;
}

/**
 * Determine if a value is a view on an ArrayBuffer
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false
 */
function isArrayBufferView(val) {
  var result;
  if (typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView) {
    result = ArrayBuffer.isView(val);
  } else {
    result = val && val.buffer && val.buffer instanceof ArrayBuffer;
  }
  return result;
}

/**
 * Determine if a value is a String
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a String, otherwise false
 */
function isString(val) {
  return typeof val === 'string';
}

/**
 * Determine if a value is a Number
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Number, otherwise false
 */
function isNumber(val) {
  return typeof val === 'number';
}

/**
 * Determine if a value is undefined
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if the value is undefined, otherwise false
 */
function isUndefined(val) {
  return typeof val === 'undefined';
}

/**
 * Determine if a value is an Object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is an Object, otherwise false
 */
function isObject(val) {
  return val !== null && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object';
}

/**
 * Determine if a value is a Date
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Date, otherwise false
 */
function isDate(val) {
  return toString.call(val) === '[object Date]';
}

/**
 * Determine if a value is a File
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a File, otherwise false
 */
function isFile(val) {
  return toString.call(val) === '[object File]';
}

/**
 * Determine if a value is a Blob
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Blob, otherwise false
 */
function isBlob(val) {
  return toString.call(val) === '[object Blob]';
}

/**
 * Determine if a value is a Function
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Function, otherwise false
 */
function isFunction(val) {
  return toString.call(val) === '[object Function]';
}

/**
 * Determine if a value is a Stream
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a Stream, otherwise false
 */
function isStream(val) {
  return isObject(val) && isFunction(val.pipe);
}

/**
 * Determine if a value is a URLSearchParams object
 *
 * @param {Object} val The value to test
 * @returns {boolean} True if value is a URLSearchParams object, otherwise false
 */
function isURLSearchParams(val) {
  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;
}

/**
 * Trim excess whitespace off the beginning and end of a string
 *
 * @param {String} str The String to trim
 * @returns {String} The String freed of excess whitespace
 */
function trim(str) {
  return str.replace(/^\s*/, '').replace(/\s*$/, '');
}

/**
 * Determine if we're running in a standard browser environment
 *
 * This allows axios to run in a web worker, and react-native.
 * Both environments support XMLHttpRequest, but not fully standard globals.
 *
 * web workers:
 *  typeof window -> undefined
 *  typeof document -> undefined
 *
 * react-native:
 *  typeof document.createElement -> undefined
 */
function isStandardBrowserEnv() {
  return typeof window !== 'undefined' && typeof document !== 'undefined' && typeof document.createElement === 'function';
}

/**
 * Iterate over an Array or an Object invoking a function for each item.
 *
 * If `obj` is an Array callback will be called passing
 * the value, index, and complete array for each item.
 *
 * If 'obj' is an Object callback will be called passing
 * the value, key, and complete object for each property.
 *
 * @param {Object|Array} obj The object to iterate
 * @param {Function} fn The callback to invoke for each item
 */
function forEach(obj, fn) {
  // Don't bother if no value provided
  if (obj === null || typeof obj === 'undefined') {
    return;
  }

  // Force an array if not already something iterable
  if ((typeof obj === 'undefined' ? 'undefined' : (0, _typeof3.default)(obj)) !== 'object' && !isArray(obj)) {
    /*eslint no-param-reassign:0*/
    obj = [obj];
  }

  if (isArray(obj)) {
    // Iterate over array values
    for (var i = 0, l = obj.length; i < l; i++) {
      fn.call(null, obj[i], i, obj);
    }
  } else {
    // Iterate over object keys
    for (var key in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, key)) {
        fn.call(null, obj[key], key, obj);
      }
    }
  }
}

/**
 * Accepts varargs expecting each argument to be an object, then
 * immutably merges the properties of each object and returns result.
 *
 * When multiple objects contain the same key the later object in
 * the arguments list will take precedence.
 *
 * Example:
 *
 * ```js
 * var result = merge({foo: 123}, {foo: 456});
 * console.log(result.foo); // outputs 456
 * ```
 *
 * @param {Object} obj1 Object to merge
 * @returns {Object} Result of all merge properties
 */
function merge() /* obj1, obj2, obj3, ... */{
  var result = {};
  function assignValue(val, key) {
    if ((0, _typeof3.default)(result[key]) === 'object' && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object') {
      result[key] = merge(result[key], val);
    } else {
      result[key] = val;
    }
  }

  for (var i = 0, l = arguments.length; i < l; i++) {
    forEach(arguments[i], assignValue);
  }
  return result;
}

/**
 * Extends object a by mutably adding to it the properties of object b.
 *
 * @param {Object} a The object to be extended
 * @param {Object} b The object to copy properties from
 * @param {Object} thisArg The object to bind function to
 * @return {Object} The resulting value of object a
 */
function extend(a, b, thisArg) {
  forEach(b, function assignValue(val, key) {
    if (thisArg && typeof val === 'function') {
      a[key] = bind(val, thisArg);
    } else {
      a[key] = val;
    }
  });
  return a;
}

module.exports = {
  isArray: isArray,
  isArrayBuffer: isArrayBuffer,
  isFormData: isFormData,
  isArrayBufferView: isArrayBufferView,
  isString: isString,
  isNumber: isNumber,
  isObject: isObject,
  isUndefined: isUndefined,
  isDate: isDate,
  isFile: isFile,
  isBlob: isBlob,
  isFunction: isFunction,
  isStream: isStream,
  isURLSearchParams: isURLSearchParams,
  isStandardBrowserEnv: isStandardBrowserEnv,
  forEach: forEach,
  merge: merge,
  extend: extend,
  trim: trim
};

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (obj, key, value) {
  if (key in obj) {
    (0, _defineProperty2.default)(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
};

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function () {
  function sliceIterator(arr, i) {
    var _arr = [];
    var _n = true;
    var _d = false;
    var _e = undefined;

    try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);

        if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;
      _e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }

    return _arr;
  }

  return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

var anObject       = __webpack_require__(41)
  , IE8_DOM_DEFINE = __webpack_require__(261)
  , toPrimitive    = __webpack_require__(164)
  , dP             = Object.defineProperty;

exports.f = __webpack_require__(42) ? Object.defineProperty : function defineProperty(O, P, Attributes){
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if(IE8_DOM_DEFINE)try {
    return dP(O, P, Attributes);
  } catch(e){ /* empty */ }
  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');
  if('value' in Attributes)O[P] = Attributes.value;
  return O;
};

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * core-decorators.js
 * (c) 2016 Jay Phelps and contributors
 * MIT Licensed
 * https://github.com/jayphelps/core-decorators.js
 * @license
 */


Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequire(obj) {
  return obj && obj.__esModule ? obj['default'] : obj;
}

var _override = __webpack_require__(315);

exports.override = _interopRequire(_override);

var _deprecate = __webpack_require__(308);

exports.deprecate = _interopRequire(_deprecate);
exports.deprecated = _interopRequire(_deprecate);

var _suppressWarnings = __webpack_require__(317);

exports.suppressWarnings = _interopRequire(_suppressWarnings);

var _memoize = __webpack_require__(311);

exports.memoize = _interopRequire(_memoize);

var _autobind = __webpack_require__(305);

exports.autobind = _interopRequire(_autobind);

var _readonly = __webpack_require__(316);

exports.readonly = _interopRequire(_readonly);

var _enumerable = __webpack_require__(309);

exports.enumerable = _interopRequire(_enumerable);

var _nonenumerable = __webpack_require__(314);

exports.nonenumerable = _interopRequire(_nonenumerable);

var _nonconfigurable = __webpack_require__(313);

exports.nonconfigurable = _interopRequire(_nonconfigurable);

var _debounce = __webpack_require__(306);

exports.debounce = _interopRequire(_debounce);

var _throttle = __webpack_require__(318);

exports.throttle = _interopRequire(_throttle);

var _decorate = __webpack_require__(307);

exports.decorate = _interopRequire(_decorate);

var _mixin = __webpack_require__(312);

exports.mixin = _interopRequire(_mixin);
exports.mixins = _interopRequire(_mixin);

var _lazyInitialize = __webpack_require__(176);

exports.lazyInitialize = _interopRequire(_lazyInitialize);

var _time = __webpack_require__(319);

exports.time = _interopRequire(_time);

var _extendDescriptor = __webpack_require__(310);

exports.extendDescriptor = _interopRequire(_extendDescriptor);

// Helper to apply decorators to a class without transpiler support

var _applyDecorators = __webpack_require__(304);

exports.applyDecorators = _interopRequire(_applyDecorators);

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = assertString;
function assertString(input) {
  if (typeof input !== 'string') {
    throw new TypeError('This library (validator.js) validates strings only');
  }
}
module.exports = exports['default'];

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(786), __esModule: true };

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(33);
module.exports = function(it){
  if(!isObject(it))throw TypeError(it + ' is not an object!');
  return it;
};

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__(56)(function(){
  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
});

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Button = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _style = __webpack_require__(484);

var _style2 = _interopRequireDefault(_style);

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

var _uiLogoLoader = __webpack_require__(79);

var _uiLogoLoader2 = _interopRequireDefault(_uiLogoLoader);

var _getId = __webpack_require__(250);

var _getId2 = _interopRequireDefault(_getId);

var _elProps = __webpack_require__(744);

var _elProps2 = _interopRequireDefault(_elProps);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// https://tympanus.net/Development/ElasticSVGElements/button.html
var createVNode = Inferno.createVNode;
var Button = (_dec = (0, _getId2.default)('button'), (0, _elProps2.default)(_class = _dec(_class = function (_React$Component) {
  (0, _inherits3.default)(Button, _React$Component);

  function Button() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Button);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Button.__proto__ || (0, _getPrototypeOf2.default)(Button)).call.apply(_ref, [this].concat(args))), _this), _this.mounted = true, _this.state = {
      clicked: false
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Button, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.mounted = false;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      return createVNode(2, 'button', (0, _extends3.default)({}, this.elProps({ className: (0, _classnames2.default)(['Button Custom--Button', { disabled: this.props.disabled }]) })), [_style2.default, this.props.children, this.renderIcons(), this.renderLabel()], {
        'onClick': function onClick(e) {
          _this2.setState({ clicked: true });
          if (!_this2.props.onClick) return;
          _this2.props.onClick(e);
          if (_this2.loaderTimeout) clearTimeout(_this2.loaderTimeout);
          _this2.loaderTimeout = setTimeout(function () {
            if (!_this2.mounted) return;
            _this2.setState({ clicked: false });
          }, 4000);
        }
      });
    }
  }, {
    key: 'renderIcons',
    value: function renderIcons() {
      if (this.props.loader === false) return null;
      if (this.state.clicked) return createVNode(16, _uiLogoLoader2.default);
      return null;
    }
  }, {
    key: 'renderLabel',
    value: function renderLabel() {
      var icon = this.renderIcon();
      var label = '';
      if (this.props.rollOverLabel) {
        label = createVNode(2, 'div', null, [createVNode(2, 'div', {
          'id': this.getId('rollLabelOff'),
          'className': 'rollLabelOff Custom--Button-rollLabelOff'
        }, [icon, this.props.label]), createVNode(2, 'div', {
          'id': this.getId('rollLabelOn'),
          'className': 'rollLabelOn Custom--Button-rollLabelOn'
        }, [icon, this.props.rollOverLabel])]);
      } else {
        label = createVNode(2, 'div', {
          'id': this.getId('label'),
          'className': 'Custom--Button-label'
        }, [icon, this.props.label]);
      }
      return label;
    }
  }, {
    key: 'renderIcon',
    value: function renderIcon() {
      var icon = '';
      if (this.props.icon) {
        icon = createVNode(2, 'i', {
          'className': 'Custom--Button-icon button-icon ' + this.props.icon,
          'aria-hidden': 'true'
        });
      }
      return icon;
    }
  }]);
  return Button;
}(_infernoCompat2.default.Component)) || _class) || _class);
exports.default = Button;
exports.Button = Button;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WizardFooter = exports.WizardInput = exports.WizardInfoMessage = exports.WizardBody = exports.WizardHeader = exports.WizardStep = undefined;

var _WizardStep = __webpack_require__(502);

var _WizardStep2 = _interopRequireDefault(_WizardStep);

var _WizardInput = __webpack_require__(501);

var _WizardInput2 = _interopRequireDefault(_WizardInput);

var _WizardHeader = __webpack_require__(500);

var _WizardHeader2 = _interopRequireDefault(_WizardHeader);

var _WizardFooter = __webpack_require__(499);

var _WizardFooter2 = _interopRequireDefault(_WizardFooter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.WizardStep = _WizardStep2.default;
exports.WizardHeader = _WizardHeader2.default;
exports.WizardBody = _WizardStep.WizardBody;
exports.WizardInfoMessage = _WizardStep.WizardInfoMessage;
exports.WizardInput = _WizardInput2.default;
exports.WizardFooter = _WizardFooter2.default;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CloseIconThin = exports.WizardFooter = exports.WizardInput = exports.WizardInfoMessage = exports.WizardBody = exports.WizardHeader = exports.WizardStep = exports.Rating = exports.TapInput = exports.Slider = exports.Selectable = exports.ScrollRenderer = exports.Ribbon = exports.ResizeRenderer = exports.ProgressBar = exports.Overlay = exports.LogoLoader = exports.Logo = exports.Input = exports.Grid = exports.ErrorMessage = exports.ContentEditable = exports.Badge = exports.Checkbox = exports.Switch = exports.ToggleButton = exports.Button = exports.Avatar = exports.BackgroundMediaIcon = exports.BackgroundMedia = exports.Component = exports.enhance = exports.StyleContext = exports.Style = exports.Styleverse = undefined;

var _multiverseUi = __webpack_require__(477);

var _backgroundMedia = __webpack_require__(755);

var _backgroundMedia2 = _interopRequireDefault(_backgroundMedia);

var _backgroundMediaIcon = __webpack_require__(754);

var _backgroundMediaIcon2 = _interopRequireDefault(_backgroundMediaIcon);

var _uiLogoLoader = __webpack_require__(79);

var _uiLogoLoader2 = _interopRequireDefault(_uiLogoLoader);

var _styleverse = __webpack_require__(9);

var _uiWizard = __webpack_require__(44);

var _button = __webpack_require__(43);

var _button2 = _interopRequireDefault(_button);

var _switch = __webpack_require__(490);

var _switch2 = _interopRequireDefault(_switch);

var _toggle = __webpack_require__(493);

var _toggle2 = _interopRequireDefault(_toggle);

var _checkbox = __webpack_require__(486);

var _checkbox2 = _interopRequireDefault(_checkbox);

var _uiRibbon = __webpack_require__(71);

var _uiRibbon2 = _interopRequireDefault(_uiRibbon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Device from 'ui-device'
exports.Styleverse = _styleverse.Styleverse;
exports.Style = _styleverse.Style;
exports.StyleContext = _styleverse.StyleContext;
exports.enhance = _styleverse.enhance;
exports.Component = _multiverseUi.Component;
exports.BackgroundMedia = _backgroundMedia2.default;
exports.BackgroundMediaIcon = _backgroundMediaIcon2.default;
exports.Avatar = _multiverseUi.Avatar;
exports.Button = _button2.default;
exports.ToggleButton = _toggle2.default;
exports.Switch = _switch2.default;
exports.Checkbox = _checkbox2.default;
exports.Badge = _multiverseUi.Badge;
exports.ContentEditable = _multiverseUi.ContentEditable;
exports.ErrorMessage = _multiverseUi.ErrorMessage;
exports.Grid = _multiverseUi.Grid;
exports.Input = _multiverseUi.Input;
exports.Logo = _multiverseUi.Logo;
exports.LogoLoader = _uiLogoLoader2.default;
exports.Overlay = _multiverseUi.Overlay;
exports.ProgressBar = _multiverseUi.ProgressBar;
exports.ResizeRenderer = _multiverseUi.ResizeRenderer;
exports.Ribbon = _uiRibbon2.default;
exports.ScrollRenderer = _multiverseUi.ScrollRenderer;
exports.Selectable = _multiverseUi.Selectable;
exports.Slider = _multiverseUi.Slider;
exports.TapInput = _multiverseUi.TapInput;
exports.Rating = _multiverseUi.Rating;
exports.WizardStep = _uiWizard.WizardStep;
exports.WizardHeader = _uiWizard.WizardHeader;
exports.WizardBody = _uiWizard.WizardBody;
exports.WizardInfoMessage = _uiWizard.WizardInfoMessage;
exports.WizardInput = _uiWizard.WizardInput;
exports.WizardFooter = _uiWizard.WizardFooter;
exports.CloseIconThin = _uiWizard.CloseIconThin;
// import FileButton from 'ui-buttons/file-button'

// import IFrame from 'ui-iframe'

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ChooseColor = __webpack_require__(764);

var _ChooseColor2 = _interopRequireDefault(_ChooseColor);

var _Rate = __webpack_require__(774);

var _Rate2 = _interopRequireDefault(_Rate);

var _Nickname = __webpack_require__(772);

var _Nickname2 = _interopRequireDefault(_Nickname);

var _SelectGrid = __webpack_require__(775);

var _SelectGrid2 = _interopRequireDefault(_SelectGrid);

var _GetOn = __webpack_require__(769);

var _GetOn2 = _interopRequireDefault(_GetOn);

var _GetOnSuccess = __webpack_require__(770);

var _GetOnSuccess2 = _interopRequireDefault(_GetOnSuccess);

var _Onboard = __webpack_require__(773);

var _Onboard2 = _interopRequireDefault(_Onboard);

var _ChooseItem = __webpack_require__(766);

var _ChooseItem2 = _interopRequireDefault(_ChooseItem);

var _NavChoose = __webpack_require__(771);

var _NavChoose2 = _interopRequireDefault(_NavChoose);

var _TextInput = __webpack_require__(776);

var _TextInput2 = _interopRequireDefault(_TextInput);

var _Confirm = __webpack_require__(767);

var _Confirm2 = _interopRequireDefault(_Confirm);

var _Dialog = __webpack_require__(768);

var _Dialog2 = _interopRequireDefault(_Dialog);

var _AddDomain = __webpack_require__(762);

var _AddDomain2 = _interopRequireDefault(_AddDomain);

var _AddDomainSuccess = __webpack_require__(763);

var _AddDomainSuccess2 = _interopRequireDefault(_AddDomainSuccess);

var _ChooseHeaderMedia = __webpack_require__(765);

var _ChooseHeaderMedia2 = _interopRequireDefault(_ChooseHeaderMedia);

var _UploadImage = __webpack_require__(777);

var _UploadImage2 = _interopRequireDefault(_UploadImage);

var _wizardStepsRedux = __webpack_require__(147);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import DesignTaste from './DesignTaste'
// import ImageFilters from './ImageFilters'

// import ContentLinks from './ContentLinks'
// import ContactInfo from './ContactInfo'

// import CTAs from './CTAs'
// import CTAChooser from './CTAChooser'
// import ChooseCta from './ChooseCta'
var byName = {
  Confirm: _Confirm2.default,

  GetOn: _GetOn2.default,
  GetOnSuccess: _GetOnSuccess2.default,

  Onboard: _Onboard2.default,

  // Redesign: RedesignWizard,
  NavChoose: _NavChoose2.default,
  ChooseColor: _ChooseColor2.default,
  Rate: _Rate2.default,

  Nickname: _Nickname2.default,
  Sitename: _wizardStepsRedux.Sitename,
  SelectGrid: _SelectGrid2.default,
  // DesignTaste,
  // ImageFilters,

  // ContentLinks,
  // ContactInfo,

  // CTAs,
  // CTAChooser,
  // ChooseCta,

  TextInput2: _TextInput2.default,
  ChooseItem2: _ChooseItem2.default,
  ChooseItemMedia: _wizardStepsRedux.ChooseItemMedia,

  Dialog: _Dialog2.default,

  AddDomain: _AddDomain2.default,
  AddDomainSuccess: _AddDomainSuccess2.default,

  ChooseHeaderMedia: _ChooseHeaderMedia2.default,
  UploadImage: _UploadImage2.default
}; // import RedesignWizard from './RedesignWizard'
exports.default = byName;
module.exports = exports['default'];

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AbstractStory = function (_Story) {
  (0, _inherits3.default)(AbstractStory, _Story);

  function AbstractStory() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AbstractStory);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AbstractStory.__proto__ || (0, _getPrototypeOf2.default)(AbstractStory)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.parentStory = parentStory;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AbstractStory, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      if (this.updateUI) this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      if (this.updateUI) this.updateUI();
    }
  }, {
    key: 'goBack',
    value: function goBack() {
      this.contextRequest('storyline', 'pop-story');
    }
  }]);
  return AbstractStory;
}(_uiStoryMachine.Story);

exports.default = AbstractStory;
module.exports = exports['default'];

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(807), __esModule: true };

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);

  if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);

    if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__(155)
  , defined = __webpack_require__(111);
module.exports = function(it){
  return IObject(defined(it));
};

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(336);
module.exports.default = module.exports;

/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(785), __esModule: true };

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(797), __esModule: true };

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
};

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__(150);
module.exports = function(fn, that, length){
  aFunction(fn);
  if(that === undefined)return fn;
  switch(length){
    case 1: return function(a){
      return fn.call(that, a);
    };
    case 2: return function(a, b){
      return fn.call(that, a, b);
    };
    case 3: return function(a, b, c){
      return fn.call(that, a, b, c);
    };
  }
  return function(/* ...args */){
    return fn.apply(that, arguments);
  };
};

/***/ }),
/* 56 */
/***/ (function(module, exports) {

module.exports = function(exec){
  try {
    return !!exec();
  } catch(e){
    return true;
  }
};

/***/ }),
/* 57 */
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function(it, key){
  return hasOwnProperty.call(it, key);
};

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

var dP         = __webpack_require__(37)
  , createDesc = __webpack_require__(84);
module.exports = __webpack_require__(42) ? function(object, key, value){
  return dP.f(object, key, createDesc(1, value));
} : function(object, key, value){
  object[key] = value;
  return object;
};

/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames() {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg);

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg)) {
				classes.push(classNames.apply(null, arg));
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if (typeof module !== 'undefined' && module.exports) {
		module.exports = classNames;
	} else if ("function" === 'function' && (0, _typeof3.default)(__webpack_require__(118)) === 'object' && __webpack_require__(118)) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {
			return classNames;
		}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {
		window.classNames = classNames;
	}
})();

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _polator = __webpack_require__(102);

var _polator2 = _interopRequireDefault(_polator);

var _color = __webpack_require__(303);

var _color2 = _interopRequireDefault(_color);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

// For backwards API compat with Color v1.0.3

Color.prototype.hexString = function() {
  return this.hex()
}

Color.prototype.hslString = function() {
  return this.hsl().string()
}

Color.prototype.rgbString = function() {
  return this.rgb().string()
}

Color.prototype.rgbaString = function() {
  return this.rgba().string()
}

Color.prototype.clone = function() {
  return Color(this.hsl().object())
}

Color.prototype.rgbArray = function() {
  return this.rgb().array()
}

Color.prototype.rgbaArray = function() {
  // see https://github.com/Qix-/color/issues/104
  return this.rgb().array()
}

*/

_color2.default.prototype.whiteOrBlack = function () {
  if (this.light()) return (0, _color2.default)('black');
  return (0, _color2.default)('white');
};
// polator(input, input1, input2, output1, output2, pennerType='linear', boundType='extend')

_color2.default.prototype.isReddish = function () {
  var _hsl = this.hsl(),
      h = _hsl.h;

  if (9 >= h || Math.abs(360 - h) <= 40) return true;
  return false;
};

_color2.default.prototype.whiteOrBlack = function () {
  if (this.light()) return (0, _color2.default)('black');
  return (0, _color2.default)('white');
};

_color2.default.prototype.isReddish = function () {
  var _hsl2 = this.hsl(),
      h = _hsl2.h;

  if (9 >= h || Math.abs(360 - h) <= 40) return true;
  return false;
};

_color2.default.prototype.isYellowish = function () {
  var _hsl3 = this.hsl(),
      h = _hsl3.h;

  if (9 <= h && h <= 65) return true;
  return false;
};

_color2.default.prototype.chromaDistance = function () {
  var _hsl4 = this.hsl(),
      h = _hsl4.h,
      s = _hsl4.s,
      l = _hsl4.l;

  var _hwb = this.hwb(),
      b = _hwb.b,
      w = _hwb.w;

  var sChromaDistance = Math.abs(100 - s);
  var lChromaDistance = Math.abs(50 - l);

  var vibranceScaler = void 0;
  // dampen warm hues b/c look less vibrant
  if (this.isYellowish()) {
    vibranceScaler = 1.1;
    // boost green-turquoise hues b/c look more vibrant
  } else if (100 <= h && h <= 199 && sChromaDistance < 50 && lChromaDistance < 25) {
    // boost when saturated known
    if (sChromaDistance < 10 && lChromaDistance < 10) {
      vibranceScaler = .5;
    } else {
      vibranceScaler = .9;
    }
  } else {
    vibranceScaler = 1;
  }
  // dampen light and dark colors
  if (l <= 20) {
    vibranceScaler *= (0, _polator2.default)(l, 0, 20, 2, 1, 'linear');
  } else if (l >= 85) {
    vibranceScaler *= (0, _polator2.default)(l, 100, 85, 2, 1, 'linear');
  }
  // dampen desaturated colors
  if (s <= 15) {
    vibranceScaler *= (0, _polator2.default)(s, 0, 15, 2, 1, 'linear');
  }
  // vibranceScaler *= 1.5
  var chromaDistance = b + w; // Math.sqrt(Math.pow(b,2) + Math.pow(w,2))
  // color.chromaDistance = Math.max(color.chromaDistance,.01)
  chromaDistance *= vibranceScaler; // if color.chromaDistance <= vibranceThreshold
  return chromaDistance;
};

_color2.default.prototype.vibranceThreshold = 50;

_color2.default.prototype.isVibrant = function () {
  // reddish colors are dominant
  // if color.isReddish()
  //  if color.chromaDistance() <= 69
  //    return true
  if (this.chromaDistance() <= this.vibranceThreshold) return true;
  return false;
};

_color2.default.prototype.isLight = function () {
  return this.light();
};

_color2.default.prototype.isDark = function () {
  return this.dark();
};

_color2.default.prototype.isBrand = function () {
  var color = this;

  var _hsl5 = this.hsl(),
      h = _hsl5.h,
      s = _hsl5.s,
      l = _hsl5.l;

  if (l <= 10 || l >= 95) {
    return false;
  } else if (s <= 3) {
    return false;
  } else if (s <= 9 && Math.abs(l - 50) > 15) {
    return false;
  } else if (s <= 15 && (l <= 20 || l >= 87)) {
    return false;
  }
  return true;
};

_color2.default.prototype.hueDistance = function (targetColor) {
  var _hsl6 = this.hsl(),
      h = _hsl6.h;

  var targetH = targetColor.hsl().h;
  var distance = targetH - h;
  var absDistance = Math.abs(distance);
  if (absDistance <= 180) return absDistance;
  if (distance > 0) {
    h += 360;
    return h - targetH;
  } else {
    targetH += 360;
    return targetH - h;
  }
};

_color2.default.prototype.oppositeLightness = function (targetColor) {
  if (targetColor.dark()) return this.light();
  return targetColor.light();
};

_color2.default.prototype.oppositeChroma = function (targetColor) {
  if (!targetColor.isVibrant()) return this.isVibrant();
  return targetColor.isVibrant();
};

_color2.default.prototype.darkMutedClone = function () {
  var _hsl7 = this.hsl(),
      h = _hsl7.h,
      s = _hsl7.s,
      l = _hsl7.l;

  l = Math.min(l, 12);
  s = Math.min(s, 30);
  return (0, _color2.default)({ h: h, s: s, l: l });
};

_color2.default.prototype.lightMutedClone = function () {
  var _hsl8 = this.hsl(),
      h = _hsl8.h,
      s = _hsl8.s,
      l = _hsl8.l;

  l = Math.max(l, 95);
  s = Math.min(s, 40);
  return (0, _color2.default)({ h: h, s: s, l: l });
};

_color2.default.prototype.lightVibrantClone = function () {
  if (this.isVibrant()) return this.clone();

  var _hsl9 = this.hsl(),
      h = _hsl9.h,
      s = _hsl9.s,
      l = _hsl9.l;

  s += 0;
  l += 40;
  return (0, _color2.default)({ h: h, s: s, l: l });
};

_color2.default.prototype.darkVibrantClone = function () {
  if (this.isVibrant()) return this.clone();

  var _hsl10 = this.hsl(),
      h = _hsl10.h,
      s = _hsl10.s,
      l = _hsl10.l;

  s += 30;
  l -= 20;
  return (0, _color2.default)({ h: h, s: s, l: l });
};

exports.default = _color2.default;
module.exports = exports['default'];

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _addExternal = __webpack_require__(550);

var _addExternal2 = _interopRequireDefault(_addExternal);

var _addInternal = __webpack_require__(551);

var _addInternal2 = _interopRequireDefault(_addInternal);

var _addLabel = __webpack_require__(552);

var _addLabel2 = _interopRequireDefault(_addLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  AddExternal: _addExternal2.default,
  AddInternal: _addInternal2.default,
  AddLabel: _addLabel2.default
};
module.exports = exports['default'];

/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Immutable = exports.SiteDataStruct = exports.SiteConfigStruct = exports.MetadataStruct = exports.ItemStruct = exports.CtaStruct = exports.ContentUnitStruct = exports.CoverStruct = exports.BlockStruct = undefined;

var _blockStruct = __webpack_require__(576);

var _blockStruct2 = _interopRequireDefault(_blockStruct);

var _coverStruct = __webpack_require__(578);

var _coverStruct2 = _interopRequireDefault(_coverStruct);

var _contentUnitStruct = __webpack_require__(577);

var _contentUnitStruct2 = _interopRequireDefault(_contentUnitStruct);

var _ctaStruct = __webpack_require__(579);

var _ctaStruct2 = _interopRequireDefault(_ctaStruct);

var _itemStruct = __webpack_require__(580);

var _itemStruct2 = _interopRequireDefault(_itemStruct);

var _metadataStruct = __webpack_require__(582);

var _metadataStruct2 = _interopRequireDefault(_metadataStruct);

var _siteConfigStruct = __webpack_require__(583);

var _siteConfigStruct2 = _interopRequireDefault(_siteConfigStruct);

var _siteDataStruct = __webpack_require__(584);

var _siteDataStruct2 = _interopRequireDefault(_siteDataStruct);

var _immutable = __webpack_require__(6);

var _immutable2 = _interopRequireDefault(_immutable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = { BlockStruct: _blockStruct2.default, CoverStruct: _coverStruct2.default, ContentUnitStruct: _contentUnitStruct2.default, CtaStruct: _ctaStruct2.default, ItemStruct: _itemStruct2.default, MetadataStruct: _metadataStruct2.default, SiteConfigStruct: _siteConfigStruct2.default, SiteDataStruct: _siteDataStruct2.default, Immutable: _immutable2.default };
exports.BlockStruct = _blockStruct2.default;
exports.CoverStruct = _coverStruct2.default;
exports.ContentUnitStruct = _contentUnitStruct2.default;
exports.CtaStruct = _ctaStruct2.default;
exports.ItemStruct = _itemStruct2.default;
exports.MetadataStruct = _metadataStruct2.default;
exports.SiteConfigStruct = _siteConfigStruct2.default;
exports.SiteDataStruct = _siteDataStruct2.default;
exports.Immutable = _immutable2.default;

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get4 = __webpack_require__(49);

var _get5 = _interopRequireDefault(_get4);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _immutable = __webpack_require__(6);

var _utilClassname = __webpack_require__(145);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var schema = {

  'style': undefined,

  'renderStyles': {
    params: ['id', 'className'],
    deps: ['style', 'designverse', 'designBranches'],
    get: function get(id, className, style, designverse, designBranches) {
      var branch,
          pathName,
          path,
          children = [];
      if (style) children.push(createVNode(16, _styleverse.Style, {
        'scope': '#' + id,
        children: style
      }, null, null, 'base-style'));

      if (designBranches) {
        for (var i = 0; i < designBranches.length; i++) {
          branch = designBranches[i];
          pathName = _utilClassname.classObj.get(className, branch);
          if (!pathName) continue;
          path = branch + '--' + pathName;
          style = designverse.getIn([path, 'style']);
          if (!style) continue;
          children.push(createVNode(16, _styleverse.Style, {
            'scope': '#' + id,
            children: style
          }, null, null, path));
        }
      }

      if (!children.length) return null;
      return children;
    }
  },

  'designBranches': undefined,

  'designverse': {
    set: function set(designverse) {
      var paths = (0, _keys2.default)(designverse);
      var designBranches = [];
      var branch;
      for (var i = 0; i < paths.length; i++) {
        branch = paths[i].split('--')[0];
        if (designBranches.includes(branch)) continue;
        designBranches.push(branch);
      }
      return { designverse: (0, _immutable.fromJS)(designverse), designBranches: designBranches };
    }
  }
};

/**
 * essentially connects the store to the context
 * and points requests to the right place
 *
 */
var enhance = function enhance(ComponentToEnhance, _designConfig) {

  var
  // each Component class gets own Designer Struct for cache reset purposes
  DesignerStruct = undefined,

  // each component of class shares designer struct
  designer = undefined,

  // displayName required
  displayName = ComponentToEnhance.displayName,
      mountCount = 0;

  var sharedCSS = _designConfig.sharedCSS,
      designConfig = (0, _objectWithoutProperties3.default)(_designConfig, ['sharedCSS']);


  var hasDesigner = !!(0, _keys2.default)(designConfig).length;

  function getDesigner() {
    if (!DesignerStruct) DesignerStruct = (0, _immutable.Struct)(schema);
    if (!designer) designer = new DesignerStruct(designConfig);
    return designer;
  }

  if (!displayName) throw new Error('designable requires Component.displayName ' + Component + ', designConfig=' + (0, _stringify2.default)(designConfig));

  // @TODO: @autobind

  var Enhanced = function (_ComponentToEnhance) {
    (0, _inherits3.default)(Enhanced, _ComponentToEnhance);

    //
    function Enhanced() {
      var _ref;

      (0, _classCallCheck3.default)(this, Enhanced);

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! improve rendering pipeline with GOM or something
      var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Enhanced.__proto__ || (0, _getPrototypeOf2.default)(Enhanced)).call.apply(_ref, [this].concat(args)));

      if (hasDesigner) {
        var super_renderChildren = _this.renderChildren;
        if (!super_renderChildren) throw new Error('designable requires component.renderChildren ' + displayName);
        // wrap renderChildren method
        _this.renderChildren = function () {
          // TODO: remove dep on this id & className
          var id = _this.id,
              className = _this.className;

          if (!id || !className) throw new Error('TEMP HACK: designable requires this.className && this.id ' + displayName);
          // render the children
          var children = super_renderChildren.call(_this);
          if (!children || !(children instanceof Array)) throw new Error("designable renderChildren must return array");
          // render the styles
          var styles = getDesigner().renderStyles(id, className);
          if (styles) return styles.concat(children);
          return children;
        };
      }

      return _this;
    }

    (0, _createClass3.default)(Enhanced, [{
      key: 'componentWillMount',
      value: function componentWillMount() {
        var _get2;

        if (mountCount === 0) {
          if (sharedCSS) this.context.request('styleverse', 'add-css', 'component--' + displayName, sharedCSS);
        }
        mountCount++;
        this._id = displayName + '-' + mountCount;

        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }

        if ((0, _get5.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillMount', this)) (_get2 = (0, _get5.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillMount', this)).call.apply(_get2, [this].concat(args));
      }
    }, {
      key: 'componentWillUnmount',
      value: function componentWillUnmount() {
        var _get3;

        mountCount--;
        if (mountCount === 0) {
          if (hasDesigner) DesignerStruct.cacheReset();
        }

        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
          args[_key3] = arguments[_key3];
        }

        if ((0, _get5.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillUnmount', this)) (_get3 = (0, _get5.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillUnmount', this)).call.apply(_get3, [this].concat(args));
      }

      /*
      getChildContext() {
        const superChildContext = super.getChildContext ?
          super.getChildContext() :
          {}
        let childContext = {...superChildContext}
        childContext.request = this.request
        return childContext
      }
      */

    }]);
    return Enhanced;
  }(ComponentToEnhance);

  // b/c cross-browser & hot-reload issues


  (0, _deps.cloneComponentProps)(ComponentToEnhance, Enhanced);

  Enhanced._isDesignableEnhanced = true;

  if (!Enhanced.contextTypes || !Enhanced.contextTypes.request) {
    Enhanced.contextTypes = (0, _extends3.default)({}, Enhanced.contextTypes, {
      request: _infernoCompat2.default.PropTypes.func.isRequired
    });
  }

  /*
  Enhanced.childContextTypes = {
    ...Enhanced.childContextTypes,
    stores: React.PropTypes.object,
    request: React.PropTypes.func,
    __contextual_names__: React.PropTypes.array,
  }
  */

  return Enhanced;
};

exports.default = enhance;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SpringsContext = exports.Springs = exports.SprungSheet = exports.Sprung = undefined;

var _sprung = __webpack_require__(240);

var _sprung2 = _interopRequireDefault(_sprung);

var _sprungSheet = __webpack_require__(239);

var _sprungSheet2 = _interopRequireDefault(_sprungSheet);

var _springs = __webpack_require__(238);

var _springs2 = _interopRequireDefault(_springs);

var _springsContext = __webpack_require__(673);

var _springsContext2 = _interopRequireDefault(_springsContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/ui-sprung");
exports.Sprung = _sprung2.default;
exports.SprungSheet = _sprungSheet2.default;
exports.Springs = _springs2.default;
exports.SpringsContext = _springsContext2.default;

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(787), __esModule: true };

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(808), __esModule: true };

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys       = __webpack_require__(271)
  , enumBugKeys = __webpack_require__(154);

module.exports = Object.keys || function keys(O){
  return $keys(O, enumBugKeys);
};

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $at  = __webpack_require__(827)(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__(156)(String, 'String', function(iterated){
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , index = this._i
    , point;
  if(index >= O.length)return {value: undefined, done: true};
  point = $at(O, index);
  this._i += point.length;
  return {value: point, done: false};
});

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(832);
var global        = __webpack_require__(32)
  , hide          = __webpack_require__(58)
  , Iterators     = __webpack_require__(72)
  , TO_STRING_TAG = __webpack_require__(27)('toStringTag');

for(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){
  var NAME       = collections[i]
    , Collection = global[NAME]
    , proto      = Collection && Collection.prototype;
  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = (typeof self === 'undefined' ? 'undefined' : (0, _typeof3.default)(self)) == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function now() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? other + '' : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
}

module.exports = debounce;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Ribbon = undefined;

var _Ribbon = __webpack_require__(664);

var _Ribbon2 = _interopRequireDefault(_Ribbon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Ribbon2.default;
exports.Ribbon = _Ribbon2.default;

/***/ }),
/* 72 */
/***/ (function(module, exports) {

module.exports = {};

/***/ }),
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

var META     = __webpack_require__(116)('meta')
  , isObject = __webpack_require__(33)
  , has      = __webpack_require__(57)
  , setDesc  = __webpack_require__(37).f
  , id       = 0;
var isExtensible = Object.isExtensible || function(){
  return true;
};
var FREEZE = !__webpack_require__(56)(function(){
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function(it){
  setDesc(it, META, {value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  }});
};
var fastKey = function(it, create){
  // return primitive with prefix
  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if(!has(it, META)){
    // can't set metadata to uncaught frozen object
    if(!isExtensible(it))return 'F';
    // not necessary to add metadata
    if(!create)return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function(it, create){
  if(!has(it, META)){
    // can't set metadata to uncaught frozen object
    if(!isExtensible(it))return true;
    // not necessary to add metadata
    if(!create)return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function(it){
  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY:      META,
  NEED:     false,
  fastKey:  fastKey,
  getWeak:  getWeak,
  onFreeze: onFreeze
};

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

// most Object methods by ES6 should accept primitives
var $export = __webpack_require__(25)
  , core    = __webpack_require__(15)
  , fails   = __webpack_require__(56);
module.exports = function(KEY, exec){
  var fn  = (core.Object || {})[KEY] || Object[KEY]
    , exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
};

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__(111);
module.exports = function(it){
  return Object(defined(it));
};

/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function () {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function get() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function get() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout() {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
})();
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }
}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e) {
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e) {
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }
}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while (len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () {
    return '/';
};
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function () {
    return 0;
};

/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _icon = __webpack_require__(630);

var _icon2 = _interopRequireDefault(_icon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _icon2.default;
module.exports = exports['default'];

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LogoLoader = undefined;

var _LogoLoader = __webpack_require__(651);

var _LogoLoader2 = _interopRequireDefault(_LogoLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _LogoLoader2.default;
exports.LogoLoader = _LogoLoader2.default;

/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(798), __esModule: true };

/***/ }),
/* 81 */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function(it){
  return toString.call(it).slice(8, -1);
};

/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

var ctx         = __webpack_require__(55)
  , call        = __webpack_require__(264)
  , isArrayIter = __webpack_require__(262)
  , anObject    = __webpack_require__(41)
  , toLength    = __webpack_require__(115)
  , getIterFn   = __webpack_require__(167)
  , BREAK       = {}
  , RETURN      = {};
var exports = module.exports = function(iterable, entries, fn, that, ITERATOR){
  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)
    , f      = ctx(fn, that, entries ? 2 : 1)
    , index  = 0
    , length, step, iterator, result;
  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if(result === BREAK || result === RETURN)return result;
  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
    result = call(iterator, f, step.value, entries);
    if(result === BREAK || result === RETURN)return result;
  }
};
exports.BREAK  = BREAK;
exports.RETURN = RETURN;

/***/ }),
/* 83 */
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;

/***/ }),
/* 84 */
/***/ (function(module, exports) {

module.exports = function(bitmap, value){
  return {
    enumerable  : !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable    : !(bitmap & 4),
    value       : value
  };
};

/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__(37).f
  , has = __webpack_require__(57)
  , TAG = __webpack_require__(27)('toStringTag');

module.exports = function(it, tag, stat){
  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});
};

/***/ }),
/* 86 */
/***/ (function(module, exports) {



/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var _getOwnPropertySymbols = __webpack_require__(80);

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = (typeof self === 'undefined' ? 'undefined' : (0, _typeof3.default)(self)) == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0:
      return func.call(thisArg);
    case 1:
      return func.call(thisArg, args[0]);
    case 2:
      return func.call(thisArg, args[0], args[1]);
    case 3:
      return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.includes` for arrays without support for
 * specifying an index to search from.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludes(array, value) {
  var length = array ? array.length : 0;
  return !!length && baseIndexOf(array, value, 0) > -1;
}

/**
 * This function is like `arrayIncludes` except that it accepts a comparator.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @param {Function} comparator The comparator invoked per element.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludesWith(array, value, comparator) {
  var index = -1,
      length = array ? array.length : 0;

  while (++index < length) {
    if (comparator(value, array[index])) {
      return true;
    }
  }
  return false;
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * The base implementation of `_.findIndex` and `_.findLastIndex` without
 * support for iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Function} predicate The function invoked per iteration.
 * @param {number} fromIndex The index to search from.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseFindIndex(array, predicate, fromIndex, fromRight) {
  var length = array.length,
      index = fromIndex + (fromRight ? 1 : -1);

  while (fromRight ? index-- : ++index < length) {
    if (predicate(array[index], index, array)) {
      return index;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} value The value to search for.
 * @param {number} fromIndex The index to search from.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseIndexOf(array, value, fromIndex) {
  if (value !== value) {
    return baseFindIndex(array, baseIsNaN, fromIndex);
  }
  var index = fromIndex - 1,
      length = array.length;

  while (++index < length) {
    if (array[index] === value) {
      return index;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNaN` without support for number objects.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
 */
function baseIsNaN(value) {
  return value !== value;
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function (value) {
    return func(value);
  };
}

/**
 * Checks if a cache value for `key` exists.
 *
 * @private
 * @param {Object} cache The cache to query.
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function cacheHas(cache, key) {
  return cache.has(key);
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function (arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = function () {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? 'Symbol(src)_1.' + uid : '';
}();

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$');

/** Built-in value references. */
var _Symbol = root.Symbol,
    getPrototype = overArg(_getPrototypeOf2.default, Object),
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    spreadableSymbol = _Symbol ? _Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = _getOwnPropertySymbols2.default,
    nativeMax = Math.max;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash(),
    'map': new (Map || ListCache)(),
    'string': new Hash()
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values ? values.length : 0;

  this.__data__ = new MapCache();
  while (++index < length) {
    this.add(values[index]);
  }
}

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  // Safari 9 makes `arguments.length` enumerable in strict mode.
  var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];

  var length = result.length,
      skipIndexes = !!length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of methods like `_.difference` without support
 * for excluding multiple arrays or iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Array} values The values to exclude.
 * @param {Function} [iteratee] The iteratee invoked per element.
 * @param {Function} [comparator] The comparator invoked per element.
 * @returns {Array} Returns the new array of filtered values.
 */
function baseDifference(array, values, iteratee, comparator) {
  var index = -1,
      includes = arrayIncludes,
      isCommon = true,
      length = array.length,
      result = [],
      valuesLength = values.length;

  if (!length) {
    return result;
  }
  if (iteratee) {
    values = arrayMap(values, baseUnary(iteratee));
  }
  if (comparator) {
    includes = arrayIncludesWith;
    isCommon = false;
  } else if (values.length >= LARGE_ARRAY_SIZE) {
    includes = cacheHas;
    isCommon = false;
    values = new SetCache(values);
  }
  outer: while (++index < length) {
    var value = array[index],
        computed = iteratee ? iteratee(value) : value;

    value = comparator || value !== 0 ? value : 0;
    if (isCommon && computed === computed) {
      var valuesIndex = valuesLength;
      while (valuesIndex--) {
        if (values[valuesIndex] === computed) {
          continue outer;
        }
      }
      result.push(value);
    } else if (!includes(values, computed, comparator)) {
      result.push(value);
    }
  }
  return result;
}

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @param {Function} symbolsFunc The function to get the symbols of `object`.
 * @returns {Array} Returns the array of property names and symbols.
 */
function baseGetAllKeys(object, keysFunc, symbolsFunc) {
  var result = keysFunc(object);
  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.pick` without support for individual
 * property identifiers.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick.
 * @returns {Object} Returns the new object.
 */
function basePick(object, props) {
  object = Object(object);
  return basePickBy(object, props, function (value, key) {
    return key in object;
  });
}

/**
 * The base implementation of  `_.pickBy` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick from.
 * @param {Function} predicate The function invoked per property.
 * @returns {Object} Returns the new object.
 */
function basePickBy(object, props, predicate) {
  var index = -1,
      length = props.length,
      result = {};

  while (++index < length) {
    var key = props[index],
        value = object[key];

    if (predicate(value, key)) {
      result[key] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? func.length - 1 : start, 0);
  return function () {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * Creates an array of own and inherited enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeysIn(object) {
  return baseGetAllKeys(object, keysIn, getSymbolsIn);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Creates an array of the own enumerable symbol properties of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;

/**
 * Creates an array of the own and inherited enumerable symbol properties
 * of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbolsIn = !nativeGetSymbols ? stubArray : function (object) {
  var result = [];
  while (object) {
    arrayPush(result, getSymbols(object));
    object = getPrototype(object);
  }
  return result;
};

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && maskSrcKey in func;
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return func + '';
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || value !== value && other !== other;
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * The opposite of `_.pick`; this method creates an object composed of the
 * own and inherited enumerable string keyed properties of `object` that are
 * not omitted.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The source object.
 * @param {...(string|string[])} [props] The property identifiers to omit.
 * @returns {Object} Returns the new object.
 * @example
 *
 * var object = { 'a': 1, 'b': '2', 'c': 3 };
 *
 * _.omit(object, ['a', 'c']);
 * // => { 'b': '2' }
 */
var omit = baseRest(function (object, props) {
  if (object == null) {
    return {};
  }
  props = arrayMap(baseFlatten(props, 1), toKey);
  return basePick(object, baseDifference(getAllKeysIn(object), props));
});

/**
 * This method returns a new empty array.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {Array} Returns the new empty array.
 * @example
 *
 * var arrays = _.times(2, _.stubArray);
 *
 * console.log(arrays);
 * // => [[], []]
 *
 * console.log(arrays[0] === arrays[1]);
 * // => false
 */
function stubArray() {
  return [];
}

module.exports = omit;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991,
    MAX_INTEGER = 1.7976931348623157e+308,
    NAN = 0 / 0;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeCeil = Math.ceil,
    nativeMax = Math.max;

/**
 * The base implementation of `_.range` and `_.rangeRight` which doesn't
 * coerce arguments.
 *
 * @private
 * @param {number} start The start of the range.
 * @param {number} end The end of the range.
 * @param {number} step The value to increment or decrement by.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Array} Returns the range of numbers.
 */
function baseRange(start, end, step, fromRight) {
  var index = -1,
      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),
      result = Array(length);

  while (length--) {
    result[fromRight ? length : ++index] = start;
    start += step;
  }
  return result;
}

/**
 * Creates a `_.range` or `_.rangeRight` function.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new range function.
 */
function createRange(fromRight) {
  return function (start, end, step) {
    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {
      end = step = undefined;
    }
    // Ensure the sign of `-0` is preserved.
    start = toFinite(start);
    if (end === undefined) {
      end = start;
      start = 0;
    } else {
      end = toFinite(end);
    }
    step = step === undefined ? start < end ? 1 : -1 : toFinite(step);
    return baseRange(start, end, step, fromRight);
  };
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index === 'undefined' ? 'undefined' : (0, _typeof3.default)(index);
  if (type == 'number' ? isArrayLike(object) && isIndex(index, object.length) : type == 'string' && index in object) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || value !== value && other !== other;
}

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Converts `value` to a finite number.
 *
 * @static
 * @memberOf _
 * @since 4.12.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted number.
 * @example
 *
 * _.toFinite(3.2);
 * // => 3.2
 *
 * _.toFinite(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toFinite(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toFinite('3.2');
 * // => 3.2
 */
function toFinite(value) {
  if (!value) {
    return value === 0 ? value : 0;
  }
  value = toNumber(value);
  if (value === INFINITY || value === -INFINITY) {
    var sign = value < 0 ? -1 : 1;
    return sign * MAX_INTEGER;
  }
  return value === value ? value : 0;
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? other + '' : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
}

/**
 * Creates an array of numbers (positive and/or negative) progressing from
 * `start` up to, but not including, `end`. A step of `-1` is used if a negative
 * `start` is specified without an `end` or `step`. If `end` is not specified,
 * it's set to `start` with `start` then set to `0`.
 *
 * **Note:** JavaScript follows the IEEE-754 standard for resolving
 * floating-point values which can produce unexpected results.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {number} [start=0] The start of the range.
 * @param {number} end The end of the range.
 * @param {number} [step=1] The value to increment or decrement by.
 * @returns {Array} Returns the range of numbers.
 * @see _.inRange, _.rangeRight
 * @example
 *
 * _.range(4);
 * // => [0, 1, 2, 3]
 *
 * _.range(-4);
 * // => [0, -1, -2, -3]
 *
 * _.range(1, 5);
 * // => [1, 2, 3, 4]
 *
 * _.range(0, 20, 5);
 * // => [0, 5, 10, 15]
 *
 * _.range(0, -4, -1);
 * // => [0, -1, -2, -3]
 *
 * _.range(1, 4, 0);
 * // => [1, 1, 1]
 *
 * _.range(0);
 * // => []
 */
var range = createRange();

module.exports = range;

/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

// Generated by CoffeeScript 1.7.1
(function () {
  var getNanoSeconds, hrtime, loadTime;

  if (typeof performance !== "undefined" && performance !== null && performance.now) {
    module.exports = function () {
      return performance.now();
    };
  } else if (typeof process !== "undefined" && process !== null && process.hrtime) {
    module.exports = function () {
      return (getNanoSeconds() - loadTime) / 1e6;
    };
    hrtime = process.hrtime;
    getNanoSeconds = function getNanoSeconds() {
      var hr;
      hr = hrtime();
      return hr[0] * 1e9 + hr[1];
    };
    loadTime = getNanoSeconds();
  } else if (Date.now) {
    module.exports = function () {
      return Date.now() - loadTime;
    };
    loadTime = Date.now();
  } else {
    module.exports = function () {
      return new Date().getTime() - loadTime;
    };
    loadTime = new Date().getTime();
  }
}).call(undefined);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(77)))

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// polyfill array.from (mainly for IE)


Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequire(obj) {
  return obj && obj.__esModule ? obj['default'] : obj;
}

__webpack_require__(357);

// @keydown and @keydownScoped

var _decorators = __webpack_require__(354);

exports['default'] = _interopRequire(_decorators);
Object.defineProperty(exports, 'keydownScoped', {
  enumerable: true,
  get: function get() {
    return _decorators.keydownScoped;
  }
});

// setBinding - only useful if you're not going to use decorators

var _store = __webpack_require__(92);

Object.defineProperty(exports, 'setBinding', {
  enumerable: true,
  get: function get() {
    return _store.setBinding;
  }
});

// Keys - use this to find key codes for strings. for example: Keys.j, Keys.enter

var _libKeys = __webpack_require__(91);

exports.Keys = _interopRequire(_libKeys);

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// TODO: Need better, more complete, and more methodical key definitions



var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports.allKeys = allKeys;
var Keys = {
  backspace: 8,
  del: 46,
  'delete': 46,
  tab: 9,
  enter: 13,
  'return': 13,
  esc: 27,
  space: 32,
  left: 37,
  up: 38,
  right: 39,
  down: 40,
  ';': 186,
  '=': 187,
  ',': 188,
  '-': 189,
  '.': 190,
  '/': 191,
  '`': 192,
  '[': 219,
  '\\': 220,
  ']': 221
};

// Add uppercase versions of keys above for backwards compatibility
(0, _keys2.default)(Keys).forEach(function (key) {
  return Keys[key.toUpperCase()] = Keys[key];
});

'0123456789'.split('').forEach(function (num, index) {
  return Keys[num] = index + 48;
});

'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(function (letter, index) {
  Keys[letter] = index + 65;
  Keys[letter.toLowerCase()] = index + 65;
});

// fn keys
[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].forEach(function (item, index) {
  return Keys['f' + index] = 111 + index;
});

var modifiers = {
  control: 'ctrl',
  ctrl: 'ctrl',
  shift: 'shift',
  meta: 'meta',
  cmd: 'meta',
  command: 'meta',
  option: 'alt',
  alt: 'alt'
};

exports.modifiers = modifiers;

function allKeys(arg) {
  return arg ? (typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg)) === 'symbol' : (0, _symbol2.default)('allKeys');
}

exports['default'] = Keys;

/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module store
 *
 */


var _set = __webpack_require__(783);

var _set2 = _interopRequireDefault2(_set);

var _map = __webpack_require__(149);

var _map2 = _interopRequireDefault2(_map);

var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault2(_from);

var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault2(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault2(_getIterator2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i['return']) _i['return']();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError('Invalid attempt to destructure non-iterable instance');
    }
  };
}();

exports._resetStore = _resetStore;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
}

var _libKeys = __webpack_require__(91);

var _libMatch_keys = __webpack_require__(189);

var _libMatch_keys2 = _interopRequireDefault(_libMatch_keys);

var _libParse_keys = __webpack_require__(190);

var _libParse_keys2 = _interopRequireDefault(_libParse_keys);

var _libUuid = __webpack_require__(360);

var _libUuid2 = _interopRequireDefault(_libUuid);

/**
 * private
 * 
 */

// dict for class prototypes => bindings
var _handlers = new _map2.default();

// all mounted instances that have keybindings
var _instances = new _set2.default();

// for testing

function _resetStore() {
  _handlers.clear();
  _instances.clear();
}

/**
 * public
 *
 */

var Store = {

  /**
   * activate
   *
   * @access public
   * @param {object} instance Instantiated class that extended React.Component, to be focused to receive keydown events
   */
  activate: function activate(instances) {
    var instancesArray = [].concat(instances);

    // if no components were found as ancestors of the event target,
    // effectively deactivate keydown handling by capping the set of instances
    // with `null`.
    if (!instancesArray.length) {
      _instances.add(null);
    } else {
      _instances['delete'](null);

      // deleting and then adding the instance(s) has the effect of sorting the set
      // according to instance activation (ascending)
      instancesArray.forEach(function (instance) {
        _instances['delete'](instance);
        _instances.add(instance);
      });
    }
  },

  /**
   * deleteInstance
   *
   * @access public
   * @param {object} target Instantiated class that extended React.Component
   * @return {boolean} The value set.has( target ) would have returned prior to deletion
   */
  deleteInstance: function deleteInstance(target) {
    _instances['delete'](target);
  },

  findBindingForEvent: function findBindingForEvent(event) {
    if (!_instances.has(null)) {
      var keyMatchesEvent = function keyMatchesEvent(keySet) {
        return (0, _libMatch_keys2['default'])({ keySet: keySet, event: event });
      };

      // loop through instances in reverse activation order so that most
      // recently activated instance gets first dibs on event
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = (0, _getIterator3.default)([].concat(_toConsumableArray(_instances)).reverse()), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var instance = _step.value;

          var bindings = this.getBinding(instance.constructor.prototype);
          var _iteratorNormalCompletion2 = true;
          var _didIteratorError2 = false;
          var _iteratorError2 = undefined;

          try {
            for (var _iterator2 = (0, _getIterator3.default)(bindings), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
              var _step2$value = _slicedToArray(_step2.value, 2);

              var keySets = _step2$value[0];
              var fn = _step2$value[1];

              if ((0, _libKeys.allKeys)(keySets) || keySets.some(keyMatchesEvent)) {
                // return when matching keybinding is found - i.e. only one
                // keybound component can respond to a given key code. to get around this,
                // scope a common ancestor component class with @keydown and use
                // @keydownScoped to bind the duplicate keys in your child components
                // (or just inspect nextProps.keydown.event).
                return { fn: fn, instance: instance };
              }
            }
          } catch (err) {
            _didIteratorError2 = true;
            _iteratorError2 = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion2 && _iterator2['return']) {
                _iterator2['return']();
              }
            } finally {
              if (_didIteratorError2) {
                throw _iteratorError2;
              }
            }
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator['return']) {
            _iterator['return']();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }
    }
    return null;
  },

  /**
   * getBinding
   *
   * @access public
   * @param {object} target Class used as key in dict of key bindings
   * @return {object} The object containing bindings for the given class
   */
  getBinding: function getBinding(_ref) {
    var __reactKeydownUUID = _ref.__reactKeydownUUID;

    return _handlers.get(__reactKeydownUUID);
  },

  /**
   * getInstances
   *
   * @access public
   * @return {set} All stored instances (all mounted component instances with keybindings)
   */
  getInstances: function getInstances() {
    return _instances;
  },

  /**
   * isEmpty
   *
   * @access public
   * @return {number} Size of the set of all stored instances
   */
  isEmpty: function isEmpty() {
    return !_instances.size;
  },

  /**
   * setBinding
   *
   * @access public
   * @param {object} args All arguments necessary to set the binding
   * @param {array} args.keys Key codes that should trigger the fn
   * @param {function} args.fn The callback to be triggered when given keys are pressed
   * @param {object} args.target The decorated class
   */
  setBinding: function setBinding(_ref2) {
    var keys = _ref2.keys;
    var fn = _ref2.fn;
    var target = _ref2.target;

    var keySets = keys ? (0, _libParse_keys2['default'])(keys) : (0, _libKeys.allKeys)();
    var __reactKeydownUUID = target.__reactKeydownUUID;

    if (!__reactKeydownUUID) {
      target.__reactKeydownUUID = (0, _libUuid2['default'])();
      _handlers.set(target.__reactKeydownUUID, new _map2.default([[keySets, fn]]));
    } else {
      _handlers.get(__reactKeydownUUID).set(keySets, fn);
    }
  }
};

exports['default'] = Store;

/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _react = __webpack_require__(0);

var _props2 = __webpack_require__(126);

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var SEEK_ON_PLAY_EXPIRY = 5000;

var Base = function (_Component) {
  _inherits(Base, _Component);

  function Base() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Base);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Base.__proto__ || (0, _getPrototypeOf2.default)(Base)).call.apply(_ref, [this].concat(args))), _this), _this.isReady = false, _this.startOnPlay = true, _this.durationOnPlay = false, _this.seekOnPlay = null, _this.onPlay = function () {
      var _this$props = _this.props,
          volume = _this$props.volume,
          onStart = _this$props.onStart,
          onPlay = _this$props.onPlay,
          onDuration = _this$props.onDuration,
          playbackRate = _this$props.playbackRate;

      if (_this.startOnPlay) {
        _this.setPlaybackRate(playbackRate);
        _this.setVolume(volume);
        onStart();
        _this.startOnPlay = false;
      }
      onPlay();
      if (_this.seekOnPlay) {
        _this.seekTo(_this.seekOnPlay);
        _this.seekOnPlay = null;
      }
      if (_this.durationOnPlay) {
        onDuration(_this.getDuration());
        _this.durationOnPlay = false;
      }
    }, _this.onReady = function () {
      var _this$props2 = _this.props,
          onReady = _this$props2.onReady,
          playing = _this$props2.playing,
          onDuration = _this$props2.onDuration;

      _this.isReady = true;
      onReady();
      if (playing || _this.preloading) {
        _this.preloading = false;
        if (_this.loadOnReady) {
          _this.load(_this.loadOnReady);
          _this.loadOnReady = null;
        } else {
          _this.play();
        }
      }
      var duration = _this.getDuration();
      if (duration) {
        onDuration(duration);
      } else {
        _this.durationOnPlay = true;
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Base, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var url = this.props.url;

      this.mounted = true;
      if (url) {
        this.load(url);
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.stop();
      this.mounted = false;
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var _props = this.props,
          url = _props.url,
          playing = _props.playing,
          volume = _props.volume,
          playbackRate = _props.playbackRate;
      // Invoke player methods based on incoming props

      if (url !== nextProps.url && nextProps.url) {
        this.seekOnPlay = null;
        this.startOnPlay = true;
        this.load(nextProps.url);
      } else if (url && !nextProps.url) {
        this.stop();
        clearTimeout(this.updateTimeout);
      } else if (!playing && nextProps.playing) {
        this.play();
      } else if (playing && !nextProps.playing) {
        this.pause();
      } else if (volume !== nextProps.volume) {
        this.setVolume(nextProps.volume);
      } else if (playbackRate !== nextProps.playbackRate) {
        this.setPlaybackRate(nextProps.playbackRate);
      }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props.url !== nextProps.url;
    }
  }, {
    key: 'seekTo',
    value: function seekTo(fraction) {
      var _this2 = this;

      // When seeking before player is ready, store value and seek later
      if (!this.isReady && fraction !== 0) {
        this.seekOnPlay = fraction;
        setTimeout(function () {
          _this2.seekOnPlay = null;
        }, SEEK_ON_PLAY_EXPIRY);
      }
    }
  }]);

  return Base;
}(_react.Component);

Base.propTypes = _props2.propTypes;
Base.defaultProps = _props2.defaultProps;
exports['default'] = Base;
module.exports = exports['default'];

/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;if (getter === undefined) {
      return undefined;
    }return getter.call(receiver);
  }
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _Base2 = __webpack_require__(93);

var _Base3 = _interopRequireDefault(_Base2);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var AUDIO_EXTENSIONS = /\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;

var FilePlayer = function (_Base) {
  _inherits(FilePlayer, _Base);

  function FilePlayer() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, FilePlayer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = FilePlayer.__proto__ || (0, _getPrototypeOf2.default)(FilePlayer)).call.apply(_ref, [this].concat(args))), _this), _this.ref = function (player) {
      _this.player = player;
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(FilePlayer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _props = this.props,
          onPause = _props.onPause,
          onEnded = _props.onEnded,
          onError = _props.onError;

      this.player.addEventListener('canplay', this.onReady);
      this.player.addEventListener('play', this.onPlay);
      this.player.addEventListener('pause', function () {
        if (_this2.mounted) {
          onPause();
        }
      });
      this.player.addEventListener('ended', onEnded);
      this.player.addEventListener('error', onError);
      this.player.setAttribute('webkit-playsinline', '');
      _get(FilePlayer.prototype.__proto__ || (0, _getPrototypeOf2.default)(FilePlayer.prototype), 'componentDidMount', this).call(this);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      var _props2 = this.props,
          onPause = _props2.onPause,
          onEnded = _props2.onEnded,
          onError = _props2.onError;

      this.player.removeEventListener('canplay', this.onReady);
      this.player.removeEventListener('play', this.onPlay);
      this.player.removeEventListener('pause', onPause);
      this.player.removeEventListener('ended', onEnded);
      this.player.removeEventListener('error', onError);
      _get(FilePlayer.prototype.__proto__ || (0, _getPrototypeOf2.default)(FilePlayer.prototype), 'componentWillUnmount', this).call(this);
    }
  }, {
    key: 'load',
    value: function load(url) {
      this.player.src = url;
    }
  }, {
    key: 'play',
    value: function play() {
      this.player.play();
    }
  }, {
    key: 'pause',
    value: function pause() {
      this.player.pause();
    }
  }, {
    key: 'stop',
    value: function stop() {
      this.player.removeAttribute('src');
    }
  }, {
    key: 'seekTo',
    value: function seekTo(fraction) {
      _get(FilePlayer.prototype.__proto__ || (0, _getPrototypeOf2.default)(FilePlayer.prototype), 'seekTo', this).call(this, fraction);
      this.player.currentTime = this.getDuration() * fraction;
    }
  }, {
    key: 'setVolume',
    value: function setVolume(fraction) {
      this.player.volume = fraction;
    }
  }, {
    key: 'setPlaybackRate',
    value: function setPlaybackRate(rate) {
      this.player.playbackRate = rate;
    }
  }, {
    key: 'getDuration',
    value: function getDuration() {
      if (!this.isReady) return null;
      return this.player.duration;
    }
  }, {
    key: 'getFractionPlayed',
    value: function getFractionPlayed() {
      if (!this.isReady) return null;
      return this.player.currentTime / this.getDuration();
    }
  }, {
    key: 'getFractionLoaded',
    value: function getFractionLoaded() {
      if (!this.isReady || this.player.buffered.length === 0) return null;
      return this.player.buffered.end(0) / this.getDuration();
    }
  }, {
    key: 'render',
    value: function render() {
      var _props3 = this.props,
          url = _props3.url,
          loop = _props3.loop,
          controls = _props3.controls,
          fileConfig = _props3.fileConfig;

      var Media = AUDIO_EXTENSIONS.test(url) ? 'audio' : 'video';
      var style = {
        width: '100%',
        height: '100%',
        display: url ? 'block' : 'none'
      };
      return _react2['default'].createElement(Media, _extends({
        ref: this.ref,
        style: style,
        preload: 'auto',
        controls: controls,
        loop: loop
      }, fileConfig.attributes));
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return true;
    }
  }]);

  return FilePlayer;
}(_Base3['default']);

FilePlayer.displayName = 'FilePlayer';
exports['default'] = FilePlayer;
module.exports = exports['default'];

/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var mapProps = function mapProps(propsMapper) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    return function (props) {
      return factory(propsMapper(props));
    };
  };
};

exports.default = (0, _createHelper2.default)(mapProps, 'mapProps');

/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
var _config = {
  fromESObservable: null,
  toESObservable: null
};

var configureObservable = function configureObservable(c) {
  _config = c;
};

var config = exports.config = {
  fromESObservable: function fromESObservable(observable) {
    return typeof _config.fromESObservable === 'function' ? _config.fromESObservable(observable) : observable;
  },
  toESObservable: function toESObservable(stream) {
    return typeof _config.toESObservable === 'function' ? _config.toESObservable(stream) : stream;
  }
};

exports.default = configureObservable;

/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _shallowEqual = __webpack_require__(181);

var _shallowEqual2 = _interopRequireDefault(_shallowEqual);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

exports.default = _shallowEqual2.default;

/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.plugins = undefined;

var _sync = __webpack_require__(99);

var _sync2 = _interopRequireDefault(_sync);

var _plugins = __webpack_require__(206);

var _plugins2 = _interopRequireDefault(_plugins);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _sync2.default;
exports.plugins = _plugins2.default;

// FIXME: NEVER EVER DO THAT !!!!!!!!!
// window.sync = sync

/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _immutable = __webpack_require__(6);

var _state = __webpack_require__(483);

var _state2 = _interopRequireDefault(_state);

var _plugins = __webpack_require__(206);

var _plugins2 = _interopRequireDefault(_plugins);

var _lodash = __webpack_require__(70);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EMPTY_MAP = (0, _immutable.Map)();
var EMPTY_SEQ = (0, _immutable.Seq)();

// let lastSynchronizedMap = EMPTY_MAP
// let lastSynchronizedFuncs = EMPTY_MAP
// let lastSynchronizedTargets = EMPTY_MAP

// TODO dynamically register
var eventNames = (0, _keys2.default)(_plugins2.default);

var sync = function sync(func, eventName, target, o) {

  if (!func && !eventName && !target) return null;

  var plugin = _plugins2.default[eventName];

  if (plugin && plugin.getTarget) target = plugin.getTarget(target);

  if (!eventName && !target) {
    deletAllFuncRefs(func);
    return null;
  } else if (!func && !eventName) {
    deleteAllTargetRefs(target);
    return null;
  }

  if (!plugin) throw new Error('sync doesnt have plugin for event: ' + eventName);

  var key = void 0;
  if (o) {
    key = o.key;
  }
  if (!key) key = eventName;

  var oldTarget = _state2.default.getIn(['funcs', func, 'target', key]);

  if (!target) {
    _state2.default.deleteIn(['funcs', func, 'target', key]);
    removeFuncIfNeeded(func);
  } else {
    _state2.default.setIn(['funcs', func, 'target', key], target);
    _state2.default.setIn(['targets', target, eventName, 'funcs', func], true);
  }
  // else if (!func) {
  // // TODO
  // }

  // unbind old target & remove if needed
  if (oldTarget !== target) {
    _state2.default.deleteIn(['funcs', func, 'data', key]);

    if (oldTarget) {

      _state2.default.deleteIn(['targets', oldTarget, eventName, 'funcs', func]);

      // ensure abandonded targets are unlistened to & removed
      removeTargetIfNeeded(oldTarget, eventName);
    }

    // ensure all listened to targets have listeners
    listenToTargetIfNeeded(target, eventName);

    // flush so funcs can sync with data ASAP
    sync.flushEvent((0, _immutable.List)(['targets', target, eventName, func]));
  }
};

var deletAllFuncRefs = function deletAllFuncRefs(func) {

  var targetByKey = _state2.default.getIn(['funcs', func, 'target']); // ,   EMPTY_SEQ )


  // TODO
  // - seems funcs,func isnt always there??
  // MEMORY LEAK?????
  // sync.state.get('targets').keySeq().toJS()
  if (!targetByKey) {
    targetByKey = _state2.default.get('targets').flip();
    // debugger
  }

  targetByKey.forEach(function (target) {
    // debugger
    eventNames.forEach(function (eventName) {
      _state2.default.deleteIn(['targets', target, eventName, 'funcs', func]);
      removeTargetIfNeeded(target, eventName);
    });
  });
  _state2.default.deleteIn(['funcs', func]);
};

var deleteAllTargetRefs = function deleteAllTargetRefs(target) {

  // TODO
  // - seems funcs,func isnt always there??
  // MEMORY LEAK?????
  // sync.state.get('targets').keySeq().toJS()

  eventNames.forEach(function (eventName) {
    var funcsToUnregister = _state2.default.getIn(['targets', target, eventName, 'funcs'], EMPTY_MAP).keySeq().toJS();
    unlistenToTarget(target, eventName);
    funcsToUnregister.forEach(function (func) {
      _state2.default.getIn(['funcs', func, 'target'], EMPTY_MAP).forEach(function (targetAtKey, key) {
        if (targetAtKey === target) {
          _state2.default.deleteIn(['funcs', func, 'target', key]);
          _state2.default.deleteIn(['funcs', func, 'data', key]);

          removeFuncIfNeeded(func);
        }
      });
    });
  });

  _state2.default.deleteIn(['targets', target]);
};

var removeFuncIfNeeded = function removeFuncIfNeeded(func) {

  if (_state2.default.getIn(['funcs', func, 'target'], EMPTY_MAP).size === 0) {
    _state2.default.deleteIn(['funcs', func]);
  }
};

var removeTargetIfNeeded = function removeTargetIfNeeded(target, eventName) {

  var funcs = _state2.default.getIn(['targets', target, eventName, 'funcs'], EMPTY_SEQ); // /?????
  if (!funcs) return;
  if (funcs.size === 0) {

    unlistenToTarget(target, eventName);

    // remove completely?
    var mapOfEvents = _state2.default.getIn(['targets', target], EMPTY_SEQ); // /?????
    if (mapOfEvents.size === 0) {
      _state2.default.deleteIn(['targets', target]);
    }
  }
};

var unlistenToTarget = function unlistenToTarget(target, eventName) {
  var oldListener = _state2.default.getIn(['targets', target, eventName, 'listener']);

  _state2.default.deleteIn(['targets', target, eventName]);

  if (oldListener) {
    _plugins2.default[eventName].unlisten(target, oldListener);
  }
};

var listenToTargetIfNeeded = function listenToTargetIfNeeded(target, eventName) {
  if (target) {
    var listener = _state2.default.getIn(['targets', target, eventName, 'listener']);
    if (!listener) {
      listener = _plugins2.default[eventName].listen(target);
      if (typeof listener !== 'function') throw new Error('sync plugin.listen must return a function');

      _state2.default.setIn(['targets', target, eventName, 'listener'], listener);
    }
  }
};

var pathListsToSync = (0, _immutable.List)();

sync.flushEvent = function (pathList) {

  if (!pathListsToSync.includes(pathList)) pathListsToSync = pathListsToSync.push(pathList);

  _synchronizeDebounce();
};

sync.state = _state2.default;

sync.plugins = _plugins2.default;

sync.willEmit = function (eventName, target) {
  _state2.default.setIn(['targets', target, eventName, 'isClean'], false);
};

sync.emit = function (eventName, target, data) {
  if (!_state2.default.hasIn(['targets', target, eventName])) {
    return;
    // debugger
    // TODO?
  }
  _state2.default.setIn(['targets', target, eventName, 'data'], data);
  _state2.default.setIn(['targets', target, eventName, 'isClean'], true);
  sync.flushEvent((0, _immutable.List)(['targets', target, eventName]));
};

sync.getData = function (eventName, target, fallback) {
  var plugin = _plugins2.default[eventName];
  if (plugin.getTarget) target = plugin.getTarget(target);
  return _state2.default.getIn(['targets', target, eventName, 'data'], fallback);
};

sync.getInData = function (eventName, target, path, fallback) {
  var plugin = _plugins2.default[eventName];
  if (plugin.getTarget) target = plugin.getTarget(target);
  return _state2.default.getIn(['targets', target, eventName, 'data'].concat(path), fallback);
};

var funcsToExec = [];

var _executeFuncs = function _executeFuncs() {
  while (funcsToExec.length) {
    var func = funcsToExec.pop();
    var data = _state2.default.getIn(['funcs', func, 'data']);
    func(data);
  }
};
// const _executeFuncsDebounce = debounce(_executeFuncs, 1)

var executeFuncs = function executeFuncs() {
  _executeFuncs();
  // caf(_executeFuncs)
  // raf(_executeFuncs)
  // _executeFuncsDebounce()
};

var _synchronize = function _synchronize() {
  while (pathListsToSync.size) {
    _synchronizeEvent(pathListsToSync.last());
    pathListsToSync = pathListsToSync.pop();
  }
};

var _synchronizeEvent = function _synchronizeEvent(pathList) {
  // ['targets', target, eventName] = pathList.toJS()

  var eventName = pathList.get(2);
  var targetToCheck = pathList.get(1);

  var funcsToCheck = _state2.default.getIn(['targets', targetToCheck, eventName, 'funcs']);
  // TODO
  // sometimes no funcs on target????????????????
  if (!funcsToCheck) return;
  funcsToCheck = funcsToCheck.keySeq().toJS();

  // console.log("funcsToCheck!!",state.getIn(['targets','window','scroll','funcs'],Map()).toJS(),funcsToCheck,pathListsToSync.toJS())

  funcsToCheck.forEach(function (func) {
    var funcMap = _state2.default.getIn(['funcs', func]);
    var targetsByKey = funcMap.get('target');
    var dataByKey = funcMap.get('data');

    var shouldExecuteFunc = false;

    if (targetsByKey) {
      targetsByKey.forEach(function (target, key) {
        if (target && target === targetToCheck) {
          var targetMap = _state2.default.getIn(['targets', target, eventName], EMPTY_MAP);
          var targetData = targetMap.get('data');
          if (targetData && (!dataByKey || !targetData.equals(dataByKey.get(key)))) {
            if (targetData && targetMap.get('isClean')) {
              _state2.default.setIn(['funcs', func, 'data', key], targetData);
              shouldExecuteFunc = true;
            }
          }
        }
      });
    }

    if (shouldExecuteFunc && !funcsToExec.includes(func)) {
      funcsToExec.push(func);
    }
  });

  if (funcsToExec.length) {
    executeFuncs();
  }
};

var _synchronizeDebounce = (0, _lodash2.default)(_synchronize, 16); // // debounce(_synchronize, 32)

exports.default = sync;
module.exports = exports['default'];

/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {

  // TODO: Replace with layoutverse/stores/virtualizer._orderedInsertIndex!!
  nearestNum: function nearestNum(input, targets) {
    // nearestNum 3, [1,5,20] ====> 1
    // nearestNum 3, [5,1,20] ====> 5
    var nearestIndex = null;
    var leastDist = 999999;
    for (var i = 0; i < targets.length; i++) {
      var target = targets[i];
      var dist = Math.abs(target - h);
      if (dist < leastDist) {
        nearestIndex = i;
        leastDist = dist;
      }
    }
    return targets[nearestIndex];
  },


  // nearestCircularDistributed hue, 10, 360, 0 =====> brackets hue to nearest of 10 hues, evenly distributed
  nearestCircularDistributed: function nearestCircularDistributed(input) {
    var steps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;
    var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 360;
    var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;

    var denom = length / steps;
    offset = offset;
    return (Math.round(input / denom) * denom + offset) % length;
  },
  nextFrom: function nextFrom(collection, callback) {
    for (var i = 0; i < collection.length; i++) {
      var color = collection[i];
      var valid = callback(color);
      if (valid) return color;
    }
    return undefined;
  },
  query: function query(collection, callback) {
    var results = [];
    for (var i = 0; i < collection.length; i++) {
      var color = collection[i];
      var valid = callback(color);
      if (valid) {
        return results.push(color);
      }
    }
    return results;
  },
  scoredQuery: function scoredQuery(collection, callback) {
    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
    var max = options.max,
        raw = options.raw,
        clone = options.clone;

    if (!raw) raw = false;
    var results = [];
    for (var i = 0; i < collection.length; i++) {
      var data = collection[i];
      var score = callback(data);
      if (clone) data = data.clone();
      if (typeof score === 'number') results.push({ score: score, data: data });
    }
    results.sort(function (a, b) {
      return b.score - a.score;
    });
    if (max) {
      results = results.slice(0, max);
    }
    if (raw) {
      return results;
    }
    return results.map(function (r) {
      return r.data;
    });
  }
};
module.exports = exports['default'];

/***/ }),
/* 101 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.palettes = exports.polator = exports.solve = exports.buildPalette = exports.Color = exports.ChromeSolver = exports.Solver = exports._ = exports.chromatose = undefined;

var _solver = __webpack_require__(211);

var _solver2 = _interopRequireDefault(_solver);

var _chrome = __webpack_require__(506);

var _chrome2 = _interopRequireDefault(_chrome);

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

var _polator = __webpack_require__(102);

var _polator2 = _interopRequireDefault(_polator);

var _paletteBuilder = __webpack_require__(210);

var _paletteBuilder2 = _interopRequireDefault(_paletteBuilder);

var _palettes = __webpack_require__(503);

var _palettes2 = _interopRequireDefault(_palettes);

var _2 = __webpack_require__(100);

var _3 = _interopRequireDefault(_2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/chromatose-next');


var solve = function solve(inputColors, options) {
  var solver = new _solver2.default(inputColors);
  return solver.solve(options);
};

var chromatose = {
  _: _3.default,
  Solver: _solver2.default,
  ChromeSolver: _chrome2.default,
  Color: _Color2.default,
  buildPalette: _paletteBuilder2.default,
  solve: solve,
  palettes: _palettes2.default
};

exports.default = chromatose;
exports.chromatose = chromatose;
exports._ = _3.default;
exports.Solver = _solver2.default;
exports.ChromeSolver = _chrome2.default;
exports.Color = _Color2.default;
exports.buildPalette = _paletteBuilder2.default;
exports.solve = solve;
exports.polator = _polator2.default;
exports.palettes = _palettes2.default;

/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (i, i1, i2, o1, o2) {
  var pennerName = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'linear';
  var boundName = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'extend';

  var boundMethod = _bound2.default[boundName];
  var pennerMethod = _penner2.default[pennerName];
  if (!boundMethod) {
    throw new Error('Polator: bound method ' + boundName + ' not found');
  }
  if (!pennerMethod) {
    throw new Error('Polator: penner method ' + pennerName + ' not found');
  }
  return boundMethod(i, i1, i2, o1, o2, pennerMethod);
};

var _penner = __webpack_require__(505);

var _penner2 = _interopRequireDefault(_penner);

var _bound = __webpack_require__(504);

var _bound2 = _interopRequireDefault(_bound);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

;
module.exports = exports['default'];

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.OMap = exports.fromJS = exports.List = exports.Map = exports.Struct = exports.Immutable = exports.Ribbon = exports.PricingTable = exports.Device = exports.Component = exports.StyleContext = exports.Styleverse = exports.Style = exports.React = exports.contextual = exports.raf = undefined;

var _deps = __webpack_require__(13);

var _contextual = __webpack_require__(554);

var _contextual2 = _interopRequireDefault(_contextual);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _uiDevice = __webpack_require__(219);

var _uiDevice2 = _interopRequireDefault(_uiDevice);

var _uiPricingTable = __webpack_require__(660);

var _uiPricingTable2 = _interopRequireDefault(_uiPricingTable);

var _uiRibbon = __webpack_require__(71);

var _uiRibbon2 = _interopRequireDefault(_uiRibbon);

var _immutable = __webpack_require__(6);

var _immutable2 = _interopRequireDefault(_immutable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.raf = _deps.raf;
// import raf from 'raf'
// export {
//   raf,
// }


exports.contextual = _contextual2.default;
exports.React = _infernoCompat2.default;
exports.Style = _styleverse.Style;
exports.Styleverse = _styleverse.Styleverse;
exports.StyleContext = _styleverse.StyleContext;
exports.Component = _uiComponentDeprecated2.default;
exports.Device = _uiDevice2.default;
exports.PricingTable = _uiPricingTable2.default;
exports.Ribbon = _uiRibbon2.default;
exports.Immutable = _immutable2.default;
exports.Struct = _immutable.Struct;
exports.Map = _immutable.Map;
exports.List = _immutable.List;
exports.fromJS = _immutable.fromJS;
exports.OMap = _immutable.OMap;

/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _uiResizeRenderer = __webpack_require__(233);

var _uiResizeRenderer2 = _interopRequireDefault(_uiResizeRenderer);

var _style = __webpack_require__(598);

var _immutable = __webpack_require__(6);

var _icons = __webpack_require__(593);

var _icons2 = _interopRequireDefault(_icons);

var _iframe = __webpack_require__(595);

var _iframe2 = _interopRequireDefault(_iframe);

var _selectable = __webpack_require__(597);

var _selectable2 = _interopRequireDefault(_selectable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PropTypes = _infernoCompat2.default.PropTypes;

var types = ['iphone', 'ipad', 'macbook', 'full'];

var createVNode = Inferno.createVNode;

var Device = function (_Component) {
  (0, _inherits3.default)(Device, _Component);

  function Device() {
    var _ref;

    (0, _classCallCheck3.default)(this, Device);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Device.__proto__ || (0, _getPrototypeOf2.default)(Device)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      lastTypeResolved: undefined
    };
    _this.isResolved = true;
    return _this;
  }

  // Attach sub components


  (0, _createClass3.default)(Device, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      return createVNode(16, _uiResizeRenderer2.default, (0, _extends3.default)({}, this.elProps(), {
        children: function children(size) {
          return _this2.renderDevice(size);
        }
      }));
    }
  }, {
    key: 'renderDevice',
    value: function renderDevice(size) {
      var width = size.get('width');
      var height = size.get('height');
      var props = this.props;
      var children = props.children,
          type = props.type;

      var renderedChildren = null;

      var layout = (0, _style.computeLayout)(type, width, height);

      var getId = this.getId;
      if (typeof children === 'function') {
        renderedChildren = children(layout);
      } else if (children) {
        renderedChildren = children;
      }

      if (type !== this.lastType && this.lastType) {
        if (type !== this.state.lastTypeResolved) {
          //renderedChildren = null
          this.isResolved = false;
          var that = this;
          setTimeout(function () {
            if (type !== that.state.lastTypeResolved) {
              that.isResolved = true;
              that.setState({ lastTypeResolved: type });
            }
          }, 333);
        }
      }

      this.lastType = type;

      return createVNode(2, 'div', {
        'id': getId('pca-hold'),
        'className': 'pca-hold'
      }, [(0, _style.renderStyle)(this, layout), createVNode(2, 'div', {
        'id': getId('pca-main'),
        'className': 'pca-main'
      }, createVNode(2, 'div', {
        'id': getId('pca-inner'),
        'className': 'pca-inner',
        'style': { display: this.isResolved ? 'block' : 'none' }
      }, renderedChildren)), createVNode(2, 'div', {
        'id': getId('pca-sub'),
        'className': 'pca-sub'
      }, [createVNode(2, 'div', {
        'id': getId('pca-top'),
        'className': 'pca-top'
      }), createVNode(2, 'div', {
        'id': getId('pca-mid'),
        'className': 'pca-mid'
      }, createVNode(2, 'div', {
        'id': getId('pca-part'),
        'className': 'pca-part'
      })), createVNode(2, 'div', {
        'id': getId('pca-bot'),
        'className': 'pca-bot'
      })])]);
    }
  }]);
  return Device;
}(_uiComponentDeprecated2.default);

Device.displayName = "Device";
Device.types = types;
Device.typesList = (0, _immutable.List)(types);
Device.propTypes = {
  type: PropTypes.string.isRequired
};
Device.defaultProps = {
  type: 'macbook'
};
Device.Icons = _icons2.default;
Device.IFrame = _iframe2.default;
Device.Selectable = _selectable2.default;
exports.default = Device;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VideoNode = exports.LayoutverseSheet = exports.LayoutverseRoot = exports.LayoutNode = exports.Layout = undefined;

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

var _components = __webpack_require__(634);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/layoutverse");
exports.default = _layoutverse2.default;
exports.Layout = _components.Layout;
exports.LayoutNode = _components.LayoutNode;
exports.LayoutverseRoot = _components.LayoutverseRoot;
exports.LayoutverseSheet = _components.LayoutverseSheet;
exports.VideoNode = _components.VideoNode;

/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Struct = exports.VanillaStruct = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _StructCore = __webpack_require__(742);

var _StructCore2 = _interopRequireDefault(_StructCore);

var _fnParams = __webpack_require__(748);

var _fnParams2 = _interopRequireDefault(_fnParams);

var _remapById = __webpack_require__(753);

var _remapById2 = _interopRequireDefault(_remapById);

var _isBindable = __webpack_require__(252);

var _isBindable2 = _interopRequireDefault(_isBindable);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TODO:
// - make child struct methods available on parent (not needed with .get)
// - .get & .set `.` notation support
//
// do love and magic wrapping the struct
//
//
// decorate it so every (or configured keys in options)
// key that isn't computed prop
// transform it into a computed prop
// and then set a prefixed the key `_` and then with fromjs
//
function VanillaStruct(schema) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { instantiate: true };

  var config = {
    // defaults to `return this.merge(val)`
    // so we use this `setter` which the `computer` uses instead
    setter: function setter(key, val) {
      return val;
    },


    // if caching is done here,
    // it disables caching for all props
    defaultCache: false
  };

  // wrap the struct
  // go through the keys
  var keys = (0, _keys2.default)(schema);
  keys.forEach(function (key) {
    // ref to original
    var value = schema[key];

    // default to params
    // used if it is a fn, or if it has a .get
    var params = [];

    // @TODO:
    // - if it has `update`,
    // -> change it to `get` and `set`
    //
    // - if it has merge
    // -> change to `get` and `set` and spread
    //
    // - if it has `set`, change to that
    //
    //
    // @TODO:
    // - if it has `get`,
    // -> if it isn't an immutable,
    // -> we could decorate with params to add it to the obj
    //
    // ---------- function() ---------
    // if it is a fn, do love
    if (value && typeof value === 'function') {
      // @TODO: make this work with uglify
      // fnParams(value)

      params = [];

      var useThisArg = false;
      var useThisArgFirst = false;
      var deps = [];

      // @example, magical(that) => that.magicfosho
      if (params && params.length === 1 && params[0] === 'that') {
        useThisArg = true;
        params = [];
      }
      // @example, magical(that, id) => that.magicfosho[id]
      else if (params && params.length > 1 && params[0] === 'that') {
          useThisArgFirst = true;
          params.shift();
        }

      // use a copy to loop through
      // so we can slice original params
      var paramsCopy = params;

      // check if the params are in the schema
      // if so, put them on deps
      paramsCopy.forEach(function (possibleDep, index) {
        if (schema.hasOwnProperty(possibleDep)) {
          deps.push(possibleDep);
          params.splice(index, 1);
        }
      });

      // use the new ish to make the object at that key
      schema[key] = {
        params: params,
        deps: deps,
        get: function get() {
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          // scope result
          var result;

          // instance ref
          var that = this;

          // conditionals for possible configs for get
          if (useThisArgFirst) result = value.apply(undefined, [that].concat(args));else if (useThisArg) result = value(that);else if ((0, _isBindable2.default)(value) && arguments.length > 0) result = value.apply(that, arguments);else if (arguments.length > 0) result = value.apply(undefined, args);else result = value.bind(that)();
          return result;
        }
      };
    }

    if (value && value.onSetMiddleware) {
      // @TODO: is hard coded in, loop these
      var _value$onSetMiddlewar = (0, _slicedToArray3.default)(value.onSetMiddleware[0].remapById, 2),
          asObjName = _value$onSetMiddlewar[0],
          asArrName = _value$onSetMiddlewar[1];

      schema[key] = (0, _extends3.default)({}, schema[key], {
        set: function set(asArr) {
          var instance, byIdObj;

          byIdObj = (0, _remapById2.default)(asArr);
          instance = this;
          instance = instance.set(asObjName, byIdObj);
          instance = instance.set(asArrName, asArr);
          return instance;
        }
      });
    }

    // ---------- .set() ---------
    // if it is a .set, do a lil love
    // a really small proxy to
    else if (value && value.set && value.decorate !== false) {
        schema[key] = (0, _extends3.default)({}, schema[key], {
          set: function set() {
            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
              args[_key2] = arguments[_key2];
            }

            var result, instance;

            // reference to thisArg / context / instance
            instance = this;

            // bind if possible,
            // otherwise use normal call
            if ((0, _isBindable2.default)(value.set) && arguments.length > 0) result = value.set.apply(instance, arguments);else if (arguments.length > 0) result = value.set.apply(value, args);
            // else should throw error?

            // @TODO: support for this.set inside of a .set if we need to
            (0, _keys2.default)(result).forEach(function (resultKey) {
              var resultVal = result[resultKey];
              instance = instance.set(resultKey, resultVal);
            });
            return instance;
          }
        });
      }
  });

  // @NOTE:
  // - [ ] this works, but `cannot set on immutable record`
  // keys.forEach(function(key) {
  //   // ref to original
  //   var value = schema[key]
  //
  //   // @TODO:
  //   // - [ ] make immutable behind the scenes
  //   // - [ ] define the dep hash code
  //   // - [ ] decorate the setters for these keys
  //   if (true) {
  //   // if it has params or deps it is already computed
  //   // so this is for non computed normal keys
  //     var isReserved = ['filter'].includes(key)
  //
  //     if (value && (value.set || value.get)) {}
  //     else if (
  //       key &&
  //       !isReserved &&
  //       (!value || (!value.params && !value.deps))
  //     ) {
  //       var ogValue = value
  //       var _ikey = '_i_' + key
  //       var _key = '_' + key
  //       // debugger
  //
  //       // @TODO:
  //       // could also just set
  //       // on a single data point
  //       // each one could merge into
  //       schema[_ikey] = value
  //       schema[_key] = value
  //       schema[key] = {
  //         default: value,
  //         deps: [],
  //         set(...args) {
  //           var eh = ioo
  //           var t = this
  //           var s = this.set
  //           var ss = schema
  //
  //           if (!this.set) return
  //           var instance = this
  //           // instance = instance.set(_key, ...args)
  //           // instance = instance.set(_ikey, fromJS(...args))
  //           return instance
  //         },
  //         get() {
  //           debugger
  //           return this[_key]
  //         },
  //       }
  //     }
  //   }
  // })

  var struct = (0, _StructCore2.default)(schema, config);
  return struct;
}

exports.default = VanillaStruct;
exports.VanillaStruct = VanillaStruct;
exports.Struct = VanillaStruct;

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(809), __esModule: true };

/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (fn) {
  return function () {
    var gen = fn.apply(this, arguments);
    return new _promise2.default(function (resolve, reject) {
      function step(key, arg) {
        try {
          var info = gen[key](arg);
          var value = info.value;
        } catch (error) {
          reject(error);
          return;
        }

        if (info.done) {
          resolve(value);
        } else {
          return _promise2.default.resolve(value).then(function (value) {
            step("next", value);
          }, function (err) {
            step("throw", err);
          });
        }
      }

      return step("next");
    });
  };
};

/***/ }),
/* 109 */
/***/ (function(module, exports) {

module.exports = function(it, Constructor, name, forbiddenField){
  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};

/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__(81)
  , TAG = __webpack_require__(27)('toStringTag')
  // ES3 wrong here
  , ARG = cof(function(){ return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function(it, key){
  try {
    return it[key];
  } catch(e){ /* empty */ }
};

module.exports = function(it){
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};

/***/ }),
/* 111 */
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function(it){
  if(it == undefined)throw TypeError("Can't call method on  " + it);
  return it;
};

/***/ }),
/* 112 */
/***/ (function(module, exports) {

module.exports = true;

/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject    = __webpack_require__(41)
  , dPs         = __webpack_require__(823)
  , enumBugKeys = __webpack_require__(154)
  , IE_PROTO    = __webpack_require__(160)('IE_PROTO')
  , Empty       = function(){ /* empty */ }
  , PROTOTYPE   = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function(){
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__(153)('iframe')
    , i      = enumBugKeys.length
    , lt     = '<'
    , gt     = '>'
    , iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__(260).appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties){
  var result;
  if(O !== null){
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty;
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

var hide = __webpack_require__(58);
module.exports = function(target, src, safe){
  for(var key in src){
    if(safe && target[key])target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__(163)
  , min       = Math.min;
module.exports = function(it){
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

/***/ }),
/* 116 */
/***/ (function(module, exports) {

var id = 0
  , px = Math.random();
module.exports = function(key){
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(855);


/***/ }),
/* 118 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var utils = __webpack_require__(34);
var normalizeHeaderName = __webpack_require__(294);

var PROTECTION_PREFIX = /^\)\]\}',?\n/;
var DEFAULT_CONTENT_TYPE = {
  'Content-Type': 'application/x-www-form-urlencoded'
};

function setContentTypeIfUnset(headers, value) {
  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {
    headers['Content-Type'] = value;
  }
}

function getDefaultAdapter() {
  var adapter;
  if (typeof XMLHttpRequest !== 'undefined') {
    // For browsers use XHR adapter
    adapter = __webpack_require__(170);
  } else if (typeof process !== 'undefined') {
    // For node use HTTP adapter
    adapter = __webpack_require__(170);
  }
  return adapter;
}

var defaults = {
  adapter: getDefaultAdapter(),

  transformRequest: [function transformRequest(data, headers) {
    normalizeHeaderName(headers, 'Content-Type');
    if (utils.isFormData(data) || utils.isArrayBuffer(data) || utils.isStream(data) || utils.isFile(data) || utils.isBlob(data)) {
      return data;
    }
    if (utils.isArrayBufferView(data)) {
      return data.buffer;
    }
    if (utils.isURLSearchParams(data)) {
      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');
      return data.toString();
    }
    if (utils.isObject(data)) {
      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');
      return (0, _stringify2.default)(data);
    }
    return data;
  }],

  transformResponse: [function transformResponse(data) {
    /*eslint no-param-reassign:0*/
    if (typeof data === 'string') {
      data = data.replace(PROTECTION_PREFIX, '');
      try {
        data = JSON.parse(data);
      } catch (e) {/* Ignore */}
    }
    return data;
  }],

  timeout: 0,

  xsrfCookieName: 'XSRF-TOKEN',
  xsrfHeaderName: 'X-XSRF-TOKEN',

  maxContentLength: -1,

  validateStatus: function validateStatus(status) {
    return status >= 200 && status < 300;
  }
};

defaults.headers = {
  common: {
    'Accept': 'application/json, text/plain, */*'
  }
};

utils.forEach(['delete', 'get', 'head'], function forEachMehtodNoData(method) {
  defaults.headers[method] = {};
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);
});

module.exports = defaults;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(77)))

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Generated by CoffeeScript 1.9.2
(function () {
  'use strict';

  var MD5, imgflo;

  MD5 = function () {
    for (var m = [], l = 0; 64 > l;) {
      m[l] = 0 | 4294967296 * Math.abs(Math.sin(++l));
    }return function (c) {
      var e,
          g,
          f,
          a,
          h = [];c = unescape(encodeURI(c));for (var b = c.length, k = [e = 1732584193, g = -271733879, ~e, ~g], d = 0; d <= b;) {
        h[d >> 2] |= (c.charCodeAt(d) || 128) << 8 * (d++ % 4);
      }h[c = 16 * (b + 8 >> 6) + 14] = 8 * b;for (d = 0; d < c; d += 16) {
        b = k;for (a = 0; 64 > a;) {
          b = [f = b[3], (e = b[1] | 0) + ((f = b[0] + [e & (g = b[2]) | ~e & f, f & e | ~f & g, e ^ g ^ f, g ^ (e | ~f)][b = a >> 4] + (m[a] + (h[[a, 5 * a + 1, 3 * a + 5, 7 * a][b] % 16 + d] | 0))) << (b = [7, 12, 17, 22, 5, 9, 14, 20, 4, 11, 16, 23, 6, 10, 15, 21][4 * b + a++ % 4]) | f >>> 32 - b), e, g];
        }for (a = 4; a;) {
          k[--a] = k[a] + b[a];
        }
      }for (c = ""; 32 > a;) {
        c += (k[a >> 3] >> 4 * (1 ^ a++ & 7) & 15).toString(16);
      }return c;
    };
  }();;

  imgflo = function imgflo(config, graph, params, format) {
    var dirs, i, index, input, key, last, len, param, qs, query, ref, ref1, ref2, secret, server, token;
    if (config == null) {
      throw new Error('imgflo config object not provided');
    }
    server = config.server, key = config.key, secret = config.secret;
    if (server == null) {
      throw new Error('imgflo config must contain a "server" key');
    }
    if (key == null) {
      throw new Error('imgflo config must contain a "key" key');
    }
    if (secret == null) {
      throw new Error('imgflo config must contain a "secret" key');
    }
    if (graph == null) {
      throw new Error('imgflo graph name not provided');
    }
    if (params == null) {
      throw new Error('imgflo params not provided');
    }
    input = params.input;
    if (input == null) {
      throw new Error('imgflo params must contain an "input" key');
    }
    if (input.substring(0, 5) === 'data:') {
      return input;
    }
    if (input.substring(0, 5) === 'blob:') {
      return input;
    }
    if (index = input.indexOf('//') < 7) {
      input = input.substring(index + 2);
    }
    dirs = input.split('/');
    ref = dirs[dirs.length - 1].split('?'), last = ref[0], qs = ref[1];
    last = last.split(':')[0];
    if (format == null) {
      format = (ref1 = last.match(/\.(\w+)$/)) != null ? ref1[1].toLowerCase() : void 0;
    }
    if (format != null && typeof format === 'string') {
      format = format.toLowerCase();
    }
    switch (format) {
      case 'tif':
        format = 'png';
        break;
      case 'gif':
        graph = 'noop';
        params = {
          input: params.input
        };
    }
    if (format != null) {
      graph = graph + "." + format;
    }
    ref2 = (0, _keys2.default)(params).sort();
    for (i = 0, len = ref2.length; i < len; i++) {
      param = ref2[i];
      if (query) {
        query += '&';
      } else {
        query = "?";
      }
      query += param + '=' + encodeURIComponent(params[param]);
    }
    token = MD5("" + graph + query + secret);
    return server + "graph/" + key + "/" + token + "/" + graph + query;
  };

  module.exports = imgflo;
}).call(undefined);

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _getOwnPropertySymbols = __webpack_require__(80);

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _weakMap = __webpack_require__(107);

var _weakMap2 = _interopRequireDefault(_weakMap);

var _isExtensible = __webpack_require__(781);

var _isExtensible2 = _interopRequireDefault(_isExtensible);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _imul = __webpack_require__(778);

var _imul2 = _interopRequireDefault(_imul);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault(_symbol);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */

(function (global, factory) {
  ( false ? 'undefined' : (0, _typeof3.default)(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory() :  true ? !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :
				__WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : global.Immutable = factory();
})(undefined, function () {
  'use strict';
  var SLICE$0 = Array.prototype.slice;

  function createClass(ctor, superClass) {
    if (superClass) {
      ctor.prototype = (0, _create2.default)(superClass.prototype);
    }
    ctor.prototype.constructor = ctor;
  }

  function Iterable(value) {
    return isIterable(value) ? value : Seq(value);
  }

  createClass(KeyedIterable, Iterable);
  function KeyedIterable(value) {
    return isKeyed(value) ? value : KeyedSeq(value);
  }

  createClass(IndexedIterable, Iterable);
  function IndexedIterable(value) {
    return isIndexed(value) ? value : IndexedSeq(value);
  }

  createClass(SetIterable, Iterable);
  function SetIterable(value) {
    return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);
  }

  function isIterable(maybeIterable) {
    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);
  }

  function isKeyed(maybeKeyed) {
    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);
  }

  function isIndexed(maybeIndexed) {
    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);
  }

  function isAssociative(maybeAssociative) {
    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);
  }

  function isOrdered(maybeOrdered) {
    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);
  }

  Iterable.isIterable = isIterable;
  Iterable.isKeyed = isKeyed;
  Iterable.isIndexed = isIndexed;
  Iterable.isAssociative = isAssociative;
  Iterable.isOrdered = isOrdered;

  Iterable.Keyed = KeyedIterable;
  Iterable.Indexed = IndexedIterable;
  Iterable.Set = SetIterable;

  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';
  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';

  // Used for setting prototype methods that IE8 chokes on.
  var DELETE = 'delete';

  // Constants describing the size of trie nodes.
  var SHIFT = 5; // Resulted in best performance after ______?
  var SIZE = 1 << SHIFT;
  var MASK = SIZE - 1;

  // A consistent shared value representing "not set" which equals nothing other
  // than itself, and nothing that could be provided externally.
  var NOT_SET = {};

  // Boolean references, Rough equivalent of `bool &`.
  var CHANGE_LENGTH = { value: false };
  var DID_ALTER = { value: false };

  function MakeRef(ref) {
    ref.value = false;
    return ref;
  }

  function SetRef(ref) {
    ref && (ref.value = true);
  }

  // A function which returns a value representing an "owner" for transient writes
  // to tries. The return value will only ever equal itself, and will not equal
  // the return of any subsequent call of this function.
  function OwnerID() {}

  // http://jsperf.com/copy-array-inline
  function arrCopy(arr, offset) {
    offset = offset || 0;
    var len = Math.max(0, arr.length - offset);
    var newArr = new Array(len);
    for (var ii = 0; ii < len; ii++) {
      newArr[ii] = arr[ii + offset];
    }
    return newArr;
  }

  function ensureSize(iter) {
    if (iter.size === undefined) {
      iter.size = iter.__iterate(returnTrue);
    }
    return iter.size;
  }

  function wrapIndex(iter, index) {
    // This implements "is array index" which the ECMAString spec defines as:
    //
    //     A String property name P is an array index if and only if
    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal
    //     to 2^32−1.
    //
    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects
    if (typeof index !== 'number') {
      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32
      if ('' + uint32Index !== index || uint32Index === 4294967295) {
        return NaN;
      }
      index = uint32Index;
    }
    return index < 0 ? ensureSize(iter) + index : index;
  }

  function returnTrue() {
    return true;
  }

  function wholeSlice(begin, end, size) {
    return (begin === 0 || size !== undefined && begin <= -size) && (end === undefined || size !== undefined && end >= size);
  }

  function resolveBegin(begin, size) {
    return resolveIndex(begin, size, 0);
  }

  function resolveEnd(end, size) {
    return resolveIndex(end, size, size);
  }

  function resolveIndex(index, size, defaultIndex) {
    return index === undefined ? defaultIndex : index < 0 ? Math.max(0, size + index) : size === undefined ? index : Math.min(size, index);
  }

  /* global Symbol */

  var ITERATE_KEYS = 0;
  var ITERATE_VALUES = 1;
  var ITERATE_ENTRIES = 2;

  var REAL_ITERATOR_SYMBOL = typeof _symbol2.default === 'function' && _iterator2.default;
  var FAUX_ITERATOR_SYMBOL = '@@iterator';

  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;

  function Iterator(next) {
    this.next = next;
  }

  Iterator.prototype.toString = function () {
    return '[Iterator]';
  };

  Iterator.KEYS = ITERATE_KEYS;
  Iterator.VALUES = ITERATE_VALUES;
  Iterator.ENTRIES = ITERATE_ENTRIES;

  Iterator.prototype.inspect = Iterator.prototype.toSource = function () {
    return this.toString();
  };
  Iterator.prototype[ITERATOR_SYMBOL] = function () {
    return this;
  };

  function iteratorValue(type, k, v, iteratorResult) {
    var value = type === 0 ? k : type === 1 ? v : [k, v];
    iteratorResult ? iteratorResult.value = value : iteratorResult = {
      value: value, done: false
    };
    return iteratorResult;
  }

  function iteratorDone() {
    return { value: undefined, done: true };
  }

  function hasIterator(maybeIterable) {
    return !!getIteratorFn(maybeIterable);
  }

  function isIterator(maybeIterator) {
    return maybeIterator && typeof maybeIterator.next === 'function';
  }

  function getIterator(iterable) {
    var iteratorFn = getIteratorFn(iterable);
    return iteratorFn && iteratorFn.call(iterable);
  }

  function getIteratorFn(iterable) {
    var iteratorFn = iterable && (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL] || iterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  function isArrayLike(value) {
    return value && typeof value.length === 'number';
  }

  createClass(Seq, Iterable);
  function Seq(value) {
    return value === null || value === undefined ? emptySequence() : isIterable(value) ? value.toSeq() : seqFromValue(value);
  }

  Seq.of = function () /*...values*/{
    return Seq(arguments);
  };

  Seq.prototype.toSeq = function () {
    return this;
  };

  Seq.prototype.toString = function () {
    return this.__toString('Seq {', '}');
  };

  Seq.prototype.cacheResult = function () {
    if (!this._cache && this.__iterateUncached) {
      this._cache = this.entrySeq().toArray();
      this.size = this._cache.length;
    }
    return this;
  };

  // abstract __iterateUncached(fn, reverse)

  Seq.prototype.__iterate = function (fn, reverse) {
    return seqIterate(this, fn, reverse, true);
  };

  // abstract __iteratorUncached(type, reverse)

  Seq.prototype.__iterator = function (type, reverse) {
    return seqIterator(this, type, reverse, true);
  };

  createClass(KeyedSeq, Seq);
  function KeyedSeq(value) {
    return value === null || value === undefined ? emptySequence().toKeyedSeq() : isIterable(value) ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq() : keyedSeqFromValue(value);
  }

  KeyedSeq.prototype.toKeyedSeq = function () {
    return this;
  };

  createClass(IndexedSeq, Seq);
  function IndexedSeq(value) {
    return value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();
  }

  IndexedSeq.of = function () /*...values*/{
    return IndexedSeq(arguments);
  };

  IndexedSeq.prototype.toIndexedSeq = function () {
    return this;
  };

  IndexedSeq.prototype.toString = function () {
    return this.__toString('Seq [', ']');
  };

  IndexedSeq.prototype.__iterate = function (fn, reverse) {
    return seqIterate(this, fn, reverse, false);
  };

  IndexedSeq.prototype.__iterator = function (type, reverse) {
    return seqIterator(this, type, reverse, false);
  };

  createClass(SetSeq, Seq);
  function SetSeq(value) {
    return (value === null || value === undefined ? emptySequence() : !isIterable(value) ? indexedSeqFromValue(value) : isKeyed(value) ? value.entrySeq() : value).toSetSeq();
  }

  SetSeq.of = function () /*...values*/{
    return SetSeq(arguments);
  };

  SetSeq.prototype.toSetSeq = function () {
    return this;
  };

  Seq.isSeq = isSeq;
  Seq.Keyed = KeyedSeq;
  Seq.Set = SetSeq;
  Seq.Indexed = IndexedSeq;

  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';

  Seq.prototype[IS_SEQ_SENTINEL] = true;

  createClass(ArraySeq, IndexedSeq);
  function ArraySeq(array) {
    this._array = array;
    this.size = array.length;
  }

  ArraySeq.prototype.get = function (index, notSetValue) {
    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;
  };

  ArraySeq.prototype.__iterate = function (fn, reverse) {
    var array = this._array;
    var maxIndex = array.length - 1;
    for (var ii = 0; ii <= maxIndex; ii++) {
      if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {
        return ii + 1;
      }
    }
    return ii;
  };

  ArraySeq.prototype.__iterator = function (type, reverse) {
    var array = this._array;
    var maxIndex = array.length - 1;
    var ii = 0;
    return new Iterator(function () {
      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++]);
    });
  };

  createClass(ObjectSeq, KeyedSeq);
  function ObjectSeq(object) {
    var keys = (0, _keys2.default)(object);
    this._object = object;
    this._keys = keys;
    this.size = keys.length;
  }

  ObjectSeq.prototype.get = function (key, notSetValue) {
    if (notSetValue !== undefined && !this.has(key)) {
      return notSetValue;
    }
    return this._object[key];
  };

  ObjectSeq.prototype.has = function (key) {
    return this._object.hasOwnProperty(key);
  };

  ObjectSeq.prototype.__iterate = function (fn, reverse) {
    var object = this._object;
    var keys = this._keys;
    var maxIndex = keys.length - 1;
    for (var ii = 0; ii <= maxIndex; ii++) {
      var key = keys[reverse ? maxIndex - ii : ii];
      if (fn(object[key], key, this) === false) {
        return ii + 1;
      }
    }
    return ii;
  };

  ObjectSeq.prototype.__iterator = function (type, reverse) {
    var object = this._object;
    var keys = this._keys;
    var maxIndex = keys.length - 1;
    var ii = 0;
    return new Iterator(function () {
      var key = keys[reverse ? maxIndex - ii : ii];
      return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, key, object[key]);
    });
  };

  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;

  createClass(IterableSeq, IndexedSeq);
  function IterableSeq(iterable) {
    this._iterable = iterable;
    this.size = iterable.length || iterable.size;
  }

  IterableSeq.prototype.__iterateUncached = function (fn, reverse) {
    if (reverse) {
      return this.cacheResult().__iterate(fn, reverse);
    }
    var iterable = this._iterable;
    var iterator = getIterator(iterable);
    var iterations = 0;
    if (isIterator(iterator)) {
      var step;
      while (!(step = iterator.next()).done) {
        if (fn(step.value, iterations++, this) === false) {
          break;
        }
      }
    }
    return iterations;
  };

  IterableSeq.prototype.__iteratorUncached = function (type, reverse) {
    if (reverse) {
      return this.cacheResult().__iterator(type, reverse);
    }
    var iterable = this._iterable;
    var iterator = getIterator(iterable);
    if (!isIterator(iterator)) {
      return new Iterator(iteratorDone);
    }
    var iterations = 0;
    return new Iterator(function () {
      var step = iterator.next();
      return step.done ? step : iteratorValue(type, iterations++, step.value);
    });
  };

  createClass(IteratorSeq, IndexedSeq);
  function IteratorSeq(iterator) {
    this._iterator = iterator;
    this._iteratorCache = [];
  }

  IteratorSeq.prototype.__iterateUncached = function (fn, reverse) {
    if (reverse) {
      return this.cacheResult().__iterate(fn, reverse);
    }
    var iterator = this._iterator;
    var cache = this._iteratorCache;
    var iterations = 0;
    while (iterations < cache.length) {
      if (fn(cache[iterations], iterations++, this) === false) {
        return iterations;
      }
    }
    var step;
    while (!(step = iterator.next()).done) {
      var val = step.value;
      cache[iterations] = val;
      if (fn(val, iterations++, this) === false) {
        break;
      }
    }
    return iterations;
  };

  IteratorSeq.prototype.__iteratorUncached = function (type, reverse) {
    if (reverse) {
      return this.cacheResult().__iterator(type, reverse);
    }
    var iterator = this._iterator;
    var cache = this._iteratorCache;
    var iterations = 0;
    return new Iterator(function () {
      if (iterations >= cache.length) {
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        cache[iterations] = step.value;
      }
      return iteratorValue(type, iterations, cache[iterations++]);
    });
  };

  // # pragma Helper functions

  function isSeq(maybeSeq) {
    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);
  }

  var EMPTY_SEQ;

  function emptySequence() {
    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));
  }

  function keyedSeqFromValue(value) {
    var seq = Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() : isIterator(value) ? new IteratorSeq(value).fromEntrySeq() : hasIterator(value) ? new IterableSeq(value).fromEntrySeq() : (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object' ? new ObjectSeq(value) : undefined;
    if (!seq) {
      throw new TypeError('Expected Array or iterable object of [k, v] entries, ' + 'or keyed object: ' + value);
    }
    return seq;
  }

  function indexedSeqFromValue(value) {
    var seq = maybeIndexedSeqFromValue(value);
    if (!seq) {
      throw new TypeError('Expected Array or iterable object of values: ' + value);
    }
    return seq;
  }

  function seqFromValue(value) {
    var seq = maybeIndexedSeqFromValue(value) || (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object' && new ObjectSeq(value);
    if (!seq) {
      throw new TypeError('Expected Array or iterable object of values, or keyed object: ' + value);
    }
    return seq;
  }

  function maybeIndexedSeqFromValue(value) {
    return isArrayLike(value) ? new ArraySeq(value) : isIterator(value) ? new IteratorSeq(value) : hasIterator(value) ? new IterableSeq(value) : undefined;
  }

  function seqIterate(seq, fn, reverse, useKeys) {
    var cache = seq._cache;
    if (cache) {
      var maxIndex = cache.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        var entry = cache[reverse ? maxIndex - ii : ii];
        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {
          return ii + 1;
        }
      }
      return ii;
    }
    return seq.__iterateUncached(fn, reverse);
  }

  function seqIterator(seq, type, reverse, useKeys) {
    var cache = seq._cache;
    if (cache) {
      var maxIndex = cache.length - 1;
      var ii = 0;
      return new Iterator(function () {
        var entry = cache[reverse ? maxIndex - ii : ii];
        return ii++ > maxIndex ? iteratorDone() : iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);
      });
    }
    return seq.__iteratorUncached(type, reverse);
  }

  function fromJS(json, converter) {
    return converter ? fromJSWith(converter, json, '', { '': json }) : fromJSDefault(json);
  }

  function fromJSWith(converter, json, key, parentJSON) {
    if (Array.isArray(json)) {
      return converter.call(parentJSON, key, IndexedSeq(json).map(function (v, k) {
        return fromJSWith(converter, v, k, json);
      }));
    }
    if (isPlainObj(json)) {
      return converter.call(parentJSON, key, KeyedSeq(json).map(function (v, k) {
        return fromJSWith(converter, v, k, json);
      }));
    }
    return json;
  }

  function fromJSDefault(json) {
    if (Array.isArray(json)) {
      return IndexedSeq(json).map(fromJSDefault).toList();
    }
    if (isPlainObj(json)) {
      return KeyedSeq(json).map(fromJSDefault).toMap();
    }
    return json;
  }

  function isPlainObj(value) {
    return value && (value.constructor === Object || value.constructor === undefined);
  }

  /**
   * An extension of the "same-value" algorithm as [described for use by ES6 Map
   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)
   *
   * NaN is considered the same as NaN, however -0 and 0 are considered the same
   * value, which is different from the algorithm described by
   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).
   *
   * This is extended further to allow Objects to describe the values they
   * represent, by way of `valueOf` or `equals` (and `hashCode`).
   *
   * Note: because of this extension, the key equality of Immutable.Map and the
   * value equality of Immutable.Set will differ from ES6 Map and Set.
   *
   * ### Defining custom values
   *
   * The easiest way to describe the value an object represents is by implementing
   * `valueOf`. For example, `Date` represents a value by returning a unix
   * timestamp for `valueOf`:
   *
   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...
   *     var date2 = new Date(1234567890000);
   *     date1.valueOf(); // 1234567890000
   *     assert( date1 !== date2 );
   *     assert( Immutable.is( date1, date2 ) );
   *
   * Note: overriding `valueOf` may have other implications if you use this object
   * where JavaScript expects a primitive, such as implicit string coercion.
   *
   * For more complex types, especially collections, implementing `valueOf` may
   * not be performant. An alternative is to implement `equals` and `hashCode`.
   *
   * `equals` takes another object, presumably of similar type, and returns true
   * if the it is equal. Equality is symmetrical, so the same result should be
   * returned if this and the argument are flipped.
   *
   *     assert( a.equals(b) === b.equals(a) );
   *
   * `hashCode` returns a 32bit integer number representing the object which will
   * be used to determine how to store the value object in a Map or Set. You must
   * provide both or neither methods, one must not exist without the other.
   *
   * Also, an important relationship between these methods must be upheld: if two
   * values are equal, they *must* return the same hashCode. If the values are not
   * equal, they might have the same hashCode; this is called a hash collision,
   * and while undesirable for performance reasons, it is acceptable.
   *
   *     if (a.equals(b)) {
   *       assert( a.hashCode() === b.hashCode() );
   *     }
   *
   * All Immutable collections implement `equals` and `hashCode`.
   *
   */
  function is(valueA, valueB) {
    if (valueA === valueB || valueA !== valueA && valueB !== valueB) {
      return true;
    }
    if (!valueA || !valueB) {
      return false;
    }
    if (typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function') {
      valueA = valueA.valueOf();
      valueB = valueB.valueOf();
      if (valueA === valueB || valueA !== valueA && valueB !== valueB) {
        return true;
      }
      if (!valueA || !valueB) {
        return false;
      }
    }
    if (typeof valueA.equals === 'function' && typeof valueB.equals === 'function' && valueA.equals(valueB)) {
      return true;
    }
    return false;
  }

  function deepEqual(a, b) {
    if (a === b) {
      return true;
    }

    if (!isIterable(b) || a.size !== undefined && b.size !== undefined && a.size !== b.size || a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash || isKeyed(a) !== isKeyed(b) || isIndexed(a) !== isIndexed(b) || isOrdered(a) !== isOrdered(b)) {
      return false;
    }

    if (a.size === 0 && b.size === 0) {
      return true;
    }

    var notAssociative = !isAssociative(a);

    if (isOrdered(a)) {
      var entries = a.entries();
      return b.every(function (v, k) {
        var entry = entries.next().value;
        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));
      }) && entries.next().done;
    }

    var flipped = false;

    if (a.size === undefined) {
      if (b.size === undefined) {
        if (typeof a.cacheResult === 'function') {
          a.cacheResult();
        }
      } else {
        flipped = true;
        var _ = a;
        a = b;
        b = _;
      }
    }

    var allEqual = true;
    var bSize = b.__iterate(function (v, k) {
      if (notAssociative ? !a.has(v) : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {
        allEqual = false;
        return false;
      }
    });

    return allEqual && a.size === bSize;
  }

  createClass(Repeat, IndexedSeq);

  function Repeat(value, times) {
    if (!(this instanceof Repeat)) {
      return new Repeat(value, times);
    }
    this._value = value;
    this.size = times === undefined ? Infinity : Math.max(0, times);
    if (this.size === 0) {
      if (EMPTY_REPEAT) {
        return EMPTY_REPEAT;
      }
      EMPTY_REPEAT = this;
    }
  }

  Repeat.prototype.toString = function () {
    if (this.size === 0) {
      return 'Repeat []';
    }
    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';
  };

  Repeat.prototype.get = function (index, notSetValue) {
    return this.has(index) ? this._value : notSetValue;
  };

  Repeat.prototype.includes = function (searchValue) {
    return is(this._value, searchValue);
  };

  Repeat.prototype.slice = function (begin, end) {
    var size = this.size;
    return wholeSlice(begin, end, size) ? this : new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));
  };

  Repeat.prototype.reverse = function () {
    return this;
  };

  Repeat.prototype.indexOf = function (searchValue) {
    if (is(this._value, searchValue)) {
      return 0;
    }
    return -1;
  };

  Repeat.prototype.lastIndexOf = function (searchValue) {
    if (is(this._value, searchValue)) {
      return this.size;
    }
    return -1;
  };

  Repeat.prototype.__iterate = function (fn, reverse) {
    for (var ii = 0; ii < this.size; ii++) {
      if (fn(this._value, ii, this) === false) {
        return ii + 1;
      }
    }
    return ii;
  };

  Repeat.prototype.__iterator = function (type, reverse) {
    var this$0 = this;
    var ii = 0;
    return new Iterator(function () {
      return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone();
    });
  };

  Repeat.prototype.equals = function (other) {
    return other instanceof Repeat ? is(this._value, other._value) : deepEqual(other);
  };

  var EMPTY_REPEAT;

  function invariant(condition, error) {
    if (!condition) throw new Error(error);
  }

  createClass(Range, IndexedSeq);

  function Range(start, end, step) {
    if (!(this instanceof Range)) {
      return new Range(start, end, step);
    }
    invariant(step !== 0, 'Cannot step a Range by 0');
    start = start || 0;
    if (end === undefined) {
      end = Infinity;
    }
    step = step === undefined ? 1 : Math.abs(step);
    if (end < start) {
      step = -step;
    }
    this._start = start;
    this._end = end;
    this._step = step;
    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);
    if (this.size === 0) {
      if (EMPTY_RANGE) {
        return EMPTY_RANGE;
      }
      EMPTY_RANGE = this;
    }
  }

  Range.prototype.toString = function () {
    if (this.size === 0) {
      return 'Range []';
    }
    return 'Range [ ' + this._start + '...' + this._end + (this._step !== 1 ? ' by ' + this._step : '') + ' ]';
  };

  Range.prototype.get = function (index, notSetValue) {
    return this.has(index) ? this._start + wrapIndex(this, index) * this._step : notSetValue;
  };

  Range.prototype.includes = function (searchValue) {
    var possibleIndex = (searchValue - this._start) / this._step;
    return possibleIndex >= 0 && possibleIndex < this.size && possibleIndex === Math.floor(possibleIndex);
  };

  Range.prototype.slice = function (begin, end) {
    if (wholeSlice(begin, end, this.size)) {
      return this;
    }
    begin = resolveBegin(begin, this.size);
    end = resolveEnd(end, this.size);
    if (end <= begin) {
      return new Range(0, 0);
    }
    return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);
  };

  Range.prototype.indexOf = function (searchValue) {
    var offsetValue = searchValue - this._start;
    if (offsetValue % this._step === 0) {
      var index = offsetValue / this._step;
      if (index >= 0 && index < this.size) {
        return index;
      }
    }
    return -1;
  };

  Range.prototype.lastIndexOf = function (searchValue) {
    return this.indexOf(searchValue);
  };

  Range.prototype.__iterate = function (fn, reverse) {
    var maxIndex = this.size - 1;
    var step = this._step;
    var value = reverse ? this._start + maxIndex * step : this._start;
    for (var ii = 0; ii <= maxIndex; ii++) {
      if (fn(value, ii, this) === false) {
        return ii + 1;
      }
      value += reverse ? -step : step;
    }
    return ii;
  };

  Range.prototype.__iterator = function (type, reverse) {
    var maxIndex = this.size - 1;
    var step = this._step;
    var value = reverse ? this._start + maxIndex * step : this._start;
    var ii = 0;
    return new Iterator(function () {
      var v = value;
      value += reverse ? -step : step;
      return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);
    });
  };

  Range.prototype.equals = function (other) {
    return other instanceof Range ? this._start === other._start && this._end === other._end && this._step === other._step : deepEqual(this, other);
  };

  var EMPTY_RANGE;

  createClass(Collection, Iterable);
  function Collection() {
    throw TypeError('Abstract');
  }

  createClass(KeyedCollection, Collection);function KeyedCollection() {}

  createClass(IndexedCollection, Collection);function IndexedCollection() {}

  createClass(SetCollection, Collection);function SetCollection() {}

  Collection.Keyed = KeyedCollection;
  Collection.Indexed = IndexedCollection;
  Collection.Set = SetCollection;

  var imul = typeof _imul2.default === 'function' && (0, _imul2.default)(0xffffffff, 2) === -2 ? _imul2.default : function imul(a, b) {
    a = a | 0; // int
    b = b | 0; // int
    var c = a & 0xffff;
    var d = b & 0xffff;
    // Shift by 0 fixes the sign on the high part.
    return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int
  };

  // v8 has an optimization for storing 31-bit signed numbers.
  // Values which have either 00 or 11 as the high order bits qualify.
  // This function drops the highest order bit in a signed number, maintaining
  // the sign bit.
  function smi(i32) {
    return i32 >>> 1 & 0x40000000 | i32 & 0xBFFFFFFF;
  }

  function hash(o) {
    if (o === false || o === null || o === undefined) {
      return 0;
    }
    if (typeof o.valueOf === 'function') {
      o = o.valueOf();
      if (o === false || o === null || o === undefined) {
        return 0;
      }
    }
    if (o === true) {
      return 1;
    }
    var type = typeof o === 'undefined' ? 'undefined' : (0, _typeof3.default)(o);
    if (type === 'number') {
      if (o !== o || o === Infinity) {
        return 0;
      }
      var h = o | 0;
      if (h !== o) {
        h ^= o * 0xFFFFFFFF;
      }
      while (o > 0xFFFFFFFF) {
        o /= 0xFFFFFFFF;
        h ^= o;
      }
      return smi(h);
    }
    if (type === 'string') {
      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);
    }
    if (typeof o.hashCode === 'function') {
      return o.hashCode();
    }
    if (type === 'object') {
      return hashJSObj(o);
    }
    if (typeof o.toString === 'function') {
      return hashString(o.toString());
    }
    throw new Error('Value type ' + type + ' cannot be hashed.');
  }

  function cachedHashString(string) {
    var hash = stringHashCache[string];
    if (hash === undefined) {
      hash = hashString(string);
      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {
        STRING_HASH_CACHE_SIZE = 0;
        stringHashCache = {};
      }
      STRING_HASH_CACHE_SIZE++;
      stringHashCache[string] = hash;
    }
    return hash;
  }

  // http://jsperf.com/hashing-strings
  function hashString(string) {
    // This is the hash from JVM
    // The hash code for a string is computed as
    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],
    // where s[i] is the ith character of the string and n is the length of
    // the string. We "mod" the result to make it between 0 (inclusive) and 2^31
    // (exclusive) by dropping high bits.
    var hash = 0;
    for (var ii = 0; ii < string.length; ii++) {
      hash = 31 * hash + string.charCodeAt(ii) | 0;
    }
    return smi(hash);
  }

  function hashJSObj(obj) {
    var hash;
    if (usingWeakMap) {
      hash = weakMap.get(obj);
      if (hash !== undefined) {
        return hash;
      }
    }

    hash = obj[UID_HASH_KEY];
    if (hash !== undefined) {
      return hash;
    }

    if (!canDefineProperty) {
      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];
      if (hash !== undefined) {
        return hash;
      }

      hash = getIENodeHash(obj);
      if (hash !== undefined) {
        return hash;
      }
    }

    hash = ++objHashUID;
    if (objHashUID & 0x40000000) {
      objHashUID = 0;
    }

    if (usingWeakMap) {
      weakMap.set(obj, hash);
    } else if (isExtensible !== undefined && isExtensible(obj) === false) {
      throw new Error('Non-extensible objects are not allowed as keys.');
    } else if (canDefineProperty) {
      (0, _defineProperty2.default)(obj, UID_HASH_KEY, {
        'enumerable': false,
        'configurable': false,
        'writable': false,
        'value': hash
      });
    } else if (obj.propertyIsEnumerable !== undefined && obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {
      // Since we can't define a non-enumerable property on the object
      // we'll hijack one of the less-used non-enumerable properties to
      // save our hash on it. Since this is a function it will not show up in
      // `JSON.stringify` which is what we want.
      obj.propertyIsEnumerable = function () {
        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);
      };
      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;
    } else if (obj.nodeType !== undefined) {
      // At this point we couldn't get the IE `uniqueID` to use as a hash
      // and we couldn't use a non-enumerable property to exploit the
      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node
      // itself.
      obj[UID_HASH_KEY] = hash;
    } else {
      throw new Error('Unable to set a non-enumerable property on object.');
    }

    return hash;
  }

  // Get references to ES5 object methods.
  var isExtensible = _isExtensible2.default;

  // True if Object.defineProperty works as expected. IE8 fails this test.
  var canDefineProperty = function () {
    try {
      Object.defineProperty({}, '@', {});
      return true;
    } catch (e) {
      return false;
    }
  }();

  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it
  // and avoid memory leaks from the IE cloneNode bug.
  function getIENodeHash(node) {
    if (node && node.nodeType > 0) {
      switch (node.nodeType) {
        case 1:
          // Element
          return node.uniqueID;
        case 9:
          // Document
          return node.documentElement && node.documentElement.uniqueID;
      }
    }
  }

  // If possible, use a WeakMap.
  var usingWeakMap = typeof _weakMap2.default === 'function';
  var weakMap;
  if (usingWeakMap) {
    weakMap = new _weakMap2.default();
  }

  var objHashUID = 0;

  var UID_HASH_KEY = '__immutablehash__';
  if (typeof _symbol2.default === 'function') {
    UID_HASH_KEY = (0, _symbol2.default)(UID_HASH_KEY);
  }

  var STRING_HASH_CACHE_MIN_STRLEN = 16;
  var STRING_HASH_CACHE_MAX_SIZE = 255;
  var STRING_HASH_CACHE_SIZE = 0;
  var stringHashCache = {};

  function assertNotInfinite(size) {
    invariant(size !== Infinity, 'Cannot perform this action with an infinite size.');
  }

  createClass(Map, KeyedCollection);

  // @pragma Construction

  function Map(value) {
    return value === null || value === undefined ? emptyMap() : isMap(value) && !isOrdered(value) ? value : emptyMap().withMutations(function (map) {
      var iter = KeyedIterable(value);
      assertNotInfinite(iter.size);
      iter.forEach(function (v, k) {
        return map.set(k, v);
      });
    });
  }

  Map.of = function () {
    var keyValues = SLICE$0.call(arguments, 0);
    return emptyMap().withMutations(function (map) {
      for (var i = 0; i < keyValues.length; i += 2) {
        if (i + 1 >= keyValues.length) {
          throw new Error('Missing value for key: ' + keyValues[i]);
        }
        map.set(keyValues[i], keyValues[i + 1]);
      }
    });
  };

  Map.prototype.toString = function () {
    return this.__toString('Map {', '}');
  };

  // @pragma Access

  Map.prototype.get = function (k, notSetValue) {
    return this._root ? this._root.get(0, undefined, k, notSetValue) : notSetValue;
  };

  // @pragma Modification

  Map.prototype.set = function (k, v) {
    return updateMap(this, k, v);
  };

  Map.prototype.setIn = function (keyPath, v) {
    return this.updateIn(keyPath, NOT_SET, function () {
      return v;
    });
  };

  Map.prototype.remove = function (k) {
    return updateMap(this, k, NOT_SET);
  };

  Map.prototype.deleteIn = function (keyPath) {
    return this.updateIn(keyPath, function () {
      return NOT_SET;
    });
  };

  Map.prototype.update = function (k, notSetValue, updater) {
    return arguments.length === 1 ? k(this) : this.updateIn([k], notSetValue, updater);
  };

  Map.prototype.updateIn = function (keyPath, notSetValue, updater) {
    if (!updater) {
      updater = notSetValue;
      notSetValue = undefined;
    }
    var updatedValue = updateInDeepMap(this, forceIterator(keyPath), notSetValue, updater);
    return updatedValue === NOT_SET ? undefined : updatedValue;
  };

  Map.prototype.clear = function () {
    if (this.size === 0) {
      return this;
    }
    if (this.__ownerID) {
      this.size = 0;
      this._root = null;
      this.__hash = undefined;
      this.__altered = true;
      return this;
    }
    return emptyMap();
  };

  // @pragma Composition

  Map.prototype.merge = function () /*...iters*/{
    return mergeIntoMapWith(this, undefined, arguments);
  };

  Map.prototype.mergeWith = function (merger) {
    var iters = SLICE$0.call(arguments, 1);
    return mergeIntoMapWith(this, merger, iters);
  };

  Map.prototype.mergeIn = function (keyPath) {
    var iters = SLICE$0.call(arguments, 1);
    return this.updateIn(keyPath, emptyMap(), function (m) {
      return typeof m.merge === 'function' ? m.merge.apply(m, iters) : iters[iters.length - 1];
    });
  };

  Map.prototype.mergeDeep = function () /*...iters*/{
    return mergeIntoMapWith(this, deepMerger, arguments);
  };

  Map.prototype.mergeDeepWith = function (merger) {
    var iters = SLICE$0.call(arguments, 1);
    return mergeIntoMapWith(this, deepMergerWith(merger), iters);
  };

  Map.prototype.mergeDeepIn = function (keyPath) {
    var iters = SLICE$0.call(arguments, 1);
    return this.updateIn(keyPath, emptyMap(), function (m) {
      return typeof m.mergeDeep === 'function' ? m.mergeDeep.apply(m, iters) : iters[iters.length - 1];
    });
  };

  Map.prototype.sort = function (comparator) {
    // Late binding
    return OrderedMap(sortFactory(this, comparator));
  };

  Map.prototype.sortBy = function (mapper, comparator) {
    // Late binding
    return OrderedMap(sortFactory(this, comparator, mapper));
  };

  // @pragma Mutability

  Map.prototype.withMutations = function (fn) {
    var mutable = this.asMutable();
    fn(mutable);
    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;
  };

  Map.prototype.asMutable = function () {
    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());
  };

  Map.prototype.asImmutable = function () {
    return this.__ensureOwner();
  };

  Map.prototype.wasAltered = function () {
    return this.__altered;
  };

  Map.prototype.__iterator = function (type, reverse) {
    return new MapIterator(this, type, reverse);
  };

  Map.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    var iterations = 0;
    this._root && this._root.iterate(function (entry) {
      iterations++;
      return fn(entry[1], entry[0], this$0);
    }, reverse);
    return iterations;
  };

  Map.prototype.__ensureOwner = function (ownerID) {
    if (ownerID === this.__ownerID) {
      return this;
    }
    if (!ownerID) {
      this.__ownerID = ownerID;
      this.__altered = false;
      return this;
    }
    return makeMap(this.size, this._root, ownerID, this.__hash);
  };

  function isMap(maybeMap) {
    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);
  }

  Map.isMap = isMap;

  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';

  var MapPrototype = Map.prototype;
  MapPrototype[IS_MAP_SENTINEL] = true;
  MapPrototype[DELETE] = MapPrototype.remove;
  MapPrototype.removeIn = MapPrototype.deleteIn;

  // #pragma Trie Nodes


  function ArrayMapNode(ownerID, entries) {
    this.ownerID = ownerID;
    this.entries = entries;
  }

  ArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {
    var entries = this.entries;
    for (var ii = 0, len = entries.length; ii < len; ii++) {
      if (is(key, entries[ii][0])) {
        return entries[ii][1];
      }
    }
    return notSetValue;
  };

  ArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    var removed = value === NOT_SET;

    var entries = this.entries;
    var idx = 0;
    for (var len = entries.length; idx < len; idx++) {
      if (is(key, entries[idx][0])) {
        break;
      }
    }
    var exists = idx < len;

    if (exists ? entries[idx][1] === value : removed) {
      return this;
    }

    SetRef(didAlter);
    (removed || !exists) && SetRef(didChangeSize);

    if (removed && entries.length === 1) {
      return; // undefined
    }

    if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {
      return createNodes(ownerID, entries, key, value);
    }

    var isEditable = ownerID && ownerID === this.ownerID;
    var newEntries = isEditable ? entries : arrCopy(entries);

    if (exists) {
      if (removed) {
        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();
      } else {
        newEntries[idx] = [key, value];
      }
    } else {
      newEntries.push([key, value]);
    }

    if (isEditable) {
      this.entries = newEntries;
      return this;
    }

    return new ArrayMapNode(ownerID, newEntries);
  };

  function BitmapIndexedNode(ownerID, bitmap, nodes) {
    this.ownerID = ownerID;
    this.bitmap = bitmap;
    this.nodes = nodes;
  }

  BitmapIndexedNode.prototype.get = function (shift, keyHash, key, notSetValue) {
    if (keyHash === undefined) {
      keyHash = hash(key);
    }
    var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);
    var bitmap = this.bitmap;
    return (bitmap & bit) === 0 ? notSetValue : this.nodes[popCount(bitmap & bit - 1)].get(shift + SHIFT, keyHash, key, notSetValue);
  };

  BitmapIndexedNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    if (keyHash === undefined) {
      keyHash = hash(key);
    }
    var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
    var bit = 1 << keyHashFrag;
    var bitmap = this.bitmap;
    var exists = (bitmap & bit) !== 0;

    if (!exists && value === NOT_SET) {
      return this;
    }

    var idx = popCount(bitmap & bit - 1);
    var nodes = this.nodes;
    var node = exists ? nodes[idx] : undefined;
    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);

    if (newNode === node) {
      return this;
    }

    if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {
      return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);
    }

    if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {
      return nodes[idx ^ 1];
    }

    if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {
      return newNode;
    }

    var isEditable = ownerID && ownerID === this.ownerID;
    var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;
    var newNodes = exists ? newNode ? setIn(nodes, idx, newNode, isEditable) : spliceOut(nodes, idx, isEditable) : spliceIn(nodes, idx, newNode, isEditable);

    if (isEditable) {
      this.bitmap = newBitmap;
      this.nodes = newNodes;
      return this;
    }

    return new BitmapIndexedNode(ownerID, newBitmap, newNodes);
  };

  function HashArrayMapNode(ownerID, count, nodes) {
    this.ownerID = ownerID;
    this.count = count;
    this.nodes = nodes;
  }

  HashArrayMapNode.prototype.get = function (shift, keyHash, key, notSetValue) {
    if (keyHash === undefined) {
      keyHash = hash(key);
    }
    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
    var node = this.nodes[idx];
    return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;
  };

  HashArrayMapNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    if (keyHash === undefined) {
      keyHash = hash(key);
    }
    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
    var removed = value === NOT_SET;
    var nodes = this.nodes;
    var node = nodes[idx];

    if (removed && !node) {
      return this;
    }

    var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);
    if (newNode === node) {
      return this;
    }

    var newCount = this.count;
    if (!node) {
      newCount++;
    } else if (!newNode) {
      newCount--;
      if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {
        return packNodes(ownerID, nodes, newCount, idx);
      }
    }

    var isEditable = ownerID && ownerID === this.ownerID;
    var newNodes = setIn(nodes, idx, newNode, isEditable);

    if (isEditable) {
      this.count = newCount;
      this.nodes = newNodes;
      return this;
    }

    return new HashArrayMapNode(ownerID, newCount, newNodes);
  };

  function HashCollisionNode(ownerID, keyHash, entries) {
    this.ownerID = ownerID;
    this.keyHash = keyHash;
    this.entries = entries;
  }

  HashCollisionNode.prototype.get = function (shift, keyHash, key, notSetValue) {
    var entries = this.entries;
    for (var ii = 0, len = entries.length; ii < len; ii++) {
      if (is(key, entries[ii][0])) {
        return entries[ii][1];
      }
    }
    return notSetValue;
  };

  HashCollisionNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    if (keyHash === undefined) {
      keyHash = hash(key);
    }

    var removed = value === NOT_SET;

    if (keyHash !== this.keyHash) {
      if (removed) {
        return this;
      }
      SetRef(didAlter);
      SetRef(didChangeSize);
      return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);
    }

    var entries = this.entries;
    var idx = 0;
    for (var len = entries.length; idx < len; idx++) {
      if (is(key, entries[idx][0])) {
        break;
      }
    }
    var exists = idx < len;

    if (exists ? entries[idx][1] === value : removed) {
      return this;
    }

    SetRef(didAlter);
    (removed || !exists) && SetRef(didChangeSize);

    if (removed && len === 2) {
      return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);
    }

    var isEditable = ownerID && ownerID === this.ownerID;
    var newEntries = isEditable ? entries : arrCopy(entries);

    if (exists) {
      if (removed) {
        idx === len - 1 ? newEntries.pop() : newEntries[idx] = newEntries.pop();
      } else {
        newEntries[idx] = [key, value];
      }
    } else {
      newEntries.push([key, value]);
    }

    if (isEditable) {
      this.entries = newEntries;
      return this;
    }

    return new HashCollisionNode(ownerID, this.keyHash, newEntries);
  };

  function ValueNode(ownerID, keyHash, entry) {
    this.ownerID = ownerID;
    this.keyHash = keyHash;
    this.entry = entry;
  }

  ValueNode.prototype.get = function (shift, keyHash, key, notSetValue) {
    return is(key, this.entry[0]) ? this.entry[1] : notSetValue;
  };

  ValueNode.prototype.update = function (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    var removed = value === NOT_SET;
    var keyMatch = is(key, this.entry[0]);
    if (keyMatch ? value === this.entry[1] : removed) {
      return this;
    }

    SetRef(didAlter);

    if (removed) {
      SetRef(didChangeSize);
      return; // undefined
    }

    if (keyMatch) {
      if (ownerID && ownerID === this.ownerID) {
        this.entry[1] = value;
        return this;
      }
      return new ValueNode(ownerID, this.keyHash, [key, value]);
    }

    SetRef(didChangeSize);
    return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);
  };

  // #pragma Iterators

  ArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate = function (fn, reverse) {
    var entries = this.entries;
    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {
      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {
        return false;
      }
    }
  };

  BitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate = function (fn, reverse) {
    var nodes = this.nodes;
    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {
      var node = nodes[reverse ? maxIndex - ii : ii];
      if (node && node.iterate(fn, reverse) === false) {
        return false;
      }
    }
  };

  ValueNode.prototype.iterate = function (fn, reverse) {
    return fn(this.entry);
  };

  createClass(MapIterator, Iterator);

  function MapIterator(map, type, reverse) {
    this._type = type;
    this._reverse = reverse;
    this._stack = map._root && mapIteratorFrame(map._root);
  }

  MapIterator.prototype.next = function () {
    var type = this._type;
    var stack = this._stack;
    while (stack) {
      var node = stack.node;
      var index = stack.index++;
      var maxIndex;
      if (node.entry) {
        if (index === 0) {
          return mapIteratorValue(type, node.entry);
        }
      } else if (node.entries) {
        maxIndex = node.entries.length - 1;
        if (index <= maxIndex) {
          return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);
        }
      } else {
        maxIndex = node.nodes.length - 1;
        if (index <= maxIndex) {
          var subNode = node.nodes[this._reverse ? maxIndex - index : index];
          if (subNode) {
            if (subNode.entry) {
              return mapIteratorValue(type, subNode.entry);
            }
            stack = this._stack = mapIteratorFrame(subNode, stack);
          }
          continue;
        }
      }
      stack = this._stack = this._stack.__prev;
    }
    return iteratorDone();
  };

  function mapIteratorValue(type, entry) {
    return iteratorValue(type, entry[0], entry[1]);
  }

  function mapIteratorFrame(node, prev) {
    return {
      node: node,
      index: 0,
      __prev: prev
    };
  }

  function makeMap(size, root, ownerID, hash) {
    var map = (0, _create2.default)(MapPrototype);
    map.size = size;
    map._root = root;
    map.__ownerID = ownerID;
    map.__hash = hash;
    map.__altered = false;
    return map;
  }

  var EMPTY_MAP;
  function emptyMap() {
    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));
  }

  function updateMap(map, k, v) {
    var newRoot;
    var newSize;
    if (!map._root) {
      if (v === NOT_SET) {
        return map;
      }
      newSize = 1;
      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);
    } else {
      var didChangeSize = MakeRef(CHANGE_LENGTH);
      var didAlter = MakeRef(DID_ALTER);
      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);
      if (!didAlter.value) {
        return map;
      }
      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);
    }
    if (map.__ownerID) {
      map.size = newSize;
      map._root = newRoot;
      map.__hash = undefined;
      map.__altered = true;
      return map;
    }
    return newRoot ? makeMap(newSize, newRoot) : emptyMap();
  }

  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    if (!node) {
      if (value === NOT_SET) {
        return node;
      }
      SetRef(didAlter);
      SetRef(didChangeSize);
      return new ValueNode(ownerID, keyHash, [key, value]);
    }
    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);
  }

  function isLeafNode(node) {
    return node.constructor === ValueNode || node.constructor === HashCollisionNode;
  }

  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {
    if (node.keyHash === keyHash) {
      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);
    }

    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;
    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;

    var newNode;
    var nodes = idx1 === idx2 ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] : (newNode = new ValueNode(ownerID, keyHash, entry), idx1 < idx2 ? [node, newNode] : [newNode, node]);

    return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);
  }

  function createNodes(ownerID, entries, key, value) {
    if (!ownerID) {
      ownerID = new OwnerID();
    }
    var node = new ValueNode(ownerID, hash(key), [key, value]);
    for (var ii = 0; ii < entries.length; ii++) {
      var entry = entries[ii];
      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);
    }
    return node;
  }

  function packNodes(ownerID, nodes, count, excluding) {
    var bitmap = 0;
    var packedII = 0;
    var packedNodes = new Array(count);
    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {
      var node = nodes[ii];
      if (node !== undefined && ii !== excluding) {
        bitmap |= bit;
        packedNodes[packedII++] = node;
      }
    }
    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);
  }

  function expandNodes(ownerID, nodes, bitmap, including, node) {
    var count = 0;
    var expandedNodes = new Array(SIZE);
    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {
      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;
    }
    expandedNodes[including] = node;
    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);
  }

  function mergeIntoMapWith(map, merger, iterables) {
    var iters = [];
    for (var ii = 0; ii < iterables.length; ii++) {
      var value = iterables[ii];
      var iter = KeyedIterable(value);
      if (!isIterable(value)) {
        iter = iter.map(function (v) {
          return fromJS(v);
        });
      }
      iters.push(iter);
    }
    return mergeIntoCollectionWith(map, merger, iters);
  }

  function deepMerger(existing, value, key) {
    return existing && existing.mergeDeep && isIterable(value) ? existing.mergeDeep(value) : is(existing, value) ? existing : value;
  }

  function deepMergerWith(merger) {
    return function (existing, value, key) {
      if (existing && existing.mergeDeepWith && isIterable(value)) {
        return existing.mergeDeepWith(merger, value);
      }
      var nextValue = merger(existing, value, key);
      return is(existing, nextValue) ? existing : nextValue;
    };
  }

  function mergeIntoCollectionWith(collection, merger, iters) {
    iters = iters.filter(function (x) {
      return x.size !== 0;
    });
    if (iters.length === 0) {
      return collection;
    }
    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {
      return collection.constructor(iters[0]);
    }
    return collection.withMutations(function (collection) {
      var mergeIntoMap = merger ? function (value, key) {
        collection.update(key, NOT_SET, function (existing) {
          return existing === NOT_SET ? value : merger(existing, value, key);
        });
      } : function (value, key) {
        collection.set(key, value);
      };
      for (var ii = 0; ii < iters.length; ii++) {
        iters[ii].forEach(mergeIntoMap);
      }
    });
  }

  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {
    var isNotSet = existing === NOT_SET;
    var step = keyPathIter.next();
    if (step.done) {
      var existingValue = isNotSet ? notSetValue : existing;
      var newValue = updater(existingValue);
      return newValue === existingValue ? existing : newValue;
    }
    invariant(isNotSet || existing && existing.set, 'invalid keyPath');
    var key = step.value;
    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);
    var nextUpdated = updateInDeepMap(nextExisting, keyPathIter, notSetValue, updater);
    return nextUpdated === nextExisting ? existing : nextUpdated === NOT_SET ? existing.remove(key) : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);
  }

  function popCount(x) {
    x = x - (x >> 1 & 0x55555555);
    x = (x & 0x33333333) + (x >> 2 & 0x33333333);
    x = x + (x >> 4) & 0x0f0f0f0f;
    x = x + (x >> 8);
    x = x + (x >> 16);
    return x & 0x7f;
  }

  function setIn(array, idx, val, canEdit) {
    var newArray = canEdit ? array : arrCopy(array);
    newArray[idx] = val;
    return newArray;
  }

  function spliceIn(array, idx, val, canEdit) {
    var newLen = array.length + 1;
    if (canEdit && idx + 1 === newLen) {
      array[idx] = val;
      return array;
    }
    var newArray = new Array(newLen);
    var after = 0;
    for (var ii = 0; ii < newLen; ii++) {
      if (ii === idx) {
        newArray[ii] = val;
        after = -1;
      } else {
        newArray[ii] = array[ii + after];
      }
    }
    return newArray;
  }

  function spliceOut(array, idx, canEdit) {
    var newLen = array.length - 1;
    if (canEdit && idx === newLen) {
      array.pop();
      return array;
    }
    var newArray = new Array(newLen);
    var after = 0;
    for (var ii = 0; ii < newLen; ii++) {
      if (ii === idx) {
        after = 1;
      }
      newArray[ii] = array[ii + after];
    }
    return newArray;
  }

  var MAX_ARRAY_MAP_SIZE = SIZE / 4;
  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;
  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;

  createClass(List, IndexedCollection);

  // @pragma Construction

  function List(value) {
    var empty = emptyList();
    if (value === null || value === undefined) {
      return empty;
    }
    if (isList(value)) {
      return value;
    }
    var iter = IndexedIterable(value);
    var size = iter.size;
    if (size === 0) {
      return empty;
    }
    assertNotInfinite(size);
    if (size > 0 && size < SIZE) {
      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));
    }
    return empty.withMutations(function (list) {
      list.setSize(size);
      iter.forEach(function (v, i) {
        return list.set(i, v);
      });
    });
  }

  List.of = function () /*...values*/{
    return this(arguments);
  };

  List.prototype.toString = function () {
    return this.__toString('List [', ']');
  };

  // @pragma Access

  List.prototype.get = function (index, notSetValue) {
    index = wrapIndex(this, index);
    if (index >= 0 && index < this.size) {
      index += this._origin;
      var node = listNodeFor(this, index);
      return node && node.array[index & MASK];
    }
    return notSetValue;
  };

  // @pragma Modification

  List.prototype.set = function (index, value) {
    return updateList(this, index, value);
  };

  List.prototype.remove = function (index) {
    return !this.has(index) ? this : index === 0 ? this.shift() : index === this.size - 1 ? this.pop() : this.splice(index, 1);
  };

  List.prototype.insert = function (index, value) {
    return this.splice(index, 0, value);
  };

  List.prototype.clear = function () {
    if (this.size === 0) {
      return this;
    }
    if (this.__ownerID) {
      this.size = this._origin = this._capacity = 0;
      this._level = SHIFT;
      this._root = this._tail = null;
      this.__hash = undefined;
      this.__altered = true;
      return this;
    }
    return emptyList();
  };

  List.prototype.push = function () /*...values*/{
    var values = arguments;
    var oldSize = this.size;
    return this.withMutations(function (list) {
      setListBounds(list, 0, oldSize + values.length);
      for (var ii = 0; ii < values.length; ii++) {
        list.set(oldSize + ii, values[ii]);
      }
    });
  };

  List.prototype.pop = function () {
    return setListBounds(this, 0, -1);
  };

  List.prototype.unshift = function () /*...values*/{
    var values = arguments;
    return this.withMutations(function (list) {
      setListBounds(list, -values.length);
      for (var ii = 0; ii < values.length; ii++) {
        list.set(ii, values[ii]);
      }
    });
  };

  List.prototype.shift = function () {
    return setListBounds(this, 1);
  };

  // @pragma Composition

  List.prototype.merge = function () /*...iters*/{
    return mergeIntoListWith(this, undefined, arguments);
  };

  List.prototype.mergeWith = function (merger) {
    var iters = SLICE$0.call(arguments, 1);
    return mergeIntoListWith(this, merger, iters);
  };

  List.prototype.mergeDeep = function () /*...iters*/{
    return mergeIntoListWith(this, deepMerger, arguments);
  };

  List.prototype.mergeDeepWith = function (merger) {
    var iters = SLICE$0.call(arguments, 1);
    return mergeIntoListWith(this, deepMergerWith(merger), iters);
  };

  List.prototype.setSize = function (size) {
    return setListBounds(this, 0, size);
  };

  // @pragma Iteration

  List.prototype.slice = function (begin, end) {
    var size = this.size;
    if (wholeSlice(begin, end, size)) {
      return this;
    }
    return setListBounds(this, resolveBegin(begin, size), resolveEnd(end, size));
  };

  List.prototype.__iterator = function (type, reverse) {
    var index = 0;
    var values = iterateList(this, reverse);
    return new Iterator(function () {
      var value = values();
      return value === DONE ? iteratorDone() : iteratorValue(type, index++, value);
    });
  };

  List.prototype.__iterate = function (fn, reverse) {
    var index = 0;
    var values = iterateList(this, reverse);
    var value;
    while ((value = values()) !== DONE) {
      if (fn(value, index++, this) === false) {
        break;
      }
    }
    return index;
  };

  List.prototype.__ensureOwner = function (ownerID) {
    if (ownerID === this.__ownerID) {
      return this;
    }
    if (!ownerID) {
      this.__ownerID = ownerID;
      return this;
    }
    return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);
  };

  function isList(maybeList) {
    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);
  }

  List.isList = isList;

  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';

  var ListPrototype = List.prototype;
  ListPrototype[IS_LIST_SENTINEL] = true;
  ListPrototype[DELETE] = ListPrototype.remove;
  ListPrototype.setIn = MapPrototype.setIn;
  ListPrototype.deleteIn = ListPrototype.removeIn = MapPrototype.removeIn;
  ListPrototype.update = MapPrototype.update;
  ListPrototype.updateIn = MapPrototype.updateIn;
  ListPrototype.mergeIn = MapPrototype.mergeIn;
  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
  ListPrototype.withMutations = MapPrototype.withMutations;
  ListPrototype.asMutable = MapPrototype.asMutable;
  ListPrototype.asImmutable = MapPrototype.asImmutable;
  ListPrototype.wasAltered = MapPrototype.wasAltered;

  function VNode(array, ownerID) {
    this.array = array;
    this.ownerID = ownerID;
  }

  // TODO: seems like these methods are very similar

  VNode.prototype.removeBefore = function (ownerID, level, index) {
    if (index === level ? 1 << level : 0 || this.array.length === 0) {
      return this;
    }
    var originIndex = index >>> level & MASK;
    if (originIndex >= this.array.length) {
      return new VNode([], ownerID);
    }
    var removingFirst = originIndex === 0;
    var newChild;
    if (level > 0) {
      var oldChild = this.array[originIndex];
      newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);
      if (newChild === oldChild && removingFirst) {
        return this;
      }
    }
    if (removingFirst && !newChild) {
      return this;
    }
    var editable = editableVNode(this, ownerID);
    if (!removingFirst) {
      for (var ii = 0; ii < originIndex; ii++) {
        editable.array[ii] = undefined;
      }
    }
    if (newChild) {
      editable.array[originIndex] = newChild;
    }
    return editable;
  };

  VNode.prototype.removeAfter = function (ownerID, level, index) {
    if (index === (level ? 1 << level : 0) || this.array.length === 0) {
      return this;
    }
    var sizeIndex = index - 1 >>> level & MASK;
    if (sizeIndex >= this.array.length) {
      return this;
    }

    var newChild;
    if (level > 0) {
      var oldChild = this.array[sizeIndex];
      newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);
      if (newChild === oldChild && sizeIndex === this.array.length - 1) {
        return this;
      }
    }

    var editable = editableVNode(this, ownerID);
    editable.array.splice(sizeIndex + 1);
    if (newChild) {
      editable.array[sizeIndex] = newChild;
    }
    return editable;
  };

  var DONE = {};

  function iterateList(list, reverse) {
    var left = list._origin;
    var right = list._capacity;
    var tailPos = getTailOffset(right);
    var tail = list._tail;

    return iterateNodeOrLeaf(list._root, list._level, 0);

    function iterateNodeOrLeaf(node, level, offset) {
      return level === 0 ? iterateLeaf(node, offset) : iterateNode(node, level, offset);
    }

    function iterateLeaf(node, offset) {
      var array = offset === tailPos ? tail && tail.array : node && node.array;
      var from = offset > left ? 0 : left - offset;
      var to = right - offset;
      if (to > SIZE) {
        to = SIZE;
      }
      return function () {
        if (from === to) {
          return DONE;
        }
        var idx = reverse ? --to : from++;
        return array && array[idx];
      };
    }

    function iterateNode(node, level, offset) {
      var values;
      var array = node && node.array;
      var from = offset > left ? 0 : left - offset >> level;
      var to = (right - offset >> level) + 1;
      if (to > SIZE) {
        to = SIZE;
      }
      return function () {
        do {
          if (values) {
            var value = values();
            if (value !== DONE) {
              return value;
            }
            values = null;
          }
          if (from === to) {
            return DONE;
          }
          var idx = reverse ? --to : from++;
          values = iterateNodeOrLeaf(array && array[idx], level - SHIFT, offset + (idx << level));
        } while (true);
      };
    }
  }

  function makeList(origin, capacity, level, root, tail, ownerID, hash) {
    var list = (0, _create2.default)(ListPrototype);
    list.size = capacity - origin;
    list._origin = origin;
    list._capacity = capacity;
    list._level = level;
    list._root = root;
    list._tail = tail;
    list.__ownerID = ownerID;
    list.__hash = hash;
    list.__altered = false;
    return list;
  }

  var EMPTY_LIST;
  function emptyList() {
    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));
  }

  function updateList(list, index, value) {
    index = wrapIndex(list, index);

    if (index !== index) {
      return list;
    }

    if (index >= list.size || index < 0) {
      return list.withMutations(function (list) {
        index < 0 ? setListBounds(list, index).set(0, value) : setListBounds(list, 0, index + 1).set(index, value);
      });
    }

    index += list._origin;

    var newTail = list._tail;
    var newRoot = list._root;
    var didAlter = MakeRef(DID_ALTER);
    if (index >= getTailOffset(list._capacity)) {
      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);
    } else {
      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);
    }

    if (!didAlter.value) {
      return list;
    }

    if (list.__ownerID) {
      list._root = newRoot;
      list._tail = newTail;
      list.__hash = undefined;
      list.__altered = true;
      return list;
    }
    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);
  }

  function updateVNode(node, ownerID, level, index, value, didAlter) {
    var idx = index >>> level & MASK;
    var nodeHas = node && idx < node.array.length;
    if (!nodeHas && value === undefined) {
      return node;
    }

    var newNode;

    if (level > 0) {
      var lowerNode = node && node.array[idx];
      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);
      if (newLowerNode === lowerNode) {
        return node;
      }
      newNode = editableVNode(node, ownerID);
      newNode.array[idx] = newLowerNode;
      return newNode;
    }

    if (nodeHas && node.array[idx] === value) {
      return node;
    }

    SetRef(didAlter);

    newNode = editableVNode(node, ownerID);
    if (value === undefined && idx === newNode.array.length - 1) {
      newNode.array.pop();
    } else {
      newNode.array[idx] = value;
    }
    return newNode;
  }

  function editableVNode(node, ownerID) {
    if (ownerID && node && ownerID === node.ownerID) {
      return node;
    }
    return new VNode(node ? node.array.slice() : [], ownerID);
  }

  function listNodeFor(list, rawIndex) {
    if (rawIndex >= getTailOffset(list._capacity)) {
      return list._tail;
    }
    if (rawIndex < 1 << list._level + SHIFT) {
      var node = list._root;
      var level = list._level;
      while (node && level > 0) {
        node = node.array[rawIndex >>> level & MASK];
        level -= SHIFT;
      }
      return node;
    }
  }

  function setListBounds(list, begin, end) {
    // Sanitize begin & end using this shorthand for ToInt32(argument)
    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32
    if (begin !== undefined) {
      begin = begin | 0;
    }
    if (end !== undefined) {
      end = end | 0;
    }
    var owner = list.__ownerID || new OwnerID();
    var oldOrigin = list._origin;
    var oldCapacity = list._capacity;
    var newOrigin = oldOrigin + begin;
    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;
    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {
      return list;
    }

    // If it's going to end after it starts, it's empty.
    if (newOrigin >= newCapacity) {
      return list.clear();
    }

    var newLevel = list._level;
    var newRoot = list._root;

    // New origin might need creating a higher root.
    var offsetShift = 0;
    while (newOrigin + offsetShift < 0) {
      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);
      newLevel += SHIFT;
      offsetShift += 1 << newLevel;
    }
    if (offsetShift) {
      newOrigin += offsetShift;
      oldOrigin += offsetShift;
      newCapacity += offsetShift;
      oldCapacity += offsetShift;
    }

    var oldTailOffset = getTailOffset(oldCapacity);
    var newTailOffset = getTailOffset(newCapacity);

    // New size might need creating a higher root.
    while (newTailOffset >= 1 << newLevel + SHIFT) {
      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);
      newLevel += SHIFT;
    }

    // Locate or create the new tail.
    var oldTail = list._tail;
    var newTail = newTailOffset < oldTailOffset ? listNodeFor(list, newCapacity - 1) : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;

    // Merge Tail into tree.
    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {
      newRoot = editableVNode(newRoot, owner);
      var node = newRoot;
      for (var level = newLevel; level > SHIFT; level -= SHIFT) {
        var idx = oldTailOffset >>> level & MASK;
        node = node.array[idx] = editableVNode(node.array[idx], owner);
      }
      node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;
    }

    // If the size has been reduced, there's a chance the tail needs to be trimmed.
    if (newCapacity < oldCapacity) {
      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);
    }

    // If the new origin is within the tail, then we do not need a root.
    if (newOrigin >= newTailOffset) {
      newOrigin -= newTailOffset;
      newCapacity -= newTailOffset;
      newLevel = SHIFT;
      newRoot = null;
      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);

      // Otherwise, if the root has been trimmed, garbage collect.
    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {
      offsetShift = 0;

      // Identify the new top root node of the subtree of the old root.
      while (newRoot) {
        var beginIndex = newOrigin >>> newLevel & MASK;
        if (beginIndex !== newTailOffset >>> newLevel & MASK) {
          break;
        }
        if (beginIndex) {
          offsetShift += (1 << newLevel) * beginIndex;
        }
        newLevel -= SHIFT;
        newRoot = newRoot.array[beginIndex];
      }

      // Trim the new sides of the new root.
      if (newRoot && newOrigin > oldOrigin) {
        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);
      }
      if (newRoot && newTailOffset < oldTailOffset) {
        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);
      }
      if (offsetShift) {
        newOrigin -= offsetShift;
        newCapacity -= offsetShift;
      }
    }

    if (list.__ownerID) {
      list.size = newCapacity - newOrigin;
      list._origin = newOrigin;
      list._capacity = newCapacity;
      list._level = newLevel;
      list._root = newRoot;
      list._tail = newTail;
      list.__hash = undefined;
      list.__altered = true;
      return list;
    }
    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);
  }

  function mergeIntoListWith(list, merger, iterables) {
    var iters = [];
    var maxSize = 0;
    for (var ii = 0; ii < iterables.length; ii++) {
      var value = iterables[ii];
      var iter = IndexedIterable(value);
      if (iter.size > maxSize) {
        maxSize = iter.size;
      }
      if (!isIterable(value)) {
        iter = iter.map(function (v) {
          return fromJS(v);
        });
      }
      iters.push(iter);
    }
    if (maxSize > list.size) {
      list = list.setSize(maxSize);
    }
    return mergeIntoCollectionWith(list, merger, iters);
  }

  function getTailOffset(size) {
    return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;
  }

  createClass(OrderedMap, Map);

  // @pragma Construction

  function OrderedMap(value) {
    return value === null || value === undefined ? emptyOrderedMap() : isOrderedMap(value) ? value : emptyOrderedMap().withMutations(function (map) {
      var iter = KeyedIterable(value);
      assertNotInfinite(iter.size);
      iter.forEach(function (v, k) {
        return map.set(k, v);
      });
    });
  }

  OrderedMap.of = function () /*...values*/{
    return this(arguments);
  };

  OrderedMap.prototype.toString = function () {
    return this.__toString('OrderedMap {', '}');
  };

  // @pragma Access

  OrderedMap.prototype.get = function (k, notSetValue) {
    var index = this._map.get(k);
    return index !== undefined ? this._list.get(index)[1] : notSetValue;
  };

  // @pragma Modification

  OrderedMap.prototype.clear = function () {
    if (this.size === 0) {
      return this;
    }
    if (this.__ownerID) {
      this.size = 0;
      this._map.clear();
      this._list.clear();
      return this;
    }
    return emptyOrderedMap();
  };

  OrderedMap.prototype.set = function (k, v) {
    return updateOrderedMap(this, k, v);
  };

  OrderedMap.prototype.remove = function (k) {
    return updateOrderedMap(this, k, NOT_SET);
  };

  OrderedMap.prototype.wasAltered = function () {
    return this._map.wasAltered() || this._list.wasAltered();
  };

  OrderedMap.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    return this._list.__iterate(function (entry) {
      return entry && fn(entry[1], entry[0], this$0);
    }, reverse);
  };

  OrderedMap.prototype.__iterator = function (type, reverse) {
    return this._list.fromEntrySeq().__iterator(type, reverse);
  };

  OrderedMap.prototype.__ensureOwner = function (ownerID) {
    if (ownerID === this.__ownerID) {
      return this;
    }
    var newMap = this._map.__ensureOwner(ownerID);
    var newList = this._list.__ensureOwner(ownerID);
    if (!ownerID) {
      this.__ownerID = ownerID;
      this._map = newMap;
      this._list = newList;
      return this;
    }
    return makeOrderedMap(newMap, newList, ownerID, this.__hash);
  };

  function isOrderedMap(maybeOrderedMap) {
    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);
  }

  OrderedMap.isOrderedMap = isOrderedMap;

  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;
  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;

  function makeOrderedMap(map, list, ownerID, hash) {
    var omap = (0, _create2.default)(OrderedMap.prototype);
    omap.size = map ? map.size : 0;
    omap._map = map;
    omap._list = list;
    omap.__ownerID = ownerID;
    omap.__hash = hash;
    return omap;
  }

  var EMPTY_ORDERED_MAP;
  function emptyOrderedMap() {
    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));
  }

  function updateOrderedMap(omap, k, v) {
    var map = omap._map;
    var list = omap._list;
    var i = map.get(k);
    var has = i !== undefined;
    var newMap;
    var newList;
    if (v === NOT_SET) {
      // removed
      if (!has) {
        return omap;
      }
      if (list.size >= SIZE && list.size >= map.size * 2) {
        newList = list.filter(function (entry, idx) {
          return entry !== undefined && i !== idx;
        });
        newMap = newList.toKeyedSeq().map(function (entry) {
          return entry[0];
        }).flip().toMap();
        if (omap.__ownerID) {
          newMap.__ownerID = newList.__ownerID = omap.__ownerID;
        }
      } else {
        newMap = map.remove(k);
        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);
      }
    } else {
      if (has) {
        if (v === list.get(i)[1]) {
          return omap;
        }
        newMap = map;
        newList = list.set(i, [k, v]);
      } else {
        newMap = map.set(k, list.size);
        newList = list.set(list.size, [k, v]);
      }
    }
    if (omap.__ownerID) {
      omap.size = newMap.size;
      omap._map = newMap;
      omap._list = newList;
      omap.__hash = undefined;
      return omap;
    }
    return makeOrderedMap(newMap, newList);
  }

  createClass(ToKeyedSequence, KeyedSeq);
  function ToKeyedSequence(indexed, useKeys) {
    this._iter = indexed;
    this._useKeys = useKeys;
    this.size = indexed.size;
  }

  ToKeyedSequence.prototype.get = function (key, notSetValue) {
    return this._iter.get(key, notSetValue);
  };

  ToKeyedSequence.prototype.has = function (key) {
    return this._iter.has(key);
  };

  ToKeyedSequence.prototype.valueSeq = function () {
    return this._iter.valueSeq();
  };

  ToKeyedSequence.prototype.reverse = function () {
    var this$0 = this;
    var reversedSequence = reverseFactory(this, true);
    if (!this._useKeys) {
      reversedSequence.valueSeq = function () {
        return this$0._iter.toSeq().reverse();
      };
    }
    return reversedSequence;
  };

  ToKeyedSequence.prototype.map = function (mapper, context) {
    var this$0 = this;
    var mappedSequence = mapFactory(this, mapper, context);
    if (!this._useKeys) {
      mappedSequence.valueSeq = function () {
        return this$0._iter.toSeq().map(mapper, context);
      };
    }
    return mappedSequence;
  };

  ToKeyedSequence.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    var ii;
    return this._iter.__iterate(this._useKeys ? function (v, k) {
      return fn(v, k, this$0);
    } : (ii = reverse ? resolveSize(this) : 0, function (v) {
      return fn(v, reverse ? --ii : ii++, this$0);
    }), reverse);
  };

  ToKeyedSequence.prototype.__iterator = function (type, reverse) {
    if (this._useKeys) {
      return this._iter.__iterator(type, reverse);
    }
    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
    var ii = reverse ? resolveSize(this) : 0;
    return new Iterator(function () {
      var step = iterator.next();
      return step.done ? step : iteratorValue(type, reverse ? --ii : ii++, step.value, step);
    });
  };

  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;

  createClass(ToIndexedSequence, IndexedSeq);
  function ToIndexedSequence(iter) {
    this._iter = iter;
    this.size = iter.size;
  }

  ToIndexedSequence.prototype.includes = function (value) {
    return this._iter.includes(value);
  };

  ToIndexedSequence.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    var iterations = 0;
    return this._iter.__iterate(function (v) {
      return fn(v, iterations++, this$0);
    }, reverse);
  };

  ToIndexedSequence.prototype.__iterator = function (type, reverse) {
    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
    var iterations = 0;
    return new Iterator(function () {
      var step = iterator.next();
      return step.done ? step : iteratorValue(type, iterations++, step.value, step);
    });
  };

  createClass(ToSetSequence, SetSeq);
  function ToSetSequence(iter) {
    this._iter = iter;
    this.size = iter.size;
  }

  ToSetSequence.prototype.has = function (key) {
    return this._iter.includes(key);
  };

  ToSetSequence.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    return this._iter.__iterate(function (v) {
      return fn(v, v, this$0);
    }, reverse);
  };

  ToSetSequence.prototype.__iterator = function (type, reverse) {
    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
    return new Iterator(function () {
      var step = iterator.next();
      return step.done ? step : iteratorValue(type, step.value, step.value, step);
    });
  };

  createClass(FromEntriesSequence, KeyedSeq);
  function FromEntriesSequence(entries) {
    this._iter = entries;
    this.size = entries.size;
  }

  FromEntriesSequence.prototype.entrySeq = function () {
    return this._iter.toSeq();
  };

  FromEntriesSequence.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    return this._iter.__iterate(function (entry) {
      // Check if entry exists first so array access doesn't throw for holes
      // in the parent iteration.
      if (entry) {
        validateEntry(entry);
        var indexedIterable = isIterable(entry);
        return fn(indexedIterable ? entry.get(1) : entry[1], indexedIterable ? entry.get(0) : entry[0], this$0);
      }
    }, reverse);
  };

  FromEntriesSequence.prototype.__iterator = function (type, reverse) {
    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
    return new Iterator(function () {
      while (true) {
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        // Check if entry exists first so array access doesn't throw for holes
        // in the parent iteration.
        if (entry) {
          validateEntry(entry);
          var indexedIterable = isIterable(entry);
          return iteratorValue(type, indexedIterable ? entry.get(0) : entry[0], indexedIterable ? entry.get(1) : entry[1], step);
        }
      }
    });
  };

  ToIndexedSequence.prototype.cacheResult = ToKeyedSequence.prototype.cacheResult = ToSetSequence.prototype.cacheResult = FromEntriesSequence.prototype.cacheResult = cacheResultThrough;

  function flipFactory(iterable) {
    var flipSequence = makeSequence(iterable);
    flipSequence._iter = iterable;
    flipSequence.size = iterable.size;
    flipSequence.flip = function () {
      return iterable;
    };
    flipSequence.reverse = function () {
      var reversedSequence = iterable.reverse.apply(this); // super.reverse()
      reversedSequence.flip = function () {
        return iterable.reverse();
      };
      return reversedSequence;
    };
    flipSequence.has = function (key) {
      return iterable.includes(key);
    };
    flipSequence.includes = function (key) {
      return iterable.has(key);
    };
    flipSequence.cacheResult = cacheResultThrough;
    flipSequence.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      return iterable.__iterate(function (v, k) {
        return fn(k, v, this$0) !== false;
      }, reverse);
    };
    flipSequence.__iteratorUncached = function (type, reverse) {
      if (type === ITERATE_ENTRIES) {
        var iterator = iterable.__iterator(type, reverse);
        return new Iterator(function () {
          var step = iterator.next();
          if (!step.done) {
            var k = step.value[0];
            step.value[0] = step.value[1];
            step.value[1] = k;
          }
          return step;
        });
      }
      return iterable.__iterator(type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES, reverse);
    };
    return flipSequence;
  }

  function mapFactory(iterable, mapper, context) {
    var mappedSequence = makeSequence(iterable);
    mappedSequence.size = iterable.size;
    mappedSequence.has = function (key) {
      return iterable.has(key);
    };
    mappedSequence.get = function (key, notSetValue) {
      var v = iterable.get(key, NOT_SET);
      return v === NOT_SET ? notSetValue : mapper.call(context, v, key, iterable);
    };
    mappedSequence.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      return iterable.__iterate(function (v, k, c) {
        return fn(mapper.call(context, v, k, c), k, this$0) !== false;
      }, reverse);
    };
    mappedSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      return new Iterator(function () {
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        var key = entry[0];
        return iteratorValue(type, key, mapper.call(context, entry[1], key, iterable), step);
      });
    };
    return mappedSequence;
  }

  function reverseFactory(iterable, useKeys) {
    var reversedSequence = makeSequence(iterable);
    reversedSequence._iter = iterable;
    reversedSequence.size = iterable.size;
    reversedSequence.reverse = function () {
      return iterable;
    };
    if (iterable.flip) {
      reversedSequence.flip = function () {
        var flipSequence = flipFactory(iterable);
        flipSequence.reverse = function () {
          return iterable.flip();
        };
        return flipSequence;
      };
    }
    reversedSequence.get = function (key, notSetValue) {
      return iterable.get(useKeys ? key : -1 - key, notSetValue);
    };
    reversedSequence.has = function (key) {
      return iterable.has(useKeys ? key : -1 - key);
    };
    reversedSequence.includes = function (value) {
      return iterable.includes(value);
    };
    reversedSequence.cacheResult = cacheResultThrough;
    reversedSequence.__iterate = function (fn, reverse) {
      var this$0 = this;
      return iterable.__iterate(function (v, k) {
        return fn(v, k, this$0);
      }, !reverse);
    };
    reversedSequence.__iterator = function (type, reverse) {
      return iterable.__iterator(type, !reverse);
    };
    return reversedSequence;
  }

  function filterFactory(iterable, predicate, context, useKeys) {
    var filterSequence = makeSequence(iterable);
    if (useKeys) {
      filterSequence.has = function (key) {
        var v = iterable.get(key, NOT_SET);
        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);
      };
      filterSequence.get = function (key, notSetValue) {
        var v = iterable.get(key, NOT_SET);
        return v !== NOT_SET && predicate.call(context, v, key, iterable) ? v : notSetValue;
      };
    }
    filterSequence.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      var iterations = 0;
      iterable.__iterate(function (v, k, c) {
        if (predicate.call(context, v, k, c)) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0);
        }
      }, reverse);
      return iterations;
    };
    filterSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var iterations = 0;
      return new Iterator(function () {
        while (true) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          var entry = step.value;
          var key = entry[0];
          var value = entry[1];
          if (predicate.call(context, value, key, iterable)) {
            return iteratorValue(type, useKeys ? key : iterations++, value, step);
          }
        }
      });
    };
    return filterSequence;
  }

  function countByFactory(iterable, grouper, context) {
    var groups = Map().asMutable();
    iterable.__iterate(function (v, k) {
      groups.update(grouper.call(context, v, k, iterable), 0, function (a) {
        return a + 1;
      });
    });
    return groups.asImmutable();
  }

  function groupByFactory(iterable, grouper, context) {
    var isKeyedIter = isKeyed(iterable);
    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();
    iterable.__iterate(function (v, k) {
      groups.update(grouper.call(context, v, k, iterable), function (a) {
        return a = a || [], a.push(isKeyedIter ? [k, v] : v), a;
      });
    });
    var coerce = iterableClass(iterable);
    return groups.map(function (arr) {
      return reify(iterable, coerce(arr));
    });
  }

  function sliceFactory(iterable, begin, end, useKeys) {
    var originalSize = iterable.size;

    // Sanitize begin & end using this shorthand for ToInt32(argument)
    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32
    if (begin !== undefined) {
      begin = begin | 0;
    }
    if (end !== undefined) {
      if (end === Infinity) {
        end = originalSize;
      } else {
        end = end | 0;
      }
    }

    if (wholeSlice(begin, end, originalSize)) {
      return iterable;
    }

    var resolvedBegin = resolveBegin(begin, originalSize);
    var resolvedEnd = resolveEnd(end, originalSize);

    // begin or end will be NaN if they were provided as negative numbers and
    // this iterable's size is unknown. In that case, cache first so there is
    // a known size and these do not resolve to NaN.
    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {
      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);
    }

    // Note: resolvedEnd is undefined when the original sequence's length is
    // unknown and this slice did not supply an end and should contain all
    // elements after resolvedBegin.
    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.
    var resolvedSize = resolvedEnd - resolvedBegin;
    var sliceSize;
    if (resolvedSize === resolvedSize) {
      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;
    }

    var sliceSeq = makeSequence(iterable);

    // If iterable.size is undefined, the size of the realized sliceSeq is
    // unknown at this point unless the number of items to slice is 0
    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;

    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {
      sliceSeq.get = function (index, notSetValue) {
        index = wrapIndex(this, index);
        return index >= 0 && index < sliceSize ? iterable.get(index + resolvedBegin, notSetValue) : notSetValue;
      };
    }

    sliceSeq.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      if (sliceSize === 0) {
        return 0;
      }
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var skipped = 0;
      var isSkipping = true;
      var iterations = 0;
      iterable.__iterate(function (v, k) {
        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0) !== false && iterations !== sliceSize;
        }
      });
      return iterations;
    };

    sliceSeq.__iteratorUncached = function (type, reverse) {
      if (sliceSize !== 0 && reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      // Don't bother instantiating parent iterator if taking 0.
      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);
      var skipped = 0;
      var iterations = 0;
      return new Iterator(function () {
        while (skipped++ < resolvedBegin) {
          iterator.next();
        }
        if (++iterations > sliceSize) {
          return iteratorDone();
        }
        var step = iterator.next();
        if (useKeys || type === ITERATE_VALUES) {
          return step;
        } else if (type === ITERATE_KEYS) {
          return iteratorValue(type, iterations - 1, undefined, step);
        } else {
          return iteratorValue(type, iterations - 1, step.value[1], step);
        }
      });
    };

    return sliceSeq;
  }

  function takeWhileFactory(iterable, predicate, context) {
    var takeSequence = makeSequence(iterable);
    takeSequence.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterations = 0;
      iterable.__iterate(function (v, k, c) {
        return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0);
      });
      return iterations;
    };
    takeSequence.__iteratorUncached = function (type, reverse) {
      var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var iterating = true;
      return new Iterator(function () {
        if (!iterating) {
          return iteratorDone();
        }
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        var k = entry[0];
        var v = entry[1];
        if (!predicate.call(context, v, k, this$0)) {
          iterating = false;
          return iteratorDone();
        }
        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);
      });
    };
    return takeSequence;
  }

  function skipWhileFactory(iterable, predicate, context, useKeys) {
    var skipSequence = makeSequence(iterable);
    skipSequence.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var isSkipping = true;
      var iterations = 0;
      iterable.__iterate(function (v, k, c) {
        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0);
        }
      });
      return iterations;
    };
    skipSequence.__iteratorUncached = function (type, reverse) {
      var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var skipping = true;
      var iterations = 0;
      return new Iterator(function () {
        var step, k, v;
        do {
          step = iterator.next();
          if (step.done) {
            if (useKeys || type === ITERATE_VALUES) {
              return step;
            } else if (type === ITERATE_KEYS) {
              return iteratorValue(type, iterations++, undefined, step);
            } else {
              return iteratorValue(type, iterations++, step.value[1], step);
            }
          }
          var entry = step.value;
          k = entry[0];
          v = entry[1];
          skipping && (skipping = predicate.call(context, v, k, this$0));
        } while (skipping);
        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);
      });
    };
    return skipSequence;
  }

  function concatFactory(iterable, values) {
    var isKeyedIterable = isKeyed(iterable);
    var iters = [iterable].concat(values).map(function (v) {
      if (!isIterable(v)) {
        v = isKeyedIterable ? keyedSeqFromValue(v) : indexedSeqFromValue(Array.isArray(v) ? v : [v]);
      } else if (isKeyedIterable) {
        v = KeyedIterable(v);
      }
      return v;
    }).filter(function (v) {
      return v.size !== 0;
    });

    if (iters.length === 0) {
      return iterable;
    }

    if (iters.length === 1) {
      var singleton = iters[0];
      if (singleton === iterable || isKeyedIterable && isKeyed(singleton) || isIndexed(iterable) && isIndexed(singleton)) {
        return singleton;
      }
    }

    var concatSeq = new ArraySeq(iters);
    if (isKeyedIterable) {
      concatSeq = concatSeq.toKeyedSeq();
    } else if (!isIndexed(iterable)) {
      concatSeq = concatSeq.toSetSeq();
    }
    concatSeq = concatSeq.flatten(true);
    concatSeq.size = iters.reduce(function (sum, seq) {
      if (sum !== undefined) {
        var size = seq.size;
        if (size !== undefined) {
          return sum + size;
        }
      }
    }, 0);
    return concatSeq;
  }

  function flattenFactory(iterable, depth, useKeys) {
    var flatSequence = makeSequence(iterable);
    flatSequence.__iterateUncached = function (fn, reverse) {
      var iterations = 0;
      var stopped = false;
      function flatDeep(iter, currentDepth) {
        var this$0 = this;
        iter.__iterate(function (v, k) {
          if ((!depth || currentDepth < depth) && isIterable(v)) {
            flatDeep(v, currentDepth + 1);
          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {
            stopped = true;
          }
          return !stopped;
        }, reverse);
      }
      flatDeep(iterable, 0);
      return iterations;
    };
    flatSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(type, reverse);
      var stack = [];
      var iterations = 0;
      return new Iterator(function () {
        while (iterator) {
          var step = iterator.next();
          if (step.done !== false) {
            iterator = stack.pop();
            continue;
          }
          var v = step.value;
          if (type === ITERATE_ENTRIES) {
            v = v[1];
          }
          if ((!depth || stack.length < depth) && isIterable(v)) {
            stack.push(iterator);
            iterator = v.__iterator(type, reverse);
          } else {
            return useKeys ? step : iteratorValue(type, iterations++, v, step);
          }
        }
        return iteratorDone();
      });
    };
    return flatSequence;
  }

  function flatMapFactory(iterable, mapper, context) {
    var coerce = iterableClass(iterable);
    return iterable.toSeq().map(function (v, k) {
      return coerce(mapper.call(context, v, k, iterable));
    }).flatten(true);
  }

  function interposeFactory(iterable, separator) {
    var interposedSequence = makeSequence(iterable);
    interposedSequence.size = iterable.size && iterable.size * 2 - 1;
    interposedSequence.__iterateUncached = function (fn, reverse) {
      var this$0 = this;
      var iterations = 0;
      iterable.__iterate(function (v, k) {
        return (!iterations || fn(separator, iterations++, this$0) !== false) && fn(v, iterations++, this$0) !== false;
      }, reverse);
      return iterations;
    };
    interposedSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);
      var iterations = 0;
      var step;
      return new Iterator(function () {
        if (!step || iterations % 2) {
          step = iterator.next();
          if (step.done) {
            return step;
          }
        }
        return iterations % 2 ? iteratorValue(type, iterations++, separator) : iteratorValue(type, iterations++, step.value, step);
      });
    };
    return interposedSequence;
  }

  function sortFactory(iterable, comparator, mapper) {
    if (!comparator) {
      comparator = defaultComparator;
    }
    var isKeyedIterable = isKeyed(iterable);
    var index = 0;
    var entries = iterable.toSeq().map(function (v, k) {
      return [k, v, index++, mapper ? mapper(v, k, iterable) : v];
    }).toArray();
    entries.sort(function (a, b) {
      return comparator(a[3], b[3]) || a[2] - b[2];
    }).forEach(isKeyedIterable ? function (v, i) {
      entries[i].length = 2;
    } : function (v, i) {
      entries[i] = v[1];
    });
    return isKeyedIterable ? KeyedSeq(entries) : isIndexed(iterable) ? IndexedSeq(entries) : SetSeq(entries);
  }

  function maxFactory(iterable, comparator, mapper) {
    if (!comparator) {
      comparator = defaultComparator;
    }
    if (mapper) {
      var entry = iterable.toSeq().map(function (v, k) {
        return [v, mapper(v, k, iterable)];
      }).reduce(function (a, b) {
        return maxCompare(comparator, a[1], b[1]) ? b : a;
      });
      return entry && entry[0];
    } else {
      return iterable.reduce(function (a, b) {
        return maxCompare(comparator, a, b) ? b : a;
      });
    }
  }

  function maxCompare(comparator, a, b) {
    var comp = comparator(b, a);
    // b is considered the new max if the comparator declares them equal, but
    // they are not equal and b is in fact a nullish value.
    return comp === 0 && b !== a && (b === undefined || b === null || b !== b) || comp > 0;
  }

  function zipWithFactory(keyIter, zipper, iters) {
    var zipSequence = makeSequence(keyIter);
    zipSequence.size = new ArraySeq(iters).map(function (i) {
      return i.size;
    }).min();
    // Note: this a generic base implementation of __iterate in terms of
    // __iterator which may be more generically useful in the future.
    zipSequence.__iterate = function (fn, reverse) {
      /* generic:
      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);
      var step;
      var iterations = 0;
      while (!(step = iterator.next()).done) {
        iterations++;
        if (fn(step.value[1], step.value[0], this) === false) {
          break;
        }
      }
      return iterations;
      */
      // indexed:
      var iterator = this.__iterator(ITERATE_VALUES, reverse);
      var step;
      var iterations = 0;
      while (!(step = iterator.next()).done) {
        if (fn(step.value, iterations++, this) === false) {
          break;
        }
      }
      return iterations;
    };
    zipSequence.__iteratorUncached = function (type, reverse) {
      var iterators = iters.map(function (i) {
        return i = Iterable(i), getIterator(reverse ? i.reverse() : i);
      });
      var iterations = 0;
      var isDone = false;
      return new Iterator(function () {
        var steps;
        if (!isDone) {
          steps = iterators.map(function (i) {
            return i.next();
          });
          isDone = steps.some(function (s) {
            return s.done;
          });
        }
        if (isDone) {
          return iteratorDone();
        }
        return iteratorValue(type, iterations++, zipper.apply(null, steps.map(function (s) {
          return s.value;
        })));
      });
    };
    return zipSequence;
  }

  // #pragma Helper Functions

  function reify(iter, seq) {
    return isSeq(iter) ? seq : iter.constructor(seq);
  }

  function validateEntry(entry) {
    if (entry !== Object(entry)) {
      throw new TypeError('Expected [K, V] tuple: ' + entry);
    }
  }

  function resolveSize(iter) {
    assertNotInfinite(iter.size);
    return ensureSize(iter);
  }

  function iterableClass(iterable) {
    return isKeyed(iterable) ? KeyedIterable : isIndexed(iterable) ? IndexedIterable : SetIterable;
  }

  function makeSequence(iterable) {
    return (0, _create2.default)((isKeyed(iterable) ? KeyedSeq : isIndexed(iterable) ? IndexedSeq : SetSeq).prototype);
  }

  function cacheResultThrough() {
    if (this._iter.cacheResult) {
      this._iter.cacheResult();
      this.size = this._iter.size;
      return this;
    } else {
      return Seq.prototype.cacheResult.call(this);
    }
  }

  function defaultComparator(a, b) {
    return a > b ? 1 : a < b ? -1 : 0;
  }

  function forceIterator(keyPath) {
    var iter = getIterator(keyPath);
    if (!iter) {
      // Array might not be iterable in this environment, so we need a fallback
      // to our wrapped type.
      if (!isArrayLike(keyPath)) {
        throw new TypeError('Expected iterable or array-like: ' + keyPath);
      }
      iter = getIterator(Iterable(keyPath));
    }
    return iter;
  }

  createClass(Record, KeyedCollection);

  function Record(defaultValues, name) {
    var hasInitialized;

    var RecordType = function Record(values) {
      if (values instanceof RecordType) {
        return values;
      }
      if (!(this instanceof RecordType)) {
        return new RecordType(values);
      }
      if (!hasInitialized) {
        hasInitialized = true;
        var keys = (0, _keys2.default)(defaultValues);
        setProps(RecordTypePrototype, keys);
        RecordTypePrototype.size = keys.length;
        RecordTypePrototype._name = name;
        RecordTypePrototype._keys = keys;
        RecordTypePrototype._defaultValues = defaultValues;
      }
      this._map = Map(values);
    };

    var RecordTypePrototype = RecordType.prototype = (0, _create2.default)(RecordPrototype);
    RecordTypePrototype.constructor = RecordType;

    return RecordType;
  }

  Record.prototype.toString = function () {
    return this.__toString(recordName(this) + ' {', '}');
  };

  // @pragma Access

  Record.prototype.has = function (k) {
    return this._defaultValues.hasOwnProperty(k);
  };

  Record.prototype.get = function (k, notSetValue) {
    if (!this.has(k)) {
      return notSetValue;
    }
    var defaultVal = this._defaultValues[k];
    return this._map ? this._map.get(k, defaultVal) : defaultVal;
  };

  // @pragma Modification

  Record.prototype.clear = function () {
    if (this.__ownerID) {
      this._map && this._map.clear();
      return this;
    }
    var RecordType = this.constructor;
    return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));
  };

  Record.prototype.set = function (k, v) {
    if (!this.has(k)) {
      throw new Error('Cannot set unknown key "' + k + '" on ' + recordName(this));
    }
    if (this._map && !this._map.has(k)) {
      var defaultVal = this._defaultValues[k];
      if (v === defaultVal) {
        return this;
      }
    }
    var newMap = this._map && this._map.set(k, v);
    if (this.__ownerID || newMap === this._map) {
      return this;
    }
    return makeRecord(this, newMap);
  };

  Record.prototype.remove = function (k) {
    if (!this.has(k)) {
      return this;
    }
    var newMap = this._map && this._map.remove(k);
    if (this.__ownerID || newMap === this._map) {
      return this;
    }
    return makeRecord(this, newMap);
  };

  Record.prototype.wasAltered = function () {
    return this._map.wasAltered();
  };

  Record.prototype.__iterator = function (type, reverse) {
    var this$0 = this;
    return KeyedIterable(this._defaultValues).map(function (_, k) {
      return this$0.get(k);
    }).__iterator(type, reverse);
  };

  Record.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    return KeyedIterable(this._defaultValues).map(function (_, k) {
      return this$0.get(k);
    }).__iterate(fn, reverse);
  };

  Record.prototype.__ensureOwner = function (ownerID) {
    if (ownerID === this.__ownerID) {
      return this;
    }
    var newMap = this._map && this._map.__ensureOwner(ownerID);
    if (!ownerID) {
      this.__ownerID = ownerID;
      this._map = newMap;
      return this;
    }
    return makeRecord(this, newMap, ownerID);
  };

  var RecordPrototype = Record.prototype;
  RecordPrototype[DELETE] = RecordPrototype.remove;
  RecordPrototype.deleteIn = RecordPrototype.removeIn = MapPrototype.removeIn;
  RecordPrototype.merge = MapPrototype.merge;
  RecordPrototype.mergeWith = MapPrototype.mergeWith;
  RecordPrototype.mergeIn = MapPrototype.mergeIn;
  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;
  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;
  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
  RecordPrototype.setIn = MapPrototype.setIn;
  RecordPrototype.update = MapPrototype.update;
  RecordPrototype.updateIn = MapPrototype.updateIn;
  RecordPrototype.withMutations = MapPrototype.withMutations;
  RecordPrototype.asMutable = MapPrototype.asMutable;
  RecordPrototype.asImmutable = MapPrototype.asImmutable;

  function makeRecord(likeRecord, map, ownerID) {
    var record = (0, _create2.default)((0, _getPrototypeOf2.default)(likeRecord));
    record._map = map;
    record.__ownerID = ownerID;
    return record;
  }

  function recordName(record) {
    return record._name || record.constructor.name || 'Record';
  }

  function setProps(prototype, names) {
    try {
      names.forEach(setProp.bind(undefined, prototype));
    } catch (error) {
      // Object.defineProperty failed. Probably IE8.
    }
  }

  function setProp(prototype, name) {
    (0, _defineProperty2.default)(prototype, name, {
      get: function get() {
        return this.get(name);
      },
      set: function set(value) {
        invariant(this.__ownerID, 'Cannot set on an immutable record.');
        this.set(name, value);
      }
    });
  }

  createClass(Set, SetCollection);

  // @pragma Construction

  function Set(value) {
    return value === null || value === undefined ? emptySet() : isSet(value) && !isOrdered(value) ? value : emptySet().withMutations(function (set) {
      var iter = SetIterable(value);
      assertNotInfinite(iter.size);
      iter.forEach(function (v) {
        return set.add(v);
      });
    });
  }

  Set.of = function () /*...values*/{
    return this(arguments);
  };

  Set.fromKeys = function (value) {
    return this(KeyedIterable(value).keySeq());
  };

  Set.prototype.toString = function () {
    return this.__toString('Set {', '}');
  };

  // @pragma Access

  Set.prototype.has = function (value) {
    return this._map.has(value);
  };

  // @pragma Modification

  Set.prototype.add = function (value) {
    return updateSet(this, this._map.set(value, true));
  };

  Set.prototype.remove = function (value) {
    return updateSet(this, this._map.remove(value));
  };

  Set.prototype.clear = function () {
    return updateSet(this, this._map.clear());
  };

  // @pragma Composition

  Set.prototype.union = function () {
    var iters = SLICE$0.call(arguments, 0);
    iters = iters.filter(function (x) {
      return x.size !== 0;
    });
    if (iters.length === 0) {
      return this;
    }
    if (this.size === 0 && !this.__ownerID && iters.length === 1) {
      return this.constructor(iters[0]);
    }
    return this.withMutations(function (set) {
      for (var ii = 0; ii < iters.length; ii++) {
        SetIterable(iters[ii]).forEach(function (value) {
          return set.add(value);
        });
      }
    });
  };

  Set.prototype.intersect = function () {
    var iters = SLICE$0.call(arguments, 0);
    if (iters.length === 0) {
      return this;
    }
    iters = iters.map(function (iter) {
      return SetIterable(iter);
    });
    var originalSet = this;
    return this.withMutations(function (set) {
      originalSet.forEach(function (value) {
        if (!iters.every(function (iter) {
          return iter.includes(value);
        })) {
          set.remove(value);
        }
      });
    });
  };

  Set.prototype.subtract = function () {
    var iters = SLICE$0.call(arguments, 0);
    if (iters.length === 0) {
      return this;
    }
    iters = iters.map(function (iter) {
      return SetIterable(iter);
    });
    var originalSet = this;
    return this.withMutations(function (set) {
      originalSet.forEach(function (value) {
        if (iters.some(function (iter) {
          return iter.includes(value);
        })) {
          set.remove(value);
        }
      });
    });
  };

  Set.prototype.merge = function () {
    return this.union.apply(this, arguments);
  };

  Set.prototype.mergeWith = function (merger) {
    var iters = SLICE$0.call(arguments, 1);
    return this.union.apply(this, iters);
  };

  Set.prototype.sort = function (comparator) {
    // Late binding
    return OrderedSet(sortFactory(this, comparator));
  };

  Set.prototype.sortBy = function (mapper, comparator) {
    // Late binding
    return OrderedSet(sortFactory(this, comparator, mapper));
  };

  Set.prototype.wasAltered = function () {
    return this._map.wasAltered();
  };

  Set.prototype.__iterate = function (fn, reverse) {
    var this$0 = this;
    return this._map.__iterate(function (_, k) {
      return fn(k, k, this$0);
    }, reverse);
  };

  Set.prototype.__iterator = function (type, reverse) {
    return this._map.map(function (_, k) {
      return k;
    }).__iterator(type, reverse);
  };

  Set.prototype.__ensureOwner = function (ownerID) {
    if (ownerID === this.__ownerID) {
      return this;
    }
    var newMap = this._map.__ensureOwner(ownerID);
    if (!ownerID) {
      this.__ownerID = ownerID;
      this._map = newMap;
      return this;
    }
    return this.__make(newMap, ownerID);
  };

  function isSet(maybeSet) {
    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);
  }

  Set.isSet = isSet;

  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';

  var SetPrototype = Set.prototype;
  SetPrototype[IS_SET_SENTINEL] = true;
  SetPrototype[DELETE] = SetPrototype.remove;
  SetPrototype.mergeDeep = SetPrototype.merge;
  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;
  SetPrototype.withMutations = MapPrototype.withMutations;
  SetPrototype.asMutable = MapPrototype.asMutable;
  SetPrototype.asImmutable = MapPrototype.asImmutable;

  SetPrototype.__empty = emptySet;
  SetPrototype.__make = makeSet;

  function updateSet(set, newMap) {
    if (set.__ownerID) {
      set.size = newMap.size;
      set._map = newMap;
      return set;
    }
    return newMap === set._map ? set : newMap.size === 0 ? set.__empty() : set.__make(newMap);
  }

  function makeSet(map, ownerID) {
    var set = (0, _create2.default)(SetPrototype);
    set.size = map ? map.size : 0;
    set._map = map;
    set.__ownerID = ownerID;
    return set;
  }

  var EMPTY_SET;
  function emptySet() {
    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));
  }

  createClass(OrderedSet, Set);

  // @pragma Construction

  function OrderedSet(value) {
    return value === null || value === undefined ? emptyOrderedSet() : isOrderedSet(value) ? value : emptyOrderedSet().withMutations(function (set) {
      var iter = SetIterable(value);
      assertNotInfinite(iter.size);
      iter.forEach(function (v) {
        return set.add(v);
      });
    });
  }

  OrderedSet.of = function () /*...values*/{
    return this(arguments);
  };

  OrderedSet.fromKeys = function (value) {
    return this(KeyedIterable(value).keySeq());
  };

  OrderedSet.prototype.toString = function () {
    return this.__toString('OrderedSet {', '}');
  };

  function isOrderedSet(maybeOrderedSet) {
    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);
  }

  OrderedSet.isOrderedSet = isOrderedSet;

  var OrderedSetPrototype = OrderedSet.prototype;
  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;

  OrderedSetPrototype.__empty = emptyOrderedSet;
  OrderedSetPrototype.__make = makeOrderedSet;

  function makeOrderedSet(map, ownerID) {
    var set = (0, _create2.default)(OrderedSetPrototype);
    set.size = map ? map.size : 0;
    set._map = map;
    set.__ownerID = ownerID;
    return set;
  }

  var EMPTY_ORDERED_SET;
  function emptyOrderedSet() {
    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));
  }

  createClass(Stack, IndexedCollection);

  // @pragma Construction

  function Stack(value) {
    return value === null || value === undefined ? emptyStack() : isStack(value) ? value : emptyStack().unshiftAll(value);
  }

  Stack.of = function () /*...values*/{
    return this(arguments);
  };

  Stack.prototype.toString = function () {
    return this.__toString('Stack [', ']');
  };

  // @pragma Access

  Stack.prototype.get = function (index, notSetValue) {
    var head = this._head;
    index = wrapIndex(this, index);
    while (head && index--) {
      head = head.next;
    }
    return head ? head.value : notSetValue;
  };

  Stack.prototype.peek = function () {
    return this._head && this._head.value;
  };

  // @pragma Modification

  Stack.prototype.push = function () /*...values*/{
    if (arguments.length === 0) {
      return this;
    }
    var newSize = this.size + arguments.length;
    var head = this._head;
    for (var ii = arguments.length - 1; ii >= 0; ii--) {
      head = {
        value: arguments[ii],
        next: head
      };
    }
    if (this.__ownerID) {
      this.size = newSize;
      this._head = head;
      this.__hash = undefined;
      this.__altered = true;
      return this;
    }
    return makeStack(newSize, head);
  };

  Stack.prototype.pushAll = function (iter) {
    iter = IndexedIterable(iter);
    if (iter.size === 0) {
      return this;
    }
    assertNotInfinite(iter.size);
    var newSize = this.size;
    var head = this._head;
    iter.reverse().forEach(function (value) {
      newSize++;
      head = {
        value: value,
        next: head
      };
    });
    if (this.__ownerID) {
      this.size = newSize;
      this._head = head;
      this.__hash = undefined;
      this.__altered = true;
      return this;
    }
    return makeStack(newSize, head);
  };

  Stack.prototype.pop = function () {
    return this.slice(1);
  };

  Stack.prototype.unshift = function () /*...values*/{
    return this.push.apply(this, arguments);
  };

  Stack.prototype.unshiftAll = function (iter) {
    return this.pushAll(iter);
  };

  Stack.prototype.shift = function () {
    return this.pop.apply(this, arguments);
  };

  Stack.prototype.clear = function () {
    if (this.size === 0) {
      return this;
    }
    if (this.__ownerID) {
      this.size = 0;
      this._head = undefined;
      this.__hash = undefined;
      this.__altered = true;
      return this;
    }
    return emptyStack();
  };

  Stack.prototype.slice = function (begin, end) {
    if (wholeSlice(begin, end, this.size)) {
      return this;
    }
    var resolvedBegin = resolveBegin(begin, this.size);
    var resolvedEnd = resolveEnd(end, this.size);
    if (resolvedEnd !== this.size) {
      // super.slice(begin, end);
      return IndexedCollection.prototype.slice.call(this, begin, end);
    }
    var newSize = this.size - resolvedBegin;
    var head = this._head;
    while (resolvedBegin--) {
      head = head.next;
    }
    if (this.__ownerID) {
      this.size = newSize;
      this._head = head;
      this.__hash = undefined;
      this.__altered = true;
      return this;
    }
    return makeStack(newSize, head);
  };

  // @pragma Mutability

  Stack.prototype.__ensureOwner = function (ownerID) {
    if (ownerID === this.__ownerID) {
      return this;
    }
    if (!ownerID) {
      this.__ownerID = ownerID;
      this.__altered = false;
      return this;
    }
    return makeStack(this.size, this._head, ownerID, this.__hash);
  };

  // @pragma Iteration

  Stack.prototype.__iterate = function (fn, reverse) {
    if (reverse) {
      return this.reverse().__iterate(fn);
    }
    var iterations = 0;
    var node = this._head;
    while (node) {
      if (fn(node.value, iterations++, this) === false) {
        break;
      }
      node = node.next;
    }
    return iterations;
  };

  Stack.prototype.__iterator = function (type, reverse) {
    if (reverse) {
      return this.reverse().__iterator(type);
    }
    var iterations = 0;
    var node = this._head;
    return new Iterator(function () {
      if (node) {
        var value = node.value;
        node = node.next;
        return iteratorValue(type, iterations++, value);
      }
      return iteratorDone();
    });
  };

  function isStack(maybeStack) {
    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);
  }

  Stack.isStack = isStack;

  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';

  var StackPrototype = Stack.prototype;
  StackPrototype[IS_STACK_SENTINEL] = true;
  StackPrototype.withMutations = MapPrototype.withMutations;
  StackPrototype.asMutable = MapPrototype.asMutable;
  StackPrototype.asImmutable = MapPrototype.asImmutable;
  StackPrototype.wasAltered = MapPrototype.wasAltered;

  function makeStack(size, head, ownerID, hash) {
    var map = (0, _create2.default)(StackPrototype);
    map.size = size;
    map._head = head;
    map.__ownerID = ownerID;
    map.__hash = hash;
    map.__altered = false;
    return map;
  }

  var EMPTY_STACK;
  function emptyStack() {
    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));
  }

  /**
   * Contributes additional methods to a constructor
   */
  function mixin(ctor, methods) {
    var keyCopier = function keyCopier(key) {
      ctor.prototype[key] = methods[key];
    };
    (0, _keys2.default)(methods).forEach(keyCopier);
    _getOwnPropertySymbols2.default && (0, _getOwnPropertySymbols2.default)(methods).forEach(keyCopier);
    return ctor;
  }

  Iterable.Iterator = Iterator;

  mixin(Iterable, {

    // ### Conversion to other types

    toArray: function toArray() {
      assertNotInfinite(this.size);
      var array = new Array(this.size || 0);
      this.valueSeq().__iterate(function (v, i) {
        array[i] = v;
      });
      return array;
    },

    toIndexedSeq: function toIndexedSeq() {
      return new ToIndexedSequence(this);
    },

    toJS: function toJS() {
      return this.toSeq().map(function (value) {
        return value && typeof value.toJS === 'function' ? value.toJS() : value;
      }).__toJS();
    },

    toJSON: function toJSON() {
      return this.toSeq().map(function (value) {
        return value && typeof value.toJSON === 'function' ? value.toJSON() : value;
      }).__toJS();
    },

    toKeyedSeq: function toKeyedSeq() {
      return new ToKeyedSequence(this, true);
    },

    toMap: function toMap() {
      // Use Late Binding here to solve the circular dependency.
      return Map(this.toKeyedSeq());
    },

    toObject: function toObject() {
      assertNotInfinite(this.size);
      var object = {};
      this.__iterate(function (v, k) {
        object[k] = v;
      });
      return object;
    },

    toOrderedMap: function toOrderedMap() {
      // Use Late Binding here to solve the circular dependency.
      return OrderedMap(this.toKeyedSeq());
    },

    toOrderedSet: function toOrderedSet() {
      // Use Late Binding here to solve the circular dependency.
      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);
    },

    toSet: function toSet() {
      // Use Late Binding here to solve the circular dependency.
      return Set(isKeyed(this) ? this.valueSeq() : this);
    },

    toSetSeq: function toSetSeq() {
      return new ToSetSequence(this);
    },

    toSeq: function toSeq() {
      return isIndexed(this) ? this.toIndexedSeq() : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();
    },

    toStack: function toStack() {
      // Use Late Binding here to solve the circular dependency.
      return Stack(isKeyed(this) ? this.valueSeq() : this);
    },

    toList: function toList() {
      // Use Late Binding here to solve the circular dependency.
      return List(isKeyed(this) ? this.valueSeq() : this);
    },

    // ### Common JavaScript methods and properties

    toString: function toString() {
      return '[Iterable]';
    },

    __toString: function __toString(head, tail) {
      if (this.size === 0) {
        return head + tail;
      }
      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;
    },

    // ### ES6 Collection methods (ES6 Array and Map)

    concat: function concat() {
      var values = SLICE$0.call(arguments, 0);
      return reify(this, concatFactory(this, values));
    },

    includes: function includes(searchValue) {
      return this.some(function (value) {
        return is(value, searchValue);
      });
    },

    entries: function entries() {
      return this.__iterator(ITERATE_ENTRIES);
    },

    every: function every(predicate, context) {
      assertNotInfinite(this.size);
      var returnValue = true;
      this.__iterate(function (v, k, c) {
        if (!predicate.call(context, v, k, c)) {
          returnValue = false;
          return false;
        }
      });
      return returnValue;
    },

    filter: function filter(predicate, context) {
      return reify(this, filterFactory(this, predicate, context, true));
    },

    find: function find(predicate, context, notSetValue) {
      var entry = this.findEntry(predicate, context);
      return entry ? entry[1] : notSetValue;
    },

    forEach: function forEach(sideEffect, context) {
      assertNotInfinite(this.size);
      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);
    },

    join: function join(separator) {
      assertNotInfinite(this.size);
      separator = separator !== undefined ? '' + separator : ',';
      var joined = '';
      var isFirst = true;
      this.__iterate(function (v) {
        isFirst ? isFirst = false : joined += separator;
        joined += v !== null && v !== undefined ? v.toString() : '';
      });
      return joined;
    },

    keys: function keys() {
      return this.__iterator(ITERATE_KEYS);
    },

    map: function map(mapper, context) {
      return reify(this, mapFactory(this, mapper, context));
    },

    reduce: function reduce(reducer, initialReduction, context) {
      assertNotInfinite(this.size);
      var reduction;
      var useFirst;
      if (arguments.length < 2) {
        useFirst = true;
      } else {
        reduction = initialReduction;
      }
      this.__iterate(function (v, k, c) {
        if (useFirst) {
          useFirst = false;
          reduction = v;
        } else {
          reduction = reducer.call(context, reduction, v, k, c);
        }
      });
      return reduction;
    },

    reduceRight: function reduceRight(reducer, initialReduction, context) {
      var reversed = this.toKeyedSeq().reverse();
      return reversed.reduce.apply(reversed, arguments);
    },

    reverse: function reverse() {
      return reify(this, reverseFactory(this, true));
    },

    slice: function slice(begin, end) {
      return reify(this, sliceFactory(this, begin, end, true));
    },

    some: function some(predicate, context) {
      return !this.every(not(predicate), context);
    },

    sort: function sort(comparator) {
      return reify(this, sortFactory(this, comparator));
    },

    values: function values() {
      return this.__iterator(ITERATE_VALUES);
    },

    // ### More sequential methods

    butLast: function butLast() {
      return this.slice(0, -1);
    },

    isEmpty: function isEmpty() {
      return this.size !== undefined ? this.size === 0 : !this.some(function () {
        return true;
      });
    },

    count: function count(predicate, context) {
      return ensureSize(predicate ? this.toSeq().filter(predicate, context) : this);
    },

    countBy: function countBy(grouper, context) {
      return countByFactory(this, grouper, context);
    },

    equals: function equals(other) {
      return deepEqual(this, other);
    },

    entrySeq: function entrySeq() {
      var iterable = this;
      if (iterable._cache) {
        // We cache as an entries array, so we can just return the cache!
        return new ArraySeq(iterable._cache);
      }
      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();
      entriesSequence.fromEntrySeq = function () {
        return iterable.toSeq();
      };
      return entriesSequence;
    },

    filterNot: function filterNot(predicate, context) {
      return this.filter(not(predicate), context);
    },

    findEntry: function findEntry(predicate, context, notSetValue) {
      var found = notSetValue;
      this.__iterate(function (v, k, c) {
        if (predicate.call(context, v, k, c)) {
          found = [k, v];
          return false;
        }
      });
      return found;
    },

    findKey: function findKey(predicate, context) {
      var entry = this.findEntry(predicate, context);
      return entry && entry[0];
    },

    findLast: function findLast(predicate, context, notSetValue) {
      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);
    },

    findLastEntry: function findLastEntry(predicate, context, notSetValue) {
      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);
    },

    findLastKey: function findLastKey(predicate, context) {
      return this.toKeyedSeq().reverse().findKey(predicate, context);
    },

    first: function first() {
      return this.find(returnTrue);
    },

    flatMap: function flatMap(mapper, context) {
      return reify(this, flatMapFactory(this, mapper, context));
    },

    flatten: function flatten(depth) {
      return reify(this, flattenFactory(this, depth, true));
    },

    fromEntrySeq: function fromEntrySeq() {
      return new FromEntriesSequence(this);
    },

    get: function get(searchKey, notSetValue) {
      return this.find(function (_, key) {
        return is(key, searchKey);
      }, undefined, notSetValue);
    },

    getIn: function getIn(searchKeyPath, notSetValue) {
      var nested = this;
      // Note: in an ES6 environment, we would prefer:
      // for (var key of searchKeyPath) {
      var iter = forceIterator(searchKeyPath);
      var step;
      while (!(step = iter.next()).done) {
        var key = step.value;
        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;
        if (nested === NOT_SET) {
          return notSetValue;
        }
      }
      return nested;
    },

    groupBy: function groupBy(grouper, context) {
      return groupByFactory(this, grouper, context);
    },

    has: function has(searchKey) {
      return this.get(searchKey, NOT_SET) !== NOT_SET;
    },

    hasIn: function hasIn(searchKeyPath) {
      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;
    },

    isSubset: function isSubset(iter) {
      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);
      return this.every(function (value) {
        return iter.includes(value);
      });
    },

    isSuperset: function isSuperset(iter) {
      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);
      return iter.isSubset(this);
    },

    keyOf: function keyOf(searchValue) {
      return this.findKey(function (value) {
        return is(value, searchValue);
      });
    },

    keySeq: function keySeq() {
      return this.toSeq().map(keyMapper).toIndexedSeq();
    },

    last: function last() {
      return this.toSeq().reverse().first();
    },

    lastKeyOf: function lastKeyOf(searchValue) {
      return this.toKeyedSeq().reverse().keyOf(searchValue);
    },

    max: function max(comparator) {
      return maxFactory(this, comparator);
    },

    maxBy: function maxBy(mapper, comparator) {
      return maxFactory(this, comparator, mapper);
    },

    min: function min(comparator) {
      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);
    },

    minBy: function minBy(mapper, comparator) {
      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);
    },

    rest: function rest() {
      return this.slice(1);
    },

    skip: function skip(amount) {
      return this.slice(Math.max(0, amount));
    },

    skipLast: function skipLast(amount) {
      return reify(this, this.toSeq().reverse().skip(amount).reverse());
    },

    skipWhile: function skipWhile(predicate, context) {
      return reify(this, skipWhileFactory(this, predicate, context, true));
    },

    skipUntil: function skipUntil(predicate, context) {
      return this.skipWhile(not(predicate), context);
    },

    sortBy: function sortBy(mapper, comparator) {
      return reify(this, sortFactory(this, comparator, mapper));
    },

    take: function take(amount) {
      return this.slice(0, Math.max(0, amount));
    },

    takeLast: function takeLast(amount) {
      return reify(this, this.toSeq().reverse().take(amount).reverse());
    },

    takeWhile: function takeWhile(predicate, context) {
      return reify(this, takeWhileFactory(this, predicate, context));
    },

    takeUntil: function takeUntil(predicate, context) {
      return this.takeWhile(not(predicate), context);
    },

    valueSeq: function valueSeq() {
      return this.toIndexedSeq();
    },

    // ### Hashable Object

    hashCode: function hashCode() {
      return this.__hash || (this.__hash = hashIterable(this));
    }

    // ### Internal

    // abstract __iterate(fn, reverse)

    // abstract __iterator(type, reverse)
  });

  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';
  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';

  var IterablePrototype = Iterable.prototype;
  IterablePrototype[IS_ITERABLE_SENTINEL] = true;
  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;
  IterablePrototype.__toJS = IterablePrototype.toArray;
  IterablePrototype.__toStringMapper = quoteString;
  IterablePrototype.inspect = IterablePrototype.toSource = function () {
    return this.toString();
  };
  IterablePrototype.chain = IterablePrototype.flatMap;
  IterablePrototype.contains = IterablePrototype.includes;

  mixin(KeyedIterable, {

    // ### More sequential methods

    flip: function flip() {
      return reify(this, flipFactory(this));
    },

    mapEntries: function mapEntries(mapper, context) {
      var this$0 = this;
      var iterations = 0;
      return reify(this, this.toSeq().map(function (v, k) {
        return mapper.call(context, [k, v], iterations++, this$0);
      }).fromEntrySeq());
    },

    mapKeys: function mapKeys(mapper, context) {
      var this$0 = this;
      return reify(this, this.toSeq().flip().map(function (k, v) {
        return mapper.call(context, k, v, this$0);
      }).flip());
    }

  });

  var KeyedIterablePrototype = KeyedIterable.prototype;
  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;
  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;
  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;
  KeyedIterablePrototype.__toStringMapper = function (v, k) {
    return (0, _stringify2.default)(k) + ': ' + quoteString(v);
  };

  mixin(IndexedIterable, {

    // ### Conversion to other types

    toKeyedSeq: function toKeyedSeq() {
      return new ToKeyedSequence(this, false);
    },

    // ### ES6 Collection methods (ES6 Array and Map)

    filter: function filter(predicate, context) {
      return reify(this, filterFactory(this, predicate, context, false));
    },

    findIndex: function findIndex(predicate, context) {
      var entry = this.findEntry(predicate, context);
      return entry ? entry[0] : -1;
    },

    indexOf: function indexOf(searchValue) {
      var key = this.keyOf(searchValue);
      return key === undefined ? -1 : key;
    },

    lastIndexOf: function lastIndexOf(searchValue) {
      var key = this.lastKeyOf(searchValue);
      return key === undefined ? -1 : key;
    },

    reverse: function reverse() {
      return reify(this, reverseFactory(this, false));
    },

    slice: function slice(begin, end) {
      return reify(this, sliceFactory(this, begin, end, false));
    },

    splice: function splice(index, removeNum /*, ...values*/) {
      var numArgs = arguments.length;
      removeNum = Math.max(removeNum | 0, 0);
      if (numArgs === 0 || numArgs === 2 && !removeNum) {
        return this;
      }
      // If index is negative, it should resolve relative to the size of the
      // collection. However size may be expensive to compute if not cached, so
      // only call count() if the number is in fact negative.
      index = resolveBegin(index, index < 0 ? this.count() : this.size);
      var spliced = this.slice(0, index);
      return reify(this, numArgs === 1 ? spliced : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum)));
    },

    // ### More collection methods

    findLastIndex: function findLastIndex(predicate, context) {
      var entry = this.findLastEntry(predicate, context);
      return entry ? entry[0] : -1;
    },

    first: function first() {
      return this.get(0);
    },

    flatten: function flatten(depth) {
      return reify(this, flattenFactory(this, depth, false));
    },

    get: function get(index, notSetValue) {
      index = wrapIndex(this, index);
      return index < 0 || this.size === Infinity || this.size !== undefined && index > this.size ? notSetValue : this.find(function (_, key) {
        return key === index;
      }, undefined, notSetValue);
    },

    has: function has(index) {
      index = wrapIndex(this, index);
      return index >= 0 && (this.size !== undefined ? this.size === Infinity || index < this.size : this.indexOf(index) !== -1);
    },

    interpose: function interpose(separator) {
      return reify(this, interposeFactory(this, separator));
    },

    interleave: function interleave() /*...iterables*/{
      var iterables = [this].concat(arrCopy(arguments));
      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);
      var interleaved = zipped.flatten(true);
      if (zipped.size) {
        interleaved.size = zipped.size * iterables.length;
      }
      return reify(this, interleaved);
    },

    keySeq: function keySeq() {
      return Range(0, this.size);
    },

    last: function last() {
      return this.get(-1);
    },

    skipWhile: function skipWhile(predicate, context) {
      return reify(this, skipWhileFactory(this, predicate, context, false));
    },

    zip: function zip() /*, ...iterables */{
      var iterables = [this].concat(arrCopy(arguments));
      return reify(this, zipWithFactory(this, defaultZipper, iterables));
    },

    zipWith: function zipWith(zipper /*, ...iterables */) {
      var iterables = arrCopy(arguments);
      iterables[0] = this;
      return reify(this, zipWithFactory(this, zipper, iterables));
    }

  });

  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;
  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;

  mixin(SetIterable, {

    // ### ES6 Collection methods (ES6 Array and Map)

    get: function get(value, notSetValue) {
      return this.has(value) ? value : notSetValue;
    },

    includes: function includes(value) {
      return this.has(value);
    },

    // ### More sequential methods

    keySeq: function keySeq() {
      return this.valueSeq();
    }

  });

  SetIterable.prototype.has = IterablePrototype.includes;
  SetIterable.prototype.contains = SetIterable.prototype.includes;

  // Mixin subclasses

  mixin(KeyedSeq, KeyedIterable.prototype);
  mixin(IndexedSeq, IndexedIterable.prototype);
  mixin(SetSeq, SetIterable.prototype);

  mixin(KeyedCollection, KeyedIterable.prototype);
  mixin(IndexedCollection, IndexedIterable.prototype);
  mixin(SetCollection, SetIterable.prototype);

  // #pragma Helper functions

  function keyMapper(v, k) {
    return k;
  }

  function entryMapper(v, k) {
    return [k, v];
  }

  function not(predicate) {
    return function () {
      return !predicate.apply(this, arguments);
    };
  }

  function neg(predicate) {
    return function () {
      return -predicate.apply(this, arguments);
    };
  }

  function quoteString(value) {
    return typeof value === 'string' ? (0, _stringify2.default)(value) : String(value);
  }

  function defaultZipper() {
    return arrCopy(arguments);
  }

  function defaultNegComparator(a, b) {
    return a < b ? 1 : a > b ? -1 : 0;
  }

  function hashIterable(iterable) {
    if (iterable.size === Infinity) {
      return 0;
    }
    var ordered = isOrdered(iterable);
    var keyed = isKeyed(iterable);
    var h = ordered ? 1 : 0;
    var size = iterable.__iterate(keyed ? ordered ? function (v, k) {
      h = 31 * h + hashMerge(hash(v), hash(k)) | 0;
    } : function (v, k) {
      h = h + hashMerge(hash(v), hash(k)) | 0;
    } : ordered ? function (v) {
      h = 31 * h + hash(v) | 0;
    } : function (v) {
      h = h + hash(v) | 0;
    });
    return murmurHashOfSize(size, h);
  }

  function murmurHashOfSize(size, h) {
    h = imul(h, 0xCC9E2D51);
    h = imul(h << 15 | h >>> -15, 0x1B873593);
    h = imul(h << 13 | h >>> -13, 5);
    h = (h + 0xE6546B64 | 0) ^ size;
    h = imul(h ^ h >>> 16, 0x85EBCA6B);
    h = imul(h ^ h >>> 13, 0xC2B2AE35);
    h = smi(h ^ h >>> 16);
    return h;
  }

  function hashMerge(a, b) {
    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int
  }

  var Immutable = {

    Iterable: Iterable,

    Seq: Seq,
    Collection: Collection,
    Map: Map,
    OrderedMap: OrderedMap,
    List: List,
    Stack: Stack,
    Set: Set,
    OrderedSet: OrderedSet,

    Record: Record,
    Range: Range,
    Repeat: Repeat,

    is: is,
    fromJS: fromJS

  };

  return Immutable;
});

/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// currently used to initiate the velocity style object to 0


exports.__esModule = true;
exports['default'] = mapToZero;

function mapToZero(obj) {
  var ret = {};
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      ret[key] = 0;
    }
  }
  return ret;
}

module.exports = exports['default'];

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// usage assumption: currentStyle values have already been rendered but it says
// nothing of whether currentStyle is stale (see unreadPropStyle)


exports.__esModule = true;
exports['default'] = shouldStopAnimation;

function shouldStopAnimation(currentStyle, style, currentVelocity) {
  for (var key in style) {
    if (!Object.prototype.hasOwnProperty.call(style, key)) {
      continue;
    }

    if (currentVelocity[key] !== 0) {
      return false;
    }

    var styleValue = typeof style[key] === 'number' ? style[key] : style[key].val;
    // stepper will have already taken care of rounding precision errors, so
    // won't have such thing as 0.9999 !=== 1
    if (currentStyle[key] !== styleValue) {
      return false;
    }
  }

  return true;
}

module.exports = exports['default'];

/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// stepper is used a lot. Saves allocation to return the same array wrapper.
// This is fine and danger-free against mutations because the callsite
// immediately destructures it and gets the numbers inside without passing the


exports.__esModule = true;
exports["default"] = stepper;

var reusedTuple = [0, 0];

function stepper(secondPerFrame, x, v, destX, k, b, precision) {
  // Spring stiffness, in kg / s^2

  // for animations, destX is really spring length (spring at rest). initial
  // position is considered as the stretched/compressed position of a spring
  var Fspring = -k * (x - destX);

  // Damping, in kg / s
  var Fdamper = -b * v;

  // usually we put mass here, but for animation purposes, specifying mass is a
  // bit redundant. you could simply adjust k and b accordingly
  // let a = (Fspring + Fdamper) / mass;
  var a = Fspring + Fdamper;

  var newV = v + a * secondPerFrame;
  var newX = x + newV * secondPerFrame;

  if (Math.abs(newV) < precision && Math.abs(newX - destX) < precision) {
    reusedTuple[0] = destX;
    reusedTuple[1] = 0;
    return reusedTuple;
  }

  reusedTuple[0] = newX;
  reusedTuple[1] = newV;
  return reusedTuple;
}

module.exports = exports["default"];
// array reference around.

/***/ }),
/* 125 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// turn {x: {val: 1, stiffness: 1, damping: 2}, y: 2} generated by
// `{x: spring(1, {stiffness: 1, damping: 2}), y: 2}` into {x: 1, y: 2}



exports.__esModule = true;
exports['default'] = stripStyle;

function stripStyle(style) {
  var ret = {};
  for (var key in style) {
    if (!Object.prototype.hasOwnProperty.call(style, key)) {
      continue;
    }
    ret[key] = typeof style[key] === 'number' ? style[key] : style[key].val;
  }
  return ret;
}

module.exports = exports['default'];

/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.defaultProps = exports.propTypes = undefined;

var _react = __webpack_require__(0);

var string = _react.PropTypes.string,
    bool = _react.PropTypes.bool,
    number = _react.PropTypes.number,
    oneOfType = _react.PropTypes.oneOfType,
    shape = _react.PropTypes.shape,
    object = _react.PropTypes.object,
    func = _react.PropTypes.func;
var propTypes = exports.propTypes = {
  url: string,
  playing: bool,
  loop: bool,
  controls: bool,
  volume: number,
  playbackRate: number,
  width: oneOfType([string, number]),
  height: oneOfType([string, number]),
  hidden: bool,
  className: string,
  style: object,
  progressFrequency: number,
  soundcloudConfig: shape({
    clientId: string,
    showArtwork: bool
  }),
  youtubeConfig: shape({
    playerVars: object,
    preload: bool
  }),
  vimeoConfig: shape({
    iframeParams: object,
    preload: bool
  }),
  fileConfig: shape({
    attributes: object
  }),
  onReady: func,
  onStart: func,
  onPlay: func,
  onPause: func,
  onBuffer: func,
  onEnded: func,
  onError: func,
  onDuration: func,
  onProgress: func
};

var defaultProps = exports.defaultProps = {
  playing: false,
  loop: false,
  controls: false,
  volume: 0.8,
  playbackRate: 1,
  width: 640,
  height: 360,
  hidden: false,
  progressFrequency: 1000,
  soundcloudConfig: {
    clientId: 'e8b6f84fbcad14c301ca1355cae1dea2',
    showArtwork: true
  },
  youtubeConfig: {
    playerVars: {},
    preload: false
  },
  vimeoConfig: {
    iframeParams: {},
    preload: false
  },
  fileConfig: {
    attributes: {}
  },
  onReady: function onReady() {},
  onStart: function onStart() {},
  onPlay: function onPlay() {},
  onPause: function onPause() {},
  onBuffer: function onBuffer() {},
  onEnded: function onEnded() {},
  onError: function onError() {},
  onDuration: function onDuration() {},
  onProgress: function onProgress() {}
};

/***/ }),
/* 127 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
var getDisplayName = function getDisplayName(Component) {
  if (typeof Component === 'string') {
    return Component;
  }

  if (!Component) {
    return undefined;
  }

  return Component.displayName || Component.name || 'Component';
};

exports.default = getDisplayName;

/***/ }),
/* 128 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;
var isClassComponent = function isClassComponent(Component) {
  return Boolean(Component && Component.prototype && (0, _typeof3.default)(Component.prototype.isReactComponent) === 'object');
};

exports.default = isClassComponent;

/***/ }),
/* 129 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var setStatic = function setStatic(key, value) {
  return function (BaseComponent) {
    /* eslint-disable no-param-reassign */
    BaseComponent[key] = value;
    /* eslint-enable no-param-reassign */
    return BaseComponent;
  };
};

exports.default = (0, _createHelper2.default)(setStatic, 'setStatic', false);

/***/ }),
/* 130 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _react = __webpack_require__(0);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var shouldUpdate = function shouldUpdate(test) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    return function (_Component) {
      _inherits(_class, _Component);

      function _class() {
        _classCallCheck(this, _class);

        return _possibleConstructorReturn(this, _Component.apply(this, arguments));
      }

      _class.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
        return test(this.props, nextProps);
      };

      _class.prototype.render = function render() {
        return factory(this.props);
      };

      return _class;
    }(_react.Component);
  };
};

exports.default = (0, _createHelper2.default)(shouldUpdate, 'shouldUpdate');

/***/ }),
/* 131 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

function _objectWithoutProperties(obj, keys) {
  var target = {};for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;target[i] = obj[i];
  }return target;
}

var omit = function omit(obj, keys) {
  var rest = _objectWithoutProperties(obj, []);

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (rest.hasOwnProperty(key)) {
      delete rest[key];
    }
  }
  return rest;
};

exports.default = omit;

/***/ }),
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
var pick = function pick(obj, keys) {
  var result = {};
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    if (obj.hasOwnProperty(key)) {
      result[key] = obj[key];
    }
  }
  return result;
};

exports.default = pick;

/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(416);

/***/ }),
/* 134 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = merge;
function merge() {
  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var defaults = arguments[1];

  for (var key in defaults) {
    if (typeof obj[key] === 'undefined') {
      obj[key] = defaults[key];
    }
  }
  return obj;
}
module.exports = exports['default'];

/***/ }),
/* 135 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = extend;

var hasOwnProperty = Object.prototype.hasOwnProperty;

function extend() {
    var target = {};

    for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i];

        for (var key in source) {
            if (hasOwnProperty.call(source, key)) {
                target[key] = source[key];
            }
        }
    }

    return target;
}

/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Component = undefined;

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _uiComponentDeprecated2.default; // import {Component} from './Component'

exports.Component = _uiComponentDeprecated2.default;

/***/ }),
/* 137 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.React = exports.range = exports.PropTypes = exports.palettes = exports.omit = exports.keydown = exports.Keys = exports.imgflo = exports.fromTo = exports.degrees = exports.Color = exports.cloneComponentProps = exports.classnames = exports.chromatose = exports.fromJS = exports.OSet = exports.OMap = exports.Iterable = exports.Stack = exports.Set = exports.Seq = exports.Record = exports.List = exports.Map = exports.Struct = exports.debounce = exports.raf = undefined;

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _lodash = __webpack_require__(70);

var _lodash2 = _interopRequireDefault(_lodash);

var _immutable = __webpack_require__(6);

var _uiColor = __webpack_require__(101);

var _classnames = __webpack_require__(470);

var _classnames2 = _interopRequireDefault(_classnames);

var _cloneComponentProps = __webpack_require__(471);

var _cloneComponentProps2 = _interopRequireDefault(_cloneComponentProps);

var _degrees = __webpack_require__(472);

var _degrees2 = _interopRequireDefault(_degrees);

var _fromTo = __webpack_require__(473);

var _fromTo2 = _interopRequireDefault(_fromTo);

var _imgflo = __webpack_require__(474);

var _imgflo2 = _interopRequireDefault(_imgflo);

var _Keys = __webpack_require__(467);

var _Keys2 = _interopRequireDefault(_Keys);

var _reactKeydown = __webpack_require__(90);

var _reactKeydown2 = _interopRequireDefault(_reactKeydown);

var _omit = __webpack_require__(475);

var _omit2 = _interopRequireDefault(_omit);

var _PropTypes = __webpack_require__(468);

var _PropTypes2 = _interopRequireDefault(_PropTypes);

var _range = __webpack_require__(476);

var _range2 = _interopRequireDefault(_range);

var _React = __webpack_require__(469);

var _React2 = _interopRequireDefault(_React);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.raf = _raf2.default;
exports.debounce = _lodash2.default;
exports.Struct = _immutable.Struct;
exports.Map = _immutable.Map;
exports.List = _immutable.List;
exports.Record = _immutable.Record;
exports.Seq = _immutable.Seq;
exports.Set = _immutable.Set;
exports.Stack = _immutable.Stack;
exports.Iterable = _immutable.Iterable;
exports.OMap = _immutable.OMap;
exports.OSet = _immutable.OSet;
exports.fromJS = _immutable.fromJS;
exports.chromatose = _uiColor.chromatose;
exports.classnames = _classnames2.default;
exports.cloneComponentProps = _cloneComponentProps2.default;
exports.Color = _uiColor.Color;
exports.degrees = _degrees2.default;
exports.fromTo = _fromTo2.default;
exports.imgflo = _imgflo2.default;
exports.Keys = _Keys2.default;
exports.keydown = _reactKeydown2.default;
exports.omit = _omit2.default;
exports.palettes = _uiColor.palettes;
exports.PropTypes = _PropTypes2.default;
exports.range = _range2.default;
exports.React = _React2.default;

/***/ }),
/* 138 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function upodateFAFd(target) {
  return function (_target) {
    (0, _inherits3.default)(FAFd, _target);

    function FAFd() {
      (0, _classCallCheck3.default)(this, FAFd);
      return (0, _possibleConstructorReturn3.default)(this, (FAFd.__proto__ || (0, _getPrototypeOf2.default)(FAFd)).apply(this, arguments));
    }

    (0, _createClass3.default)(FAFd, [{
      key: 'updateFAF',
      value: function updateFAF(list) {
        var lastIndex = list.length - 1;

        // @TODO: push onto list
        this.contextRequest('FAF', 'update', {
          actionList: list
        });
        this.contextRequest('FAF', 'activate', lastIndex);
      }
    }]);
    return FAFd;
  }(target);
}

function addToFAFd(target) {
  return function (_target2) {
    (0, _inherits3.default)(FAFd, _target2);

    function FAFd() {
      (0, _classCallCheck3.default)(this, FAFd);
      return (0, _possibleConstructorReturn3.default)(this, (FAFd.__proto__ || (0, _getPrototypeOf2.default)(FAFd)).apply(this, arguments));
    }

    (0, _createClass3.default)(FAFd, [{
      key: 'addToFAF',
      value: function addToFAF(list) {
        // this.UI.FAF.actionList = this.UI.FAF.actionList.concat(list)
        // if (Array.isArray(list))
        // else

        if (!this.UIOG) {
          this.UIOG = {
            FAF: {
              actionList: this.UI.FAF.actionList.slice(0)
            }
          };
        }

        var FAFList = this.UI.FAF.actionList;
        if (FAFList && FAFList.includes && FAFList.includes(list)) {
          console.debug('---- FAF already had it');
          return;
        }

        this.UI.FAF.actionList.push(list);

        var lastIndex = this.UI.FAF.actionList.length - 1;
        this.contextRequest('FAF', 'update', this.UI.FAF);
        this.contextRequest('FAF', 'activate', lastIndex);
      }
    }]);
    return FAFd;
  }(target);
}

function backToChoose(target) {
  return function (_target3) {
    (0, _inherits3.default)(BackToChoosed, _target3);

    function BackToChoosed() {
      (0, _classCallCheck3.default)(this, BackToChoosed);
      return (0, _possibleConstructorReturn3.default)(this, (BackToChoosed.__proto__ || (0, _getPrototypeOf2.default)(BackToChoosed)).apply(this, arguments));
    }

    (0, _createClass3.default)(BackToChoosed, [{
      key: 'backToChoose',
      value: function backToChoose() {
        this.contextRequest('storyline', 'pop-story');

        // @NOTE:
        // - simplifies things since we only go 1 level deep
        // - dereference the original list
        this.UI.FAF.actionList = this.UIOG.FAF.actionList.slice(0);
      }
    }]);
    return BackToChoosed;
  }(target);
}

exports.default = {
  upodateFAFd: upodateFAFd,
  addToFAFd: addToFAFd,
  backToChoose: backToChoose
};
module.exports = exports['default'];

/***/ }),
/* 139 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _pubsubJs = __webpack_require__(347);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BaseComponent = function (_Component) {
  (0, _inherits3.default)(BaseComponent, _Component);

  function BaseComponent() {
    var _ref;

    (0, _classCallCheck3.default)(this, BaseComponent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = BaseComponent.__proto__ || (0, _getPrototypeOf2.default)(BaseComponent)).call.apply(_ref, [this].concat(args)));

    _this.PubSub = _pubsubJs2.default;
    return _this;
  }

  return BaseComponent;
}(_uiComponentDeprecated2.default);

exports.default = BaseComponent;
module.exports = exports['default'];

/***/ }),
/* 140 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _autolinker = __webpack_require__(278);

var _autolinker2 = _interopRequireDefault(_autolinker);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function linkify(input, publisher) {
  var options = {
    replaceFn: function replaceFn(autolinker, match) {
      // console.log( "href = ", match.getAnchorHref() );
      // console.log( "text = ", match.getAnchorText() );
      if (!match) {
        console.log("TODO: FIX LINKIFY!!!!");
        return match;
      }

      switch (match.getType()) {
        case 'url':
          return true; // let Autolinker perform its normal anchor tag replacement

        case 'email':
          return true;

        case 'phone':
          return true;

        case 'twitter':
          var handle = match.getTwitterHandle();
          if (!publisher || publisher === 'twitter') return true;

          if (publisher === 'instagram') {
            return '<a href="https://www.instagram.com/' + handle + '">' + handle + '</a>';
          } else if (publisher === 'facebook') {
            return '<a href="https://www.facebook.com/' + handle + '">' + handle + '</a>';
          }
          return false;

        case 'hashtag':
          return true;
      };
    }
  };

  if (publisher) {
    publisher = publisher.toLowerCase();
    if (publisher === 'twitter' || publisher === 'instagram' || publisher === 'facebook') {
      options.hashtag = publisher;
    } else {
      publisher = undefined;
    }
  }

  var linkedText = _autolinker2.default.link(input, options);
  return linkedText;
}

exports.default = linkify;
module.exports = exports['default'];

/***/ }),
/* 141 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiIcon = __webpack_require__(78);

var _uiIcon2 = _interopRequireDefault(_uiIcon);

var _stylePillable = __webpack_require__(599);

var _stylePillable2 = _interopRequireDefault(_stylePillable);

var _styleStatic = __webpack_require__(600);

var _styleStatic2 = _interopRequireDefault(_styleStatic);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var ActionButton = function (_React$Component) {
  (0, _inherits3.default)(ActionButton, _React$Component);

  function ActionButton() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ActionButton);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ActionButton.__proto__ || (0, _getPrototypeOf2.default)(ActionButton)).call.apply(_ref, [this].concat(args))), _this), _this.id = 'ActionButton-' + count++, _this.prevIcon = undefined, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  /*
  static propTypes = {
    label: PropTypes.string,
    icon: PropTypes.string,
    layout: PropTypes.string.isRequired, // 'v-icon-label', 'v-label-icon', 'h-icon-label', 'h-label-icon'
    active: PropTypes.bool.isRequired,
    show: PropTypes.bool.isRequired,
    pillable: PropTypes.bool.isRequired, // 'pillable', 'v-icon-label', 'v-label-icon', 'h-icon-label'
    size: PropTypes.string, // 's' 'm' 'l'
    onClick: PropTypes.func,
    onMouseDown: PropTypes.func,
  }
  */


  (0, _createClass3.default)(ActionButton, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var icon = this.props.icon;

      this.prevIcon = icon;
    }
    // componentWillReceiveProps(nextProps) {
    //  let {icon} = nextProps
    // }

  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          icon = _props.icon,
          label = _props.label,
          pillable = _props.pillable,
          onMouseDown = _props.onMouseDown,
          layout = _props.layout,
          className = _props.className,
          id = _props.id,
          style = _props.style,
          labelAsTip = _props.labelAsTip,
          attrs = (0, _objectWithoutProperties3.default)(_props, ['icon', 'label', 'pillable', 'onMouseDown', 'layout', 'className', 'id', 'style', 'labelAsTip']);


      id = id || this.id;
      var scope = '#' + id;

      className = className || ' ';
      className += ' action-button';
      className += ' layout--' + layout;
      className += icon ? ' with-icon' : ' without-icon';
      className += label ? ' with-label' : ' without-label';
      if (pillable) className += ' pillable';

      style = style ? (0, _assign2.default)({ backfaceVisibility: 'hidden' }, style) : { backfaceVisibility: 'hidden' };

      // @TODO: position direction here as well @see fab/index
      if (labelAsTip) {
        var _tooltip;

        var tooltip = (_tooltip = {}, (0, _defineProperty3.default)(_tooltip, 'data-rh', label), (0, _defineProperty3.default)(_tooltip, 'data-rh-at', 'left'), _tooltip);
        attrs = (0, _extends3.default)({}, attrs, tooltip);
      }

      var rendered = createVNode(2, 'div', (0, _extends3.default)({
        'id': id,
        'className': className,
        'style': style
      }, attrs), [this.renderStyle(scope), this.renderIcon(this.props), this.renderLabel(this.props)], {
        'onMouseDown': onMouseDown
      });

      this.prevIcon = icon;

      return rendered;
    }
  }, {
    key: 'renderStyle',
    value: function renderStyle(scope) {
      var pillable = this.props.pillable;


      return createVNode(2, 'span', null, [(0, _styleStatic2.default)(scope), pillable && (0, _stylePillable2.default)(scope)]);
    }
  }, {
    key: 'renderIcon',
    value: function renderIcon(_ref2) {
      var icon = _ref2.icon,
          id = _ref2.id;

      if (id === 'fab') debugger;
      if (!icon) return null;
      return createVNode(16, _uiIcon2.default, {
        'className': 'action-icon icon',
        'morphable': true,
        children: icon
      });
    }
  }, {
    key: 'renderLabel',
    value: function renderLabel(_ref3) {
      var label = _ref3.label,
          labelAsTip = _ref3.labelAsTip;

      if (!label || labelAsTip) return null;
      return createVNode(2, 'div', {
        'className': 'action-label'
      }, createVNode(2, 'span', null, label));
    }
  }]);
  return ActionButton;
}(_infernoCompat2.default.Component);

ActionButton.displayName = 'ActionButton';
ActionButton.defaultProps = {
  layout: 'h-label-icon',
  active: false,
  show: true,
  pillable: false,
  size: 'm'

};
exports.default = ActionButton;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 142 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.gooeyStyleGenerator2 = exports.gooeyStyleGenerator = exports.gooeySvg = undefined;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _gooeySvg = __webpack_require__(612);

var _gooeySvg2 = _interopRequireDefault(_gooeySvg);

var _gooeyList = __webpack_require__(611);

var _gooeyList2 = _interopRequireDefault(_gooeyList);

var _gooeyList3 = __webpack_require__(610);

var _gooeyList4 = _interopRequireDefault(_gooeyList3);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// var gooeySvg = (<span>{gooeySvg1}{gooeySvg2}</span>)

// import gooeySvg1 from './gooey-svg'
// import gooeySvg2 from './gooey-svg-2'
var gooeyFilter = _gooeySvg2.default;
exports.gooeySvg = _gooeySvg2.default;
exports.gooeyStyleGenerator = _gooeyList2.default;
exports.gooeyStyleGenerator2 = _gooeyList4.default;

// var styles = gooeyStyleGenerator()
// var styledStyles = styles.split('\n')
// console.error({gooeySvg, styles, gooeyStyleGenerator})
// console.debug({styledStyles})
// <pre><code>{styles}</code></pre>

var createVNode = Inferno.createVNode;

exports.default = function (state) {
  var styles = (0, _gooeyList2.default)(state);
  if (di.browserIsLowPerf) gooeyFilter = null;

  // + Math.random(0, 500)
  return createVNode(34, 'span', null, [createVNode(2, 'style', null, styles, null, 'fab-gooey'), gooeyFilter]);
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/ui-inline-svg");
var React = __webpack_require__(0);
var once = __webpack_require__(346);
// import ieXDomain from 'httpplease/plugins/oldiexdomain';
var shouldComponentUpdate = __webpack_require__(632).shouldComponentUpdate;
var httpplease = __webpack_require__(569);

var http = httpplease; //.use(ieXDomain);

var Status = {
  PENDING: 'pending',
  LOADING: 'loading',
  LOADED: 'loaded',
  FAILED: 'failed',
  UNSUPPORTED: 'unsupported'
};

var getRequestsByUrl = {};
var loadedIcons = {};

var createGetOrUseCacheForUrl = function createGetOrUseCacheForUrl(url, callback) {
  if (loadedIcons[url]) {
    var params = loadedIcons[url];

    setTimeout(function () {
      return callback(params[0], params[1]);
    }, 0);
  }

  if (!getRequestsByUrl[url]) {
    getRequestsByUrl[url] = [];

    http.get(url, function (err, res) {
      getRequestsByUrl[url].forEach(function (cb) {
        loadedIcons[url] = [err, res];
        cb(err, res);
      });
    });
  }

  getRequestsByUrl[url].push(callback);
};

var supportsInlineSVG = once(function () {
  if (!document) {
    return false;
  }

  var div = document.createElement('div');
  div.innerHTML = '<svg />';
  return div.firstChild && div.firstChild.namespaceURI === 'http://www.w3.org/2000/svg';
});

var isSupportedEnvironment = once(function () {
  return ((typeof window !== 'undefined' && window !== null ? window.XMLHttpRequest : false) || (typeof window !== 'undefined' && window !== null ? window.XDomainRequest : false)) && supportsInlineSVG();
});

var uniquifyIDs = function () {
  var mkAttributePattern = function mkAttributePattern(attr) {
    return '(?:(?:\\s|\\:)' + attr + ')';
  };

  var idPattern = new RegExp('(?:(' + mkAttributePattern('id') + ')="([^"]+)")|(?:(' + mkAttributePattern('href') + '|' + mkAttributePattern('role') + '|' + mkAttributePattern('arcrole') + ')="\\#([^"]+)")|(?:="url\\(\\#([^\\)]+)\\)")', 'g');

  return function (svgText, svgID) {
    var uniquifyID = function uniquifyID(id) {
      return id + '___' + svgID;
    };

    return svgText.replace(idPattern, function (m, p1, p2, p3, p4, p5) {
      //eslint-disable-line consistent-return
      if (p2) {
        return p1 + '="' + uniquifyID(p2) + '"';
      } else if (p4) {
        return p3 + '="#' + uniquifyID(p4) + '"';
      } else if (p5) {
        return '="url(#' + uniquifyID(p5) + ')"';
      }
    });
  };
}();

var getHash = function getHash(str) {
  var chr = void 0;
  var hash = 0;
  var i = void 0;
  var j = void 0;
  var ref = void 0;

  if (!str) {
    return hash;
  }

  for (i = j = 0, ref = str.length; ref >= 0 ? j < ref : j > ref; i = ref >= 0 ? ++j : --j) {
    chr = str.charCodeAt(i);
    hash = (hash << 5) - hash + chr;
    hash &= hash;
  }

  return hash;
};

var InlineSVGError = function (_Error) {
  (0, _inherits3.default)(InlineSVGError, _Error);

  function InlineSVGError(message) {
    var _ret;

    (0, _classCallCheck3.default)(this, InlineSVGError);

    var _this = (0, _possibleConstructorReturn3.default)(this, (InlineSVGError.__proto__ || (0, _getPrototypeOf2.default)(InlineSVGError)).call(this));

    _this.name = 'InlineSVGError';
    _this.isSupportedBrowser = true;
    _this.isConfigurationError = false;
    _this.isUnsupportedBrowserError = false;
    _this.message = message;

    return _ret = _this, (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return InlineSVGError;
}(Error);

var createError = function createError(message, attrs) {
  var err = new InlineSVGError(message);

  (0, _keys2.default)(attrs).forEach(function (k) {
    err[k] = attrs[k];
  });

  return err;
};

var unsupportedBrowserError = function unsupportedBrowserError(message) {
  var newMessage = message;

  if (newMessage === null) {
    newMessage = 'Unsupported Browser';
  }

  return createError(newMessage, {
    isSupportedBrowser: false,
    isUnsupportedBrowserError: true
  });
};

var configurationError = function configurationError(message) {
  return createError(message, {
    isConfigurationError: true
  });
};

var InlineSVG = function (_React$Component) {
  (0, _inherits3.default)(InlineSVG, _React$Component);

  function InlineSVG(props) {
    (0, _classCallCheck3.default)(this, InlineSVG);

    var _this2 = (0, _possibleConstructorReturn3.default)(this, (InlineSVG.__proto__ || (0, _getPrototypeOf2.default)(InlineSVG)).call(this, props));

    _initialiseProps.call(_this2);

    _this2.state = {
      status: Status.PENDING
    };

    _this2.handleLoad = _this2.handleLoad.bind(_this2);
    _this2.isActive = false;
    return _this2;
  }

  (0, _createClass3.default)(InlineSVG, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.isActive = true;
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.state.status === Status.PENDING) {
        if (this.props.supportTest()) {
          if (this.props.src) {
            this.startLoad();
          } else {
            this.fail(configurationError('Missing source'));
          }
        } else {
          this.fail(unsupportedBrowserError());
        }
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.isActive = false;
    }
  }, {
    key: 'fail',
    value: function fail(error) {
      var _this3 = this;

      var status = error.isUnsupportedBrowserError ? Status.UNSUPPORTED : Status.FAILED;

      if (this.isActive) {
        this.setState({ status: status }, function () {
          if (typeof _this3.props.onError === 'function') {
            _this3.props.onError(error);
          }
        });
      }
    }
  }, {
    key: 'handleLoad',
    value: function handleLoad(err, res) {
      var _this4 = this;

      if (err) {
        this.fail(err);
        return;
      }

      if (this.isActive) {
        this.setState({
          loadedText: res.text,
          status: Status.LOADED
        }, function () {
          return typeof _this4.props.onLoad === 'function' ? _this4.props.onLoad() : null;
        });
      }
    }
  }, {
    key: 'startLoad',
    value: function startLoad() {
      if (this.isActive) {
        this.setState({
          status: Status.LOADING
        }, this.load);
      }
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var className = 'isvg ' + this.state.status;

      if (this.props.className) {
        className += ' ' + this.props.className;
      }

      return className;
    }
  }, {
    key: 'processSVG',
    value: function processSVG(svgText) {
      if (this.props.uniquifyIDs) {
        return uniquifyIDs(svgText, getHash(this.props.src));
      }

      return svgText;
    }
  }, {
    key: 'renderContents',
    value: function renderContents() {
      switch (this.state.status) {
        case Status.UNSUPPORTED:
        case Status.FAILED:
          return this.props.children;
        default:
          return this.props.preloader;
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.wrapper({
        className: this.getClassName(),
        dangerouslySetInnerHTML: this.state.loadedText ? {
          __html: this.processSVG(this.state.loadedText)
        } : undefined
      }, this.renderContents());
    }
  }]);
  return InlineSVG;
}(React.Component);

InlineSVG.propTypes = {
  cacheGetRequests: React.PropTypes.bool,
  children: React.PropTypes.node,
  className: React.PropTypes.string,
  onError: React.PropTypes.func,
  onLoad: React.PropTypes.func,
  preloader: React.PropTypes.func,
  src: React.PropTypes.string.isRequired,
  supportTest: React.PropTypes.func,
  uniquifyIDs: React.PropTypes.bool,
  wrapper: React.PropTypes.func
};
InlineSVG.defaultProps = {
  wrapper: function wrapper(props, children) {
    return React.createElement('span', props, children);
  },
  //wrapper: React.DOM.span,
  supportTest: isSupportedEnvironment,
  uniquifyIDs: true,
  cacheGetRequests: false
};

var _initialiseProps = function _initialiseProps() {
  var _this5 = this;

  this.shouldComponentUpdate = shouldComponentUpdate;

  this.load = function () {
    var match = _this5.props.src.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);
    if (match) {
      return _this5.handleLoad(null, {
        text: match[1] ? atob(match[2]) : decodeURIComponent(match[2])
      });
    }
    if (_this5.props.cacheGetRequests) {
      return createGetOrUseCacheForUrl(_this5.props.src, _this5.handleLoad);
    }

    return http.get(_this5.props.src, _this5.handleLoad);
  };
};

exports.default = InlineSVG;
module.exports = exports['default'];

/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _reactPlayer = __webpack_require__(192);

var _reactPlayer2 = _interopRequireDefault(_reactPlayer);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var designConfig = {
  style: '\n    :scope {\n      bg-clr -- chroma-box\n    }\n  ',
  designverse: {

    'filter--gmap': {
      style: '\n        :scope {\n          chroma-filter--gradient-map\n        }\n      '
    },
    'layout--bg-fill': {
      style: '\n        :scope {\n          pos -- absolute !important\n          mar -- 0 !important\n          z-idx -- -1\n          l -- 0\n          r -- 0\n          t -- 0\n          b -- 0\n        }\n      '
    }
  },
  sharedCSS: '\n    /*\n      9/16*100 = 56.25\n      16/9*100 = 177.77\n    */\n    .component--media {\n      width: 100%;\n      height: 100%;\n    }\n      .component--media .video_src {\n        position: absolute;\n        opacity: 1;\n        left: 0;\n        right: 0;\n        top: 0;\n        width: 100% !important;\n        height: 0 !important;\n        padding-bottom: 56.25% !important;\n        transform: translate3d(0px,0px,0px);\n        backface-visibility: hidden;\n        background-size: cover;\n        background-position: 50% 50%;\n        overflow: hidden;\n        pointer-events: none;\n        /*\n          //for svg-filters\n          z-index: -1;\n\n          bottom: 0;\n          height: 100%;\n          min-height: 100vh;\n          min-width: 177.77vh;\n        */\n      }\n        .component--media .video_src iframe {\n          /*\n            width -- 100vw !important\n            height -- 56.25vw !important\n            min-height -- 100vh\n            min-width -- 177.77vh\n          */\n          width: 100% !important;\n          height: 100% !important;\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n        }\n      .component--media .image_src {\n        position: absolute;\n        opacity: 1;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        height: 100%;\n        backface-visibility: hidden;\n        transform: translate3d(0px,0px,0px);\n        background-size: cover;\n        background-position: 50% 50%;\n        background-repeat: no-repeat;\n        overflow: hidden;\n        pointer-events: none;\n        /*\n          // for svg-filters\n          z-index: -1;\n        */\n      }\n  '
};

// :scope-Header-bg-media {
//  pos--a
//
//  o--1
//  l--0
//  r--0
//  t--0
//  h--100%
//
//  bf-viz -- hidden
//  tf -- translate3d(0px,0px,0px)
//  bg-sz--cover
//  bg--pos--50% 50%
//  ovf--hidden
//
//  chroma-filter--gradient-map
//
//  bg-clr -- chroma-box
//
//  z-idx -- -1
// }

function src_is_video(src) {
  if (src.includes('vimeo.com')) return true;
  if (src.includes('youtube.com')) return true;
  return false;
}

var vimeoConfig = {
  background: 1,
  iframeParams: { background: 1 },
  preload: true
};

var createVNode = Inferno.createVNode;

var Media = function (_React$Component) {
  (0, _inherits3.default)(Media, _React$Component);

  function Media() {
    (0, _classCallCheck3.default)(this, Media);
    return (0, _possibleConstructorReturn3.default)(this, (Media.__proto__ || (0, _getPrototypeOf2.default)(Media)).apply(this, arguments));
  }

  (0, _createClass3.default)(Media, [{
    key: 'get_id',
    value: function get_id() {
      if (this.props.id) return this.props.id;
      return this._id;
    }
  }, {
    key: 'get_className',
    value: function get_className() {
      var className = this.props.className;

      if (!className) className = '';
      className += ' media component--media';
      return className;
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      if (this.props.videoSrc !== nextProps.videoSrc) return true;
      if (this.props.imageSrc !== nextProps.imageSrc) return true;
      if (this.props.className !== nextProps.className) return true;
      if (this.props.style !== nextProps.style) return true;
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      // getId('Header-bg')
      this.id = this.get_id();
      this.className = this.get_className();
      var style = this.props.style;
      return createVNode(2, 'div', {
        'id': this.id,
        'className': this.className,
        'style': style
      }, this.renderChildren(), null, this.id);
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      return [this.render_media()];
    }
  }, {
    key: 'render_media',
    value: function render_media() {
      var _props = this.props,
          videoSrc = _props.videoSrc,
          imageSrc = _props.imageSrc;

      if (videoSrc) return this.render_media_video(videoSrc);
      return this.render_media_image(imageSrc);
    }
  }, {
    key: 'render_media_video',
    value: function render_media_video(src) {
      if (!this.onVideoStart) {
        this.onVideoStart = function () {};
      }
      return createVNode(16, _reactPlayer2.default, {
        'id': this.get_id() + '_src',
        'className': 'media_src video_src',
        'url': src,
        'playing': true,
        'loop': true,
        'volume': 0,
        'vimeoConfig': vimeoConfig,
        'width': '100%',
        'height': '100%',
        'onStart': this.onVideoStart
      }, null, null, 'ReactPlayer');
      //style={inlineStyles.video_src}
    }
  }, {
    key: 'render_media_image',
    value: function render_media_image(src) {
      return createVNode(2, 'div', {
        'id': this.get_id() + '_src',
        'className': 'media_src image_src',
        'style': { backgroundImage: 'url(' + src + ')' }
      }, null, null, 'image');
      // id={getId('Header-bg-media')}
    }
  }]);
  return Media;
}(_infernoCompat2.default.Component);

Media.displayName = 'Media';
exports.default = (0, _uiDesignable2.default)(Media, designConfig);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 145 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
function testClassname(classString) {
  if (typeof classString !== 'string') throw new Error('util-classString{classObj} requires className as string');
  return classString;
}

// read {key}--{val} pairs by key
function get(classString, key, fallback) {
  if (!classString) return fallback;
  testClassname(classString);
  key += '--';
  var i = classString.indexOf(key);
  if (i === -1) return fallback;
  var val = classString.substr(i + key.length);
  i = val.indexOf(' ');
  val = i === -1 ? val : val.substr(0, i);
  if (val === 'true') return true;
  if (val === 'false') return false;
  if (val === 'null') return null;
  var n = Number(val);
  if (!isNaN(n)) return n;
  return val;
}

// add a class or array of classes to string
function add(classString, classesToAdd) {
  classString = !classString ? '' : testClassname(classString);
  // add a string
  if (typeof classesToAdd === 'string') return _add(classString, classesToAdd);
  // add each string from array
  var i, classToAdd;
  for (i = 0; i < classesToAdd.length; i++) {
    classToAdd = classesToAdd[i];
    classString = _add(classString, classToAdd);
  }
  return classString;
}
function _add(classString, classToAdd) {
  if (!classString) return classToAdd;
  var i = classString.indexOf(classToAdd);
  if (i > -1) {
    var nextChar = classString[i + classToAdd.length];
    var prevChar = classString[i - 1];
    if ((!nextChar || nextChar === ' ') && (!prevChar || prevChar === ' ')) {
      return classString;
    }
  }
  return classString + ' ' + classToAdd;
}

var classObj = {
  get: get,
  add: add
};

exports.default = classObj;
exports.classObj = classObj;

/***/ }),
/* 146 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _isURL = __webpack_require__(428);

var _isURL2 = _interopRequireDefault(_isURL);

var _isEmail = __webpack_require__(424);

var _isEmail2 = _interopRequireDefault(_isEmail);

var _isLength = __webpack_require__(426);

var _isLength2 = _interopRequireDefault(_isLength);

var _isNumeric = __webpack_require__(427);

var _isNumeric2 = _interopRequireDefault(_isNumeric);

var _trim = __webpack_require__(432);

var _trim2 = _interopRequireDefault(_trim);

var _isUUID = __webpack_require__(429);

var _isUUID2 = _interopRequireDefault(_isUUID);

var _validUrl = __webpack_require__(422);

var _validUrl2 = _interopRequireDefault(_validUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isWebUri = _validUrl2.default.isWebUri;

var minLength1 = function minLength1(value) {
  return (0, _isLength2.default)((0, _trim2.default)(value), { min: 1 });
};

var isPhone = function isPhone(value) {
  return (0, _isNumeric2.default)(value) && (0, _isLength2.default)((0, _trim2.default)(value), { min: 6 });
};

var alwaysTrueValidator = function alwaysTrueValidator(value) {
  return true;
};

var isUUID = function isUUID(value) {
  return isNotEmpty(value) && (0, _isUUID2.default)(value);
};
var isString = function isString(value) {
  return value && typeof value === 'string';
};
var isObj = function isObj(value) {
  return value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) === 'object';
};
var isBool = function isBool(value) {
  return value === true || value === false || typeof value === 'boolean';
};
var isNotEmpty = function isNotEmpty(value) {
  return typeof value != 'undefined' && value !== undefined && value !== null;
};
var isEmpty = function isEmpty(value) {
  return !isNotEmpty(value);
};

var isArray = Array.isArray;

// isArray, isObj

exports.default = {
  alwaysTrueValidator: alwaysTrueValidator,

  isBool: isBool,
  isNotEmpty: isNotEmpty,
  isEmpty: isEmpty,
  isObj: isObj,
  isArray: isArray,
  isString: isString,
  isUUID: isUUID,

  isURL: _isURL2.default,
  isEmail: _isEmail2.default,
  isPhone: isPhone,

  trim: _trim2.default,
  minLength1: minLength1,
  isLength: _isLength2.default,

  isWebUri: isWebUri,
  validUrl: _validUrl2.default
};
module.exports = exports['default'];

/***/ }),
/* 147 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// @TODO: what... is... this
var enhance = function enhance(Component) {
  return Component;
};

exports.default = enhance;
module.exports = exports["default"];

/***/ }),
/* 148 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* TODO: gold-min api
    .WizStep-content.fill {
      gold-min--12
    }
*/

// <Style perf={true} parseObject={true}>{
//
//   {
//
//   '.WizardViewContainer': {
//     opacity: 1,
//     transition: 'none !important',
//     box_sizing: 'border-box',
//     position: 'absolute',
//     top: 0, bottom: 0, left: 0, right: 0,
//
//     '.spring--1': {
//       transition: 'none !important',
//     },
//     'input.spring--1': {
//       transition: 'none !important',
//     },
//     '.spring--2': {
//       transition: 'none !important',
//     },
//     '.spring--3': {
//       transition: 'none !important',
//     },
//     '.spring-scale': {
//       transition: 'none !important',
//     },
//     '.card': {
//       transition: 'none !important',
//       '.content': {
//         transition: 'none !important',
//       },
//     },
//   },
// }}</Style>


var createVNode = Inferno.createVNode;
var style = createVNode(2, 'span', null, createVNode(16, _styleverse.Style, {
  'perf': true,
  children: '\n      // .WizardViewContainer {\n      //   pos -- a\n      //   t -- 0\n      //   r -- 0\n      //   b -- 0\n      //   l -- 100%\n      //   transition -- all 10s\n      //   transform -- translateX(-100%)\n      // }\n      // .WizardViewContainer.slide {\n      //   l -- 0\n      //   transition -- all 10s\n      // }\n\n      .Wizard {\n        w -- 100%\n        h -- 100vh\n        box-szg -- border-box\n        pos -- a\n        t -- 0\n        l -- 0\n        ovf -- hidden\n      }\n\n      .Wizard-bg {\n        pos -- a\n        t -- 0\n        l -- 0\n        b -- 0\n        r -- 0\n        bg-clr -- chroma-box\n        trans -- background-color .3s\n      }\n\n      .WizStep {\n        w--100%\n        min-h--100vh\n        fnt-sz--d-s\n        pos--r\n        ovf--hidden\n      }\n\n      .WizStep .svg-wrap {\n        pos -- a\n        l -- .25em\n        t -- .25em\n        w -- 2em\n        h -- 2em\n        o -- .2\n        trans -- opacity .2s\n        clr -- chroma-title\n        cur -- p\n      }\n\n      .WizStep .svg-wrap:hover {\n        o -- .75\n      }\n\n      .WizStep-content {\n        d--flx\n        flx-dir--col\n        flx-jst--strt\n        flx-aln--strch\n        pos--r\n        mar-l-- 1goldx\n        mar-t-- 1goldy\n        mar-b-- 1goldy\n        w-- -3goldx\n        min-h-- -3goldy\n      }\n\n      .WizStep-message {\n        fnt--d\n        fnt-sz--d-s\n        ln-h--s\n      }\n      .WizStep-message-line.odd {\n        clr--chroma-title\n        //spring--1\n      }\n      .WizStep-message-line.even {\n        clr--chroma-title2\n        //spring--3\n      }\n      .WizStep-choose-item {\n        d--flx\n      }\n      .WizStep-body {\n        d--flx\n        mar-t--1.55em\n        mar-b--1.55em\n        max-h-- -2goldy\n        ovf -- auto\n      }\n\n      .WizStep-input {\n        bdr-clr--chroma-line\n        clr--chroma-text\n        //spring--1\n        fnt--d2\n        fnt-sz--d-xl\n        w--100%\n        bdr-b-w--2\n        bdr-sty--s\n        bdr-t--n\n        bdr-r--n\n        bdr-l--n\n      }\n\n      .WizStep-input-message {\n        clr--chroma-meta\n        //spring--3\n        fnt--txt\n        fnt-sz--txt\n        ln-h-- 1.5em\n        mar-t-- 1em\n        min-h-- 1.5em\n      }\n        .WizStep-input-message.error {\n          chroma--loading-text\n        }\n\n\n      .WizStep-footer {\n        //spring--2\n        d--flx\n        flx-jst--end\n        flx-aln--end\n      }\n\n      .WizStep-button {\n        fnt--d\n        fnt-sz--d-s\n        mar-l--1em\n        mar-t--2em\n        d--ib\n        pad-t--0\n      }\n      .WizStep-button:first-of-type {\n        mar-l--0\n      }\n\n        .WizStep-button.suggest {\n          // spring--3\n          color -- chroma-text-pop\n        }\n        .WizStep-button.suggest:hover {\n          color -- chroma-text-pop2\n        }\n        .WizStep-button.suggest.input-invalid {\n          chroma--box-pop2\n        }\n        .WizStep-button.continue {\n          // spring--2\n          chroma--box-pop\n        }\n        .WizStep-button.continue:hover {\n          chroma--box-pop2\n        }\n        .WizStep-button.continue.input-invalid {\n          clr--chroma-meta\n          bg-clr--transparent\n        }\n\n      .WizStep-Rating {\n        bdr-clr--chroma-line\n        //spring--3\n        fnt--d\n        fnt-sz--d-s\n        d--b\n        txt-aln--c\n      }\n      .WizStep-Rating-lines{\n        color--text2\n      }\n      .NavChoose-title {\n        color--title\n      }\n      .NavChoose-message {\n        fnt--txt\n        fnt-sz--txt\n      }\n      .NavChoose-message-line1 {\n        color--chroma-text-pop\n      }\n      .NavChoose-message-line2 {\n        color--chroma-meta\n      }\n      .NavChoose-message-line3 {\n        color--chroma-text2\n      }\n      .NavChoose-footer-button-nav {\n        background-color--chroma-box-pop2\n        color--chroma-box-pop\n        // background-color--chroma-box\n      }\n      .NavChoose-footer-button-publish {\n        color--chroma-box-pop\n      }\n      .ContentLinks-header-text {\n        color--chroma-meta\n      }\n      .ContentLinks-section-input {\n        fnt-sz--d-l\n      }\n      .CTA-header-site-ctas {\n        color--chroma--text-pop\n      }\n      .CTA-header-message1 {\n        color--chroma--title2\n      }\n      .CTA-header-message2 {\n        color--chroma--meta\n      }\n      .CTA-section-body {\n        w--100p\n        d--flx\n        flx-jst--btwn\n        mar-ver--4em\n      }\n      .CTA-section-div1 {\n        w--100p\n        min-w--6em\n        h--3em\n        fnt-sz--d\n        d--ib\n        txt-aln--c\n        color--box-whiter\n        mar-r--1em\n        d--flx\n        flx-dir--col\n        flx-jst--mid\n        bdr-rad--2\n      }\n      .CTA-section-div1-follow {\n        fnt--d2\n        color--chroma-title2\n      }\n      .CTA-section-div1-visitor-follower {\n        fnt--txt\n        fnt-sz--txt-s\n        w--100p\n        mar-b--1_25em\n        o--_75\n        color--text-pop2\n        whs--nw\n      }\n      .CTA-section-div2 {\n        w--100p\n        h--3em\n        fnt-sz--d\n        d--ib\n        txt-aln--c\n        bdr-w--4\n        bdr-sty--s\n        mar-l--1em\n        d--flx\n        flx-dir--col\n        flx-jst--mid\n        bdr-rad--2\n        // color-bg2\n      }\n      .CTA-section-div2-plus {\n        fnt--d2\n        w--100p\n        color--text2\n      }\n      .CTA-section-div2-another_cta {\n        fnt--txt\n        fnt-sz--txt-s\n        w--100p\n        mar-b--1_25em\n        color--text2\n        o--_5\n        whs--nw\n      }\n      .ContactInfo-header-no_worries {\n        fnt-sz--txt\n        fnt--txt\n        color--chroma-meta\n      }\n      .ContactInfo-section {\n        mar-ver--3em\n      }\n      .ContactInfo-inputs {\n        fnt-sz--d-s\n        fnt--d\n      }\n      .Sitename-input {\n        fnt-sz--d-l\n      }\n      .Rate-rating {\n        mar-t--3em\n        mar-b--3em\n      }\n      .CTAChooser-cards {\n        max-w--100p\n        fnt-sz--d-xl\n        d--ib\n        txt-aln--c\n        // color-hvr--box-whiter\n        mar-r--1em\n        d--flx\n        flx-dir--col\n        flx-jst--mid\n        bdr-rad--2\n        mar-ver--_5em\n      }\n      .CTAChooser-cards-default_label {\n        fnt--d2\n        color--title2\n        fnt-sz--d-l\n      }\n      .CTAChooser-cards-description {\n        fnt--txt\n        fnt-sz--txt-l\n        w--100p\n        mar-b--1_25em\n        o--_75\n        color--chroma-text-pop2\n      }\n      .CTAChooser-section {\n        w--100p\n        d--flx\n        flx-jst--btwn\n        flex-wrap -- nowrap\n      }\n      .WizStep-footer-button-never_ever {\n        color--chroma-box-pop2\n      }\n    '
}, null, null, 'base-wizard-styles-key'));

exports.default = style;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 149 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(789), __esModule: true };

/***/ }),
/* 150 */
/***/ (function(module, exports) {

module.exports = function(it){
  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
  return it;
};

/***/ }),
/* 151 */
/***/ (function(module, exports, __webpack_require__) {

// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx      = __webpack_require__(55)
  , IObject  = __webpack_require__(155)
  , toObject = __webpack_require__(75)
  , toLength = __webpack_require__(115)
  , asc      = __webpack_require__(814);
module.exports = function(TYPE, $create){
  var IS_MAP        = TYPE == 1
    , IS_FILTER     = TYPE == 2
    , IS_SOME       = TYPE == 3
    , IS_EVERY      = TYPE == 4
    , IS_FIND_INDEX = TYPE == 6
    , NO_HOLES      = TYPE == 5 || IS_FIND_INDEX
    , create        = $create || asc;
  return function($this, callbackfn, that){
    var O      = toObject($this)
      , self   = IObject(O)
      , f      = ctx(callbackfn, that, 3)
      , length = toLength(self.length)
      , index  = 0
      , result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined
      , val, res;
    for(;length > index; index++)if(NO_HOLES || index in self){
      val = self[index];
      res = f(val, index, O);
      if(TYPE){
        if(IS_MAP)result[index] = res;            // map
        else if(res)switch(TYPE){
          case 3: return true;                    // some
          case 5: return val;                     // find
          case 6: return index;                   // findIndex
          case 2: result.push(val);               // filter
        } else if(IS_EVERY)return false;          // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};

/***/ }),
/* 152 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global         = __webpack_require__(32)
  , $export        = __webpack_require__(25)
  , meta           = __webpack_require__(73)
  , fails          = __webpack_require__(56)
  , hide           = __webpack_require__(58)
  , redefineAll    = __webpack_require__(114)
  , forOf          = __webpack_require__(82)
  , anInstance     = __webpack_require__(109)
  , isObject       = __webpack_require__(33)
  , setToStringTag = __webpack_require__(85)
  , dP             = __webpack_require__(37).f
  , each           = __webpack_require__(151)(0)
  , DESCRIPTORS    = __webpack_require__(42);

module.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK){
  var Base  = global[NAME]
    , C     = Base
    , ADDER = IS_MAP ? 'set' : 'add'
    , proto = C && C.prototype
    , O     = {};
  if(!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function(){
    new C().entries().next();
  }))){
    // create collection constructor
    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
    redefineAll(C.prototype, methods);
    meta.NEED = true;
  } else {
    C = wrapper(function(target, iterable){
      anInstance(target, C, NAME, '_c');
      target._c = new Base;
      if(iterable != undefined)forOf(iterable, IS_MAP, target[ADDER], target);
    });
    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','),function(KEY){
      var IS_ADDER = KEY == 'add' || KEY == 'set';
      if(KEY in proto && !(IS_WEAK && KEY == 'clear'))hide(C.prototype, KEY, function(a, b){
        anInstance(this, C, KEY);
        if(!IS_ADDER && IS_WEAK && !isObject(a))return KEY == 'get' ? undefined : false;
        var result = this._c[KEY](a === 0 ? 0 : a, b);
        return IS_ADDER ? this : result;
      });
    });
    if('size' in proto)dP(C.prototype, 'size', {
      get: function(){
        return this._c.size;
      }
    });
  }

  setToStringTag(C, NAME);

  O[NAME] = C;
  $export($export.G + $export.W + $export.F, O);

  if(!IS_WEAK)common.setStrong(C, NAME, IS_MAP);

  return C;
};

/***/ }),
/* 153 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(33)
  , document = __webpack_require__(32).document
  // in old IE typeof document.createElement is 'object'
  , is = isObject(document) && isObject(document.createElement);
module.exports = function(it){
  return is ? document.createElement(it) : {};
};

/***/ }),
/* 154 */
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');

/***/ }),
/* 155 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__(81);
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){
  return cof(it) == 'String' ? it.split('') : Object(it);
};

/***/ }),
/* 156 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY        = __webpack_require__(112)
  , $export        = __webpack_require__(25)
  , redefine       = __webpack_require__(159)
  , hide           = __webpack_require__(58)
  , has            = __webpack_require__(57)
  , Iterators      = __webpack_require__(72)
  , $iterCreate    = __webpack_require__(820)
  , setToStringTag = __webpack_require__(85)
  , getPrototypeOf = __webpack_require__(270)
  , ITERATOR       = __webpack_require__(27)('iterator')
  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`
  , FF_ITERATOR    = '@@iterator'
  , KEYS           = 'keys'
  , VALUES         = 'values';

var returnThis = function(){ return this; };

module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){
  $iterCreate(Constructor, NAME, next);
  var getMethod = function(kind){
    if(!BUGGY && kind in proto)return proto[kind];
    switch(kind){
      case KEYS: return function keys(){ return new Constructor(this, kind); };
      case VALUES: return function values(){ return new Constructor(this, kind); };
    } return function entries(){ return new Constructor(this, kind); };
  };
  var TAG        = NAME + ' Iterator'
    , DEF_VALUES = DEFAULT == VALUES
    , VALUES_BUG = false
    , proto      = Base.prototype
    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]
    , $default   = $native || getMethod(DEFAULT)
    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined
    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native
    , methods, key, IteratorPrototype;
  // Fix native
  if($anyNative){
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));
    if(IteratorPrototype !== Object.prototype){
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if(DEF_VALUES && $native && $native.name !== VALUES){
    VALUES_BUG = true;
    $default = function values(){ return $native.call(this); };
  }
  // Define iterator
  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG]  = returnThis;
  if(DEFAULT){
    methods = {
      values:  DEF_VALUES ? $default : getMethod(VALUES),
      keys:    IS_SET     ? $default : getMethod(KEYS),
      entries: $entries
    };
    if(FORCED)for(key in methods){
      if(!(key in proto))redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};

/***/ }),
/* 157 */
/***/ (function(module, exports, __webpack_require__) {

var pIE            = __webpack_require__(83)
  , createDesc     = __webpack_require__(84)
  , toIObject      = __webpack_require__(50)
  , toPrimitive    = __webpack_require__(164)
  , has            = __webpack_require__(57)
  , IE8_DOM_DEFINE = __webpack_require__(261)
  , gOPD           = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__(42) ? gOPD : function getOwnPropertyDescriptor(O, P){
  O = toIObject(O);
  P = toPrimitive(P, true);
  if(IE8_DOM_DEFINE)try {
    return gOPD(O, P);
  } catch(e){ /* empty */ }
  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);
};

/***/ }),
/* 158 */
/***/ (function(module, exports) {

exports.f = Object.getOwnPropertySymbols;

/***/ }),
/* 159 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(58);

/***/ }),
/* 160 */
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__(161)('keys')
  , uid    = __webpack_require__(116);
module.exports = function(key){
  return shared[key] || (shared[key] = uid(key));
};

/***/ }),
/* 161 */
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__(32)
  , SHARED = '__core-js_shared__'
  , store  = global[SHARED] || (global[SHARED] = {});
module.exports = function(key){
  return store[key] || (store[key] = {});
};

/***/ }),
/* 162 */
/***/ (function(module, exports, __webpack_require__) {

var ctx                = __webpack_require__(55)
  , invoke             = __webpack_require__(818)
  , html               = __webpack_require__(260)
  , cel                = __webpack_require__(153)
  , global             = __webpack_require__(32)
  , process            = global.process
  , setTask            = global.setImmediate
  , clearTask          = global.clearImmediate
  , MessageChannel     = global.MessageChannel
  , counter            = 0
  , queue              = {}
  , ONREADYSTATECHANGE = 'onreadystatechange'
  , defer, channel, port;
var run = function(){
  var id = +this;
  if(queue.hasOwnProperty(id)){
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function(event){
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if(!setTask || !clearTask){
  setTask = function setImmediate(fn){
    var args = [], i = 1;
    while(arguments.length > i)args.push(arguments[i++]);
    queue[++counter] = function(){
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id){
    delete queue[id];
  };
  // Node.js 0.8-
  if(__webpack_require__(81)(process) == 'process'){
    defer = function(id){
      process.nextTick(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if(MessageChannel){
    channel = new MessageChannel;
    port    = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){
    defer = function(id){
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if(ONREADYSTATECHANGE in cel('script')){
    defer = function(id){
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function(id){
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set:   setTask,
  clear: clearTask
};

/***/ }),
/* 163 */
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil  = Math.ceil
  , floor = Math.floor;
module.exports = function(it){
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

/***/ }),
/* 164 */
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__(33);
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function(it, S){
  if(!isObject(it))return it;
  var fn, val;
  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;
  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
  throw TypeError("Can't convert object to primitive value");
};

/***/ }),
/* 165 */
/***/ (function(module, exports, __webpack_require__) {

var global         = __webpack_require__(32)
  , core           = __webpack_require__(15)
  , LIBRARY        = __webpack_require__(112)
  , wksExt         = __webpack_require__(166)
  , defineProperty = __webpack_require__(37).f;
module.exports = function(name){
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});
};

/***/ }),
/* 166 */
/***/ (function(module, exports, __webpack_require__) {

exports.f = __webpack_require__(27);

/***/ }),
/* 167 */
/***/ (function(module, exports, __webpack_require__) {

var classof   = __webpack_require__(110)
  , ITERATOR  = __webpack_require__(27)('iterator')
  , Iterators = __webpack_require__(72);
module.exports = __webpack_require__(15).getIteratorMethod = function(it){
  if(it != undefined)return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};

/***/ }),
/* 168 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _theDataModeler = __webpack_require__(62);

var _styleverse = __webpack_require__(9);

var _layoutverse = __webpack_require__(105);

var _uiFab = __webpack_require__(222);

var _uiFab2 = _interopRequireDefault(_uiFab);

var _baseComponent = __webpack_require__(139);

var _baseComponent2 = _interopRequireDefault(_baseComponent);

var _styles = __webpack_require__(566);

var _styles2 = _interopRequireDefault(_styles);

var _overlay = __webpack_require__(557);

var _overlay2 = _interopRequireDefault(_overlay);

var _siteStore = __webpack_require__(563);

var _siteStore2 = _interopRequireDefault(_siteStore);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

// TODO

var Site = function (_Component) {
  (0, _inherits3.default)(Site, _Component);

  function Site() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Site);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Site.__proto__ || (0, _getPrototypeOf2.default)(Site)).call.apply(_ref, [this].concat(args))), _this), _this.siteData = null, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Site, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      // TODO - define how we inject initState.

      var styleverse = this.props.styleverse;

      if (styleverse) {
        this.context.request('styleverse', 'merge', styleverse);
      }

      this.store.willMount({ data: this.props.data });

      (0, _deps.raf)(function () {
        _this2.context.request('storyline', 'push-story', 'view-site'); //'-color-shuffle')
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount();
    }

    // TODO: update siteData???

  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.store.willGetProps({ data: nextProps.data });
    }
  }, {
    key: 'render',
    value: function render() {
      // <StyleContext id="app-root" perf={false} {...this.getStyleContextProps()}>
      var id = this.props.id || "site";
      var className = this.props.className || "site";
      return createVNode(16, _overlay2.default, {
        children: createVNode(2, 'div', {
          'id': id,
          'className': className,
          'style': { visibility: 'hidden', opacity: 0 }
        }, [createVNode(16, _styles2.default, {
          'scope': 'html',
          children: [createVNode(16, _styleverse.Style, {
            'perf': true,
            'scope': "#" + id,
            children: '\n\n                  :scope {\n                    ovf-x -- hidden\n                    w -- 100%\n                    visibility -- visible !important\n                    opacity -- 1 !important\n                  }\n\n                  * {\n                    box-szg -- border-box\n                    pad -- 0\n                    mar -- 000000\n                  }\n\n                  html {\n                    bg-clr -- chroma-dark-1-bg\n                    min-h -- 540\n                  }\n\n                  body {\n                    overflow-x -- hidden\n                  }\n\n                  section {\n                    h1, h2, h3, h4, h5, h6, p, picture, iframe, quote, ol, ul {\n                      mar-b -- 1.5rem\n                      max-w -- 100%\n                    }\n                  }\n\n                  a {\n                    color -- chroma-text-pop\n                  }\n\n                  h1:hover, h2:hover, h3:hover {\n                    cursor -- pointer\n                  }\n\n                  button {\n                    bdr -- n\n                  }\n\n                  .author > * {\n                    whs -- nowrap\n                  }\n\n                  section {\n                    z-idx -- 0\n                    d -- flex\n                    overflow-x -- hidden\n                    w -- 100%\n                  }\n                  .section-layout {\n                    d -- block !important\n                    tf-origin -- 50% 0%\n                    transition -- transform .3s\n                  }\n                  .section-layout-node {\n                    transition -- transform .3s, width .2s\n                  }\n\n                  //.section-layout > * {\n                  //  pos -- relative !important\n                  //  tf -- scale(1) !important\n                  //}\n\n                  ::selection {\n                    bg-color -- chroma-selection\n                    color -- chroma-selection-text\n                    text-shadow -- none\n                  }\n\n                '
          }), createVNode(2, 'style', {
            'dangerouslySetInnerHTML': { __html: '\n                  html body figure {\n                    line-height: 0;\n                    -webkit-margin-before: 0;\n                    -webkit-margin-after: 0;\n                    -webkit-margin-start: 0;\n                    -webkit-margin-end: 0;\n                  }\n                  ' }
          })]
        }), this.props.children])
      });
    }
  }]);
  return Site;
}(_baseComponent2.default);

Site.propTypes = {
  data: _infernoCompat2.default.PropTypes.object
};
Site.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
exports.default = (0, _cymatics.installStore)(Site, 'site', function (component) {
  return new _siteStore2.default();
});
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 169 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SemanticDisplay = exports.SemanticVector = exports.SemanticSpace = undefined;

var _semanticSpace = __webpack_require__(670);

var _semanticSpace2 = _interopRequireDefault(_semanticSpace);

var _semanticVector = __webpack_require__(237);

var _semanticVector2 = _interopRequireDefault(_semanticVector);

var _semanticDisplay = __webpack_require__(669);

var _semanticDisplay2 = _interopRequireDefault(_semanticDisplay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.SemanticSpace = _semanticSpace2.default;
exports.SemanticVector = _semanticVector2.default;
exports.SemanticDisplay = _semanticDisplay2.default;

/***/ }),
/* 170 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var utils = __webpack_require__(34);
var settle = __webpack_require__(286);
var buildURL = __webpack_require__(289);
var parseHeaders = __webpack_require__(295);
var isURLSameOrigin = __webpack_require__(293);
var createError = __webpack_require__(173);
var btoa = typeof window !== 'undefined' && window.btoa && window.btoa.bind(window) || __webpack_require__(288);

module.exports = function xhrAdapter(config) {
  return new _promise2.default(function dispatchXhrRequest(resolve, reject) {
    var requestData = config.data;
    var requestHeaders = config.headers;

    if (utils.isFormData(requestData)) {
      delete requestHeaders['Content-Type']; // Let the browser set it
    }

    var request = new XMLHttpRequest();
    var loadEvent = 'onreadystatechange';
    var xDomain = false;

    // For IE 8/9 CORS support
    // Only supports POST and GET calls and doesn't returns the response headers.
    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.
    if ("production" !== 'test' && typeof window !== 'undefined' && window.XDomainRequest && !('withCredentials' in request) && !isURLSameOrigin(config.url)) {
      request = new window.XDomainRequest();
      loadEvent = 'onload';
      xDomain = true;
      request.onprogress = function handleProgress() {};
      request.ontimeout = function handleTimeout() {};
    }

    // HTTP basic authentication
    if (config.auth) {
      var username = config.auth.username || '';
      var password = config.auth.password || '';
      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);
    }

    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);

    // Set the request timeout in MS
    request.timeout = config.timeout;

    // Listen for ready state
    request[loadEvent] = function handleLoad() {
      if (!request || request.readyState !== 4 && !xDomain) {
        return;
      }

      // The request errored out and we didn't get a response, this will be
      // handled by onerror instead
      // With one exception: request that using file: protocol, most browsers
      // will return status as 0 even though it's a successful request
      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {
        return;
      }

      // Prepare the response
      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;
      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;
      var response = {
        data: responseData,
        // IE sends 1223 instead of 204 (https://github.com/mzabriskie/axios/issues/201)
        status: request.status === 1223 ? 204 : request.status,
        statusText: request.status === 1223 ? 'No Content' : request.statusText,
        headers: responseHeaders,
        config: config,
        request: request
      };

      settle(resolve, reject, response);

      // Clean up request
      request = null;
    };

    // Handle low level network errors
    request.onerror = function handleError() {
      // Real errors are hidden from us by the browser
      // onerror should only fire if it's a network error
      reject(createError('Network Error', config));

      // Clean up request
      request = null;
    };

    // Handle timeout
    request.ontimeout = function handleTimeout() {
      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED'));

      // Clean up request
      request = null;
    };

    // Add xsrf header
    // This is only done if running in a standard browser environment.
    // Specifically not if we're in a web worker, or react-native.
    if (utils.isStandardBrowserEnv()) {
      var cookies = __webpack_require__(291);

      // Add xsrf header
      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ? cookies.read(config.xsrfCookieName) : undefined;

      if (xsrfValue) {
        requestHeaders[config.xsrfHeaderName] = xsrfValue;
      }
    }

    // Add headers to the request
    if ('setRequestHeader' in request) {
      utils.forEach(requestHeaders, function setRequestHeader(val, key) {
        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {
          // Remove Content-Type if data is undefined
          delete requestHeaders[key];
        } else {
          // Otherwise add header to the request
          request.setRequestHeader(key, val);
        }
      });
    }

    // Add withCredentials to request if needed
    if (config.withCredentials) {
      request.withCredentials = true;
    }

    // Add responseType to request if needed
    if (config.responseType) {
      try {
        request.responseType = config.responseType;
      } catch (e) {
        if (request.responseType !== 'json') {
          throw e;
        }
      }
    }

    // Handle progress if needed
    if (typeof config.onDownloadProgress === 'function') {
      request.addEventListener('progress', config.onDownloadProgress);
    }

    // Not all browsers support upload events
    if (typeof config.onUploadProgress === 'function' && request.upload) {
      request.upload.addEventListener('progress', config.onUploadProgress);
    }

    if (config.cancelToken) {
      // Handle cancellation
      config.cancelToken.promise.then(function onCanceled(cancel) {
        if (!request) {
          return;
        }

        request.abort();
        reject(cancel);
        // Clean up request
        request = null;
      });
    }

    if (requestData === undefined) {
      requestData = null;
    }

    // Send the request
    request.send(requestData);
  });
};

/***/ }),
/* 171 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * A `Cancel` is an object that is thrown when an operation is canceled.
 *
 * @class
 * @param {string=} message The message.
 */

function Cancel(message) {
  this.message = message;
}

Cancel.prototype.toString = function toString() {
  return 'Cancel' + (this.message ? ': ' + this.message : '');
};

Cancel.prototype.__CANCEL__ = true;

module.exports = Cancel;

/***/ }),
/* 172 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function isCancel(value) {
  return !!(value && value.__CANCEL__);
};

/***/ }),
/* 173 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var enhanceError = __webpack_require__(285);

/**
 * Create an Error with the specified message, config, error code, and response.
 *
 * @param {string} message The error message.
 * @param {Object} config The config.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 @ @param {Object} [response] The response.
 * @returns {Error} The created error.
 */
module.exports = function createError(message, config, code, response) {
  var error = new Error(message);
  return enhanceError(error, config, code, response);
};

/***/ }),
/* 174 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function bind(fn, thisArg) {
  return function wrap() {
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }
    return fn.apply(thisArg, args);
  };
};

/***/ }),
/* 175 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var createChangeEmitter = exports.createChangeEmitter = function createChangeEmitter() {
  var currentListeners = [];
  var nextListeners = currentListeners;

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }

  function listen(listener) {
    if (typeof listener !== 'function') {
      throw new Error('Expected listener to be a function.');
    }

    var isSubscribed = true;

    ensureCanMutateNextListeners();
    nextListeners.push(listener);

    return function () {
      if (!isSubscribed) {
        return;
      }

      isSubscribed = false;

      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
    };
  }

  function emit() {
    currentListeners = nextListeners;
    var listeners = currentListeners;
    for (var i = 0; i < listeners.length; i++) {
      listeners[i].apply(listeners, arguments);
    }
  }

  return {
    listen: listen,
    emit: emit
  };
};

/***/ }),
/* 176 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = lazyInitialize;

var _privateUtils = __webpack_require__(23);

var defineProperty = _defineProperty2.default;

function handleDescriptor(target, key, descriptor) {
  var configurable = descriptor.configurable;
  var enumerable = descriptor.enumerable;
  var initializer = descriptor.initializer;
  var value = descriptor.value;

  return {
    configurable: configurable,
    enumerable: enumerable,

    get: function get() {
      // This happens if someone accesses the
      // property directly on the prototype
      if (this === target) {
        return;
      }

      var ret = initializer ? initializer.call(this) : value;

      defineProperty(this, key, {
        configurable: configurable,
        enumerable: enumerable,
        writable: true,
        value: ret
      });

      return ret;
    },

    set: (0, _privateUtils.createDefaultSetter)(key)
  };
}

function lazyInitialize() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 177 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var isDate = __webpack_require__(323);

var MILLISECONDS_IN_HOUR = 3600000;
var MILLISECONDS_IN_MINUTE = 60000;
var DEFAULT_ADDITIONAL_DIGITS = 2;

var parseTokenDateTimeDelimeter = /[T ]/;
var parseTokenPlainTime = /:/;

// year tokens
var parseTokenYY = /^(\d{2})$/;
var parseTokensYYY = [/^([+-]\d{2})$/, // 0 additional digits
/^([+-]\d{3})$/, // 1 additional digit
/^([+-]\d{4})$/ // 2 additional digits
];

var parseTokenYYYY = /^(\d{4})/;
var parseTokensYYYYY = [/^([+-]\d{4})/, // 0 additional digits
/^([+-]\d{5})/, // 1 additional digit
/^([+-]\d{6})/ // 2 additional digits
];

// date tokens
var parseTokenMM = /^-(\d{2})$/;
var parseTokenDDD = /^-?(\d{3})$/;
var parseTokenMMDD = /^-?(\d{2})-?(\d{2})$/;
var parseTokenWww = /^-?W(\d{2})$/;
var parseTokenWwwD = /^-?W(\d{2})-?(\d{1})$/;

// time tokens
var parseTokenHH = /^(\d{2}([.,]\d*)?)$/;
var parseTokenHHMM = /^(\d{2}):?(\d{2}([.,]\d*)?)$/;
var parseTokenHHMMSS = /^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/;

// timezone tokens
var parseTokenTimezone = /([Z+-].*)$/;
var parseTokenTimezoneZ = /^(Z)$/;
var parseTokenTimezoneHH = /^([+-])(\d{2})$/;
var parseTokenTimezoneHHMM = /^([+-])(\d{2}):?(\d{2})$/;

/**
 * @category Common Helpers
 * @summary Convert the given argument to an instance of Date.
 *
 * @description
 * Convert the given argument to an instance of Date.
 *
 * If the argument is an instance of Date, the function returns its clone.
 *
 * If the argument is a number, it is treated as a timestamp.
 *
 * If an argument is a string, the function tries to parse it.
 * Function accepts complete ISO 8601 formats as well as partial implementations.
 * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601
 *
 * If all above fails, the function passes the given argument to Date constructor.
 *
 * @param {Date|String|Number} argument - the value to convert
 * @param {Object} [options] - the object with options
 * @param {0 | 1 | 2} [options.additionalDigits=2] - the additional number of digits in the extended year format
 * @returns {Date} the parsed date in the local time zone
 *
 * @example
 * // Convert string '2014-02-11T11:30:30' to date:
 * var result = parse('2014-02-11T11:30:30')
 * //=> Tue Feb 11 2014 11:30:30
 *
 * @example
 * // Parse string '+02014101',
 * // if the additional number of digits in the extended year format is 1:
 * var result = parse('+02014101', {additionalDigits: 1})
 * //=> Fri Apr 11 2014 00:00:00
 */
function parse(argument, dirtyOptions) {
  if (isDate(argument)) {
    // Prevent the date to lose the milliseconds when passed to new Date() in IE10
    return new Date(argument.getTime());
  } else if (typeof argument !== 'string') {
    return new Date(argument);
  }

  var options = dirtyOptions || {};
  var additionalDigits = options.additionalDigits;
  if (additionalDigits == null) {
    additionalDigits = DEFAULT_ADDITIONAL_DIGITS;
  } else {
    additionalDigits = Number(additionalDigits);
  }

  var dateStrings = splitDateString(argument);

  var parseYearResult = parseYear(dateStrings.date, additionalDigits);
  var year = parseYearResult.year;
  var restDateString = parseYearResult.restDateString;

  var date = parseDate(restDateString, year);

  if (date) {
    var timestamp = date.getTime();
    var time = 0;
    var offset;

    if (dateStrings.time) {
      time = parseTime(dateStrings.time);
    }

    if (dateStrings.timezone) {
      offset = parseTimezone(dateStrings.timezone);
    } else {
      // get offset accurate to hour in timezones that change offset
      offset = new Date(timestamp + time).getTimezoneOffset();
      offset = new Date(timestamp + time + offset * MILLISECONDS_IN_MINUTE).getTimezoneOffset();
    }

    return new Date(timestamp + time + offset * MILLISECONDS_IN_MINUTE);
  } else {
    return new Date(argument);
  }
}

function splitDateString(dateString) {
  var dateStrings = {};
  var array = dateString.split(parseTokenDateTimeDelimeter);
  var timeString;

  if (parseTokenPlainTime.test(array[0])) {
    dateStrings.date = null;
    timeString = array[0];
  } else {
    dateStrings.date = array[0];
    timeString = array[1];
  }

  if (timeString) {
    var token = parseTokenTimezone.exec(timeString);
    if (token) {
      dateStrings.time = timeString.replace(token[1], '');
      dateStrings.timezone = token[1];
    } else {
      dateStrings.time = timeString;
    }
  }

  return dateStrings;
}

function parseYear(dateString, additionalDigits) {
  var parseTokenYYY = parseTokensYYY[additionalDigits];
  var parseTokenYYYYY = parseTokensYYYYY[additionalDigits];

  var token;

  // YYYY or ±YYYYY
  token = parseTokenYYYY.exec(dateString) || parseTokenYYYYY.exec(dateString);
  if (token) {
    var yearString = token[1];
    return {
      year: parseInt(yearString, 10),
      restDateString: dateString.slice(yearString.length)
    };
  }

  // YY or ±YYY
  token = parseTokenYY.exec(dateString) || parseTokenYYY.exec(dateString);
  if (token) {
    var centuryString = token[1];
    return {
      year: parseInt(centuryString, 10) * 100,
      restDateString: dateString.slice(centuryString.length)
    };
  }

  // Invalid ISO-formatted year
  return {
    year: null
  };
}

function parseDate(dateString, year) {
  // Invalid ISO-formatted year
  if (year === null) {
    return null;
  }

  var token;
  var date;
  var month;
  var week;

  // YYYY
  if (dateString.length === 0) {
    date = new Date(0);
    date.setUTCFullYear(year);
    return date;
  }

  // YYYY-MM
  token = parseTokenMM.exec(dateString);
  if (token) {
    date = new Date(0);
    month = parseInt(token[1], 10) - 1;
    date.setUTCFullYear(year, month);
    return date;
  }

  // YYYY-DDD or YYYYDDD
  token = parseTokenDDD.exec(dateString);
  if (token) {
    date = new Date(0);
    var dayOfYear = parseInt(token[1], 10);
    date.setUTCFullYear(year, 0, dayOfYear);
    return date;
  }

  // YYYY-MM-DD or YYYYMMDD
  token = parseTokenMMDD.exec(dateString);
  if (token) {
    date = new Date(0);
    month = parseInt(token[1], 10) - 1;
    var day = parseInt(token[2], 10);
    date.setUTCFullYear(year, month, day);
    return date;
  }

  // YYYY-Www or YYYYWww
  token = parseTokenWww.exec(dateString);
  if (token) {
    week = parseInt(token[1], 10) - 1;
    return dayOfISOYear(year, week);
  }

  // YYYY-Www-D or YYYYWwwD
  token = parseTokenWwwD.exec(dateString);
  if (token) {
    week = parseInt(token[1], 10) - 1;
    var dayOfWeek = parseInt(token[2], 10) - 1;
    return dayOfISOYear(year, week, dayOfWeek);
  }

  // Invalid ISO-formatted date
  return null;
}

function parseTime(timeString) {
  var token;
  var hours;
  var minutes;

  // hh
  token = parseTokenHH.exec(timeString);
  if (token) {
    hours = parseFloat(token[1].replace(',', '.'));
    return hours % 24 * MILLISECONDS_IN_HOUR;
  }

  // hh:mm or hhmm
  token = parseTokenHHMM.exec(timeString);
  if (token) {
    hours = parseInt(token[1], 10);
    minutes = parseFloat(token[2].replace(',', '.'));
    return hours % 24 * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE;
  }

  // hh:mm:ss or hhmmss
  token = parseTokenHHMMSS.exec(timeString);
  if (token) {
    hours = parseInt(token[1], 10);
    minutes = parseInt(token[2], 10);
    var seconds = parseFloat(token[3].replace(',', '.'));
    return hours % 24 * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;
  }

  // Invalid ISO-formatted time
  return null;
}

function parseTimezone(timezoneString) {
  var token;
  var absoluteOffset;

  // Z
  token = parseTokenTimezoneZ.exec(timezoneString);
  if (token) {
    return 0;
  }

  // ±hh
  token = parseTokenTimezoneHH.exec(timezoneString);
  if (token) {
    absoluteOffset = parseInt(token[2], 10) * 60;
    return token[1] === '+' ? -absoluteOffset : absoluteOffset;
  }

  // ±hh:mm or ±hhmm
  token = parseTokenTimezoneHHMM.exec(timezoneString);
  if (token) {
    absoluteOffset = parseInt(token[2], 10) * 60 + parseInt(token[3], 10);
    return token[1] === '+' ? -absoluteOffset : absoluteOffset;
  }

  return 0;
}

function dayOfISOYear(isoYear, week, day) {
  week = week || 0;
  day = day || 0;
  var date = new Date(0);
  date.setUTCFullYear(isoYear, 0, 4);
  var fourthOfJanuaryDay = date.getUTCDay() || 7;
  var diff = week * 7 + day + 1 - fourthOfJanuaryDay;
  date.setUTCDate(date.getUTCDate() + diff);
  return date;
}

module.exports = parse;

/***/ }),
/* 178 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var detector = module.exports = {};

detector.isIE = function (version) {
    function isAnyIeVersion() {
        var agent = navigator.userAgent.toLowerCase();
        return agent.indexOf("msie") !== -1 || agent.indexOf("trident") !== -1 || agent.indexOf(" edge/") !== -1;
    }

    if (!isAnyIeVersion()) {
        return false;
    }

    if (!version) {
        return true;
    }

    //Shamelessly stolen from https://gist.github.com/padolsey/527683
    var ieVersion = function () {
        var undef,
            v = 3,
            div = document.createElement("div"),
            all = div.getElementsByTagName("i");

        do {
            div.innerHTML = "<!--[if gt IE " + ++v + "]><i></i><![endif]-->";
        } while (all[0]);

        return v > 4 ? v : undef;
    }();

    return version === ieVersion;
};

detector.isLegacyOpera = function () {
    return !!window.opera;
};

/***/ }),
/* 179 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = module.exports = {};

/**
 * Loops through the collection and calls the callback for each element. if the callback returns truthy, the loop is broken and returns the same value.
 * @public
 * @param {*} collection The collection to loop through. Needs to have a length property set and have indices set from 0 to length - 1.
 * @param {function} callback The callback to be called for each element. The element will be given as a parameter to the callback. If this callback returns truthy, the loop is broken and the same value is returned.
 * @returns {*} The value that a callback has returned (if truthy). Otherwise nothing.
 */
utils.forEach = function (collection, callback) {
    for (var i = 0; i < collection.length; i++) {
        var result = callback(collection[i]);
        if (result) {
            return result;
        }
    }
};

/***/ }),
/* 180 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var forEach = __webpack_require__(179).forEach;
var elementUtilsMaker = __webpack_require__(326);
var listenerHandlerMaker = __webpack_require__(329);
var idGeneratorMaker = __webpack_require__(327);
var idHandlerMaker = __webpack_require__(328);
var reporterMaker = __webpack_require__(330);
var browserDetector = __webpack_require__(178);
var batchProcessorMaker = __webpack_require__(297);
var stateHandler = __webpack_require__(331);

//Detection strategies.
var objectStrategyMaker = __webpack_require__(324);
var scrollStrategyMaker = __webpack_require__(325);

function isCollection(obj) {
    return Array.isArray(obj) || obj.length !== undefined;
}

function toArray(collection) {
    if (!Array.isArray(collection)) {
        var array = [];
        forEach(collection, function (obj) {
            array.push(obj);
        });
        return array;
    } else {
        return collection;
    }
}

function isElement(obj) {
    return obj && obj.nodeType === 1;
}

/**
 * @typedef idHandler
 * @type {object}
 * @property {function} get Gets the resize detector id of the element.
 * @property {function} set Generate and sets the resize detector id of the element.
 */

/**
 * @typedef Options
 * @type {object}
 * @property {boolean} callOnAdd    Determines if listeners should be called when they are getting added.
                                    Default is true. If true, the listener is guaranteed to be called when it has been added.
                                    If false, the listener will not be guarenteed to be called when it has been added (does not prevent it from being called).
 * @property {idHandler} idHandler  A custom id handler that is responsible for generating, setting and retrieving id's for elements.
                                    If not provided, a default id handler will be used.
 * @property {reporter} reporter    A custom reporter that handles reporting logs, warnings and errors.
                                    If not provided, a default id handler will be used.
                                    If set to false, then nothing will be reported.
 * @property {boolean} debug        If set to true, the the system will report debug messages as default for the listenTo method.
 */

/**
 * Creates an element resize detector instance.
 * @public
 * @param {Options?} options Optional global options object that will decide how this instance will work.
 */
module.exports = function (options) {
    options = options || {};

    //idHandler is currently not an option to the listenTo function, so it should not be added to globalOptions.
    var idHandler;

    if (options.idHandler) {
        // To maintain compatability with idHandler.get(element, readonly), make sure to wrap the given idHandler
        // so that readonly flag always is true when it's used here. This may be removed next major version bump.
        idHandler = {
            get: function get(element) {
                return options.idHandler.get(element, true);
            },
            set: options.idHandler.set
        };
    } else {
        var idGenerator = idGeneratorMaker();
        var defaultIdHandler = idHandlerMaker({
            idGenerator: idGenerator,
            stateHandler: stateHandler
        });
        idHandler = defaultIdHandler;
    }

    //reporter is currently not an option to the listenTo function, so it should not be added to globalOptions.
    var reporter = options.reporter;

    if (!reporter) {
        //If options.reporter is false, then the reporter should be quiet.
        var quiet = reporter === false;
        reporter = reporterMaker(quiet);
    }

    //batchProcessor is currently not an option to the listenTo function, so it should not be added to globalOptions.
    var batchProcessor = getOption(options, "batchProcessor", batchProcessorMaker({ reporter: reporter }));

    //Options to be used as default for the listenTo function.
    var globalOptions = {};
    globalOptions.callOnAdd = !!getOption(options, "callOnAdd", true);
    globalOptions.debug = !!getOption(options, "debug", false);

    var eventListenerHandler = listenerHandlerMaker(idHandler);
    var elementUtils = elementUtilsMaker({
        stateHandler: stateHandler
    });

    //The detection strategy to be used.
    var detectionStrategy;
    var desiredStrategy = getOption(options, "strategy", "object");
    var strategyOptions = {
        reporter: reporter,
        batchProcessor: batchProcessor,
        stateHandler: stateHandler,
        idHandler: idHandler
    };

    if (desiredStrategy === "scroll") {
        if (browserDetector.isLegacyOpera()) {
            reporter.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy.");
            desiredStrategy = "object";
        } else if (browserDetector.isIE(9)) {
            reporter.warn("Scroll strategy is not supported on IE9. Changing to object strategy.");
            desiredStrategy = "object";
        }
    }

    if (desiredStrategy === "scroll") {
        detectionStrategy = scrollStrategyMaker(strategyOptions);
    } else if (desiredStrategy === "object") {
        detectionStrategy = objectStrategyMaker(strategyOptions);
    } else {
        throw new Error("Invalid strategy name: " + desiredStrategy);
    }

    //Calls can be made to listenTo with elements that are still being installed.
    //Also, same elements can occur in the elements list in the listenTo function.
    //With this map, the ready callbacks can be synchronized between the calls
    //so that the ready callback can always be called when an element is ready - even if
    //it wasn't installed from the function itself.
    var onReadyCallbacks = {};

    /**
     * Makes the given elements resize-detectable and starts listening to resize events on the elements. Calls the event callback for each event for each element.
     * @public
     * @param {Options?} options Optional options object. These options will override the global options. Some options may not be overriden, such as idHandler.
     * @param {element[]|element} elements The given array of elements to detect resize events of. Single element is also valid.
     * @param {function} listener The callback to be executed for each resize event for each element.
     */
    function listenTo(options, elements, listener) {
        function onResizeCallback(element) {
            var listeners = eventListenerHandler.get(element);
            forEach(listeners, function callListenerProxy(listener) {
                listener(element);
            });
        }

        function addListener(callOnAdd, element, listener) {
            eventListenerHandler.add(element, listener);

            if (callOnAdd) {
                listener(element);
            }
        }

        //Options object may be omitted.
        if (!listener) {
            listener = elements;
            elements = options;
            options = {};
        }

        if (!elements) {
            throw new Error("At least one element required.");
        }

        if (!listener) {
            throw new Error("Listener required.");
        }

        if (isElement(elements)) {
            // A single element has been passed in.
            elements = [elements];
        } else if (isCollection(elements)) {
            // Convert collection to array for plugins.
            // TODO: May want to check so that all the elements in the collection are valid elements.
            elements = toArray(elements);
        } else {
            return reporter.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");
        }

        var elementsReady = 0;

        var callOnAdd = getOption(options, "callOnAdd", globalOptions.callOnAdd);
        var onReadyCallback = getOption(options, "onReady", function noop() {});
        var debug = getOption(options, "debug", globalOptions.debug);

        forEach(elements, function attachListenerToElement(element) {
            if (!stateHandler.getState(element)) {
                stateHandler.initState(element);
                idHandler.set(element);
            }

            var id = idHandler.get(element);

            debug && reporter.log("Attaching listener to element", id, element);

            if (!elementUtils.isDetectable(element)) {
                debug && reporter.log(id, "Not detectable.");
                if (elementUtils.isBusy(element)) {
                    debug && reporter.log(id, "System busy making it detectable");

                    //The element is being prepared to be detectable. Do not make it detectable.
                    //Just add the listener, because the element will soon be detectable.
                    addListener(callOnAdd, element, listener);
                    onReadyCallbacks[id] = onReadyCallbacks[id] || [];
                    onReadyCallbacks[id].push(function onReady() {
                        elementsReady++;

                        if (elementsReady === elements.length) {
                            onReadyCallback();
                        }
                    });
                    return;
                }

                debug && reporter.log(id, "Making detectable...");
                //The element is not prepared to be detectable, so do prepare it and add a listener to it.
                elementUtils.markBusy(element, true);
                return detectionStrategy.makeDetectable({ debug: debug }, element, function onElementDetectable(element) {
                    debug && reporter.log(id, "onElementDetectable");

                    if (stateHandler.getState(element)) {
                        elementUtils.markAsDetectable(element);
                        elementUtils.markBusy(element, false);
                        detectionStrategy.addListener(element, onResizeCallback);
                        addListener(callOnAdd, element, listener);

                        // Since the element size might have changed since the call to "listenTo", we need to check for this change,
                        // so that a resize event may be emitted.
                        // Having the startSize object is optional (since it does not make sense in some cases such as unrendered elements), so check for its existance before.
                        // Also, check the state existance before since the element may have been uninstalled in the installation process.
                        var state = stateHandler.getState(element);
                        if (state && state.startSize) {
                            var width = element.offsetWidth;
                            var height = element.offsetHeight;
                            if (state.startSize.width !== width || state.startSize.height !== height) {
                                onResizeCallback(element);
                            }
                        }

                        if (onReadyCallbacks[id]) {
                            forEach(onReadyCallbacks[id], function (callback) {
                                callback();
                            });
                        }
                    } else {
                        // The element has been unisntalled before being detectable.
                        debug && reporter.log(id, "Element uninstalled before being detectable.");
                    }

                    delete onReadyCallbacks[id];

                    elementsReady++;
                    if (elementsReady === elements.length) {
                        onReadyCallback();
                    }
                });
            }

            debug && reporter.log(id, "Already detecable, adding listener.");

            //The element has been prepared to be detectable and is ready to be listened to.
            addListener(callOnAdd, element, listener);
            elementsReady++;
        });

        if (elementsReady === elements.length) {
            onReadyCallback();
        }
    }

    function uninstall(elements) {
        if (!elements) {
            return reporter.error("At least one element is required.");
        }

        if (isElement(elements)) {
            // A single element has been passed in.
            elements = [elements];
        } else if (isCollection(elements)) {
            // Convert collection to array for plugins.
            // TODO: May want to check so that all the elements in the collection are valid elements.
            elements = toArray(elements);
        } else {
            return reporter.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");
        }

        forEach(elements, function (element) {
            eventListenerHandler.removeAllListeners(element);
            detectionStrategy.uninstall(element);
            stateHandler.cleanState(element);
        });
    }

    return {
        listenTo: listenTo,
        removeListener: eventListenerHandler.removeListener,
        removeAllListeners: eventListenerHandler.removeAllListeners,
        uninstall: uninstall
    };
};

function getOption(options, name, defaultValue) {
    var value = options[name];

    if ((value === undefined || value === null) && defaultValue !== undefined) {
        return defaultValue;
    }

    return value;
}

/***/ }),
/* 181 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @typechecks
 * 
 */

/*eslint-disable no-self-compare */



var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * inlined Object.is polyfill to avoid requiring consumers ship their own
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
 */
function is(x, y) {
  // SameValue algorithm
  if (x === y) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Added the nonzero y check to make Flow happy, but it is redundant
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    // Step 6.a: NaN == NaN
    return x !== x && y !== y;
  }
}

/**
 * Performs equality by iterating through keys on an object and returning false
 * when any key has values which are not strictly equal between the arguments.
 * Returns true when the values of all keys are strictly equal.
 */
function shallowEqual(objA, objB) {
  if (is(objA, objB)) {
    return true;
  }

  if ((typeof objA === 'undefined' ? 'undefined' : (0, _typeof3.default)(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : (0, _typeof3.default)(objB)) !== 'object' || objB === null) {
    return false;
  }

  var keysA = (0, _keys2.default)(objA);
  var keysB = (0, _keys2.default)(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  // Test for A's keys different from B.
  for (var i = 0; i < keysA.length; i++) {
    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
}

module.exports = shallowEqual;

/***/ }),
/* 182 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault(_iterator);

var _typeof3 = __webpack_require__(7);

var _typeof4 = _interopRequireDefault(_typeof3);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault(_symbol);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(a, b) {
  if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(exports, "__esModule", { value: !0 });var _createClass = function () {
  function a(a, b) {
    for (var c = 0; c < b.length; c++) {
      var d = b[c];d.enumerable = d.enumerable || !1, d.configurable = !0, "value" in d && (d.writable = !0), (0, _defineProperty2.default)(a, d.key, d);
    }
  }return function (b, c, d) {
    return c && a(b.prototype, c), d && a(b, d), b;
  };
}(),
    _typeof = "function" == typeof _symbol2.default && "symbol" == (0, _typeof4.default)(_iterator2.default) ? function (a) {
  return typeof a === "undefined" ? "undefined" : (0, _typeof4.default)(a);
} : function (a) {
  return a && "function" == typeof _symbol2.default && a.constructor === _symbol2.default ? "symbol" : typeof a === "undefined" ? "undefined" : (0, _typeof4.default)(a);
},
    Solver = function () {
  function a() {
    return { _class: "$config", var_filter_func: "unsolved", next_var_func: "naive", next_value_func: "min", targetedVars: "all", var_dist_options: {}, timeout_callback: void 0, all_var_names: [], _var_names_trie: Fd(), all_constraints: [], constant_cache: {}, initial_domains: [], _propagators: [], _varToPropagators: [], _constrainedAway: [] };
  }function b(a, b) {
    var c = a.var_filter_func,
        d = a.next_var_func,
        e = a.next_value_func,
        f = a.targetedVars,
        g = a.var_dist_options,
        h = a.timeout_callback,
        i = a.constant_cache,
        j = a.all_var_names,
        k = a.all_constraints,
        l = a.initial_domains,
        m = a._propagators,
        n = a._varToPropagators,
        o = a._constrainedAway;return { _class: "$config", var_filter_func: c, next_var_func: d, next_value_func: e, targetedVars: f instanceof Array ? f.slice(0) : f, var_dist_options: JSON.parse((0, _stringify2.default)(g)), timeout_callback: h, constant_cache: i, all_var_names: j.slice(0), _var_names_trie: Fd(j), all_constraints: k.slice(0), initial_domains: b || l, _propagators: m && m.slice(0), _varToPropagators: n && n.slice(0), _constrainedAway: o && o.slice(0) };
  }function c(a) {
    return d(a, !0);
  }function d(a, b) {
    return g(a, b, Ab(Ie, Je));
  }function e(a, b, c) {
    return b === c ? h(a, b) : f(a, !0, b, c);
  }function f(a, b, c, d) {
    var e = Fb(Ab(c, d));return g(a, b, e);
  }function g(a, b, c, d) {
    return j(a, b, c);
  }function h(a, b) {
    return void 0 !== a.constant_cache[b] ? a.constant_cache[b] : i(a, !0, b);
  }function i(a, b, c) {
    var d = Fb(Ab(c, c));return g(a, b, d);
  }function j(a, b, c) {
    var d = a.all_var_names,
        e = d.length,
        f = b === !0;f && (b = String(e)), d.length < 100 && Id(a._var_names_trie, b) && (f && kc("DONT_USE_NUMBERS_AS_VAR_NAMES"), kc("Var varName already part of this config. Probably a bug?"));var g = ja(c);return g === Ne || a.constant_cache[g] || (a.constant_cache[g] = e), a.initial_domains[e] = c, a.all_var_names.push(b), Gd(a._var_names_trie, b, e), e;
  }function k(a, b) {
    l(a, F(b));
  }function l(a, b) {
    b && b.filter && (a.var_filter_func = b.filter), b && b["var"] && (a.next_var_func = b["var"], o(b["var"])), b && b.val && (a.next_value_func = b.val), b && b.targeted_var_names && ("all" === b.targeted_var_names || b.targeted_var_names.length) && (a.targetedVars = b.targeted_var_names), b && b.var_dist_config && (a.var_dist_options = b.var_dist_config), b && b.timeout_callback && (a.timeout_callback = b.timeout_callback);
  }function m(a, b) {
    a._propagators.push(b);
  }function n(a, b) {
    for (var c = a.initial_domains, d = a.all_var_names, e = 0, f = d.length; e < f; e++) {
      var g = c[e];b.vardoms[e] = Gb(g);
    }
  }function o(a) {
    for (; null != a;) {
      var b = a.priority_list;if (b) {
        var c = {};a.priority_hash = c;for (var d = 0, e = b.length; d < e; d++) {
          var f = b[d];c[f] = e - d;
        }
      }a = a.fallback_config;
    }
  }function p(a) {
    for (var b = new Array(a.all_var_names.length), c = a._propagators, d = 0, e = c.length; d < e; ++d) {
      for (var f = c[d][Ve], g = 0, h = f.length; g < h; ++g) {
        var i = f[g];fb(a.initial_domains[i]) || (b[i] ? b[i].indexOf(d) < 0 && b[i].push(d) : b[i] = [d]);
      }
    }a._varToPropagators = b;
  }function q(a, b, d, f) {
    var g = d[0];{
      if (!(g instanceof Array)) {
        var i = !1;switch (b) {case "reifier":
            i = !0;case "plus":case "min":case "ring-mul":case "ring-div":case "mul":case "sum":case "product":
            var j = "product" === b || "sum" === b,
                k = j ? f : d[2],
                l = void 0,
                m = "undefined" == typeof k;m ? (l = i ? e(a, 0, 1) : c(a), k = a.all_var_names[l]) : "number" == typeof k ? (l = h(a, k), k = a.all_var_names[l]) : "string" != typeof k ? kc("expecting result var name to be absent or a number or string: `" + k + "`") : l = a.all_var_names.indexOf(k), j ? f = l : d[2] = k;for (var n = !1, o = 0, p = d.length - (j ? 0 : 1); o < p; ++o) {
              if ("number" == typeof d[o]) {
                var s = h(a, d[o]);d[o] = a.all_var_names[s];
              } else n = !0;
            }n || kc("E_MUST_GET_AT_LEAST_ONE_VAR_NAME"), g = k;break;case "markov":case "distinct":case "callback":case "eq":case "neq":case "lt":case "lte":case "gt":case "gte":
            for (var t = ("callback" !== b || "distinct" !== b) && 0 === d.length, u = 0, v = d.length; u < v; ++u) {
              if ("number" == typeof d[u]) {
                var w = h(a, d[u]);d[u] = a.all_var_names[w], g = d[u];
              } else t = !0;
            }t || kc("E_MUST_GET_AT_LEAST_ONE_VAR_NAME"), 0 === d.length && (g = f);break;default:
            kc("UNKNOWN_PROPAGATOR " + b);}for (var x = [], y = 0, z = d.length; y < z; ++y) {
          var A = Jd(a._var_names_trie, d[y]);x[y] = A;
        }if ("sum" === b) {
          for (var B = a.initial_domains, C = B[x[0]], D = 1, F = x.length; D < F; ++D) {
            var G = x[D];C = Zb(C, B[G]);
          }if (B[f] = Fb(Ca(C, B[f])), x.length > 1) {
            for (var H = [], I = [0, 0], J = 0, K = x.length; J < K; ++J) {
              var L = x[J],
                  M = B[L],
                  N = ja(M);N === Se ? H.push(L) : 0 !== N && (I = Zb(I, M));
            }var O = ha(I);if (0 !== O) {
              var P = h(a, O);H.push(P);
            }H.length || (B[f] = Fb(Ca($d, B[f]))), x = H;
          }
        }if (!r(a, b, x, f)) {
          var Q = E(b, x, f);a.all_constraints.push(Q);
        }return g;
      }var R = jc(g);if (0 === R.length) return d[1];for (var S = 0, T = R.length; S < T; ++S) {
        q(a, b, [].concat(R[S], d.slice(1)), f);
      }
    }
  }function r(a, b, c, d) {
    return "lte" === b || "lt" === b ? s(a, b, c) : "gte" === b || "gt" === b ? t(a, b, c) : "eq" === b ? u(a, b, c) : "neq" === b ? v(a, b, c) : "reifier" === b ? w(a, b, c, d) : "sum" === b ? !c.length || A(a, b, c, d) : "sum" === b && A(a, b, c, d);
  }function s(a, b, c) {
    var d = a.initial_domains,
        e = c[0],
        f = c[1],
        g = d[e],
        h = d[f],
        i = ja(g);return i !== Se ? (d[f] = Fb(qb(h, i - ("lt" === b ? 0 : 1))), a._constrainedAway.push(e, f), !0) : (i = ja(h), i !== Se ? (d[e] = Fb(nb(g, i + ("lt" === b ? 0 : 1))), a._constrainedAway.push(e, f), !0) : (d[e] = Fb(nb(g, ab(h) + ("lt" === b ? 0 : 1))), d[f] = Fb(qb(h, Za(g) - ("lt" === b ? 0 : 1))), !1));
  }function t(a, b, c) {
    var d = a.initial_domains,
        e = c[0],
        f = c[1],
        g = d[e],
        h = d[f],
        i = ja(g);return i !== Se ? (d[f] = Fb(nb(h, i + ("gt" === b ? 0 : 1))), a._constrainedAway.push(e, f), !0) : (i = ja(h), i !== Se ? (d[e] = Fb(qb(g, i - ("gt" === b ? 0 : 1))), a._constrainedAway.push(e, f), !0) : (d[e] = Fb(qb(g, Za(h) - ("gt" === b ? 0 : 1))), d[f] = Fb(nb(h, ab(g) + ("gt" === b ? 0 : 1))), !1));
  }function u(a, b, c) {
    var d = a.initial_domains,
        e = c[0],
        f = c[1],
        g = d[e],
        h = d[f],
        i = ja(g);if (i === Se && (i = ja(h)), i !== Se) {
      var j = Fb(Ea(g, h));return d[e] = j, d[f] = j, a._constrainedAway.push(e, f), !0;
    }return !1;
  }function v(a, b, c) {
    var d = a.initial_domains,
        e = c[0],
        f = c[1],
        g = ja(d[e]);return g !== Se ? (d[f] = Fb(tb(d[f], g)), a._constrainedAway.push(e, f), !0) : (g = ja(d[f]), g !== Se && (d[e] = Fb(tb(d[e], g)), a._constrainedAway.push(e, f), !0));
  }function w(a, b, c, d) {
    var e = a.initial_domains,
        f = c[0],
        g = c[1],
        h = c[2],
        i = e[f],
        j = e[g],
        k = ja(e[f]),
        l = ja(e[g]),
        m = k !== Se,
        n = l !== Se;if (m && n) return x(a, c, d, k, l);var o = ja(e[h]),
        p = o !== Se;if (p) {
      if (m) return y(a, d, g, k, o, i, j);if (n) return z(a, d, f, l, o, i, j);
    }if ("eq" !== d && "neq" !== d) if ("lt" === d) {
      if (ab(i) < Za(j)) return e[h] = Fb(tb(e[h], 0)), a._constrainedAway.push(f, g, h), !0;if (Za(i) >= ab(j)) return e[h] = Fb(tb(e[h], 1)), a._constrainedAway.push(f, g, h), !0;
    } else if ("lte" === d) {
      if (ab(i) <= Za(j)) return e[h] = Fb(tb(e[h], 0)), a._constrainedAway.push(f, g, h), !0;if (Za(i) > ab(j)) return e[h] = Fb(tb(e[h], 1)), a._constrainedAway.push(f, g, h), !0;
    } else if ("gt" === d) {
      if (Za(i) > ab(j)) return e[h] = Fb(tb(e[h], 0)), a._constrainedAway.push(f, g, h), !0;if (ab(i) <= Za(j)) return e[h] = Fb(tb(e[h], 1)), a._constrainedAway.push(f, g, h), !0;
    } else if ("gte" === d) {
      if (Za(i) >= ab(j)) return e[h] = Fb(tb(e[h], 0)), a._constrainedAway.push(f, g, h), !0;if (ab(i) < Za(j)) return e[h] = Fb(tb(e[h], 1)), a._constrainedAway.push(f, g, h), !0;
    } else kc("UNKNOWN_OP");return !1;
  }function x(a, b, c, d, e) {
    var f = a.initial_domains,
        g = b[2],
        h = !1;switch (c) {case "lt":
        h = d < e;break;case "lte":
        h = d <= e;break;case "gt":
        h = d > e;break;case "gte":
        h = d >= e;break;case "eq":
        h = d === e;break;case "neq":
        h = d !== e;break;default:
        return !1;}return f[g] = Fb(tb(f[g], h ? 0 : 1)), a._constrainedAway.push(g), !0;
  }function y(a, b, c, d, e, f, g) {
    var h = a.initial_domains,
        i = h[c];switch (b) {case "lt":
        i = e ? qb(i, d) : nb(i, d + 1);break;case "lte":
        i = e ? qb(i, d - 1) : nb(i, d);break;case "gt":
        i = e ? nb(i, d) : qb(i, d - 1);break;case "gte":
        i = e ? nb(i, d + 1) : qb(i, d);break;case "eq":
        i = e ? Ea(f, g) : tb(i, d);break;case "neq":
        i = e ? tb(i, d) : Ea(f, g);break;default:
        return !1;}return h[c] = Fb(i), a._constrainedAway.push(c), !0;
  }function z(a, b, c, d, e, f, g) {
    var h = a.initial_domains,
        i = h[c];switch (b) {case "lt":
        i = e ? nb(i, d + 1) : qb(i, d);break;case "lte":
        i = e ? nb(i, d) : qb(i, d);break;case "gt":
        i = e ? qb(i, d - 1) : nb(i, d);break;case "gte":
        i = e ? qb(i, d) : nb(i, d + 1);break;case "eq":
        i = e ? Ea(f, g) : tb(i, d);break;case "neq":
        i = e ? tb(i, d) : Ea(f, g);break;default:
        return !1;}return h[c] = Fb(i), a._constrainedAway.push(c), !0;
  }function A(a, b, c, d) {
    if (1 === c.length) {
      var e = Fb(Ea(a.initial_domains[d], a.initial_domains[c[0]]));if (a.initial_domains[d] = e, a.initial_domains[c[0]] = e, fb(e)) return a._constrainedAway.push(c[0], d), !0;
    }return !1;
  }function B(a) {
    var b = a.all_constraints;a._propagators = [];for (var c = 0, d = b.length; c < d; ++c) {
      var e = b[c];if (e.varNames) {
        console.warn("saw constraint.varNames, converting to varIndexes, log out result and update test accordingly"), e.varIndexes = e.varNames.map(function (b) {
          return Jd(a._var_names_trie, b);
        });var f = e.param;delete e.param, delete e.varNames, e.param = f;
      }C(a, e.name, e.varIndexes, e.param, e);
    }
  }function C(a, b, c, d, e) {
    switch (b) {case "plus":
        return Cc(a, c[0], c[1], c[2]);case "min":
        return Dc(a, c[0], c[1], c[2]);case "ring-mul":
        return Ec(a, c[0], c[1], c[2]);case "ring-div":
        return wc(a, c[0], c[1], c[2]);case "mul":
        return vc(a, c[0], c[1], c[2]);case "sum":
        return Fc(a, c.slice(0), d);case "product":
        return Gc(a, c.slice(0), d);case "distinct":
        return zc(a, c.slice(0));case "markov":
        return Hc(a, c[0]);case "callback":
        return qc(a, c.slice(0), d);case "reifier":
        return pc(a, d, c[0], c[1], c[2]);case "neq":
        return yc(a, c[0], c[1]);case "eq":
        return rc(a, c[0], c[1]);case "gte":
        return xc(a, c[0], c[1]);case "lte":
        return uc(a, c[0], c[1]);case "gt":
        return tc(a, c[0], c[1]);case "lt":
        return sc(a, c[0], c[1]);default:
        kc("UNEXPECTED_NAME");}
  }function D(a, b) {
    B(a), n(a, b), p(a);
  }function E(a, b, c) {
    return { _class: "$constraint", name: a, varIndexes: b, param: c };
  }function F(a) {
    return Ld[a] ? Ld[a] : void kc("distribution.get_defaults: Unknown preset: " + a);
  }function G(a, b, c, d) {
    for (var e = arguments.length <= 4 || void 0 === arguments[4] || arguments[4], f = [], g = [], h = 0, i = 0; i < b.length; i++) {
      var j = b[i];if (j > 0) {
        var k = c[i];aa(a, k) && (h += j, g.push(h), f.push(k));
      }
    }if (0 !== g.length) return 1 === g.length ? f[0] : H(d, h, g, f, e);
  }function H(a, b, c, d, e) {
    var f = a(),
        g = f;e && (g = f * b);for (var h = 0; h < c.length; h++) {
      var i = c[h];if (i > g) break;
    }return d[h];
  }function I(a, b) {
    var c = a.next_distribution_choice++,
        d = a.config.next_value_func,
        e = a.config.var_dist_options,
        f = a.config.all_var_names[b],
        g = e[f] && e[f].distributor_name;return g && (d = g), "function" == typeof d ? d : J(d, a, b, c);
  }function J(a, b, c, d) {
    switch (a) {case "max":
        return M(b, c, d);case "markov":
        return S(b, c, d);case "mid":
        return N(b, c, d);case "min":
        return L(b, c, d);case "minMaxCycle":
        return Q(b, c, d);case "list":
        return K(b, c, d);case "naive":
        return zb(Za(b.vardoms[c]));case "splitMax":
        return P(b, c, d);case "splitMin":
        return O(b, c, d);case "throw":
        return ASSERT(!1, "not expecting to pick this distributor");}kc("unknown next var func", a);
  }function K(a, b, c) {
    var d = a.vardoms[b],
        e = a.config.all_var_names[b],
        f = a.config.var_dist_options,
        g = f[e],
        h = g.list,
        i = g.fallback_dist_name,
        j = h;switch ("function" == typeof h && (j = h(a, e, c)), c) {case Md:
        var k = ta(d, j);return k === Se ? i ? J(i, a, b, c) : Od : zb(k);case Nd:
        var l = pa(d, j);return l === Se && i ? J(i, a, b, c) : l;}return Od;
  }function L(a, b, c) {
    var d = a.vardoms[b];switch (c) {case Md:
        return zb(Za(d));case Nd:
        return Ca(d, Ab(Za(d) + 1, ab(d)));}return Od;
  }function M(a, b, c) {
    var d = a.vardoms[b];switch (c) {case Md:
        return zb(ab(d));case Nd:
        var e = Za(d),
            f = ab(d),
            g = Ab(e, f - 1);return Ca(d, g);}return Od;
  }function N(a, b, c) {
    var d = a.vardoms[b],
        e = Xa(d);switch (c) {case Md:
        return zb(e);case Nd:
        var f = Za(d),
            g = ab(d),
            h = [];return e > f && h.push(f, e - 1), e < g && h.push(e + 1, g), Ca(d, h);}return Od;
  }function O(a, b, c) {
    var d = a.vardoms[b],
        e = Za(d),
        f = ab(d),
        g = e + Math.floor((f - e) / 2);switch (c) {case Md:
        return Ca(d, Ab(e, g));case Nd:
        return Ca(d, Ab(g + 1, f));}return Od;
  }function P(a, b, c) {
    var d = a.vardoms[b],
        e = Za(d),
        f = ab(d),
        g = e + Math.floor((f - e) / 2);switch (c) {case Md:
        return Ca(d, Ab(g + 1, f));case Nd:
        return Ca(d, Ab(e, g));}return Od;
  }function Q(a, b, c) {
    return R(b) ? L(a, b, c) : M(a, b, c);
  }function R(a) {
    return a % 2 === 0;
  }function S(a, b, c) {
    var d = a.vardoms[b];switch (c) {case Md:
        var e = a.config.all_var_names[b],
            f = a.config.var_dist_options,
            g = f[e],
            h = g.expandVectorsWith,
            i = g.random || Pd,
            j = mc(null != h, g.legend, d),
            k = j.length;if (!k) return Od;var l = oc(a, g.matrix, h, k),
            m = G(d, l, j, i);return null == m ? Od : (a._markov_last_value = m, zb(m));case Nd:
        var n = a._markov_last_value,
            o = Za(d),
            p = ab(d),
            q = [];n > o && q.push(o, n - 1), n < p && q.push(n + 1, p);var r = Ca(d, q);return jb(r) ? Od : r;}return Od;
  }function T(a) {
    var b = a.unsolvedVarIndexes,
        c = a.config.next_var_func;if ("function" == typeof c) return c(a, b);var d = c;"object" === ("undefined" == typeof c ? "undefined" : _typeof(c)) && (d = c.dist_name);var e = U(d),
        f = a.config.var_filter_func;if (f && "function" != typeof f) switch (f) {case "unsolved":
        f = gb;break;default:
        kc("unknown var filter", f);}return V(a, b, e, f, c);
  }function U(a) {
    switch (a) {case "naive":
        return null;case "size":
        return W;case "min":
        return X;case "max":
        return Y;case "markov":
        return Z;case "list":
        return $;case "throw":
        return kc("not expecting to pick this distributor");}return kc("unknown next var func", a);
  }function V(a, b, c, d, e) {
    for (var f = Se, g = 0; g < b.length; g++) {
      var h = b[g];d && !d(a.vardoms[h]) || (f === Se || c && Qd === c(a, h, f, e)) && (f = h);
    }return f;
  }function W(a, b, c) {
    var d = Ta(a.vardoms[b]) - Ta(a.vardoms[c]);return d < 0 ? Qd : d > 0 ? Sd : Rd;
  }function X(a, b, c) {
    var d = Za(a.vardoms[b]) - Za(a.vardoms[c]);return d < 0 ? Qd : d > 0 ? Sd : Rd;
  }function Y(a, b, c) {
    var d = ab(a.vardoms[b]) - ab(a.vardoms[c]);return d > 0 ? Qd : d < 0 ? Sd : Rd;
  }function Z(a, b, c, d) {
    var e = a.config.var_dist_options,
        f = a.config.all_var_names[b];if (e[f] && "markov" === e[f].distributor_name) return Qd;var g = a.config.all_var_names[c];return e[g] && "markov" === e[g].distributor_name ? Sd : _(a, b, c, d.fallback_config);
  }function $(a, b, c, d) {
    var e = a.config.all_var_names[b],
        f = a.config.all_var_names[c],
        g = d.priority_hash,
        h = g[e],
        i = g[f];if (!h && !i) return _(a, b, c, d.fallback_config);var j = d.inverted;return i ? h ? h > i ? j ? Sd : Qd : i > h ? j ? Qd : Sd : (kc("T_SHOULD_NOT_REACH_HERE"), Rd) : j ? Qd : Sd : j ? Sd : Qd;
  }function _(a, b, c, d) {
    if (!d) return Rd;var e = d;switch ("undefined" == typeof d ? "undefined" : _typeof(d)) {case "string":
        break;case "object":
        e = d.dist_name, e || kc("Missing fallback var distribution name: " + (0, _stringify2.default)(d));break;case "function":
        return d(b, c, a);default:
        kc("Unexpected fallback config", d);}switch (e) {case "size":
        return W(a, b, c);case "min":
        return X(a, b, c);case "max":
        return Y(a, b, c);case "markov":
        return Z(a, b, c, d);case "list":
        return $(a, b, c, d);case "throw":
        return kc("nope");}return kc("Unknown var dist fallback name: " + e);
  }function aa(a, b) {
    return "number" == typeof a ? ba(a, b) : ca(a, b);
  }function ba(a, b) {
    return (a & 1 << b) > 0;
  }function ca(a, b) {
    return da(a, b) !== Ne;
  }function da(a, b) {
    for (var c = 0; c < a.length; c += Te) {
      var d = a[c];if (b >= d && b <= a[c + 1]) return c;
    }return Ne;
  }function ea(a, b) {
    return "number" == typeof a ? fa(a, b) : ga(a, b);
  }function fa(a, b) {
    return b < 0 && kc("E_DOMAINS_CAN_ONLY_HAVE_UINTS"), !(b >= Ge) && a === 1 << b;
  }function ga(a, b) {
    return a.length === Te && a[Ud] === b && a[Vd] === b;
  }function ha(a) {
    return "number" == typeof a ? ia(a) : ja(a);
  }function ia(a) {
    switch (a) {case $d:
        return 0;case _d:
        return 1;case be:
        return 2;case ce:
        return 3;case de:
        return 4;case ee:
        return 5;case fe:
        return 6;case ge:
        return 7;case he:
        return 8;case ie:
        return 9;case je:
        return 10;case ke:
        return 11;case le:
        return 12;case me:
        return 13;case ne:
        return 14;case oe:
        return 15;case pe:
        return 16;case qe:
        return 17;case re:
        return 18;case se:
        return 19;case te:
        return 20;case ue:
        return 21;case ve:
        return 22;case we:
        return 23;case xe:
        return 24;case ye:
        return 25;case ze:
        return 26;case Ae:
        return 27;case Be:
        return 28;case Ce:
        return 29;case De:
        return 30;}return Se;
  }function ja(a) {
    if (a.length !== Te) return Se;var b = a[Ud],
        c = a[Vd];return b === c ? b : Se;
  }function ka(a) {
    var b = arguments.length <= 1 || void 0 === arguments[1] || arguments[1],
        c = arguments.length <= 2 || void 0 === arguments[2] || arguments[2],
        d = !(arguments.length <= 3 || void 0 === arguments[3]) && arguments[3];if (!a.length) return Oe;if (c && (b && (a = a.slice(0)), a.sort(function (a, b) {
      return a - b;
    })), !d && a[0] >= 0 && a[a.length - 1] <= Ge) {
      for (var e = 0, f = 0; f < a.length; ++f) {
        var g = a[f];e |= Ee[g];
      }return e;
    }for (var h = [], i = void 0, j = void 0, k = 0; k < a.length; k++) {
      var l = a[k];0 === k ? (j = l, i = l) : (l > i + 1 && (h.push(j, i), j = l), i = l);
    }return h.push(j, i), h;
  }function la(a) {
    if (a === Oe) return [];var b = [],
        c = -1,
        d = -1;if ($d & a && (c = 0, d = 0), _d & a && (0 !== c && (c = 1), d = 1), be & a && (0 === d ? (b.push(0, 0), c = 2) : 1 !== d && (c = 2), d = 2), ce & a && (d < 0 ? c = 3 : 2 !== d && (b.push(c, d), c = 3), d = 3), a >= de) for (var e = 4; e <= Ge; ++e) {
      Ee[e] & a && (d < 0 ? c = e : d !== e - 1 && (b.push(c, d), c = e), d = e);
    }return b.push(c, d), b;
  }function ma(a) {
    return "number" == typeof a ? na(a) : oa(a);
  }function na(a) {
    for (var b = [], c = 0; c < 16; ++c) {
      (a & Ee[c]) > 0 && b.push(c);
    }return b;
  }function oa(a) {
    for (var b = [], c = 0; c < a.length; c += Te) {
      for (var d = a[c], e = a[c + 1]; d <= e; ++d) {
        b.push(d);
      }
    }return b;
  }function pa(a, b) {
    return "number" == typeof a ? qa(a, b) : ra(a, b);
  }function qa(a, b) {
    for (var c = 0; c < b.length; ++c) {
      var d = b[c];if (d < Ge) {
        var e = 1 << d;if (a & e) return a ^ e;
      }
    }return Se;
  }function ra(a, b) {
    for (var c = 0; c < b.length; c++) {
      var d = b[c],
          e = da(a, d);if (e >= 0) return sa(a, d, e);
    }return Se;
  }function sa(a, b, c) {
    var d = void 0;d = c ? a.slice(0, c) : [];for (var e = c; e < a.length; e += Te) {
      var f = a[e],
          g = a[e + 1];e !== c ? d.push(f, g) : (f !== b && d.push(f, b - 1), g !== b && d.push(b + 1, g));
    }return d;
  }function ta(a, b) {
    return "number" == typeof a ? ua(a, b) : va(a, b);
  }function ua(a, b) {
    for (var c = 0; c < b.length; ++c) {
      var d = b[c];if (d <= Ge && (a & 1 << d) > 0) return d;
    }return Se;
  }function va(a, b) {
    for (var c = 0; c < b.length; c++) {
      var d = b[c];if (ca(a, d)) return d;
    }return Se;
  }function wa(a) {
    return a.length <= 2 ? a : (xa(a), Ba(a));
  }function xa(a) {
    var b = a.length;b >= 4 && ya(a, 0, a.length - Te);
  }function ya(a, b, c) {
    if (b < c) {
      var d = za(a, b, c);ya(a, b, d - Te), ya(a, d + Te, c);
    }
  }function za(a, b, c) {
    for (var d = c, e = a[d], f = a[d + 1], g = b, h = b; h < c; h += Te) {
      var i = a[h];(i < e || i === e && a[h + 1] < f) && (Aa(a, g, h), g += Te);
    }return Aa(a, g, c), g;
  }function Aa(a, b, c) {
    if (b !== c) {
      var d = a[b],
          e = a[b + 1];a[b] = a[c], a[b + 1] = a[c + 1], a[c] = d, a[c + 1] = e;
    }
  }function Ba(a) {
    for (var b = Ie, c = 0, d = 0, e = 0; e < a.length; e += Te) {
      var f = a[e],
          g = a[e + 1];b + 1 >= f && 0 !== e ? g > b && (a[c] = g, b = g) : (a[d] = f, a[d + 1] = g, c = d + 1, d += Te, b = g);
    }a.length = d;for (var h = 0; h < a.length; h++) {
      a[h];
    }return a;
  }function Ca(a, b) {
    if (a === b) return a;var c = "number" == typeof a,
        d = "number" == typeof b;return c && d ? a & b : c ? Da(a, b) : d ? Da(b, a) : Ea(a, b);
  }function Da(a, b) {
    for (var c = Oe, d = 0; d < b.length; d += Te) {
      var e = b[d];if (e > Ge) break;for (var f = b[d + 1], g = e, h = Wd(Ge, f); g <= h; ++g) {
        var i = Ee[g];a & i && (c |= i);
      }
    }return c;
  }function Ea(a, b) {
    var c = [];return Fa(a, b, c), Gb(c);
  }function Fa(a, b, c) {
    var d = a.length,
        e = b.length;if (0 !== d && 0 !== e) if (d === Te) e === Te ? Ga(a[Ud], a[Vd], b[Ud], b[Vd], c) : Fa(b, a, c);else if (e === Te) Ha(a, b[Ud], b[Vd], c);else {
      var f = (d / Te >> 1) * Te,
          g = (e / Te >> 1) * Te,
          h = a.slice(0, f),
          i = a.slice(f),
          j = b.slice(0, g),
          k = b.slice(g);Fa(h, j, c), Fa(h, k, c), Fa(i, j, c), Fa(i, k, c);
    }
  }function Ga(a, b, c, d, e) {
    var f = Xd(a, c),
        g = Wd(b, d);g >= f && e.push(f, g);
  }function Ha(a, b, c, d) {
    for (var e = 0; e < a.length; e += Te) {
      var f = a[e],
          g = a[e + 1];f <= c && g >= b && d.push(Xd(b, f), Wd(c, g));
    }
  }function Ia(a, b) {
    if (a === b) return !0;var c = "number" == typeof a,
        d = "number" == typeof b;return (!c || !d) && (c ? Ja(a, b) : d ? Ja(b, a) : Ka(a, b));
  }function Ja(a, b) {
    if (ab(b) > Ge) return !1;var c = b[Ud];if (a & $d && c > 0) return !1;if (a & _d && c > 1) return !1;for (var d = 0, e = b.length; d < e; d += Te) {
      var f = b[d];if (f > Ge) break;for (var g = b[d + 1], h = f, i = Wd(Ge, g); h <= i; ++h) {
        var j = Ee[h];if (a ^ j) return !1;
      }
    }return !0;
  }function Ka(a, b) {
    var c = a.length;return c === b.length && (a === b || La(a, b, c));
  }function La(a, b, c) {
    for (var d = 0; d < c; ++d) {
      if (a[d] !== b[d]) return !1;
    }return !0;
  }function Ma(a, b) {
    var c = void 0;do {
      if (c = Ke, a.length > 2) {
        var d = Na(a, Oa(b));c += a.length - d.length, a = d;
      }if (b.length > 2) {
        var e = Na(b, Oa(a));c += b.length - e.length, b = e;
      }
    } while (c !== Ke);return [a, b];
  }function Na(a, b) {
    for (var c = [], d = void 0, e = 0; e < a.length; e += Te) {
      var f = a[e],
          g = a[e + 1];0 === e ? (c.push(f, g), d = f) : g - d < b ? c[c.length - 1] = g : (c.push(f, g), d = f);
    }return c;
  }function Oa(a) {
    for (var b = Je, c = 0; c < a.length; c += Te) {
      var d = a[c],
          e = a[c + 1],
          f = 1 + e - d;f < b && (b = f);
    }return b;
  }function Pa(a, b) {
    return "number" == typeof a && (a = la(a)), "number" == typeof b && (b = la(b)), Qa(a, b);
  }function Qa(a, b) {
    for (var c = [], d = 0; d < a.length; d += Te) {
      for (var e = a[d], f = a[d + 1], g = 0; g < b.length; g += Te) {
        var h = b[g],
            i = b[g + 1];c.push(Wd(Je, e * h), Wd(Je, f * i));
      }
    }return wa(c);
  }function Ra(a, b) {
    var c = arguments.length <= 2 || void 0 === arguments[2] || arguments[2];return "number" == typeof a && (a = la(a)), "number" == typeof b && (b = la(b)), Sa(a, b, c);
  }function Sa(a, b) {
    for (var c = arguments.length <= 2 || void 0 === arguments[2] || arguments[2], d = [], e = 0; e < a.length; e += Te) {
      for (var f = a[e], g = a[e + 1], h = 0; h < b.length; h += Te) {
        var i = b[h],
            j = b[h + 1];if (j > 0) {
          var k = f / j,
              l = i > 0 ? g / i : Je,
              m = Zd(Xd(0, k)),
              n = Yd(l);m <= n ? d.push(m, n) : c && d.push(n, n);
        }
      }
    }return wa(d);
  }function Ta(a) {
    return "number" == typeof a ? Ua(a) : Wa(a);
  }function Ua(a) {
    return Va(a);
  }function Va(a) {
    return a -= a >>> 1 & 1431655765, a = (858993459 & a) + (a >>> 2 & 858993459), a = 16843009 * (a + (a >>> 4) & 252645135) >>> 24;
  }function Wa(a) {
    for (var b = 0, c = 0; c < a.length; c += Te) {
      var d = a[c];b += 1 + a[c + 1] - d;
    }return b;
  }function Xa(a) {
    return "number" == typeof a && (a = la(a)), Ya(a);
  }function Ya(a) {
    for (var b = Wa(a), c = Yd(b / 2), d = void 0, e = void 0, f = 0; f < a.length; f += Te) {
      d = a[f], e = a[f + 1];var g = 1 + e - d;if (c < g) break;c -= g;
    }return d + c;
  }function Za(a) {
    return "number" == typeof a ? $a(a) : _a(a);
  }function $a(a) {
    return a === $d ? 0 : a === _d ? 1 : a === ae ? 0 : He[(a & -a) % 37];
  }function _a(a) {
    return a[Ud];
  }function ab(a) {
    return "number" == typeof a ? bb(a) : cb(a);
  }function bb(a) {
    return a === $d ? 0 : a === _d ? 1 : a === ae ? 1 : a < ce ? 2 : a < de ? 3 : a < ee ? 4 : a < fe ? 5 : a < ge ? 6 : a < he ? 7 : a < ie ? 8 : a < je ? 9 : a < ke ? 10 : a < le ? 11 : a < me ? 12 : a < ne ? 13 : a < oe ? 14 : a < pe ? 15 : a < qe ? 16 : a < re ? 17 : a < se ? 18 : a < te ? 19 : a < ue ? 20 : a < ve ? 21 : a < we ? 22 : a < xe ? 23 : a < ye ? 24 : a < ze ? 25 : a < Ae ? 26 : a < Be ? 27 : a < Ce ? 28 : a < De ? 29 : 30;
  }function cb(a) {
    return a[a.length - 1];
  }function db(a) {
    return "number" == typeof a ? eb(a) : fb(a);
  }function eb(a) {
    return 0 === (a & a - 1) && a > 0;
  }function fb(a) {
    return a.length === Te && kb(a);
  }function gb(a) {
    return "number" == typeof a ? hb(a) : ib(a);
  }function hb(a) {
    return 0 !== (a & a - 1) && 0 !== a;
  }function ib(a) {
    return a.length > Te || a[Ud] !== a[Vd] && a.length > 0;
  }function jb(a) {
    return "number" == typeof a ? a === Oe : 0 === a.length;
  }function kb(a) {
    return a[Ud] === a[Vd];
  }function lb(a, b) {
    return "number" == typeof a ? mb(a, b) : nb(a, b);
  }function mb(a, b) {
    return a & (1 << b) - 1;
  }function nb(a, b) {
    for (var c = 0; c < a.length; c += Te) {
      var d = a[c],
          e = a[c + 1];if (d > b) {
        if (!c) return Oe;var f = a.slice(0, c);return e <= Ge ? Hb(f, c) : f;
      }if (d === b) {
        if (!c) return Oe;var g = a.slice(0, c);return e <= Ge ? Hb(g, c) : g;
      }if (b <= e) {
        var h = a.slice(0, c + 1),
            i = b - 1;return h.push(i), i <= Ge ? Hb(h, c + 2) : h;
      }
    }return a;
  }function ob(a, b) {
    return "number" == typeof a ? pb(a, b) : qb(a, b);
  }function pb(a, b) {
    b > Ge && (b = Ge);var c = (1 << b + 1) - 1;return (a | c) ^ c;
  }function qb(a, b) {
    for (var c = a.length, d = 0; d < c; d += Te) {
      var e = a[d],
          f = a[d + 1];if (e > b) {
        if (!d) return a;var g = a.slice(d),
            h = c - d;return h ? g[h - 1] <= Ge ? Hb(g, h) : g : Oe;
      }if (f === b) {
        var i = a.slice(d + Te),
            j = c - (d + Te);return j ? i[j - 1] <= Ge ? Hb(i, j) : i : Oe;
      }if (b <= f) {
        if (d === c) return Oe;var k = a.slice(d),
            l = c - d;return k[Ud] = b + 1, k[l - 1] <= Ge ? Hb(k, l) : k;
      }
    }return Oe;
  }function rb(a, b) {
    return "number" == typeof a ? sb(a, b) : tb(a, b);
  }function sb(a, b) {
    if (b < 0 || b > Ge) return a;var c = Ee[b];return (a | c) ^ c;
  }function tb(a, b) {
    for (var c = 0; c < a.length; c += Te) {
      var d = a[c],
          e = a[c + 1];if (b === d) {
        var f = a.slice(0, c);return b !== e && f.push(b + 1, e), ub(a, f, c + Te);
      }if (b === e) {
        var g = a.slice(0, c + 1);return g.push(b - 1), ub(a, g, c + Te);
      }if (b < d) return a;if (b < e) {
        var h = a.slice(0, c + 1);return h.push(b - 1, b + 1, e), ub(a, h, c + Te);
      }
    }return a;
  }function ub(a, b, c) {
    for (var d = c; d < a.length; ++d) {
      b.push(a[d]);
    }return b;
  }function vb(a, b) {
    var c = "number" == typeof a,
        d = "number" == typeof b;return c && d ? wb(a, b) : c ? xb(a, b) : d ? xb(b, a) : yb(a, b);
  }function wb(a, b) {
    return 0 === (a & b);
  }function xb(a, b) {
    for (var c = 0; c < b.length;) {
      for (var d = b[c + Ud], e = b[c + Vd], f = d, g = Math.min(e, Ge); f <= g; ++f) {
        if (a & Ee[f]) return !1;
      }c += Te;
    }return !0;
  }function yb(a, b) {
    for (var c = 0; c < a.length; c += Te) {
      for (var d = a[c + Ud], e = a[c + Vd], f = 0; f < b.length; f += Te) {
        if (e >= b[f + Ud] && d <= b[f + Vd]) return !1;
      }
    }return !0;
  }function zb(a) {
    return a >= 0 && a <= Ge ? Ee[a] : [a, a];
  }function Ab(a, b) {
    if (a >= 0 && b <= Ge) {
      for (var c = 0, d = a; d <= b; ++d) {
        c |= Ee[d];
      }return c;
    }return [a, b];
  }function Bb(a) {
    return a |= a >> 1, a |= a >> 2, a |= a >> 4, a |= a >> 8, a |= a >> 16;
  }function Cb(a, b) {
    return "number" == typeof a ? b === Td ? Fb(a) : Db(a) : Eb(a);
  }function Db(a) {
    return a;
  }function Eb(a) {
    return a.slice(0);
  }function Fb(a) {
    return "number" == typeof a ? la(a) : a;
  }function Gb(a) {
    if ("number" == typeof a) return a;var b = a.length;return 0 === b ? 0 : ab(a) > Ge ? a : Hb(a, b);
  }function Hb(a, b) {
    for (var c = 0, d = 0; d < b; d += Te) {
      c = Ib(c, a[d], a[d + 1]);
    }return c;
  }function Ib(a, b, c) {
    return a | (1 << 1 + c - b) - 1 << b;
  }function Jb(a, b) {
    return Ia(a, b) ? Ke : jb(a) ? Me : Le;
  }function Kb(a) {
    var b = Lb(a);if (b) {
      var c = Nb(a);c || (console && console.warn && console.warn(b, a, "unable to fix"), kc("Fatal: unable to fix domain: " + (0, _stringify2.default)(a))), a = c;
    }return Fb(a);
  }function Lb(a) {
    for (var b = 0; b < a.length; b += Te) {
      var c = a[b],
          d = a[b + 1],
          e = Mb(c);if (e) return e;var f = Mb(d);if (f) return f;if (c < Ie) return "Domain contains a number lower than SUB (" + c + " < " + Ie + "), this is probably a bug";if (d > Je) return "Domain contains a number higher than SUP (" + d + " > " + Je + "), this is probably a bug";if (c > d) return "Found a lo/hi pair where lo>hi, expecting all pairs lo<=hi (" + c + ">" + d + ")";
    }
  }function Mb(a) {
    return "number" != typeof a ? a instanceof Array ? "Detected legacy domains (arrays of arrays), expecting flat array of lo-hi pairs" : "Expecting array of numbers, found something else (#{n}), this is probably a bug" : isNaN(a) ? "Domain contains an actual NaN, this is probably a bug" : void 0;
  }function Nb(a) {
    for (var b = [], c = 0; c < a.length; c++) {
      var d = a[c];if (!(d instanceof Array)) return;if (d.length !== Te) return;var e = d[Ud],
          f = d[Vd];if (e > f) return;b.push(e, f);
    }return b;
  }function Ob(a, b) {
    var c = "number" == typeof a,
        d = "number" == typeof b;if (c) return d ? Qb(a, b) : Rb(a, b);var e = void 0;return e = d ? Tb(a, b) : Pb(a, b), wa(e), e;
  }function Pb(a, b) {
    if (0 === Za(a) && 0 === Za(b)) return Ab(0, ab(a));var c = Ma(a, b);a = c[0], b = c[1];for (var d = [], e = 0, f = Te; e < a.length; e += f) {
      Vb(a[e], a[e + 1], b, d);
    }return d;
  }function Qb(a, b) {
    if (a & $d && b & $d) return Bb(a);for (var c = 0; 0 === (a & 1 << c);) {
      ++c;
    }for (var d = c, e = c, f = 1 << ++c, g = Oe; f <= a && c <= Ge;) {
      (f & a) > 0 && (e !== c - 1 && (g = Sb(d, e, b, g), d = c), e = c), f = 1 << ++c;
    }return Sb(d, e, b, g);
  }function Rb(a, b) {
    if (a & $d && 0 === Za(b)) return Bb(a);for (var c = 0; 0 === (a & 1 << c);) {
      ++c;
    }for (var d = c, e = c, f = 1 << ++c, g = Oe; f <= a && c <= Ge;) {
      (f & a) > 0 && (e !== c - 1 && (g = Wb(d, e, b, g), d = c), e = c), f = 1 << ++c;
    }return Wb(d, e, b, g);
  }function Sb(a, b, c, d) {
    for (var e = 0; 0 === (c & 1 << e);) {
      ++e;
    }for (var f = e, g = e, h = 1 << ++e; h <= c && e <= Ge;) {
      (h & c) > 0 && (g !== e - 1 && (d = Yb(a, b, f, g, d), f = e), g = e), h = 1 << ++e;
    }return Yb(a, b, f, g, d);
  }function Tb(a, b) {
    if (0 === Za(a) && 0 === Za(b)) return Ab(0, ab(a));for (var c = [], d = 0, e = Te; d < a.length; d += e) {
      Ub(a[d], a[d + 1], b, c);
    }return c;
  }function Ub(a, b, c, d) {
    if (c !== Oe) {
      for (var e = 0; 0 === (c & 1 << e);) {
        ++e;
      }for (var f = e, g = e, h = 1 << ++e; h <= c && e <= Ge;) {
        (h & c) > 0 && (g !== e - 1 && (Xb(a, b, f, g, d), f = e), g = e), h = 1 << ++e;
      }Xb(a, b, f, g, d);
    }
  }function Vb(a, b, c, d) {
    for (var e = 0, f = Te; e < c.length; e += f) {
      Xb(a, b, c[e], c[e + 1], d);
    }
  }function Wb(a, b, c, d) {
    for (var e = 0, f = Te; e < c.length; e += f) {
      d = Yb(a, b, c[e], c[e + 1], d);
    }return d;
  }function Xb(a, b, c, d, e) {
    var f = b - c;if (f >= Ie) {
      var g = Xd(Ie, a - d);e.push(g, f);
    }
  }function Yb(a, b, c, d, e) {
    var f = b - c;if (f >= Ie) {
      var g = Xd(Ie, a - d);return Ib(e, g, f);
    }return e;
  }function Zb(a, b) {
    var c = "number" == typeof a,
        d = "number" == typeof b,
        e = void 0;if (c && d) {
      if (e = ac(a, b), "number" == typeof e) return e;
    } else e = [], c ? dc(a, b, e) : d ? dc(b, a, e) : $b(a, b, e);return wa(e), e;
  }function $b(a, b, c) {
    var d = Ma(a, b);a = d[0], b = d[1];for (var e = 0, f = Te; e < a.length; e += f) {
      fc(a[e], a[e + 1], b, c);
    }
  }function _b(a, b) {
    return a < ie && b < he || ab(a) + ab(b) <= Ge;
  }function ac(a, b) {
    if (a === Oe) return Oe;if (b === Oe) return Oe;if (_b(a, b)) return bc(a, b);for (var c = 0; 0 === (a & 1 << c);) {
      ++c;
    }for (var d = c, e = c, f = 1 << ++c, g = []; f <= a && c <= Ge;) {
      (f & a) > 0 && (e !== c - 1 && (ec(d, e, b, g), d = c), e = c), f = 1 << ++c;
    }return ec(d, e, b, g), g;
  }function bc(a, b) {
    for (var c = 0; 0 === (a & 1 << c);) {
      ++c;
    }for (var d = c, e = c, f = 1 << ++c, g = Oe; f <= a && c <= Ge;) {
      (f & a) > 0 && (e !== c - 1 && (g = cc(d, e, b, g), d = c), e = c), f = 1 << ++c;
    }return cc(d, e, b, g);
  }function cc(a, b, c, d) {
    for (var e = 0; 0 === (c & 1 << e);) {
      ++e;
    }for (var f = e, g = e, h = 1 << ++e; h <= c && e <= Ge;) {
      (h & c) > 0 && (g !== e - 1 && (d = hc(a, b, f, g, d), f = e), g = e), h = 1 << ++e;
    }return hc(a, b, f, g, d);
  }function dc(a, b, c) {
    if (a !== Oe) {
      for (var d = 0; 0 === (a & 1 << d);) {
        ++d;
      }for (var e = d, f = d, g = 1 << ++d; g <= a && d <= Ge;) {
        (g & a) > 0 && (f !== d - 1 && (fc(e, f, b, c), e = d), f = d), g = 1 << ++d;
      }fc(e, f, b, c);
    }
  }function ec(a, b, c, d) {
    if (c !== Oe) {
      for (var e = 0; 0 === (c & 1 << e);) {
        ++e;
      }for (var f = e, g = e, h = 1 << ++e; h <= c && e <= Ge;) {
        (h & c) > 0 && (g !== e - 1 && (gc(a, b, f, g, d), f = e), g = e), h = 1 << ++e;
      }gc(a, b, f, g, d);
    }
  }function fc(a, b, c, d) {
    for (var e = 0, f = Te; e < c.length; e += f) {
      gc(a, b, c[e], c[e + 1], d);
    }
  }function gc(a, b, c, d, e) {
    var f = a + c;if (f <= Je) {
      var g = Wd(Je, b + d);e.push(f, g);
    }
  }function hc(a, b, c, d, e) {
    return Ib(e, a + c, b + d);
  }function ic(a) {
    return null != a.id ? a.id : a;
  }function jc(a) {
    for (var b = [], c = 0; c < a.length; c++) {
      var d = a[c];b.push(ic(d));
    }return b;
  }function kc(a) {
    throw new Error(a);
  }function lc(a, b) {
    for (var c = a.vardoms, d = 0; d < b.length; d++) {
      var e = b[d],
          f = c[e.booleanId];if (void 0 === f || ea(f, 1)) break;
    }return e;
  }function mc(a, b, c) {
    return a ? nc(b, c) : b;
  }function nc(a, b) {
    var c = void 0;c = a ? a.slice(0) : [];for (var d = ma(b), e = 0; e < d.length; ++e) {
      var f = d[e];c.indexOf(f) < 0 && c.push(f);
    }return c;
  }function oc(a, b, c, d) {
    var e = lc(a, b),
        f = e.vector;if (null != c) {
      f = f ? f.slice(0) : [];var g = d - f.length;if (g > 0) for (var h = 0; h < g; ++h) {
        f.push(c);
      }return f;
    }return f && f.length === d || kc("E_EACH_MARKOV_VAR_MUST_HAVE_PROB_VECTOR_OR_ENABLE_EXPAND_VECTORS"), f;
  }function pc(a, b, c, d, e) {
    switch (b) {case "eq":
        var f = "neq",
            g = Gb(a.initial_domains[c]),
            h = Gb(a.initial_domains[d]),
            i = Gb(a.initial_domains[e]);if (i === ae) {
          if (h === ae) {
            if (g === _d) return rc(a, d, e);if (g === $d) return yc(a, d, e);
          }if (g === ae) {
            if (h === _d) return rc(a, c, e);if (h === $d) return yc(a, c, e);
          }
        }break;case "neq":
        f = "eq";var j = Gb(a.initial_domains[c]),
            k = Gb(a.initial_domains[d]),
            l = Gb(a.initial_domains[e]);if (l === ae) {
          if (k === ae) {
            if (j === _d) return yc(a, d, e);if (j === $d) return rc(a, d, e);
          }if (j === ae) {
            if (k === _d) return yc(a, c, e);if (k === $d) return rc(a, c, e);
          }
        }break;case "lt":
        f = "gte";break;case "gt":
        f = "lte";break;case "lte":
        f = "gt";break;case "gte":
        f = "lt";break;default:
        kc("UNKNOWN_REIFIED_OP");}m(a, ["reified", [c, d, e], b, f]);
  }function qc(a, b, c) {
    m(a, ["callback", b, c]);
  }function rc(a, b, c) {
    m(a, ["eq", [b, c]]);
  }function sc(a, b, c) {
    m(a, ["lt", [b, c]]);
  }function tc(a, b, c) {
    sc(a, c, b);
  }function uc(a, b, c) {
    m(a, ["lte", [b, c]]);
  }function vc(a, b, c, d) {
    m(a, ["mul", [b, c, d]]);
  }function wc(a, b, c, d) {
    m(a, ["div", [b, c, d]]);
  }function xc(a, b, c) {
    uc(a, c, b);
  }function yc(a, b, c) {
    m(a, ["neq", [b, c]]);
  }function zc(a, b) {
    for (var c = 0; c < b.length; c++) {
      for (var d = b[c], e = 0; e < c; ++e) {
        yc(a, d, b[e]);
      }
    }
  }function Ac(a, b, c, d, e, f) {
    Bc(a, d, e, f, b), Bc(a, f, e, d, c), Bc(a, f, d, e, c);
  }function Bc(a, b, c, d, e) {
    m(a, ["ring", [b, c, d], e]);
  }function Cc(a, b, c, d) {
    Ac(a, "plus", "min", b, c, d);
  }function Dc(a, b, c, d) {
    m(a, ["min", [b, c, d]]);
  }function Ec(a, b, c, d) {
    Ac(a, "mul", "div", b, c, d);
  }function Fc(a, b, d) {
    var e = b.length;switch (e) {case 0:
        return void kc("SUM_REQUIRES_VARS");case 1:
        return void rc(a, d, b[0]);case 2:
        return void Cc(a, b[0], b[1], d);}var f = void 0,
        g = Math.floor(b.length / 2);g > 1 ? (f = c(a), Fc(a, b.slice(0, g), f)) : f = b[0];var h = c(a);Fc(a, b.slice(g), h), Cc(a, f, h, d);
  }function Gc(a, b, d) {
    switch (b.length) {case 0:
        return void kc("PRODUCT_REQUIRES_VARS");case 1:
        return void rc(a, d, b[0]);case 2:
        return void Ec(a, b[0], b[1], d);}var e = Math.floor(b.length / 2),
        f = void 0;e > 1 ? (f = c(a), Gc(a, b.slice(0, e), f)) : f = b[0];var g = c(a);Gc(a, b.slice(e), g), Ec(a, f, g, d);
  }function Hc(a, b) {
    m(a, ["markov", [b]]);
  }function Ic(a, b, c) {
    return c(a, b) ? Ke : Me;
  }function Jc(a, b, c) {
    var d = Ra(a, b);return Ca(c, d);
  }function Kc(a, b, c) {
    var d = a.vardoms[b],
        e = a.vardoms[c],
        f = Ca(d, e);return f === Oe ? (a.vardoms[b] = Oe, a.vardoms[c] = Oe, Me) : f === d && f === e || (a.vardoms[b] = f, a.vardoms[c] = f, Ia(d, f) && Ia(e, f)) ? Ke : Le;
  }function Lc(a, b) {
    return vb(a, b);
  }function Mc(a, b, c) {
    var d = a.vardoms[b],
        e = a.vardoms[c],
        f = Za(d),
        g = ab(d),
        h = Za(e),
        i = ab(e),
        j = Ke;if (g >= i) {
      var k = lb(d, i);k !== d && (a.vardoms[b] = k, j = jb(k) ? Me : Le);
    }var l = Ke;if (f >= h) {
      var m = ob(e, f);m !== e && (a.vardoms[c] = m, l = jb(e) ? Me : Le);
    }return j || l || Ke;
  }function Nc(a, b) {
    return Za(a) >= ab(b);
  }function Oc(a, b, c) {
    var d = a.vardoms[b],
        e = a.vardoms[c],
        f = Za(d),
        g = ab(d),
        h = Za(e),
        i = ab(e),
        j = Ke;if (g > i) {
      var k = lb(d, i + 1);k !== d && (a.vardoms[b] = k, j = jb(k) ? Me : Le);
    }var l = Ke;if (f > h) {
      var m = ob(e, f - 1);m !== e && (a.vardoms[c] = m, jb(e) ? j = Me : l = Le);
    }return j || l || Ke;
  }function Pc(a, b) {
    return Za(a) > ab(b);
  }function Qc(a, b) {
    var c = a.vardoms[b];if (!db(c)) return Ke;var d = Za(c),
        e = a.config.var_dist_options,
        f = e[a.config.all_var_names[b]],
        g = f.expandVectorsWith,
        h = mc(null != g, f.legend, c),
        i = oc(a, f.matrix, g, h.length),
        j = h.indexOf(d);return j >= 0 && j < i.length && 0 !== i[j] ? Ke : Me;
  }function Rc(a, b, c) {
    var d = Ob(a, b);return Ca(c, d);
  }function Sc(a, b, c) {
    var d = Pa(a, b);return Ca(c, d);
  }function Tc(a, b, c) {
    var d = a.vardoms[b],
        e = a.vardoms[c],
        f = Ke,
        g = ha(d);if (g !== Se) {
      var h = rb(e, g);e !== h && (f = Le), jb(h) ? (a.vardoms[b] = Oe, a.vardoms[c] = Oe, f = Me) : f === Le && (a.vardoms[c] = h);
    } else if (g = ha(e), g !== Se) {
      var i = rb(d, g);d !== i && (f = Le), jb(i) ? (a.vardoms[b] = Oe, a.vardoms[c] = Oe, f = Me) : f === Le && (a.vardoms[b] = i);
    }return f;
  }function Uc(a, b) {
    return !(!db(a) || !db(b)) && ha(a) === ha(b);
  }function Vc(a, b, c, d, e, f) {
    var g = a.vardoms[d];if (g === $d) return dd(a, f, b, c);if (g === _d) return dd(a, e, b, c);var h = a.vardoms[b],
        i = a.vardoms[c];return g & $d && ed(f, h, i) ? (a.vardoms[d] = g &= _d, g === Oe ? Me : Le) : g & _d && ed(e, h, i) ? (a.vardoms[d] = g &= $d, g === Oe ? Me : Le) : Ke;
  }function Wc(a, b, c, d, e) {
    var f = d(a, b);return Ca(c, f);
  }function Xc(a, b) {
    return Yc(b, a[Ue], a[Ve], a);
  }function Yc(a, b, c, d) {
    var e = c[0],
        f = c[1];switch (b) {case "reified":
        return Zc(a, e, f, c, d);case "lt":
        return dd(a, b, e, f);case "lte":
        return dd(a, b, e, f);case "eq":
        return dd(a, b, e, f);case "neq":
        return dd(a, b, e, f);case "callback":
        return Ic(a, c, d[$e]);case "ring":
        return bd(a, e, f, c[2], d[_e]);case "markov":
        return cd(a, e);case "min":
        return $c(a, e, f, c[2]);case "mul":
        return _c(a, e, f, c[2]);case "div":
        return ad(a, e, f, c[2]);default:
        kc("unsupported propagator: [" + d + "]");}
  }function Zc(a, b, c, d, e) {
    var f = d[2];return Vc(a, b, c, f, e[Ye], e[Ze]);
  }function $c(a, b, c, d) {
    var e = a.vardoms[b],
        f = a.vardoms[c],
        g = a.vardoms[d],
        h = Rc(e, f, g);return a.vardoms[d] = h, Jb(h, g);
  }function _c(a, b, c, d) {
    var e = a.vardoms[b],
        f = a.vardoms[c],
        g = a.vardoms[d],
        h = Sc(e, f, g);return a.vardoms[d] = h, Jb(h, g);
  }function ad(a, b, c, d) {
    var e = a.vardoms[b],
        f = a.vardoms[c],
        g = a.vardoms[d],
        h = Jc(e, f, g);return a.vardoms[d] = h, Jb(h, g);
  }function bd(a, b, c, d, e) {
    var f = a.vardoms[b],
        g = a.vardoms[c],
        h = a.vardoms[d],
        i = void 0;switch (e) {case "plus":
        i = Zb;break;case "min":
        i = Ob;break;case "mul":
        i = Pa;break;case "div":
        i = Ra;break;default:
        kc("UNKNOWN ring opname", e);}var j = Wc(f, g, h, i, e);return a.vardoms[d] = j, Jb(j, h);
  }function cd(a, b) {
    return Qc(a, b);
  }function dd(a, b, c, d) {
    switch (b) {case "eq":
        return Kc(a, c, d);case "lt":
        return Mc(a, c, d);case "lte":
        return Oc(a, c, d);case "gt":
        return dd(a, "lt", d, c);case "gte":
        return dd(a, "lte", d, c);case "neq":
        return Tc(a, c, d);default:
        return kc("unsupported propagator: [" + b + "]");}
  }function ed(a, b, c) {
    switch (a) {case "lt":
        return Nc(b, c);case "lte":
        return Pc(b, c);case "gt":
        return Nc(c, b);case "gte":
        return Pc(c, b);case "eq":
        return Lc(b, c);case "neq":
        return Uc(b, c);}kc("stepper_step_read_only: unsupported propagator: [" + a + "]");
  }function fd(a) {
    var b = !a.stack || 0 === a.stack.length;b && (a.stack ? a.stack.push(a.space) : a.stack = [a.space]);for (var c = a.next_choice || hd, d = a.stack; d.length > 0;) {
      var e = gd(d[d.length - 1], d, a, c);if (e) return;
    }a.status = "end", a.more = !1;
  }function gd(a, b, c, d) {
    var e = wd(a);if (e) return id(c, a, b), !1;var f = Cd(a);if (f) return jd(c, a, b), !0;var g = d(a, c);return g ? b.push(g) : (a.stable_children++, b.pop()), !1;
  }function hd(a) {
    var b = T(a);if (b !== Se) {
      var c = a.vardoms[b];if (!db(c)) {
        var d = I(a, b);if (d) {
          var e = rd(a);return e.updatedVarIndex = b, e.vardoms[b] = d, e;
        }
      }
    }
  }function id(a, b, c) {
    b.failed = !0, c.pop();
  }function jd(a, b, c) {
    c.pop(), a.status = "solved", a.space = b, a.more = c.length > 0;
  }function kd(a) {
    switch ("undefined" == typeof a ? "undefined" : _typeof(a)) {case "object":
        if (!a) return null;if (a instanceof Array) return a.map(function (a) {
          return kd(a);
        });var b = {};for (var c in a) {
          b[c] = kd(a[c]);
        }return b;case "function":
        var d = { __THIS_IS_A_FUNCTION: 1, __source: a.toString() };for (var e in a) {
          d[e] = kd(a[e]);
        }return d;case "string":case "number":case "boolean":case "undefined":
        return a;}kc("config value what?", a);
  }function ld() {
    return bf || (bf =  true ? function (a) {
      return __webpack_require__(421).inspect(a, !1, null);
    } : function (a) {
      return a;
    }), bf;
  }function md(a, b, c) {
    for (var d = []; a.more && d.length < c;) {
      b(a), "end" !== a.status && d.push(a.space);
    }return d;
  }function nd(a, b, c) {
    for (var d = void 0, e = 0; e < a.length; ++e) {
      var f = a[e];if (!d || !d[f]) {
        var g = b[f],
            h = g && g.distributeOptions;if (h) {
          d || (d = {}), d[f] = {};for (var i in h) {
            d[f][i] = h[i];
          }
        }g && g.distribute && (d || (d = {}), d[f] || (d[f] = {}), d[f].distributor_name = g.distribute), d && d[f] && "markov" === d[f].distributor_name && q(c, "markov", [f]);
      }
    }return d;
  }function od(a, b, c) {
    c >= Qe && console.time("      - FD Solution Construction Time");for (var d = 0; d < a.length; ++d) {
      var e = Dd(a[d]);b.push(e), c >= Re && (console.log("      - FD solution() ::::::::::::::::::::::::::::"), console.log((0, _stringify2.default)(e)), console.log("                      ::::::::::::::::::::::::::::"));
    }c >= Qe && console.timeEnd("      - FD Solution Construction Time");
  }function pd(b) {
    b || (b = a());var c = 0,
        d = 0,
        e = "";return td(b, [], [], c, d, e);
  }function qd(a) {
    var b = pd(a);return ud(b), b;
  }function rd(a) {
    var b = a.vardoms.slice(0),
        c = a.unsolvedVarIndexes.slice(0),
        d = void 0,
        e = void 0,
        f = void 0;return td(a.config, b, c, d, e, f);
  }function sd(a) {
    for (var c = a.vardoms, d = [], e = a.config.all_var_names, f = 0, g = e.length; f < g; f++) {
      var h = c[f];d[f] = Cb(h, Td);
    }return b(a.config, d);
  }function td(a, b, c, d, e, f) {
    var g = { _class: "$space", config: a, vardoms: b, unsolvedVarIndexes: c, next_distribution_choice: 0, updatedVarIndex: -1 };return g;
  }function ud(a) {
    var b = a.config;D(b, a), vd(a, b);
  }function vd(a, b) {
    var c = a.unsolvedVarIndexes,
        d = b.targetedVars,
        e = a.vardoms;if ("all" === d) for (var f = 0, g = e.length; f < g; ++f) {
      db(e[f]) || (b._varToPropagators[f] || b._constrainedAway && b._constrainedAway.indexOf(f) >= 0) && c.push(f);
    } else for (var h = a.config._var_names_trie, i = 0, j = d.length; i < j; ++i) {
      var k = d[i],
          l = Jd(h, k);void 0 === l && kc("E_TARGETED_VARS_SHOULD_EXIST_NOW"), db(e[l]) || c.push(l);
    }
  }function wd(a) {
    var b = a.config._propagators,
        c = void 0,
        d = 1;if (a.updatedVarIndex >= 0) c = [a.updatedVarIndex];else {
      c = [];var e = Fd(),
          f = xd(a, b, c, e);if (f) return !0;
    }if (Bd(a)) return !0;for (; c.length;) {
      var g = [],
          h = Fd(),
          i = Ad(a, b, c, g, h, d);if (i) return !0;if (Bd(a)) return !0;c = g, d = 2;
    }return !1;
  }function xd(a, b, c, d) {
    for (var e = 0, f = b.length; e < f; e++) {
      var g = b[e],
          h = zd(a, g, c, d);if (h) return !0;
    }return !1;
  }function yd(a, b, c, d, e) {
    for (var f = 0, g = c.length; f < g; f++) {
      var h = c[f],
          i = b[h],
          j = zd(a, i, d, e, f);if (j) return !0;
    }return !1;
  }function zd(a, b, c, d, e) {
    var f = Xc(b, a);if (f === Le) for (var g = 0, h = b[Ve].length; g < h; ++g) {
      var i = b[Ve][g];Id(d, i) || (c.push(i), Gd(d, i, !0));
    } else if (f === Me) return !0;return !1;
  }function Ad(a, b, c, d, e, f) {
    for (var g = a.config._varToPropagators, h = 0, i = c.length; h < i; h++) {
      var j = g[c[h]];if (j && j.length >= f) {
        var k = yd(a, b, j, d, e);if (k) return !0;
      }
    }return !1;
  }function Bd(a) {
    var b = a.config.timeout_callback;return !!b && b(a);
  }function Cd(a) {
    for (var b = a.unsolvedVarIndexes, c = a.vardoms, d = 0, e = 0, f = b.length; e < f; e++) {
      var g = b[e],
          h = c[g];db(h) || (b[d++] = g);
    }return b.length = d, 0 === d;
  }function Dd(a) {
    for (var b = a.config.all_var_names, c = {}, d = 0, e = b.length; d < e; d++) {
      var f = b[d];c[f] = Ed(a, d);
    }return c;
  }function Ed(a, b) {
    var c = a.vardoms[b];if (c === Oe) return !1;var d = ha(c);return d !== Se ? d : Fb(c);
  }function Fd(a) {
    var b = {};if (a) for (var c = 0, d = a.length; c < d; ++c) {
      Gd(b, a[c], c);
    }return b;
  }function Gd(a, b, c) {
    return "$" === b && kc("Invalid special symbol; $"), b = String(b), Hd(a, b, c, 0, b.length);
  }function Hd(a, b, c, d, e) {
    if (d >= e) return a.$ = c;var f = b.charCodeAt(d),
        g = a[f];return a[f] || (g = {}, a[f] = g), Hd(g, b, c, d + 1, e);
  }function Id(a, b) {
    return void 0 !== Jd(a, b);
  }function Jd(a, b) {
    return "$" === b && kc("Invalid key -- special symbol; $"), b = String(b), Kd(a, b, 0, b.length);
  }function Kd(a, b, c, d) {
    if (c >= d) return a.$;var e = b.charCodeAt(c),
        f = a[e];return f ? Kd(f, b, c + 1, d) : void 0;
  }var Ld = { defaults: { "var": "naive", val: "min" }, naive: { "var": "naive", val: "min" }, fail_first: { "var": "size", val: "min" }, split: { "var": "size", val: "splitMin" } },
      Md = 0,
      Nd = 1,
      Od = void 0,
      Pd = Math.random,
      Qd = 1,
      Rd = 2,
      Sd = 3,
      Td = !0,
      Ud = 0,
      Vd = 1,
      Wd = Math.min,
      Xd = Math.max,
      Yd = Math.floor,
      Zd = Math.ceil,
      $d = 1,
      _d = 2,
      ae = $d | _d,
      be = 4,
      ce = 8,
      de = 16,
      ee = 32,
      fe = 64,
      ge = 128,
      he = 256,
      ie = 512,
      je = 1024,
      ke = 2048,
      le = 4096,
      me = 8192,
      ne = 16384,
      oe = 32768,
      pe = 65536,
      qe = 1 << 17,
      re = 1 << 18,
      se = 1 << 19,
      te = 1 << 20,
      ue = 1 << 21,
      ve = 1 << 22,
      we = 1 << 23,
      xe = 1 << 24,
      ye = 1 << 25,
      ze = 1 << 26,
      Ae = 1 << 27,
      Be = 1 << 28,
      Ce = 1 << 29,
      De = 1 << 30,
      Ee = [$d, _d, be, ce, de, ee, fe, ge, he, ie, je, ke, le, me, ne, oe, pe, qe, re, se, te, ue, ve, we, xe, ye, ze, Ae, Be, Ce, De],
      Fe = {};Fe[$d] = 0, Fe[_d] = 1, Fe[be] = 2, Fe[ce] = 3, Fe[de] = 4, Fe[ee] = 5, Fe[fe] = 6, Fe[ge] = 7, Fe[he] = 8, Fe[ie] = 9, Fe[je] = 10, Fe[ke] = 11, Fe[le] = 12, Fe[me] = 13, Fe[ne] = 14, Fe[oe] = 15, Fe[pe] = 16, Fe[qe] = 17, Fe[re] = 18, Fe[se] = 19, Fe[te] = 20, Fe[ue] = 21, Fe[ve] = 22, Fe[we] = 23, Fe[xe] = 24, Fe[ye] = 25, Fe[ze] = 26, Fe[Ae] = 27, Fe[Be] = 28, Fe[Ce] = 29, Fe[De] = 30;var Ge = 30,
      He = [32, 0, 1, 26, 2, 23, 27, 0, 3, 16, 24, 30, 28, 11, 0, 13, 4, 7, 17, 0, 25, 22, 31, 15, 29, 10, 12, 6, 0, 21, 14, 9, 5, 20, 8, 19, 18],
      Ie = 0,
      Je = 1e8,
      Ke = 0,
      Le = 1,
      Me = -1,
      Ne = -1,
      Oe = 0,
      Pe = 0,
      Qe = 1,
      Re = 2,
      Se = Math.min(0, Ie) - 1,
      Te = 2,
      Ue = 0,
      Ve = 1,
      We = 2,
      Xe = 3,
      Ye = We,
      Ze = Xe,
      $e = We,
      _e = We,
      af = function () {
    function b() {
      var c = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];_classCallCheck(this, b);var d = c.distribute,
          e = void 0 === d ? "naive" : d,
          f = c.search,
          g = void 0 === f ? "depth_first" : f,
          h = c.defaultDomain,
          i = void 0 === h ? Ab(0, 1) : h,
          j = c.config,
          m = void 0 === j ? a() : j;if (m.initial_vars) {
        for (var n = [], o = 0, p = m.all_var_names.length; o < p; ++o) {
          n[o] = m.initial_vars[m.all_var_names[o]];
        }throw m.initial_domains = n, console.log("### converted initial_vars to initial_domains, log out result and update examples accordingly!"), delete m.initial_vars, new Error("test");
      }this._class = "solver", this.distribute = e, this.search = g, this.defaultDomain = i, this.config = m, "string" == typeof e ? k(this.config, this.distribute) : "object" === ("undefined" == typeof e ? "undefined" : _typeof(e)) ? l(this.config, this.distribute) : kc("SOLVER_OPTIONS_UNKNOWN_TYPE"), this.vars = { byId: {}, byName: {}, all: [], byClass: {}, root: void 0 }, this.solutions = [], this.state = { space: null, more: !1 }, this._prepared = !1;
    }return _createClass(b, [{ key: "constant", value: function value(a) {
        return a === !1 && (a = 0), a === !0 && (a = 1), this.num(a);
      } }, { key: "num", value: function value(a) {
        "number" != typeof a && kc("Solver#num: expecting a number, got " + a + " (a " + ("undefined" == typeof a ? "undefined" : _typeof(a)) + ")"), isNaN(a) && kc("Solver#num: expecting a number, got NaN");var b = h(this.config, a);return this.config.all_var_names[b];
      } }, { key: "addVars", value: function value(a) {
        for (var b = 0; b < a.length; b++) {
          var c = a[b];this.addVar(c);
        }
      } }, { key: "decl", value: function value(a, b) {
        var c = void 0;c = "number" == typeof b ? [b, b] : b, c || (c = Cb(this.defaultDomain, Td)), jb(c) && kc("EMPTY_DOMAIN_NOT_ALLOWED"), c = Kb(c);g(this.config, a, c);return a;
      } }, { key: "addVar", value: function value(a, b) {
        "string" == typeof a && (a = { id: a, domain: b });var c = a,
            d = c.id,
            e = c.domain,
            f = c.name,
            h = c.distribute;null == d && kc("Solver#addVar: requires id");var i = this.vars;if (i.byId[d] && kc("Solver#addVar: var.id already added: " + d), e = void 0 === e ? Cb(this.defaultDomain, Td) : Kb(e), g(this.config, d, e), i.byId[d] = a, i.all.push(a), null != f && (null == i.byName[f] && (i.byName[f] = []), i.byName[f].push(a)), "markov" === h || a.distributeOptions && "markov" === a.distributeOptions.distributor_name) {
          var j = a.distributeOptions.matrix;j || (a.distributeOptions.expandVectorsWith ? j = a.distributeOptions.matrix = [{ vector: [] }] : kc("Solver#addVar: markov distribution requires SolverVar " + (0, _stringify2.default)(a) + " w/ distributeOptions:{matrix:[]}"));for (var k = 0; k < j.length; ++k) {
            var l = j[k],
                m = l["boolean"];"function" == typeof m ? l.booleanId = m(this, a) : "string" == typeof m && (l.booleanId = m);
          }
        }return a;
      } }, { key: "+", value: function value(a, b, c) {
        return this.plus(a, b, c);
      } }, { key: "plus", value: function value(a, b, c) {
        return q(this.config, "plus", [ic(a), ic(b), c && ic(c)]);
      } }, { key: "-", value: function value(a, b, c) {
        return this.min(a, b, c);
      } }, { key: "minus", value: function value(a, b, c) {
        return this.min(a, b, c);
      } }, { key: "min", value: function value(a, b, c) {
        return q(this.config, "min", [ic(a), ic(b), c && ic(c)]);
      } }, { key: "*", value: function value(a, b, c) {
        return this.ring_mul(a, b, c);
      } }, { key: "times", value: function value(a, b, c) {
        return this.ring_mul(a, b, c);
      } }, { key: "ring_mul", value: function value(a, b, c) {
        return q(this.config, "ring-mul", [ic(a), ic(b), c && ic(c)]);
      } }, { key: "/", value: function value(a, b, c) {
        return this.div(a, b, c);
      } }, { key: "div", value: function value(a, b, c) {
        return q(this.config, "ring-div", [ic(a), ic(b), c && ic(c)]);
      } }, { key: "mul", value: function value(a, b, c) {
        return q(this.config, "mul", [ic(a), ic(b), c && ic(c)]);
      } }, { key: "∑", value: function value(a, b) {
        return this.sum(a, b);
      } }, { key: "sum", value: function value(a, b) {
        return q(this.config, "sum", jc(a), b && ic(b));
      } }, { key: "∏", value: function value(a, b) {
        return this.product(a, b);
      } }, { key: "product", value: function value(a, b) {
        return q(this.config, "product", jc(a), b && ic(b));
      } }, { key: "{}≠", value: function value(a) {
        this.distinct(a);
      } }, { key: "distinct", value: function value(a) {
        q(this.config, "distinct", jc(a));
      } }, { key: "==", value: function value(a, b) {
        return this.eq(a, b);
      } }, { key: "eq", value: function value(a, b) {
        return q(this.config, "eq", [ic(a), ic(b)]);
      } }, { key: "!=", value: function value(a, b) {
        return this.neq(a, b);
      } }, { key: "neq", value: function value(a, b) {
        return q(this.config, "neq", [ic(a), ic(b)]);
      } }, { key: ">=", value: function value(a, b) {
        return this.gte(a, b);
      } }, { key: "gte", value: function value(a, b) {
        return q(this.config, "gte", [ic(a), ic(b)]);
      } }, { key: "<=", value: function value(a, b) {
        return this.lte(a, b);
      } }, { key: "lte", value: function value(a, b) {
        return q(this.config, "lte", [ic(a), ic(b)]);
      } }, { key: ">", value: function value(a, b) {
        return this.gt(a, b);
      } }, { key: "gt", value: function value(a, b) {
        return q(this.config, "gt", [ic(a), ic(b)]);
      } }, { key: "<", value: function value(a, b) {
        return this.lt(a, b);
      } }, { key: "lt", value: function value(a, b) {
        return q(this.config, "lt", [ic(a), ic(b)]);
      } }, { key: "_cacheReified", value: function value(a, b, c, d) {
        return q(this.config, "reifier", [ic(b), ic(c), d && ic(d)], a);
      } }, { key: "!=?", value: function value(a, b, c) {
        return this.isNeq(a, b, c);
      } }, { key: "isNeq", value: function value(a, b, c) {
        return this._cacheReified("neq", a, b, c);
      } }, { key: "==?", value: function value(a, b, c) {
        return this.isEq(a, b, c);
      } }, { key: "isEq", value: function value(a, b, c) {
        return this._cacheReified("eq", a, b, c);
      } }, { key: ">=?", value: function value(a, b, c) {
        return this.isGte(a, b, c);
      } }, { key: "isGte", value: function value(a, b, c) {
        return this._cacheReified("gte", a, b, c);
      } }, { key: "<=?", value: function value(a, b, c) {
        return this.isLte(a, b, c);
      } }, { key: "isLte", value: function value(a, b, c) {
        return this._cacheReified("lte", a, b, c);
      } }, { key: ">?", value: function value(a, b, c) {
        return this.isGt(a, b, c);
      } }, { key: "isGt", value: function value(a, b, c) {
        return this._cacheReified("gt", a, b, c);
      } }, { key: "<?", value: function value(a, b, c) {
        return this.isLt(a, b, c);
      } }, { key: "isLt", value: function value(a, b, c) {
        return this._cacheReified("lt", a, b, c);
      } }, { key: "callback", value: function value(a, b) {
        return q(this.config, "callback", jc(a), b);
      } }, { key: "solve", value: function value() {
        var a = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
            b = this.prepare(a);return a._debug && this._debugLegible(), a._debugConfig && console.log("## _debugConfig:\n", ld()(this.config)), a._debugSpace && console.log("## _debugSpace:\n", ld()(this._space)), a._debugSolver && this._debugSolver(), this.run(b), this.solutions;
      } }, { key: "prepare", value: function value() {
        var a = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
            b = a.max,
            c = void 0 === b ? 1e3 : b,
            d = a.log,
            e = void 0 === d ? Pe : d,
            f = a.vars,
            g = void 0 === f ? this.vars.all : f,
            h = a.search,
            i = a.distribute,
            j = void 0 === i ? this.distribute : i;e >= Qe && (console.log("      - FD Preparing..."), console.time("      - FD Prepare Time"));var k = "all" === g || g === this.vars.all,
            m = jc(g),
            n = nd(m, this.vars.byId, this.config);n && l(this.config, { var_dist_config: n }), k || l(this.config, { targeted_var_names: m }), l(this.config, j);var o = this._get_search_func_or_die(h),
            p = qd(this.config);return this._space = p, this.state.space = p, this.state.more = !0, this.state.stack = [], this._prepared = !0, e >= Qe && console.timeEnd("      - FD Prepare Time"), { searchFunc: o, max: c, log: e };
      } }, { key: "_get_search_func_or_die", value: function value() {
        var a = arguments.length <= 0 || void 0 === arguments[0] ? this.search : arguments[0];switch (a) {case "depth_first":
            var b = fd;break;default:
            kc("Unknown search strategy: " + a);}return b;
      } }, { key: "run", value: function value(a, b) {
        var c = a.searchFunc,
            d = a.max,
            e = a.log;this._prepared = !1;var f = this.state;e >= Qe && (console.log("      - FD Var Count: " + f.space.config.all_var_names.length), console.log("      - FD Constraint Count: " + f.space.config.all_constraints.length), console.log("      - FD Propagator Count: " + f.space.config._propagators.length), console.log("      - FD Solving..."), console.time("      - FD Solving Time"));for (var g = !1, h = f.space.vardoms, i = 0, j = h.length; i < j; ++i) {
          if (h[i] === Oe) {
            g = !0;break;
          }
        }var k = void 0;k = g ? [] : md(f, c, d), e >= Qe && (console.timeEnd("      - FD Solving Time"), console.log("      - FD Solutions: " + k.length)), b || od(k, this.solutions, e);
      } }, { key: "space_add_var_range", value: function value(a, b, c) {
        f(this.config, a, b, c);return a;
      } }, { key: "domain_fromList", value: function value(a) {
        return Fb(ka(a));
      } }, { key: "domain_max", value: function value(a) {
        return jb(a) ? Se : ab(a);
      } }, { key: "domain_toList", value: function value(a) {
        return ma(a);
      } }, { key: "branch_from_current_solution", value: function value() {
        var a = sd(this.state.space);return new b({ config: a });
      } }, { key: "_debugLegible", value: function value() {
        var a = JSON.parse((0, _stringify2.default)(this.config)),
            b = a.all_var_names,
            c = a.targetedVars,
            d = a.all_constraints,
            e = a.initial_domains,
            f = a._propagators;a.all_var_names = "<removed>", a.all_constraints = "<removed>", a.initial_domains = "<removed>", "all" !== c && (a.targetedVars = "<removed>"), a._propagators = "<removed>", a._varToPropagators = "<removed>", console.log("\n## _debug:\n"), console.log("- config:"), console.log(ld()(a)), console.log("- vars (" + b.length + "):"), console.log(b.map(function (a, b) {
          return b + ": [" + e[b] + "] " + (a === String(b) ? "" : " // " + a);
        }).join("\n")), "all" !== c && console.log("- targeted vars (" + c.length + "): " + c.join(", ")), console.log("- constraints (" + d.length + " -> " + f.length + "):"), console.log(d.map(function (a, b) {
          return void 0 === a.param ? b + ": " + a.name + "(" + a.varIndexes + ")      --->  " + a.varIndexes.map(function (a) {
            return (0, _stringify2.default)(e[a]);
          }).join(",  ") : "reifier" === a.name ? b + ": " + a.name + "[" + a.param + "](" + a.varIndexes + ")      --->  " + (0, _stringify2.default)(e[a.varIndexes[0]]) + " " + a.param + " " + (0, _stringify2.default)(e[a.varIndexes[1]]) + " = " + (0, _stringify2.default)(e[a.varIndexes[2]]) : b + ": " + a.name + "(" + a.varIndexes + ") = " + a.param + "      --->  " + a.varIndexes.map(function (a) {
            return (0, _stringify2.default)(e[a]);
          }).join(",  ") + " -> " + (0, _stringify2.default)(e[a.param]);
        }).join("\n")), console.log("##/\n");
      } }, { key: "_debugSolver", value: function value() {
        console.log("## _debugSolver:\n");var a = ld();console.log("# Config:");var b = this.config;console.log(a(kd(b))), console.log("# Variables (" + c.length + "x):");var c = b.all_var_names;console.log("  index name domain toArr");for (var d = 0; d < c.length; ++d) {
          console.log("  ", d, ":", c[d], ":", b.initial_domains[d], "(= [" + Fb(b.initial_domains[d]) + "])");
        }console.log("# Constraints (" + e.length + "x):");var e = b.all_constraints;console.log("  index name vars param");for (var f = 0; f < e.length; ++f) {
          console.log("  ", f, ":", e[f].name, ":", e[f].varIndexes.join(","), ":", e[f].param);
        }console.log("# Propagators (" + g.length + "x):");var g = b._propagators;console.log("  index name vars args");for (var h = 0; h < g.length; ++h) {
          console.log("  ", h, ":", g[h][Ue], ":", g[h][Ve], ":", g[h].slice(We));
        }console.log("##");
      } }]), b;
  }(),
      bf = void 0;return af;
}();exports["default"] = Solver;
//# sourceMappingURL=finitedomain.dist.min.js.map

/***/ }),
/* 183 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(335);
module.exports.default = module.exports;

/***/ }),
/* 184 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function load(src, opts, cb) {
  var head = document.head || document.getElementsByTagName('head')[0];
  var script = document.createElement('script');

  if (typeof opts === 'function') {
    cb = opts;
    opts = {};
  }

  opts = opts || {};
  cb = cb || function () {};

  script.type = opts.type || 'text/javascript';
  script.charset = opts.charset || 'utf8';
  script.async = 'async' in opts ? !!opts.async : true;
  script.src = src;

  if (opts.attrs) {
    setAttributes(script, opts.attrs);
  }

  if (opts.text) {
    script.text = '' + opts.text;
  }

  var onend = 'onload' in script ? stdOnEnd : ieOnEnd;
  onend(script, cb);

  // some good legacy browsers (firefox) fail the 'in' detection above
  // so as a fallback we always set onload
  // old IE will ignore this and new IE will set onload
  if (!script.onload) {
    stdOnEnd(script, cb);
  }

  head.appendChild(script);
};

function setAttributes(script, attrs) {
  for (var attr in attrs) {
    script.setAttribute(attr, attrs[attr]);
  }
}

function stdOnEnd(script, cb) {
  script.onload = function () {
    this.onerror = this.onload = null;
    cb(null, script);
  };
  script.onerror = function () {
    // this.onload = null here is necessary
    // because even IE9 works not like others
    this.onerror = this.onload = null;
    cb(new Error('Failed to load ' + this.src), script);
  };
}

function ieOnEnd(script, cb) {
  script.onreadystatechange = function () {
    if (this.readyState != 'complete' && this.readyState != 'loaded') return;
    this.onreadystatechange = null;
    cb(null, script); // there is no way to catch loading errors in IE8
  };
}

/***/ }),
/* 185 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = (typeof self === 'undefined' ? 'undefined' : (0, _typeof3.default)(self)) == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = function () {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? 'Symbol(src)_1.' + uid : '';
}();

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$');

/** Built-in value references. */
var _Symbol = root.Symbol,
    splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = _Symbol ? _Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash(),
    'map': new (Map || ListCache)(),
    'string': new Hash()
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return index && index == length ? object : undefined;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && maskSrcKey in func;
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function (string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function (match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : number || match);
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return func + '';
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || resolver && typeof resolver != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function memoized() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache)();
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || value !== value && other !== other;
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

module.exports = get;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 186 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*!
 * @name JavaScript/NodeJS Merge v1.2.0
 * @author yeikos
 * @repository https://github.com/yeikos/js.merge

 * Copyright 2014 yeikos - MIT license
 * https://raw.github.com/yeikos/js.merge/master/LICENSE
 */

;(function (isNode) {

	/**
  * Merge one or more objects 
  * @param bool? clone
  * @param mixed,... arguments
  * @return object
  */

	var Public = function Public(clone) {

		return merge(clone === true, false, arguments);
	},
	    publicName = 'merge';

	/**
  * Merge two or more objects recursively 
  * @param bool? clone
  * @param mixed,... arguments
  * @return object
  */

	Public.recursive = function (clone) {

		return merge(clone === true, true, arguments);
	};

	/**
  * Clone the input removing any reference
  * @param mixed input
  * @return mixed
  */

	Public.clone = function (input) {

		var output = input,
		    type = typeOf(input),
		    index,
		    size;

		if (type === 'array') {

			output = [];
			size = input.length;

			for (index = 0; index < size; ++index) {

				output[index] = Public.clone(input[index]);
			}
		} else if (type === 'object') {

			output = {};

			for (index in input) {

				output[index] = Public.clone(input[index]);
			}
		}

		return output;
	};

	/**
  * Merge two objects recursively
  * @param mixed input
  * @param mixed extend
  * @return mixed
  */

	function merge_recursive(base, extend) {

		if (typeOf(base) !== 'object') return extend;

		for (var key in extend) {

			if (typeOf(base[key]) === 'object' && typeOf(extend[key]) === 'object') {

				base[key] = merge_recursive(base[key], extend[key]);
			} else {

				base[key] = extend[key];
			}
		}

		return base;
	}

	/**
  * Merge two or more objects
  * @param bool clone
  * @param bool recursive
  * @param array argv
  * @return object
  */

	function merge(clone, recursive, argv) {

		var result = argv[0],
		    size = argv.length;

		if (clone || typeOf(result) !== 'object') result = {};

		for (var index = 0; index < size; ++index) {

			var item = argv[index],
			    type = typeOf(item);

			if (type !== 'object') continue;

			for (var key in item) {

				var sitem = clone ? Public.clone(item[key]) : item[key];

				if (recursive) {

					result[key] = merge_recursive(result[key], sitem);
				} else {

					result[key] = sitem;
				}
			}
		}

		return result;
	}

	/**
  * Get type of variable
  * @param mixed input
  * @return string
  *
  * @see http://jsperf.com/typeofvar
  */

	function typeOf(input) {

		return {}.toString.call(input).slice(8, -1).toLowerCase();
	}

	if (isNode) {

		module.exports = Public;
	} else {

		window[publicName] = Public;
	}
})(( false ? 'undefined' : (0, _typeof3.default)(module)) === 'object' && module && (0, _typeof3.default)(module.exports) === 'object' && module.exports);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(76)(module)))

/***/ }),
/* 187 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.decode = exports.parse = __webpack_require__(350);
exports.encode = exports.stringify = __webpack_require__(351);

/***/ }),
/* 188 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* eslint-disable no-use-before-define */
/**
 * @module eventHandlers
 *
 */


var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault2(_from);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports._onClick = _onClick;
exports._onKeyDown = _onKeyDown;
exports._shouldConsider = _shouldConsider;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
}

var _libDom_helpers = __webpack_require__(358);

var _libDom_helpers2 = _interopRequireDefault(_libDom_helpers);

var _libListeners = __webpack_require__(359);

var _libListeners2 = _interopRequireDefault(_libListeners);

var _store = __webpack_require__(92);

var _store2 = _interopRequireDefault(_store);

/**
 * private
 *
 */

/**
 * _onClick
 *
 * @access private
 * @param {object} event The click event object
 * @param {object} event.target The DOM node from the click event
 */

function _onClick(_ref) {
  var target = _ref.target;

  _store2['default'].activate([].concat(_toConsumableArray(_store2['default'].getInstances())).reduce(_libDom_helpers2['default'].findContainerNodes(target), []).sort(_libDom_helpers2['default'].sortByDOMPosition).map(function (item) {
    return item.instance;
  }));
}

/**
 * _onKeyDown: The keydown event callback
 *
 * @access private
 * @param {object} event The keydown event object
 * @param {number} event.which The key code (which) received from the keydown event
 */

function _onKeyDown(event) {
  var forceConsider = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];

  if (forceConsider || _shouldConsider(event)) {
    var _ref2 = _store2['default'].findBindingForEvent(event) || {};

    var fn = _ref2.fn;
    var instance = _ref2.instance;

    if (fn) {
      fn.call(instance, event);
      return true;
    }
  }
  return false;
}

/**
 * _shouldConsider: Conditions for proceeding with key event handling
 *
 * @access private
 * @param {object} event The keydown event object
 * @param {object} event.target The node origin of the event
 * @param {string} event.target.tagName The name of the element tag
 * @param {number} event.target.which The key pressed
 * @return {boolean} Whether to continue procesing the keydown event
 */

function _shouldConsider(_ref3) {
  var ctrlKey = _ref3.ctrlKey;
  var tagName = _ref3.target.tagName;

  return !~['INPUT', 'SELECT', 'TEXTAREA'].indexOf(tagName) || ctrlKey;
}

/**
 * public
 *
 */

/**
 * onMount
 *
 * @access public
 */
function onMount(instance) {
  // have to bump this to next event loop because component mounting routinely
  // preceeds the dom click event that triggered the mount (wtf?)
  setTimeout(function () {
    return _store2['default'].activate(instance);
  }, 0);
  _libListeners2['default'].bindKeys(_onKeyDown);
  _libListeners2['default'].bindClicks(_onClick);
  _libDom_helpers2['default'].bindFocusables(instance, _store2['default'].activate);
}

/**
 * onUnmount
 *
 * @access public
 */
function onUnmount(instance) {
  _store2['default'].deleteInstance(instance);
  if (_store2['default'].isEmpty()) {
    _libListeners2['default'].unbindClicks(_onClick);
    _libListeners2['default'].unbindKeys(_onKeyDown);
  }
}

exports.onMount = onMount;
exports.onUnmount = onUnmount;

/***/ }),
/* 189 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys2 = __webpack_require__(11);

var _keys3 = _interopRequireDefault(_keys2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _keys = __webpack_require__(91);

var modKeys = (0, _keys3.default)(_keys.modifiers);

function matchKeys(_ref) {
  var _ref$keySet = _ref.keySet;
  var key = _ref$keySet.key;
  var _ref$keySet$modifiers = _ref$keySet.modifiers;
  var modifiers = _ref$keySet$modifiers === undefined ? [] : _ref$keySet$modifiers;
  var event = _ref.event;

  var keysMatch = false;
  if (key === event.which) {
    (function () {
      var evtModKeys = modKeys.filter(function (modKey) {
        return event[modKey + 'Key'];
      }).sort();
      keysMatch = modifiers.length === evtModKeys.length && modifiers.every(function (modKey, index) {
        return evtModKeys[index] === modKey;
      });
    })();
  }
  return keysMatch;
}

exports['default'] = matchKeys;
module.exports = exports['default'];

/***/ }),
/* 190 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _keys = __webpack_require__(91);

var _keys2 = _interopRequireDefault(_keys);

function parseKeys(keysArray) {
  return keysArray.map(function (key) {
    var keySet = { key: key };
    if (typeof key === 'string') {
      var keyString = key.toLowerCase().trim();
      var matches = keyString.split(/\s?\+\s?/);
      keySet = matches.length === 1 ? { key: _keys2['default'][keyString] } : {
        key: _keys2['default'][matches.pop()],
        modifiers: matches.map(function (modKey) {
          return _keys.modifiers[modKey];
        }).sort()
      };
    }
    return keySet;
  });
}

exports['default'] = parseKeys;
module.exports = exports['default'];

/***/ }),
/* 191 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = {
  noWobble: { stiffness: 170, damping: 26 }, // the default, if nothing provided
  gentle: { stiffness: 120, damping: 14 },
  wobbly: { stiffness: 180, damping: 12 },
  stiff: { stiffness: 210, damping: 20 }
};
module.exports = exports["default"];

/***/ }),
/* 192 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _props3 = __webpack_require__(126);

var _YouTube = __webpack_require__(373);

var _YouTube2 = _interopRequireDefault(_YouTube);

var _SoundCloud = __webpack_require__(368);

var _SoundCloud2 = _interopRequireDefault(_SoundCloud);

var _Vimeo = __webpack_require__(371);

var _Vimeo2 = _interopRequireDefault(_Vimeo);

var _FilePlayer = __webpack_require__(94);

var _FilePlayer2 = _interopRequireDefault(_FilePlayer);

var _Streamable = __webpack_require__(369);

var _Streamable2 = _interopRequireDefault(_Streamable);

var _Vidme = __webpack_require__(370);

var _Vidme2 = _interopRequireDefault(_Vidme);

var _Wistia = __webpack_require__(372);

var _Wistia2 = _interopRequireDefault(_Wistia);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _objectWithoutProperties(obj, keys) {
  var target = {};for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;target[i] = obj[i];
  }return target;
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var ReactPlayer = function (_Component) {
  _inherits(ReactPlayer, _Component);

  function ReactPlayer() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, ReactPlayer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ReactPlayer.__proto__ || (0, _getPrototypeOf2.default)(ReactPlayer)).call.apply(_ref, [this].concat(args))), _this), _this.seekTo = function (fraction) {
      if (_this.player) {
        _this.player.seekTo(fraction);
      }
    }, _this.progress = function () {
      if (_this.props.url && _this.player) {
        var loaded = _this.player.getFractionLoaded() || 0;
        var played = _this.player.getFractionPlayed() || 0;
        var progress = {};
        if (loaded !== _this.prevLoaded) {
          progress.loaded = loaded;
        }
        if (played !== _this.prevPlayed) {
          progress.played = played;
        }
        if (progress.loaded || progress.played) {
          _this.props.onProgress(progress);
        }
        _this.prevLoaded = loaded;
        _this.prevPlayed = played;
      }
      _this.progressTimeout = setTimeout(_this.progress, _this.props.progressFrequency);
    }, _this.ref = function (player) {
      _this.player = player;
    }, _this.renderPlayer = function (Player) {
      var active = Player.canPlay(_this.props.url);

      var _this$props = _this.props,
          youtubeConfig = _this$props.youtubeConfig,
          soundcloudConfig = _this$props.soundcloudConfig,
          vimeoConfig = _this$props.vimeoConfig,
          fileConfig = _this$props.fileConfig,
          activeProps = _objectWithoutProperties(_this$props, ['youtubeConfig', 'soundcloudConfig', 'vimeoConfig', 'fileConfig']);

      var props = active ? _extends({}, activeProps, { ref: _this.ref }) : {};
      return _react2['default'].createElement(Player, _extends({
        key: Player.displayName,
        youtubeConfig: youtubeConfig,
        soundcloudConfig: soundcloudConfig,
        vimeoConfig: vimeoConfig,
        fileConfig: fileConfig
      }, props));
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(ReactPlayer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.progress();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      clearTimeout(this.progressTimeout);
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      return this.props.url !== nextProps.url || this.props.playing !== nextProps.playing || this.props.volume !== nextProps.volume || this.props.playbackRate !== nextProps.playbackRate || this.props.height !== nextProps.height || this.props.width !== nextProps.width || this.props.hidden !== nextProps.hidden;
    }
  }, {
    key: 'renderPlayers',
    value: function renderPlayers() {
      // Build array of players to render based on URL and preload config
      var _props = this.props,
          url = _props.url,
          youtubeConfig = _props.youtubeConfig,
          vimeoConfig = _props.vimeoConfig;

      var players = [];
      if (_YouTube2['default'].canPlay(url)) {
        players.push(_YouTube2['default']);
      } else if (_SoundCloud2['default'].canPlay(url)) {
        players.push(_SoundCloud2['default']);
      } else if (_Vimeo2['default'].canPlay(url)) {
        players.push(_Vimeo2['default']);
      } else if (_Streamable2['default'].canPlay(url)) {
        players.push(_Streamable2['default']);
      } else if (_Vidme2['default'].canPlay(url)) {
        players.push(_Vidme2['default']);
      } else if (_Wistia2['default'].canPlay(url)) {
        players.push(_Wistia2['default']);
      } else if (url) {
        // Fall back to FilePlayer if nothing else can play the URL
        players.push(_FilePlayer2['default']);
      }
      // Render additional players if preload config is set
      if (!_YouTube2['default'].canPlay(url) && youtubeConfig.preload) {
        players.push(_YouTube2['default']);
      }
      if (!_Vimeo2['default'].canPlay(url) && vimeoConfig.preload) {
        players.push(_Vimeo2['default']);
      }
      return players.map(this.renderPlayer);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          style = _props2.style,
          width = _props2.width,
          height = _props2.height,
          className = _props2.className,
          hidden = _props2.hidden;

      var players = this.renderPlayers();
      return _react2['default'].createElement('div', { style: _extends({}, style, { width: width, height: height }), className: className, hidden: hidden }, players);
    }
  }]);

  return ReactPlayer;
}(_react.Component);

ReactPlayer.displayName = 'ReactPlayer';
ReactPlayer.propTypes = _props3.propTypes;
ReactPlayer.defaultProps = _props3.defaultProps;
exports['default'] = ReactPlayer;
module.exports = exports['default'];

/***/ }),
/* 193 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(375);

/***/ }),
/* 194 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {

  GLOBAL: {
    HIDE: '__react_tooltip_hide_event',
    REBUILD: '__react_tooltip_rebuild_event',
    SHOW: '__react_tooltip_show_event'
  }
};

/***/ }),
/* 195 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault2(_keys);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _class, _class2, _temp;

/* Decoraters */

/* Utils */

/* CSS */

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(0);

var _reactDom2 = _interopRequireDefault(_reactDom);

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

var _staticMethods = __webpack_require__(380);

var _staticMethods2 = _interopRequireDefault(_staticMethods);

var _windowListener = __webpack_require__(381);

var _windowListener2 = _interopRequireDefault(_windowListener);

var _customEvent = __webpack_require__(378);

var _customEvent2 = _interopRequireDefault(_customEvent);

var _isCapture = __webpack_require__(379);

var _isCapture2 = _interopRequireDefault(_isCapture);

var _getPosition = __webpack_require__(384);

var _getPosition2 = _interopRequireDefault(_getPosition);

var _getTipContent = __webpack_require__(385);

var _getTipContent2 = _interopRequireDefault(_getTipContent);

var _aria = __webpack_require__(383);

var _style = __webpack_require__(382);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var ReactTooltip = (0, _staticMethods2.default)(_class = (0, _windowListener2.default)(_class = (0, _customEvent2.default)(_class = (0, _isCapture2.default)(_class = (_temp = _class2 = function (_Component) {
  _inherits(ReactTooltip, _Component);

  function ReactTooltip(props) {
    _classCallCheck(this, ReactTooltip);

    var _this = _possibleConstructorReturn(this, (ReactTooltip.__proto__ || (0, _getPrototypeOf2.default)(ReactTooltip)).call(this, props));

    _this.state = {
      place: 'top', // Direction of tooltip
      type: 'dark', // Color theme of tooltip
      effect: 'float', // float or fixed
      show: false,
      border: false,
      placeholder: '',
      offset: {},
      extraClass: '',
      html: false,
      delayHide: 0,
      delayShow: 0,
      event: props.event || null,
      eventOff: props.eventOff || null,
      currentEvent: null, // Current mouse event
      currentTarget: null, // Current target of mouse event
      ariaProps: (0, _aria.parseAria)(props) // aria- and role attributes
    };

    _this.bind(['showTooltip', 'updateTooltip', 'hideTooltip', 'globalRebuild', 'globalShow', 'globalHide', 'onWindowResize']);

    _this.mount = true;
    _this.delayShowLoop = null;
    _this.delayHideLoop = null;
    _this.intervalUpdateContent = null;
    return _this;
  }

  /**
   * For unify the bind and unbind listener
   */

  _createClass(ReactTooltip, [{
    key: 'bind',
    value: function bind(methodArray) {
      var _this2 = this;

      methodArray.forEach(function (method) {
        _this2[method] = _this2[method].bind(_this2);
      });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setStyleHeader(); // Set the style to the <link>
      this.bindListener(); // Bind listener for tooltip
      this.bindWindowEvents(this.props.resizeHide); // Bind global event for static method
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      var ariaProps = this.state.ariaProps;

      var newAriaProps = (0, _aria.parseAria)(props);

      var isChanged = (0, _keys2.default)(newAriaProps).some(function (props) {
        return newAriaProps[props] !== ariaProps[props];
      });
      if (isChanged) {
        this.setState({ ariaProps: newAriaProps });
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.mount = false;

      this.clearTimer();

      this.unbindListener();
      this.removeScrollListener();
      this.unbindWindowEvents();
    }

    /**
     * Pick out corresponded target elements
     */

  }, {
    key: 'getTargetArray',
    value: function getTargetArray(id) {
      var targetArray = void 0;

      if (!id) {
        targetArray = document.querySelectorAll('[data-tip]:not([data-for])');
      } else {
        targetArray = document.querySelectorAll('[data-tip][data-for="' + id + '"]');
      }

      // targetArray is a NodeList, convert it to a real array
      // I hope I can use Object.values...
      return (0, _keys2.default)(targetArray).filter(function (key) {
        return key !== 'length';
      }).map(function (key) {
        return targetArray[key];
      });
    }

    /**
     * Bind listener to the target elements
     * These listeners used to trigger showing or hiding the tooltip
     */

  }, {
    key: 'bindListener',
    value: function bindListener() {
      var _this3 = this;

      var _props = this.props;
      var id = _props.id;
      var globalEventOff = _props.globalEventOff;

      var targetArray = this.getTargetArray(id);

      targetArray.forEach(function (target) {
        var isCaptureMode = _this3.isCapture(target);
        if (target.getAttribute('currentItem') === null) {
          target.setAttribute('currentItem', 'false');
        }
        _this3.unbindBasicListener(target);

        if (_this3.isCustomEvent(target)) {
          _this3.customBindListener(target);
          return;
        }

        target.addEventListener('mouseenter', _this3.showTooltip, isCaptureMode);
        if (_this3.state.effect === 'float') {
          target.addEventListener('mousemove', _this3.updateTooltip, isCaptureMode);
        }
        target.addEventListener('mouseleave', _this3.hideTooltip, isCaptureMode);
      });

      // Global event to hide tooltip
      if (globalEventOff) {
        window.removeEventListener(globalEventOff, this.hideTooltip);
        window.addEventListener(globalEventOff, this.hideTooltip, false);
      }
    }

    /**
     * Unbind listeners on target elements
     */

  }, {
    key: 'unbindListener',
    value: function unbindListener() {
      var _this4 = this;

      var _props2 = this.props;
      var id = _props2.id;
      var globalEventOff = _props2.globalEventOff;

      var targetArray = this.getTargetArray(id);
      targetArray.forEach(function (target) {
        _this4.unbindBasicListener(target);
        if (_this4.isCustomEvent(target)) _this4.customUnbindListener(target);
      });

      if (globalEventOff) window.removeEventListener(globalEventOff, this.hideTooltip);
    }

    /**
     * Invoke this before bind listener and ummount the compont
     * it is necessary to invloke this even when binding custom event
     * so that the tooltip can switch between custom and default listener
     */

  }, {
    key: 'unbindBasicListener',
    value: function unbindBasicListener(target) {
      target.removeEventListener('mouseenter', this.showTooltip);
      target.removeEventListener('mousemove', this.updateTooltip);
      target.removeEventListener('mouseleave', this.hideTooltip);
    }

    /**
     * When mouse enter, show the tooltip
     */

  }, {
    key: 'showTooltip',
    value: function showTooltip(e, isGlobalCall) {
      var _this5 = this;

      var disabled = e.currentTarget.getAttribute('data-tip-disable') ? e.currentTarget.getAttribute('data-tip-disable') === 'true' : this.props.disable || false;
      if (disabled) return;

      if (isGlobalCall) {
        // Don't trigger other elements belongs to other ReactTooltip
        var targetArray = this.getTargetArray(this.props.id);
        var isMyElement = targetArray.some(function (ele) {
          return ele === e.currentTarget;
        });
        if (!isMyElement || this.state.show) return;
      }
      // Get the tooltip content
      // calculate in this phrase so that tip width height can be detected
      var _props3 = this.props;
      var children = _props3.children;
      var multiline = _props3.multiline;
      var getContent = _props3.getContent;

      var originTooltip = e.currentTarget.getAttribute('data-tip');
      var isMultiline = e.currentTarget.getAttribute('data-multiline') || multiline || false;

      // Generate tootlip content
      var content = children;
      if (getContent) {
        if (Array.isArray(getContent)) {
          content = getContent[0] && getContent[0]();
        } else {
          content = getContent();
        }
      }
      var placeholder = (0, _getTipContent2.default)(originTooltip, content, isMultiline);

      // If it is focus event or called by ReactTooltip.show, switch to `solid` effect
      var switchToSolid = e instanceof window.FocusEvent || isGlobalCall;

      // if it need to skip adding hide listener to scroll
      var scrollHide = true;
      if (e.currentTarget.getAttribute('data-scroll-hide')) {
        scrollHide = e.currentTarget.getAttribute('data-scroll-hide') === 'true';
      } else if (this.props.scrollHide != null) {
        scrollHide = this.props.scrollHide;
      }

      this.setState({
        placeholder: placeholder,
        place: e.currentTarget.getAttribute('data-place') || this.props.place || 'top',
        type: e.currentTarget.getAttribute('data-type') || this.props.type || 'dark',
        effect: switchToSolid && 'solid' || e.currentTarget.getAttribute('data-effect') || this.props.effect || 'float',
        offset: e.currentTarget.getAttribute('data-offset') || this.props.offset || {},
        html: e.currentTarget.getAttribute('data-html') ? e.currentTarget.getAttribute('data-html') === 'true' : this.props.html || false,
        delayShow: e.currentTarget.getAttribute('data-delay-show') || this.props.delayShow || 0,
        delayHide: e.currentTarget.getAttribute('data-delay-hide') || this.props.delayHide || 0,
        border: e.currentTarget.getAttribute('data-border') ? e.currentTarget.getAttribute('data-border') === 'true' : this.props.border || false,
        extraClass: e.currentTarget.getAttribute('data-class') || this.props.class || ''
      }, function () {
        if (scrollHide) _this5.addScrollListener(e);
        _this5.updateTooltip(e);

        if (getContent && Array.isArray(getContent)) {
          _this5.intervalUpdateContent = setInterval(function () {
            if (_this5.mount) {
              var _getContent = _this5.props.getContent;

              var _placeholder = (0, _getTipContent2.default)(originTooltip, _getContent[0](), isMultiline);
              _this5.setState({
                placeholder: _placeholder
              });
            }
          }, getContent[1]);
        }
      });
    }

    /**
     * When mouse hover, updatetooltip
     */

  }, {
    key: 'updateTooltip',
    value: function updateTooltip(e) {
      var _this6 = this;

      var _state = this.state;
      var delayShow = _state.delayShow;
      var show = _state.show;
      var afterShow = this.props.afterShow;
      var placeholder = this.state.placeholder;

      var delayTime = show ? 0 : parseInt(delayShow, 10);
      var eventTarget = e.currentTarget;

      var updateState = function updateState() {
        if (typeof placeholder === 'string') placeholder = placeholder.trim();
        if (Array.isArray(placeholder) && placeholder.length > 0 || placeholder) {
          (function () {
            var isInvisible = !_this6.state.show;
            _this6.setState({
              currentEvent: e,
              currentTarget: eventTarget,
              show: true
            }, function () {
              _this6.updatePosition();
              if (isInvisible && afterShow) afterShow();
            });
          })();
        }
      };

      clearTimeout(this.delayShowLoop);
      if (delayShow) {
        this.delayShowLoop = setTimeout(updateState, delayTime);
      } else {
        updateState();
      }
    }

    /**
     * When mouse leave, hide tooltip
     */

  }, {
    key: 'hideTooltip',
    value: function hideTooltip(e, hasTarget) {
      var _this7 = this;

      if (!this.mount) return;
      if (hasTarget) {
        // Don't trigger other elements belongs to other ReactTooltip
        var targetArray = this.getTargetArray(this.props.id);
        var isMyElement = targetArray.some(function (ele) {
          return ele === e.currentTarget;
        });
        if (!isMyElement || !this.state.show) return;
      }
      var delayHide = this.state.delayHide;
      var afterHide = this.props.afterHide;

      var resetState = function resetState() {
        var isVisible = _this7.state.show;
        _this7.setState({
          show: false
        }, function () {
          _this7.removeScrollListener();
          if (isVisible && afterHide) afterHide();
        });
      };

      this.clearTimer();
      if (delayHide) {
        this.delayHideLoop = setTimeout(resetState, parseInt(delayHide, 10));
      } else {
        resetState();
      }
    }

    /**
     * Add scroll eventlistener when tooltip show
     * automatically hide the tooltip when scrolling
     */

  }, {
    key: 'addScrollListener',
    value: function addScrollListener(e) {
      var isCaptureMode = this.isCapture(e.currentTarget);
      window.addEventListener('scroll', this.hideTooltip, isCaptureMode);
    }
  }, {
    key: 'removeScrollListener',
    value: function removeScrollListener() {
      window.removeEventListener('scroll', this.hideTooltip);
    }

    // Calculation the position

  }, {
    key: 'updatePosition',
    value: function updatePosition() {
      var _this8 = this;

      var _state2 = this.state;
      var currentEvent = _state2.currentEvent;
      var currentTarget = _state2.currentTarget;
      var place = _state2.place;
      var effect = _state2.effect;
      var offset = _state2.offset;

      var node = _reactDom2.default.findDOMNode(this);

      var result = (0, _getPosition2.default)(currentEvent, currentTarget, node, place, effect, offset);

      if (result.isNewState) {
        // Switch to reverse placement
        return this.setState(result.newState, function () {
          _this8.updatePosition();
        });
      }
      // Set tooltip position
      node.style.left = result.position.left + 'px';
      node.style.top = result.position.top + 'px';
    }

    /**
     * Set style tag in header
     * in this way we can insert default css
     */

  }, {
    key: 'setStyleHeader',
    value: function setStyleHeader() {
      if (!document.getElementsByTagName('head')[0].querySelector('style[id="react-tooltip"]')) {
        var tag = document.createElement('style');
        tag.id = 'react-tooltip';
        tag.innerHTML = _style2.default;
        document.getElementsByTagName('head')[0].appendChild(tag);
      }
    }

    /**
     * CLear all kinds of timeout of interval
     */

  }, {
    key: 'clearTimer',
    value: function clearTimer() {
      clearTimeout(this.delayShowLoop);
      clearTimeout(this.delayHideLoop);
      clearInterval(this.intervalUpdateContent);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state3 = this.state;
      var placeholder = _state3.placeholder;
      var extraClass = _state3.extraClass;
      var html = _state3.html;
      var ariaProps = _state3.ariaProps;

      var tooltipClass = (0, _classnames2.default)('__react_component_tooltip', { 'show': this.state.show }, { 'border': this.state.border }, { 'place-top': this.state.place === 'top' }, { 'place-bottom': this.state.place === 'bottom' }, { 'place-left': this.state.place === 'left' }, { 'place-right': this.state.place === 'right' }, { 'type-dark': this.state.type === 'dark' }, { 'type-success': this.state.type === 'success' }, { 'type-warning': this.state.type === 'warning' }, { 'type-error': this.state.type === 'error' }, { 'type-info': this.state.type === 'info' }, { 'type-light': this.state.type === 'light' });

      if (html) {
        return _react2.default.createElement('div', _extends({ className: tooltipClass + ' ' + extraClass
        }, ariaProps, {
          'data-id': 'tooltip',
          dangerouslySetInnerHTML: { __html: placeholder } }));
      } else {
        return _react2.default.createElement('div', _extends({ className: tooltipClass + ' ' + extraClass
        }, ariaProps, {
          'data-id': 'tooltip' }), placeholder);
      }
    }
  }]);

  return ReactTooltip;
}(_react.Component), _class2.propTypes = {
  children: _react.PropTypes.any,
  place: _react.PropTypes.string,
  type: _react.PropTypes.string,
  effect: _react.PropTypes.string,
  offset: _react.PropTypes.object,
  multiline: _react.PropTypes.bool,
  border: _react.PropTypes.bool,
  class: _react.PropTypes.string,
  id: _react.PropTypes.string,
  html: _react.PropTypes.bool,
  delayHide: _react.PropTypes.number,
  delayShow: _react.PropTypes.number,
  event: _react.PropTypes.string,
  eventOff: _react.PropTypes.string,
  watchWindow: _react.PropTypes.bool,
  isCapture: _react.PropTypes.bool,
  globalEventOff: _react.PropTypes.string,
  getContent: _react.PropTypes.any,
  afterShow: _react.PropTypes.func,
  afterHide: _react.PropTypes.func,
  disable: _react.PropTypes.bool,
  scrollHide: _react.PropTypes.bool,
  resizeHide: _react.PropTypes.bool
}, _class2.defaultProps = {
  resizeHide: true
}, _temp)) || _class) || _class) || _class) || _class;

/* export default not fit for standalone, it will exports {default:...} */

module.exports = ReactTooltip;

/***/ }),
/* 196 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;
exports.componentFromStreamWithConfig = undefined;

var _react = __webpack_require__(0);

var _changeEmitter = __webpack_require__(175);

var _symbolObservable = __webpack_require__(133);

var _symbolObservable2 = _interopRequireDefault(_symbolObservable);

var _setObservableConfig = __webpack_require__(96);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var componentFromStreamWithConfig = exports.componentFromStreamWithConfig = function componentFromStreamWithConfig(config) {
  return function (propsToVdom) {
    return function (_Component) {
      _inherits(ComponentFromStream, _Component);

      function ComponentFromStream() {
        var _config$fromESObserva;

        var _temp, _this, _ret;

        _classCallCheck(this, ComponentFromStream);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = { vdom: null }, _this.propsEmitter = (0, _changeEmitter.createChangeEmitter)(), _this.props$ = config.fromESObservable((_config$fromESObserva = {
          subscribe: function subscribe(observer) {
            var unsubscribe = _this.propsEmitter.listen(function (props) {
              return observer.next(props);
            });
            return { unsubscribe: unsubscribe };
          }
        }, _config$fromESObserva[_symbolObservable2.default] = function () {
          return this;
        }, _config$fromESObserva)), _this.vdom$ = config.toESObservable(propsToVdom(_this.props$)), _temp), _possibleConstructorReturn(_this, _ret);
      }

      // Stream of props


      // Stream of vdom


      ComponentFromStream.prototype.componentWillMount = function componentWillMount() {
        var _this2 = this;

        // Subscribe to child prop changes so we know when to re-render
        this.subscription = this.vdom$.subscribe({
          next: function next(vdom) {
            _this2.setState({ vdom: vdom });
          }
        });
        this.propsEmitter.emit(this.props);
      };

      ComponentFromStream.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        // Receive new props from the owner
        this.propsEmitter.emit(nextProps);
      };

      ComponentFromStream.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
        return nextState.vdom !== this.state.vdom;
      };

      ComponentFromStream.prototype.componentWillUnmount = function componentWillUnmount() {
        // Clean-up subscription before un-mounting
        this.subscription.unsubscribe();
      };

      ComponentFromStream.prototype.render = function render() {
        return this.state.vdom;
      };

      return ComponentFromStream;
    }(_react.Component);
  };
};

var componentFromStream = componentFromStreamWithConfig(_setObservableConfig.config);

exports.default = componentFromStream;

/***/ }),
/* 197 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createEagerElementUtil = __webpack_require__(200);

var _createEagerElementUtil2 = _interopRequireDefault(_createEagerElementUtil);

var _isReferentiallyTransparentFunctionComponent = __webpack_require__(198);

var _isReferentiallyTransparentFunctionComponent2 = _interopRequireDefault(_isReferentiallyTransparentFunctionComponent);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var createEagerElement = function createEagerElement(type, props, children) {
  var isReferentiallyTransparent = (0, _isReferentiallyTransparentFunctionComponent2.default)(type);
  /* eslint-disable */
  var hasKey = props && props.hasOwnProperty('key');
  /* eslint-enable */
  return (0, _createEagerElementUtil2.default)(hasKey, isReferentiallyTransparent, type, props, children);
};

exports.default = createEagerElement;

/***/ }),
/* 198 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _isClassComponent = __webpack_require__(128);

var _isClassComponent2 = _interopRequireDefault(_isClassComponent);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var isReferentiallyTransparentFunctionComponent = function isReferentiallyTransparentFunctionComponent(Component) {
  return Boolean(typeof Component === 'function' && !(0, _isClassComponent2.default)(Component) && !Component.defaultProps && !Component.contextTypes && ("production" === 'production' || !Component.propTypes));
};

exports.default = isReferentiallyTransparentFunctionComponent;

/***/ }),
/* 199 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _shouldUpdate = __webpack_require__(130);

var _shouldUpdate2 = _interopRequireDefault(_shouldUpdate);

var _shallowEqual = __webpack_require__(97);

var _shallowEqual2 = _interopRequireDefault(_shallowEqual);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _pick = __webpack_require__(132);

var _pick2 = _interopRequireDefault(_pick);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var onlyUpdateForKeys = function onlyUpdateForKeys(propKeys) {
  return (0, _shouldUpdate2.default)(function (props, nextProps) {
    return !(0, _shallowEqual2.default)((0, _pick2.default)(nextProps, propKeys), (0, _pick2.default)(props, propKeys));
  });
};

exports.default = (0, _createHelper2.default)(onlyUpdateForKeys, 'onlyUpdateForKeys');

/***/ }),
/* 200 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var createEagerElementUtil = function createEagerElementUtil(hasKey, isReferentiallyTransparent, type, props, children) {
  if (!hasKey && isReferentiallyTransparent) {
    if (children) {
      return type(_extends({}, props, { children: children }));
    }
    return type(props);
  }

  var Component = type;

  if (children) {
    return _react2.default.createElement(Component, props, children);
  }

  return _react2.default.createElement(Component, props);
};

exports.default = createEagerElementUtil;

/***/ }),
/* 201 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var punycode = __webpack_require__(348);
var util = __webpack_require__(418);

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,


// Special case for a simple path URL
simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,


// RFC 2396: characters reserved for delimiting URLs.
// We actually just auto-escape these.
delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],


// RFC 2396: characters not allowed for various reasons.
unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),


// Allowed by RFCs, but cause of XSS attacks.  Always escape these.
autoEscape = ['\''].concat(unwise),

// Characters that are never ever allowed in a hostname.
// Note that any invalid chars are also handled, but these
// are the ones that are *expected* to be seen, so we fast-path
// them.
nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,

// protocols that can allow "unsafe" and "unwise" chars.
unsafeProtocol = {
  'javascript': true,
  'javascript:': true
},

// protocols that never have a hostname.
hostlessProtocol = {
  'javascript': true,
  'javascript:': true
},

// protocols that always contain a // bit.
slashedProtocol = {
  'http': true,
  'https': true,
  'ftp': true,
  'gopher': true,
  'file': true,
  'http:': true,
  'https:': true,
  'ftp:': true,
  'gopher:': true,
  'file:': true
},
    querystring = __webpack_require__(187);

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url();
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function (url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + (typeof url === 'undefined' ? 'undefined' : (0, _typeof3.default)(url)));
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter = queryIndex !== -1 && queryIndex < url.indexOf('#') ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] && (slashes || proto && !slashedProtocol[proto])) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1) hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' && this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1) continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }

  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] && this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function () {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ? this.hostname : '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query && util.isObject(this.query) && (0, _keys2.default)(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || query && '?' + query || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes || (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function (match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function (relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function (relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = (0, _keys2.default)(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = (0, _keys2.default)(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol') result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] && result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = (0, _keys2.default)(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift())) {}
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = result.pathname && result.pathname.charAt(0) === '/',
      isRelAbs = relative.host || relative.pathname && relative.pathname.charAt(0) === '/',
      mustEndAbs = isRelAbs || isSourceAbs || result.host && relative.pathname,
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = relative.host || relative.host === '' ? relative.host : result.host;
    result.hostname = relative.hostname || relative.hostname === '' ? relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (result.host || relative.host || srcPath.length > 1) && (last === '.' || last === '..') || last === '';

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' && (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && srcPath.join('/').substr(-1) !== '/') {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' || srcPath[0] && srcPath[0].charAt(0) === '/';

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' : srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ? result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || result.host && srcPath.length;

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') + (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function () {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};

/***/ }),
/* 202 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isFDQN;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

var _merge = __webpack_require__(134);

var _merge2 = _interopRequireDefault(_merge);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var default_fqdn_options = {
  require_tld: true,
  allow_underscores: false,
  allow_trailing_dot: false
};

function isFDQN(str, options) {
  (0, _assertString2.default)(str);
  options = (0, _merge2.default)(options, default_fqdn_options);

  /* Remove the optional trailing dot before checking validity */
  if (options.allow_trailing_dot && str[str.length - 1] === '.') {
    str = str.substring(0, str.length - 1);
  }
  var parts = str.split('.');
  if (options.require_tld) {
    var tld = parts.pop();
    if (!parts.length || !/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {
      return false;
    }
  }
  for (var part, i = 0; i < parts.length; i++) {
    part = parts[i];
    if (options.allow_underscores) {
      part = part.replace(/_/g, '');
    }
    if (!/^[a-z\u00a1-\uffff0-9-]+$/i.test(part)) {
      return false;
    }
    if (/[\uff01-\uff5e]/.test(part)) {
      // disallow full-width chars
      return false;
    }
    if (part[0] === '-' || part[part.length - 1] === '-') {
      return false;
    }
  }
  return true;
}
module.exports = exports['default'];

/***/ }),
/* 203 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Slider = exports.Selectable = exports.ScrollRenderer = exports.ResizeRenderer = exports.Rating = exports.ProgressBar = exports.Overlay = exports.Logo = exports.Input = exports.Grid = exports.TapInput = exports.ContentEditable = exports.Badge = exports.Avatar = exports.Component = undefined;

var _component = __webpack_require__(136);

var _component2 = _interopRequireDefault(_component);

var _avatar = __webpack_require__(435);

var _avatar2 = _interopRequireDefault(_avatar);

var _badge = __webpack_require__(438);

var _badge2 = _interopRequireDefault(_badge);

var _contentEditable = __webpack_require__(440);

var _contentEditable2 = _interopRequireDefault(_contentEditable);

var _grid = __webpack_require__(443);

var _grid2 = _interopRequireDefault(_grid);

var _input = __webpack_require__(452);

var _input2 = _interopRequireDefault(_input);

var _logo = __webpack_require__(455);

var _logo2 = _interopRequireDefault(_logo);

var _overlay = __webpack_require__(457);

var _overlay2 = _interopRequireDefault(_overlay);

var _progressBar = __webpack_require__(459);

var _progressBar2 = _interopRequireDefault(_progressBar);

var _rating = __webpack_require__(461);

var _rating2 = _interopRequireDefault(_rating);

var _resizeRenderer = __webpack_require__(204);

var _resizeRenderer2 = _interopRequireDefault(_resizeRenderer);

var _scrollRenderer = __webpack_require__(463);

var _scrollRenderer2 = _interopRequireDefault(_scrollRenderer);

var _index = __webpack_require__(464);

var _index2 = _interopRequireDefault(_index);

var _slider = __webpack_require__(205);

var _slider2 = _interopRequireDefault(_slider);

var _tapInput = __webpack_require__(466);

var _tapInput2 = _interopRequireDefault(_tapInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// unused
// import FileButton from './file-button'

// import Checkbox from './checkbox'


// import Styleverse, {
//   Style,
// } from '../styleverse'

// @NOTE: for new styleverse
// import {
//   Style, Styleverse,
// } from 'styleverse'

exports.Component = _component2.default;
exports.Avatar = _avatar2.default;
exports.Badge = _badge2.default;
exports.ContentEditable = _contentEditable2.default;
exports.TapInput = _tapInput2.default;
exports.Grid = _grid2.default;
exports.Input = _input2.default;
exports.Logo = _logo2.default;
exports.Overlay = _overlay2.default;
exports.ProgressBar = _progressBar2.default;
exports.Rating = _rating2.default;
exports.ResizeRenderer = _resizeRenderer2.default;
exports.ScrollRenderer = _scrollRenderer2.default;
exports.Selectable = _index2.default;
exports.Slider = _slider2.default;

// import Button from './button'
// import Icon from './icon'
// import IFrame from './iframe'
// import LogoLoader from './logo-loader'
// import Ribbon from './ribbon'
// import Switch from './switch'
// import ToggleButton from './toggle'
// import {
//  WizardStep,
//  WizardHeader,
//  WizardBody,
//  WizardInfoMessage,
//  WizardInput,
//  WizardFooter,
//  CloseIconThin,
// } from './wizard'

// import ErrorMessage from './error-message'
/*

IMPORTANT: Dont forget to export in src/index.js as well!!!

*/

/***/ }),
/* 204 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ResizeRenderer = __webpack_require__(462);

var _ResizeRenderer2 = _interopRequireDefault(_ResizeRenderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _ResizeRenderer2.default;
module.exports = exports['default'];

/***/ }),
/* 205 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Slider = __webpack_require__(465);

var _Slider2 = _interopRequireDefault(_Slider);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Slider2.default;
module.exports = exports['default'];

/***/ }),
/* 206 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _state = __webpack_require__(482);

var _state2 = _interopRequireDefault(_state);

var _resize = __webpack_require__(480);

var _resize2 = _interopRequireDefault(_resize);

var _scroll = __webpack_require__(481);

var _scroll2 = _interopRequireDefault(_scroll);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var plugins = {
  state: _state2.default,
  resize: _resize2.default,
  scroll: _scroll2.default
};

exports.default = plugins;
module.exports = exports['default'];

/***/ }),
/* 207 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var isValidClassName = exports.isValidClassName = function isValidClassName(isValid) {
  return {
    'input-valid': isValid,
    'input-invalid': !isValid
  };
};

/***/ }),
/* 208 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Synthesizer = undefined;

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Synthesizer = function () {
  function Synthesizer() {
    (0, _classCallCheck3.default)(this, Synthesizer);

    this.config = {
      vibrant: {
        l_max: 60,
        l_min: 40,
        s: 88 // TODO: make function?
      }
    };
    this;
  }

  (0, _createClass3.default)(Synthesizer, [{
    key: "vibrant",
    value: function vibrant(color) {
      if (color.isVibrant()) return color.clone();

      var _color$hsl = color.hsl(),
          h = _color$hsl.h,
          s = _color$hsl.s,
          l = _color$hsl.l;

      l = Math.min(Math.max(l, this.config.vibrant.l_min), this.config.vibrant.l_max);
      s = this.config.vibrant.s;
      return (0, _Color2.default)({ h: h, s: s, l: l });
    }
  }, {
    key: "dark",
    value: function dark(color) {
      var _color$hsl2 = color.hsl(),
          h = _color$hsl2.h,
          s = _color$hsl2.s,
          l = _color$hsl2.l;

      l = Math.min(l, 15);
      s = Math.min(s + 8, 20);
      return (0, _Color2.default)({ h: h, s: s, l: l });
    }
  }, {
    key: "light",
    value: function light(color) {
      var _color$hsl3 = color.hsl(),
          h = _color$hsl3.h,
          s = _color$hsl3.s,
          l = _color$hsl3.l;

      l = Math.max(l, 95);
      s = Math.min(s + 8, 20);
      return (0, _Color2.default)({ h: h, s: s, l: l });
    }
  }]);
  return Synthesizer;
}();

exports.Synthesizer = Synthesizer;

/***/ }),
/* 209 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _2 = __webpack_require__(100);

var _3 = _interopRequireDefault(_2);

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

var _Synthesizer = __webpack_require__(208);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var scoredQuery = _3.default.scoredQuery;


var synthesizer = new _Synthesizer.Synthesizer();
function basesFromPalette(palette) {
  var o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var singleBase = o.singleBase;


  var bases = {
    all: [],
    dark: [],
    light: [],
    vibrant: [],
    '!dark': [],
    '!light': [],
    '!vibrant': []
  };

  var addDark = function addDark(color) {
    bases.all.push(color);
    bases.dark.push(color);
    bases['!vibrant'].push(color);
    return bases['!light'].push(color);
  };

  var addVibrant = function addVibrant(color) {
    bases.all.push(color);
    bases.vibrant.push(color);
    bases['!dark'].push(color);
    return bases['!light'].push(color);
  };

  var addLight = function addLight(color) {
    bases.all.push(color);
    bases.light.push(color);
    bases['!vibrant'].push(color);
    return bases['!dark'].push(color);
  };

  // TODO
  // @carl, Why do we need singleBase?
  // - @D4
  var sbc = singleBase;
  if (!!sbc) {
    //single base is use to force chromatose to use a single base.
    bases.all.push(sbc);
    if (sbc.dark()) {
      bases.dark.push(sbc);
    }
    if (sbc.light()) {
      bases.light.push(sbc);
    }
    if (sbc.isVibrant()) {
      bases.vibrant.push(sbc);
    }
    return bases;
  }

  var colorKeys = palette;
  var mostVibrantColor;
  var leastChromaDist = 1000;
  for (var i = 0, len = colorKeys.length; i < len; i++) {
    var color = colorKeys[i];
    var chromaDist = color.chromaDistance();
    if (chromaDist < leastChromaDist) {
      mostVibrantColor = color;
      leastChromaDist = chromaDist;
    }
    if (color.isVibrant()) {
      addVibrant(color);
    } else if (color.dark()) {
      if (bases.dark.length < 3) {
        addDark(color);
      }
    } else if (color.light()) {
      if (bases.light.length < 3) {
        addLight(color);
      }
    }
  }

  if (!bases.vibrant.length) {
    addVibrant(synthesizer.vibrant(mostVibrantColor));
  }

  if (bases.dark.length < 3) {
    var q = scoredQuery(palette, function (c) {
      if (!c.light() && !c.isVibrant()) {
        return undefined;
      }
      var score = 0;
      //score -= 1 if c.isVibrant()
      return score;
    });
    var _i = 0;
    while (bases.dark.length < 3 && _i < q.length) {
      var _color = q[_i];
      addDark(synthesizer.dark(_color));
      _i++;
    }
  }
  // add black if needed
  var needsBlack = true;
  var baseKeys_dark = bases.dark;
  for (var _i2 = 0, _len = baseKeys_dark.length; _i2 < _len; _i2++) {
    var base = baseKeys_dark[_i2];
    if (base.hsl().l <= 5) {
      needsBlack = false;
      break;
    }
  }

  if (needsBlack) {
    var black = (0, _Color2.default)('black');
    addDark(black);
  }

  if (bases.light.length < 3) {
    var _q = scoredQuery(palette, function (c) {
      if (!c.dark() && !c.isVibrant()) {
        return undefined;
      }
      var score = 0;
      //score -= 1 if c.isVibrant()
      return score;
    });
    var _i3 = 0;
    while (bases.light.length < 3 && _i3 < _q.length) {
      var _color2 = _q[_i3];
      addLight(synthesizer.light(_color2));
      _i3++;
    }
  }
  // add white if needed
  var needsWhite = true;
  var light = bases.light;
  var baseKeys_light = light;
  for (var _i4 = 0, _len2 = baseKeys_light.length; _i4 < _len2; _i4++) {
    var _base = baseKeys_light[_i4];
    if (_base.hsl().l >= 97) {
      needsWhite = false;
      break;
    }
  }

  if (needsWhite) {
    var white = (0, _Color2.default)('white');
    addLight(white);
  }

  return bases;
};

exports.default = basesFromPalette;
module.exports = exports["default"];

/***/ }),
/* 210 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function buildPalette(inputColors) {
  var palette = [];

  var brandColors = palette.brandColors = [];
  var vibrantColors = palette.vibrantColors = [];

  var brandHueSpread = -1;

  var dormantHues = [];
  var fallbackHue = 0;

  for (var i = 0; i < inputColors.length; i++) {
    var inputColor = inputColors[i];
    var color = (0, _Color2.default)(inputColor);

    var _color$hsl = color.hsl(),
        h = _color$hsl.h,
        s = _color$hsl.s,
        l = _color$hsl.l;

    if (color.isBrand()) {
      for (var j = 0; j < brandColors.length; j++) {
        var bc = brandColors[j];
        var hueDist = color.hueDistance(bc);
        if (hueDist > brandHueSpread) brandHueSpread = hueDist;
      }
      brandColors.push(color);
    }

    //base = color if !base

    if (color.isVibrant()) {
      vibrantColors.push(color);
    } else {
      var isDormant = true;
      if (h === 0) {
        isDormant = false;
      }
      if (s <= 3) {
        isDormant = false;
      }
      // dormant hues seem to lay more in dark colors...
      if (l < 10 || l > 85) {
        isDormant = false;
      }
      if (isDormant) {
        var chroma = color.chromaDistance();
        for (var k = 0; k < dormantHues.length; k++) {
          var d = dormantHues[k];
          if (Math.abs(h - d.h) < 9) {
            if (chroma < d.chroma) {
              // update if more chroma
              d.chroma = chroma;
              d.h = h;
            }
            isDormant = false;
            break;
          }
        }
        if (isDormant) dormantHues.push({ h: h, chroma: chroma });
      }
    }

    palette.push(color);
  }

  if (dormantHues.length === 0 && brandColors.length === 0) {
    dormantHues.push(fallbackHue);
  } else {
    // sort by dormant chroma
    dormantHues.sort(function (a, b) {
      return a.chroma - b.chroma;
    });
    // remove the s
    dormantHues = dormantHues.map(function (dhue) {
      return dhue.h;
    });
  }
  palette.dormantHues = dormantHues;
  palette.brandHueSpread = brandHueSpread;

  // The WCAG luminosity of the color. 0 is black, 1 is white.
  var byLuminosity = palette.slice(0);
  byLuminosity.sort(function (a, b) {
    return b.luminosity() - a.luminosity();
  });
  palette.byLuminosity = byLuminosity;

  var byDarkness = palette.slice(0);
  byDarkness.sort(function (a, b) {
    return a.luminosity() - b.luminosity();
  });
  palette.byDarkness = byDarkness;

  // by percieved color vibrance
  var byChroma = palette.slice(0);
  byChroma.sort(function (a, b) {
    return a.chromaDistance() - b.chromaDistance();
  });
  palette.byChroma = byChroma;

  // by hue
  var byHue = palette.slice(0);
  byHue.sort(function (a, b) {
    return a.hsl().h - b.hsl().h;
  });
  palette.byHue = byHue;

  return palette;
}

exports.default = buildPalette;
module.exports = exports["default"];

/***/ }),
/* 211 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

var _polator = __webpack_require__(102);

var _polator2 = _interopRequireDefault(_polator);

var _paletteBuilder = __webpack_require__(210);

var _paletteBuilder2 = _interopRequireDefault(_paletteBuilder);

var _basesFromPalette = __webpack_require__(209);

var _basesFromPalette2 = _interopRequireDefault(_basesFromPalette);

var _2 = __webpack_require__(100);

var _3 = _interopRequireDefault(_2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import filters from "../filters";
// Synthesizer = require("./helper/Synthesizer").Synthesizer

var nextFrom = _3.default.nextFrom,
    scoredQuery = _3.default.scoredQuery,
    nearestNum = _3.default.nearestNum,
    nearestCircularDistributed = _3.default.nearestCircularDistributed;

var defaultOptions = {
  format: 'hsl', // hslString, rgb, rgbString
  hueTargets: null, // [280, 60]
  hueCount: null, // 360
  hueOffset: 0
};
// lightest: {h:0,s:0,l:100}
// darkest: {h:0,s:0,l:0}

var Solver = function () {
  function Solver(inputColors) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    (0, _classCallCheck3.default)(this, Solver);

    if (!inputColors) throw new Error('Chromatose: new Solver(inputColors, options) requires inputColors');
    this.palette = (0, _paletteBuilder2.default)(inputColors);
    this.possibleBases = (0, _basesFromPalette2.default)(this.palette, options);
  }

  (0, _createClass3.default)(Solver, [{
    key: 'solve',
    value: function solve() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var palette = this.palette;

      options = (0, _assign2.default)({}, defaultOptions, options);
      var _options = options,
          format = _options.format,
          hueTargets = _options.hueTargets,
          hueCount = _options.hueCount,
          hueOffset = _options.hueOffset,
          base = _options.base,
          type = _options.type;

      if (!!base) {
        if (typeof base === 'string') {
          base = (0, _Color2.default)(base);
        } else if (base.hsl && !!base.chromaDistance) {
          base = base;
        } else {
          var baseIndex = base.index;
          if (typeof baseIndex !== 'number') baseIndex = 0;
          var baseType = base.type;
          if (!baseType || baseType === 'natural') {
            baseType = 'all';
          }
          if (this.possibleBases[baseType] && this.possibleBases[baseType][baseIndex]) {
            base = this.possibleBases[baseType][baseIndex];
          } else if (baseType === 'natural-inverse') {
            base = this.possibleBases['all'][0];
            if (base.light()) {
              base = this.possibleBases['dark'][baseIndex];
            } else {
              base = this.possibleBases['light'][baseIndex];
            }
          } else {
            base = (0, _Color2.default)(baseType);
          }
          if (!base) return null;
        }
      }

      if (!base) {
        base = this.possibleBases.all[0];
      }

      var _base$hsl = base.hsl(),
          h = _base$hsl.h,
          s = _base$hsl.s,
          l = _base$hsl.l;

      // Box Background Color
      // ------------------------------

      var box_h = void 0;
      // closest target hue based on input hue
      if (hueTargets) {
        box_h = nearestNum(h, hueTargets);
      } else if (hueCount) {
        box_h = nearestCircularDistributed(h, hueCount, 360, hueOffset);
      }

      // if h is 18 and s is 71
      var _isVibrant = void 0;
      var isDark = void 0;
      var isLight = void 0;
      var box = void 0;
      if (base.isVibrant()) {
        _isVibrant = true;
        box = base.clone();
        box.alpha(1);
      }
      // dark
      else if (base.dark()) {
          // (l <= 35) or (l <= 50 and s <= 15)
          isDark = true;
          if (base.hsl().l > 15) {
            box = base.darkMutedClone();
          } else {
            box = base.clone();
          }

          // light
        } else {
          isLight = true;
          if (base.hsl().l < 95) {
            box = base.lightMutedClone();
          } else {
            box = base.clone();
          }
        }

      // Text Color
      // ------------------------------
      var titleHSL = void 0;
      var title = void 0;
      var textHSL = void 0;
      var text = void 0;
      var boxPop = void 0;
      var boxHSL = void 0;
      var textPop = void 0;
      if (_isVibrant) {
        if (box.dark()) {
          title = [];

          titleHSL = palette.byLuminosity[0].hsl();
          titleHSL.s = Math.min(25, titleHSL.s);
          titleHSL.l = Math.max(88, titleHSL.l);
          title.push((0, _Color2.default)(titleHSL));

          titleHSL = palette.byLuminosity[1].hsl();
          titleHSL.s = Math.min(33, titleHSL.s);
          titleHSL.l = Math.max(80, titleHSL.l);
          title.push((0, _Color2.default)(titleHSL));

          title.push((0, _Color2.default)('black'));

          // text = Color "white"
          textHSL = palette.byLuminosity[0].hsl();
          textHSL.l = Math.max(95, textHSL.l);
          text = [(0, _Color2.default)(textHSL)];

          boxPop = scoredQuery(palette, function (c) {
            if (c === base) {
              return undefined;
            }
            // return undefined unless c.isBrand()
            // unless c.isVibrant()
            //  return undefined if c.contrast(box) < 1.5
            var score = 0;
            // score -= .5 if c is textPop[0]
            // score += 1.5 if c.isVibrant()
            score += 1 - 1 / c.contrast(box);
            score += 1 / Math.max(1, c.chromaDistance());
            return score;
          });

          boxHSL = box.hsl();

          // avoid color discord
          for (var i = 0; i < boxPop.length; i++) {
            // if Math.abs(box.hsl().l - clone.hsl().l) <= 15
            //  if boxPop.length > 1
            //    boxPop.splice(i,1)
            //    continue
            var bp = boxPop[i];
            if (bp.chromaDistance() <= 90) {
              var clone = bp.clone();
              clone.saturation(boxHSL.s);
              if (Math.abs(boxHSL.l - clone.hsl().l) < 10) {
                clone.lightness(boxHSL.l * 1.6);
              }
              boxPop.splice(i, 1, clone);
            }
          }
        } else {
          title = [];
          titleHSL = palette.byLuminosity[palette.byLuminosity.length - 1].hsl();
          titleHSL.s = Math.min(18, titleHSL.s);
          titleHSL.l = Math.min(22, titleHSL.l);
          title.push((0, _Color2.default)(titleHSL));

          titleHSL = palette.byLuminosity[palette.byLuminosity.length - 2].hsl();
          titleHSL.s = Math.min(22, titleHSL.s);
          titleHSL.l = Math.min(27, titleHSL.l);
          title.push((0, _Color2.default)(titleHSL));

          title.push((0, _Color2.default)('white'));

          textHSL = palette.byLuminosity[palette.byLuminosity.length - 1].hsl();
          textHSL.l = Math.min(15, textHSL.l);
          text = [(0, _Color2.default)(textHSL)];
          // text = Color "black"

          boxPop = scoredQuery(palette, function (c) {
            if (c === base) {
              return undefined;
            }
            // return undefined unless c.isBrand()
            // unless c.isVibrant()
            //  return undefined if c.contrast(box) < 1.5
            var score = 0;
            // score -= .5 if c is textPop[0]
            // score += 1.5 if c.isVibrant()
            score += 1 - 1 / c.contrast(box);
            score += 1 / Math.max(1, c.chromaDistance());
            return score;
          });
          // boxPop.push Color 'black'

          boxHSL = box.hsl();

          // avoid color discord
          for (var _i = 0; _i < boxPop.length; _i++) {
            var _bp = boxPop[_i];
            if (_bp.chromaDistance() <= 90) {
              // avoid color discord
              var _clone = _bp.clone();
              _clone.saturation(boxHSL.s);
              if (Math.abs(boxHSL.l - _clone.hsl().l) < 10) {
                _clone.lightness(boxHSL.l * 3 / 4);
              }
              boxPop.splice(_i, 1, _clone);
            }
          }
        }
      } else if (box.dark()) {
        title = scoredQuery(palette, function (c) {
          if (c.hsl().l > 95) {
            return undefined;
          }
          var score = 0;
          if (c.isReddish()) {
            score -= 1;
          } // subtle red sucks
          score += c.luminosity();
          score += 1 / Math.max(1, c.chromaDistance());
          return score;
        }, { max: 1, clone: true });

        var toConcat = [];
        for (var _i2 = 0; _i2 < title.length; _i2++) {
          var title_c = title[_i2];

          var _title_c$hsl = title_c.hsl(),
              _l = _title_c$hsl.l;

          title_c.lightness(Math.max(Math.min(75, _l), 90));
          // low
          toConcat.push(title_c.clone().mix(box, .3));
        }
        title = title.concat(toConcat);

        // high
        title.push((0, _Color2.default)('white'));

        textHSL = palette.byLuminosity[palette.byLuminosity.length - 1].hsl();
        textHSL.l = Math.max(Math.min(90, textHSL.l), 95);
        text = [(0, _Color2.default)(textHSL)];
        text.push(text[0].clone().mix(box, .3));
        // text.push Color('white')

        textPop = scoredQuery(palette, function (c) {
          if (c === base) {
            return undefined;
          }
          if (c === text[0]) {
            return undefined;
          }
          if (!c.isBrand()) {
            return undefined;
          }
          if (!c.light() || !c.isVibrant()) {
            if (c.contrast(text[0]) < 1.5) {
              return undefined;
            }
          }
          if (c.contrast(box) < 2) {
            return undefined;
          }
          var score = 0;
          if (c.light()) {
            score += 1;
          }
          if (c.isVibrant()) {
            score += 1.5;
          }
          score += 1 - 1 / (c.contrast(box) - 2.2 + 1);
          score += 1 / Math.max(1, c.chromaDistance());
          return score;
        });

        boxPop = scoredQuery(palette, function (c) {
          if (c === base) {
            return undefined;
          }
          if (!c.isBrand()) {
            return undefined;
          }

          var score = 0;

          var ccd = c.chromaDistance();
          // unless c.isVibrant()
          //  return undefined if c.contrast(box) < 1.5
          if (ccd > 100) {
            if (c.contrast(box) < 1.5) {
              return undefined;
            }
          } else {
            var bonus = (0, _polator2.default)(ccd, 0, 100, 2, .1);
            score += bonus;
          }

          score += 1 - 1 / c.contrast(box);

          if (c === textPop[0]) {
            score *= .5;
          }

          return score;
        });

        // add the most ing muted boxPop if one or less
        if (boxPop.length <= 1) {
          boxPop = boxPop.concat(scoredQuery(palette, function (c) {
            if (c.isBrand()) {
              return undefined;
            }
            var score = 0;
            score += 1 - 1 / c.contrast(box);
            return score;
          }, { max: 2 }));
        }
        // add synthetic vibrants
        for (var j = 0; j < palette.dormantHues.length; j++) {
          var dhue_ = palette.dormantHues[j];
          s = Math.max(Math.min(60, box.hsl().s), 75);
          var vsynth_ = (0, _Color2.default)({ h: dhue_, s: s, l: 55 });
          boxPop.push(vsynth_);
        }
        // add synthetic light
        // lsynth = vsynth.clone()
        // lsynth.mix(Color("white"))
        // boxPop.push lsynth
        // TODO: check for boxPop discords
        // if boxPop?.chromaDistance() > 120

        // if textPop.length is 0
        var boxS = box.hsl().s;
        for (var u = 0; u < boxPop.length; u++) {
          var bxp_c = boxPop[u].clone();
          if (bxp_c.isYellowish()) {
            bxp_c.lighten(.3);
          }
          if (bxp_c.isVibrant()) {
            if (boxS >= 25) {
              bxp_c.saturation(boxS);
            } else {
              bxp_c.desaturate(.1);
            }
          }
          if (bxp_c.dark()) {
            bxp_c.lighten(.2);
          }
          textPop.push(bxp_c);
        }

        // ensure textPop colors are legible on dark by mixing with white when needed
        for (var q = 0; q < textPop.length; q++) {
          var tp_c_ = textPop[q];
          var ccd_ = tp_c_.chromaDistance();
          if (ccd_ <= 100) {
            var whitenAmount = (0, _polator2.default)(ccd_, 0, 100, .05, .4);
            var newColor = tp_c_.clone();
            newColor.mix((0, _Color2.default)('white'), whitenAmount);
            textPop.splice(q, 1, newColor);
          }
        }

        // textPop = {
        //  h:box_h,
        //  s:s + 40,
        //  l:box_l + 40 # tone-on-tone
        // }
      } else {
        title = scoredQuery(palette.byLuminosity, function (c) {
          if (c.hsl().l <= 10) {
            return undefined;
          }
          var score = 0;
          if (c.isReddish()) {
            score -= 1;
          } // subtle red sucks
          score -= c.luminosity();
          score += 1 / Math.max(1, c.chromaDistance());
          return score;
        }, { max: 1, clone: true });
        // if base.hslString() is "hsl(38, 39%, 62%)"

        var toConcat_ = [];
        for (var ii = 0; ii < title.length; ii++) {
          var titleColor = title[ii];

          var _titleColor$hsl = titleColor.hsl(),
              _l2 = _titleColor$hsl.l;

          titleColor.lightness(Math.min(Math.max(40, _l2), 20));
          // low
          toConcat_.push(titleColor.clone().mix(box, .3));
        }
        title = title.concat(toConcat_);
        // high
        title.push((0, _Color2.default)('black'));

        textHSL = palette.byLuminosity[palette.byLuminosity.length - 1].hsl();
        textHSL.l = Math.min(15, textHSL.l);
        text = [(0, _Color2.default)(textHSL)];
        text.push(text[0].clone().mix(box, .5));

        // TODO pic, mixed text or original base based on
        textPop = scoredQuery(palette, function (c) {
          if (c === base) {
            return undefined;
          }
          if (!c.isBrand()) {
            return undefined;
          }
          if (c.contrast(text[0]) < 1.5) {
            return undefined;
          }
          if (c.contrast(box) < 2) {
            return undefined;
          }

          var score = 0;

          var ccd = c.chromaDistance();
          if (ccd <= 100) {
            var bonus = (0, _polator2.default)(ccd, 0, 100, 2, .1);
            score += bonus;
          }
          score += 1 - 1 / c.contrast(box);
          return score;
        });

        boxPop = scoredQuery(palette, function (c) {
          if (c === base) {
            return undefined;
          }
          if (!c.isBrand()) {
            return undefined;
          }

          var score = 0;

          var ccd = c.chromaDistance();
          // unless c.isVibrant()
          //  return undefined if c.contrast(box) < 1.5
          if (ccd > 100) {
            if (c.contrast(box) < 1.5) {
              return undefined;
            }
          } else {
            var bonus = (0, _polator2.default)(ccd, 0, 100, 2, .1);
            score += bonus;
          }

          score += 1 - 1 / c.contrast(box);

          if (c === textPop[0]) {
            score *= .5;
          }

          return score;
        });

        // add the most ing muted boxPop if one or less
        if (boxPop.length <= 1) {
          boxPop = boxPop.concat(scoredQuery(palette, function (c) {
            if (c.isBrand()) {
              return undefined;
            }
            var score = 1 - 1 / c.contrast(box);
            return score;
          }, { max: 2 }));
        }

        // add synthetic vibrant
        for (var _j = 0; _j < palette.dormantHues.length; _j++) {
          var dhue = palette.dormantHues[_j];
          s = Math.max(Math.min(60, box.hsl().s), 75);
          var vsynth = (0, _Color2.default)({ h: dhue, s: s, l: 55 });
          boxPop.push(vsynth);
        }
        // add synthetic light
        // lsynth = vsynth.clone()
        // lsynth.mix(Color("black"))
        // boxPop.push lsynth
        // TODO: check for boxPop discords
        // if boxPop?.chromaDistance() > 120

        // if textPop.length is 0
        var boxS_ = box.hsl().s;
        for (var _ix = 0; _ix < boxPop.length; _ix++) {
          var bp_c = boxPop[_ix].clone();
          if (bp_c.isYellowish()) {
            bp_c.darken(.3);
          }
          if (bp_c.isVibrant()) {
            if (boxS_ >= 25) {
              bp_c.saturation(boxS_);
            } else {
              bp_c.desaturate(.1);
            }
          }
          if (bp_c.light()) {
            bp_c.darken(.2);
          }
          textPop.push(bp_c);
        }

        // ensure textPop colors are legible on light by mixing with black when needed
        for (var t = 0; t < textPop.length; t++) {
          var tp_c = textPop[t];
          if (tp_c.isVibrant()) {
            var _newColor = tp_c.clone();
            _newColor.mix((0, _Color2.default)('black'), .15);
            textPop.splice(t, 1, _newColor);
          }
        }
      }

      var meta = void 0;
      var tpop1 = void 0;
      var meta1 = void 0;
      var tpop2 = void 0;
      var meta2 = void 0;
      if (_isVibrant) {
        if (base.light()) {
          tpop1 = base.clone().mix((0, _Color2.default)('black'), .5);
          meta1 = base.clone().mix((0, _Color2.default)('black'), .3);
          tpop2 = base.clone();
          meta2 = base.clone();
        } else {
          tpop1 = base.clone().mix((0, _Color2.default)('white'), .75);
          meta1 = base.clone().mix((0, _Color2.default)('white'), .4);
          tpop2 = base.clone();
          meta2 = base.clone();
        }
        if (box.contrast(tpop1) > box.contrast(tpop2)) {
          textPop = [tpop1];
        } else {
          textPop = [tpop2];
        }
      } else {
        meta1 = text[0].clone();
        meta1.mix(box);
        meta1.mix(box, .4);
        meta2 = base.clone();
      }
      if (box.contrast(meta1) > box.contrast(meta2)) {
        meta = meta1;
      } else {
        meta = meta2;
      }

      var textShadow = void 0;
      if (box.light()) {
        textShadow = box.clone().lighten(.3).alpha(.5);
      } else {
        textShadow = box.clone().darken(.5).alpha(.5);
      }

      var bg = void 0;
      // canvas
      if (isDark) {
        // for dark solutions, bg is derived from varying box lightness
        var lit = box.hsl().l;
        var newLit = void 0;
        if (lit > 4) {
          newLit = lit - (0, _polator2.default)(lit, 0, 100, 3, 0);
          bg = box.clone().lightness(newLit);
        } else {
          newLit = 7;
          bg = box.clone().lightness(newLit);
        }
      } else if (isLight) {
        // for light solutions, base is used for bg get a little dormant hues out
        bg = base.clone().mix((0, _Color2.default)('white'));
        bg = (0, _Color2.default)('hsl(0,0%,50%)').mix(bg, .9).mix(box, .4);
      } else {
        // for vibrant solutions, bg is from box
        var _box$hsl = box.hsl(),
            _h = _box$hsl.h,
            _s = _box$hsl.s,
            _l3 = _box$hsl.l;

        bg = (0, _Color2.default)({ h: _h, s: _s - 10, l: _l3 - 4 });
        // if (box.dark()) {
        //
        // }
        // else {
        //  bg = Color({h, s: s-5, l: l+4})
        // }
      }

      title = title.concat(textPop);

      var metaHover = void 0;
      if (meta.light()) {
        metaHover = meta.clone().darken(.15);
      } else {
        metaHover = meta.clone().lighten(.15);
      }

      if (!boxPop || boxPop.length === 0) {
        if (base.light()) {
          boxPop = [(0, _Color2.default)('black')];
        }
        if (!boxPop) {
          boxPop = [(0, _Color2.default)('white')];
        }
      }

      var boxPopText = boxPop.map(function (bpop) {
        return bpop.whiteOrBlack();
      });

      var boxPopTextHover = boxPopText.map(function (bpopText) {
        var bpopTextHover = bpopText.clone();
        if (bpopTextHover.light()) {
          return bpopTextHover.darken(.2);
        } else {
          return bpopTextHover.lighten(.2);
        }
      });

      // TODO - define a standard output for colors generator that would cover all
      // UI needs.
      var result = {
        base: base,
        title: title, // [format]()
        bg: bg, //
        box: box, // TODO - not currenlty an array, should it be? [format]()
        text: text, // array
        meta: meta, // single color
        metaHover: metaHover,
        boxPop: boxPop, // [format]()
        boxPopText: boxPopText,
        boxPopTextHover: boxPopTextHover,
        textPop: textPop, // [format]()
        textShadow: textShadow,
        palette: palette,
        type: type };

      // result.filters = filters(result);
      return result;
    }
  }]);
  return Solver;
}();

exports.default = Solver;
module.exports = exports['default'];

/***/ }),
/* 212 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiDevice = __webpack_require__(219);

var _uiDevice2 = _interopRequireDefault(_uiDevice);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var createVNode = Inferno.createVNode;

var DesignBody = function (_React$Component) {
  (0, _inherits3.default)(DesignBody, _React$Component);

  function DesignBody() {
    (0, _classCallCheck3.default)(this, DesignBody);
    return (0, _possibleConstructorReturn3.default)(this, (DesignBody.__proto__ || (0, _getPrototypeOf2.default)(DesignBody)).apply(this, arguments));
  }

  (0, _createClass3.default)(DesignBody, [{
    key: 'render',

    // state = {
    //  // ['iphone','ipad','macbook','full']
    //  deviceType: 'macbook'
    // }

    // componentWillUnmount() {
    // }

    value: function render() {
      return createVNode(16, _styleverse.StyleContext, {
        'chroma': { randomIfNeeded: true, type: 'light' },
        children: createVNode(2, 'div', {
          'id': 'device-demo'
        }, [createVNode(16, _styleverse.Style, {
          'perf': true,
          'scope': '#device-demo',
          'id': 'device-styles',
          children: '\n              :scope {\n                  w -- 100vw\n                  h -- 100vh\n                  min-h -- 640\n                  pos -- absolute\n                  t -- 0\n                  bg-clr -- chroma-dark-1-bg\n\n                .device {\n                  pos -- a\n                  t -- 1goldy\n                  b -- 1goldy\n                  w -- initial\n                  h -- initial\n                  l -- 0\n                  r -- 0\n                }\n\n                #selectable-iframe {\n                  pos -- a\n                  t -- 0\n                  l -- 1goldx\n                  r -- 1goldx\n                  b -- 0\n                  d -- flx\n                  flx-jst -- mid\n                  flx-aln -- mid\n                  font-size -- txt-l\n                }\n              }\n          '
        }), createVNode(2, 'div', {
          'id': 'selectable-iframe'
        }, createVNode(16, _uiDevice2.default.IFrame, {
          'className': 'device',
          'type': this.props.deviceType,
          'url': window.location.href
        }))], null, 'device-demo')
      }, null, null, 'StyleContext');
    }
  }]);
  return DesignBody;
}(_infernoCompat2.default.Component);

DesignBody.defaultProps = {
  deviceType: 'macbook'
};
exports.default = DesignBody;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 213 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


function Request(optsOrUrl) {
  var opts = typeof optsOrUrl === 'string' ? { url: optsOrUrl } : optsOrUrl || {};
  this.method = opts.method ? opts.method.toUpperCase() : 'GET';
  this.url = opts.url;
  this.headers = opts.headers || {};
  this.body = opts.body;
  this.timeout = opts.timeout || 0;
  this.errorOn404 = opts.errorOn404 != null ? opts.errorOn404 : true;
  this.onload = opts.onload;
  this.onerror = opts.onerror;
}

Request.prototype.abort = function () {
  if (this.aborted) return;
  this.aborted = true;
  this.xhr.abort();
  return this;
};

Request.prototype.header = function (name, value) {
  var k;
  for (k in this.headers) {
    if (this.headers.hasOwnProperty(k)) {
      if (name.toLowerCase() === k.toLowerCase()) {
        if (arguments.length === 1) {
          return this.headers[k];
        }

        delete this.headers[k];
        break;
      }
    }
  }
  if (value != null) {
    this.headers[name] = value;
    return value;
  }
};

module.exports = Request;

/***/ }),
/* 214 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Request = __webpack_require__(213);
var extractResponseProps = __webpack_require__(215);

function Response(props) {
  this.request = props.request;
  this.xhr = props.xhr;
  this.headers = props.headers || {};
  this.status = props.status || 0;
  this.text = props.text;
  this.body = props.body;
  this.contentType = props.contentType;
  this.isHttpError = props.status >= 400;
}

Response.prototype.header = Request.prototype.header;

Response.fromRequest = function (req) {
  return new Response(extractResponseProps(req));
};

module.exports = Response;

/***/ }),
/* 215 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var extend = __webpack_require__(135);

module.exports = function (req) {
  var xhr = req.xhr;
  var props = { request: req, xhr: xhr };

  // Try to create the response from the request. If the request was aborted,
  // accesssing properties of the XHR may throw an error, so we wrap in a
  // try/catch.
  try {
    var lines,
        i,
        m,
        headers = {};
    if (xhr.getAllResponseHeaders) {
      lines = xhr.getAllResponseHeaders().split('\n');
      for (i = 0; i < lines.length; i++) {
        if (m = lines[i].match(/\s*([^\s]+):\s+([^\s]+)/)) {
          headers[m[1]] = m[2];
        }
      }
    }

    props = extend(props, {
      status: xhr.status,
      contentType: xhr.contentType || xhr.getResponseHeader && xhr.getResponseHeader('Content-Type'),
      headers: headers,
      text: xhr.responseText,
      body: xhr.response || xhr.responseText
    });
  } catch (err) {}

  return props;
};

/***/ }),
/* 216 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(process) {

var _setImmediate2 = __webpack_require__(782);

var _setImmediate3 = _interopRequireDefault(_setImmediate2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Rebound
// =======
// **Rebound** is a simple library that models Spring dynamics for the
// purpose of driving physical animations.
//
// Origin
// ------
// [Rebound](http://facebook.github.io/rebound) was originally written
// in Java to provide a lightweight physics system for
// [Home](https://play.google.com/store/apps/details?id=com.facebook.home) and
// [Chat Heads](https://play.google.com/store/apps/details?id=com.facebook.orca)
// on Android. It's now been adopted by several other Android
// applications. This JavaScript port was written to provide a quick
// way to demonstrate Rebound animations on the web for a
// [conference talk](https://www.youtube.com/watch?v=s5kNm-DgyjY). Since then
// the JavaScript version has been used to build some really nice interfaces.
// Check out [brandonwalkin.com](http://brandonwalkin.com) for an
// example.
//
// Overview
// --------
// The Library provides a SpringSystem for maintaining a set of Spring
// objects and iterating those Springs through a physics solver loop
// until equilibrium is achieved. The Spring class is the basic
// animation driver provided by Rebound. By attaching a listener to
// a Spring, you can observe its motion. The observer function is
// notified of position changes on the spring as it solves for
// equilibrium. These position updates can be mapped to an animation
// range to drive animated property updates on your user interface
// elements (translation, rotation, scale, etc).
//
// Example
// -------
// Here's a simple example. Pressing and releasing on the logo below
// will cause it to scale up and down with a springy animation.
//
// <div style="text-align:center; margin-bottom:50px; margin-top:50px">
//   <img
//     src="http://facebook.github.io/rebound/images/rebound.png"
//     id="logo"
//   />
// </div>
// <script src="../rebound.min.js"></script>
// <script>
//
// function scale(el, val) {
//   el.style.mozTransform =
//   el.style.msTransform =
//   el.style.webkitTransform =
//   el.style.transform = 'scale3d(' + val + ', ' + val + ', 1)';
// }
// var el = document.getElementById('logo');
//
// var springSystem = new rebound.SpringSystem();
// var spring = springSystem.createSpring(50, 3);
// spring.addListener({
//   onSpringUpdate: function(spring) {
//     var val = spring.getCurrentValue();
//     val = rebound.MathUtil.mapValueInRange(val, 0, 1, 1, 0.5);
//     scale(el, val);
//   }
// });
//
// el.addEventListener('mousedown', function() {
//   spring.setEndValue(1);
// });
//
// el.addEventListener('mouseout', function() {
//   spring.setEndValue(0);
// });
//
// el.addEventListener('mouseup', function() {
//   spring.setEndValue(0);
// });
//
// </script>
//
// Here's how it works.
//
// ```
// // Get a reference to the logo element.
// var el = document.getElementById('logo');
//
// // create a SpringSystem and a Spring with a bouncy config.
// var springSystem = new rebound.SpringSystem();
// var spring = springSystem.createSpring(50, 3);
//
// // Add a listener to the spring. Every time the physics
// // solver updates the Spring's value onSpringUpdate will
// // be called.
// spring.addListener({
//   onSpringUpdate: function(spring) {
//     var val = spring.getCurrentValue();
//     val = rebound.MathUtil
//                  .mapValueInRange(val, 0, 1, 1, 0.5);
//     scale(el, val);
//   }
// });
//
// // Listen for mouse down/up/out and toggle the
// //springs endValue from 0 to 1.
// el.addEventListener('mousedown', function() {
//   spring.setEndValue(1);
// });
//
// el.addEventListener('mouseout', function() {
//   spring.setEndValue(0);
// });
//
// el.addEventListener('mouseup', function() {
//   spring.setEndValue(0);
// });
//
// // Helper for scaling an element with css transforms.
// function scale(el, val) {
//   el.style.mozTransform =
//   el.style.msTransform =
//   el.style.webkitTransform =
//   el.style.transform = 'scale3d(' +
//     val + ', ' + val + ', 1)';
// }
// ```


var rebound = {};
var util = rebound.util = {};
var concat = Array.prototype.concat;
var slice = Array.prototype.slice;

// Bind a function to a context object.
util.bind = function bind(func, context) {
  var args = slice.call(arguments, 2);
  return function () {
    func.apply(context, concat.call(args, slice.call(arguments)));
  };
};

// Add all the properties in the source to the target.
util.extend = function extend(target, source) {
  var keys = (0, _keys2.default)(source);
  var key;
  for (var i = 0; i < keys.length; i++) {
    key = keys[i];
    if (source.hasOwnProperty(key)) {
      target[key] = source[key];
    }
  }
};

// SpringSystem
// ------------
// **SpringSystem** is a set of Springs that all run on the same physics
// timing loop. To get started with a Rebound animation you first
// create a new SpringSystem and then add springs to it.
var SpringSystem = rebound.SpringSystem = function SpringSystem(looper) {
  this._springRegistry = {};
  this._springValsById = {};
  this._activeSprings = [];
  this.listeners = [];
  this._idleSpringIndices = [];
  this.looper = looper || new AnimationLooper();
  this.looper.springSystem = this;
};

util.extend(SpringSystem.prototype, {

  _springRegistry: null,
  _springValsById: null,
  _isIdle: true,
  _lastTimeMillis: -1,
  _activeSprings: null,
  listeners: null,
  _idleSpringIndices: null,

  // D4
  clean: function clean() {
    var keys = (0, _keys2.default)(this._springRegistry);
    var id;
    var spring;
    for (var i = 0; i < keys.length; i++) {
      id = keys[i];
      spring = this._springRegistry[id];
      if (spring) spring.destroy();
    }
    this._springRegistry = {};
    this._springValsById = {};
    this._lastTimeMillis = -1;
    this._activeSprings = [];
    this.listeners = [];
    this._idleSpringIndices = [];
  },

  // A SpringSystem is iterated by a looper. The looper is responsible
  // for executing each frame as the SpringSystem is resolved to idle.
  // There are three types of Loopers described below AnimationLooper,
  // SimulationLooper, and SteppingSimulationLooper. AnimationLooper is
  // the default as it is the most useful for common UI animations.
  setLooper: function setLooper(looper) {
    this.looper = looper;
    looper.springSystem = this;
  },

  // Add a new spring to this SpringSystem. This Spring will now be solved for
  // during the physics iteration loop. By default the spring will use the
  // default Origami spring config with 40 tension and 7 friction, but you can
  // also provide your own values here.
  createSpring: function createSpring(id, springConfig) {
    var tension = springConfig.tension;
    var friction = springConfig.friction;
    var start = springConfig.start;
    var end = springConfig.end;
    var _springConfig;
    if (tension === undefined || friction === undefined) {
      _springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;
    } else {
      _springConfig = SpringConfig.fromOrigamiTensionAndFriction(tension, friction);
    }
    return this.createSpringWithConfig(id, _springConfig, start);
  },

  // Add a spring with a specified bounciness and speed. To replicate Origami
  // compositions based on PopAnimation patches, use this factory method to
  // create matching springs.
  createSpringWithBouncinessAndSpeed: function createSpringWithBouncinessAndSpeed(bounciness, speed) {
    var springConfig;
    if (bounciness === undefined || speed === undefined) {
      springConfig = SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG;
    } else {
      springConfig = SpringConfig.fromBouncinessAndSpeed(bounciness, speed);
    }
    return this.createSpringWithConfig(null, springConfig);
  },

  // Add a spring with the provided SpringConfig.
  createSpringWithConfig: function createSpringWithConfig(id, springConfig, start) {
    var spring = new Spring(id, this);
    spring.setSpringConfig(springConfig);

    if (start) spring.setCurrentValue(start);
    // TOD0!!!!!!

    this.registerSpring(spring);
    return spring;
  },

  // You can check if a SpringSystem is idle or active by calling
  // getIsIdle. If all of the Springs in the SpringSystem are at rest,
  // i.e. the physics forces have reached equilibrium, then this
  // method will return true.
  getIsIdle: function getIsIdle() {
    return this._isIdle;
  },

  // Retrieve a specific Spring from the SpringSystem by id. This
  // can be useful for inspecting the state of a spring before
  // or after an integration loop in the SpringSystem executes.
  getSpringById: function getSpringById(id) {
    return this._springRegistry[id];
  },

  // Get a listing of all the springs registered with this
  // SpringSystem.
  getAllSprings: function getAllSprings() {
    var vals = [];
    for (var id in this._springRegistry) {
      if (this._springRegistry.hasOwnProperty(id)) {
        vals.push(this._springRegistry[id]);
      }
    }
    return vals;
  },

  // registerSpring is called automatically as soon as you create
  // a Spring with SpringSystem#createSpring. This method sets the
  // spring up in the registry so that it can be solved in the
  // solver loop.
  registerSpring: function registerSpring(spring) {
    var id = spring.getId();
    this._springRegistry[id] = spring;
    this._springValsById[id] = spring.getStartValue();
  },

  // Deregister a spring with this SpringSystem. The SpringSystem will
  // no longer consider this Spring during its integration loop once
  // this is called. This is normally done automatically for you when
  // you call Spring#destroy.
  deregisterSpring: function deregisterSpring(spring) {
    removeFirst(this._activeSprings, spring);
    var id = spring.getId();
    delete this._springRegistry[id];
    delete this._springValsById[id];
  },

  advance: function advance(time, deltaTime) {
    while (this._idleSpringIndices.length > 0) {
      this._idleSpringIndices.pop();
    }time = time / 1000.0;
    deltaTime = deltaTime / 1000.0;
    for (var i = 0, len = this._activeSprings.length; i < len; i++) {
      var spring = this._activeSprings[i];
      if (spring.systemShouldAdvance()) {
        spring.advance(time, deltaTime);
      } else {
        this._idleSpringIndices.push(this._activeSprings.indexOf(spring));
      }
    }
    while (this._idleSpringIndices.length > 0) {
      var idx = this._idleSpringIndices.pop();
      idx >= 0 && this._activeSprings.splice(idx, 1);
    }
  },

  // This is our main solver loop called to move the simulation
  // forward through time. Before each pass in the solver loop
  // onBeforeIntegrate is called on an any listeners that have
  // registered themeselves with the SpringSystem. This gives you
  // an opportunity to apply any constraints or adjustments to
  // the springs that should be enforced before each iteration
  // loop. Next the advance method is called to move each Spring in
  // the systemShouldAdvance forward to the current time. After the
  // integration step runs in advance, onAfterIntegrate is called
  // on any listeners that have registered themselves with the
  // SpringSystem. This gives you an opportunity to run any post
  // integration constraints or adjustments on the Springs in the
  // SpringSystem.
  loop: function loop(currentTimeMillis) {
    var listener;
    if (this._lastTimeMillis === -1) {
      this._lastTimeMillis = currentTimeMillis - 1;
    }
    var ellapsedMillis = currentTimeMillis - this._lastTimeMillis;
    this._lastTimeMillis = currentTimeMillis;

    var i = 0,
        len = this.listeners.length;
    for (i = 0; i < len; i++) {
      listener = this.listeners[i];
      listener.onBeforeIntegrate && listener.onBeforeIntegrate(this);
    }

    this.advance(currentTimeMillis, ellapsedMillis);
    if (this._activeSprings.length === 0) {
      this._isIdle = true;
      this._lastTimeMillis = -1;
    }

    for (i = 0; i < len; i++) {
      listener = this.listeners[i];
      listener.onAfterIntegrate && listener.onAfterIntegrate(this);
    }

    if (!this._isIdle) {
      this.looper.run();
    }
  },

  // activateSpring is used to notify the SpringSystem that a Spring
  // has become displaced. The system responds by starting its solver
  // loop up if it is currently idle.
  activateSpring: function activateSpring(springId) {
    var spring = this._springRegistry[springId];
    if (this._activeSprings.indexOf(spring) == -1) {
      this._activeSprings.push(spring);
    }
    if (this.getIsIdle()) {
      this._isIdle = false;
      this.looper.run();
    }
  },

  // D4
  updateSpringVal: function updateSpringVal(springId, val) {
    //debugger
    this._springValsById[springId] = val;
  },

  // Add a listener to the SpringSystem so that you can receive
  // before/after integration notifications allowing Springs to be
  // constrained or adjusted.
  addListener: function addListener(listener) {
    this.listeners.push(listener);
  },

  // Remove a previously added listener on the SpringSystem.
  removeListener: function removeListener(listener) {
    removeFirst(this.listeners, listener);
  },

  // Remove all previously added listeners on the SpringSystem.
  removeAllListeners: function removeAllListeners() {
    this.listeners = [];
  }

});

// Spring
// ------
// **Spring** provides a model of a classical spring acting to
// resolve a body to equilibrium. Springs have configurable
// tension which is a force multipler on the displacement of the
// spring from its rest point or `endValue` as defined by [Hooke's
// law](http://en.wikipedia.org/wiki/Hooke's_law). Springs also have
// configurable friction, which ensures that they do not oscillate
// infinitely. When a Spring is displaced by updating it's resting
// or `currentValue`, the SpringSystems that contain that Spring
// will automatically start looping to solve for equilibrium. As each
// timestep passes, `SpringListener` objects attached to the Spring
// will be notified of the updates providing a way to drive an
// animation off of the spring's resolution curve.
var Spring = rebound.Spring = function Spring(id, springSystem) {
  Spring._ID++;
  this._id = id ? id : 's' + Spring._ID;
  this._springSystem = springSystem;
  this.listeners = undefined;
  this._currentState = new PhysicsState();
  this._previousState = new PhysicsState();
  this._tempState = new PhysicsState();
};

util.extend(Spring, {
  _ID: 0,

  MAX_DELTA_TIME_SEC: 0.064,

  SOLVER_TIMESTEP_SEC: 0.001

});

util.extend(Spring.prototype, {

  _id: 0,

  _springConfig: null,

  _overshootClampingEnabled: false,

  _currentState: null,
  val: 0,

  _previousState: null,

  _tempState: null,

  _startValue: 0,

  _endValue: 0,

  _wasAtRest: true,

  _restSpeedThreshold: 0.001,

  _displacementFromRestThreshold: 0.001,

  listeners: undefined,

  _timeAccumulator: 0,

  _springSystem: null,

  // Remove a Spring from simulation and clear its listeners.
  destroy: function destroy() {
    this.listeners = undefined;
    this._springSystem.deregisterSpring(this);
    // TODO
    //this._currentState = null
    //this._previousState = null
    //this._tempState = null
    //this._startValue = 0
    //this.val = 0
    //this._endValue = 0
    //this._wasAtRest = true
    //this._timeAccumulator = 0
    //this._springSystem = null
  },

  // Get the id of the spring, which can be used to retrieve it from
  // the SpringSystems it participates in later.
  getId: function getId() {
    return this._id;
  },

  // Set the configuration values for this Spring. A SpringConfig
  // contains the tension and friction values used to solve for the
  // equilibrium of the Spring in the physics loop.
  setSpringConfig: function setSpringConfig(springConfig) {
    this._springConfig = springConfig;
    return this;
  },

  // Retrieve the SpringConfig used by this Spring.
  getSpringConfig: function getSpringConfig() {
    return this._springConfig;
  },

  // Set the current position of this Spring. Listeners will be updated
  // with this value immediately. If the rest or `endValue` is not
  // updated to match this value, then the spring will be dispalced and
  // the SpringSystem will start to loop to restore the spring to the
  // `endValue`.
  //
  // A common pattern is to move a Spring around without animation by
  // calling.
  //
  // ```
  // spring.setCurrentValue(n).setAtRest();
  // ```
  //
  // This moves the Spring to a new position `n`, sets the endValue
  // to `n`, and removes any velocity from the `Spring`. By doing
  // this you can allow the `SpringListener` to manage the position
  // of UI elements attached to the spring even when moving without
  // animation. For example, when dragging an element you can
  // update the position of an attached view through a spring
  // by calling `spring.setCurrentValue(x)`. When
  // the gesture ends you can update the Springs
  // velocity and endValue
  // `spring.setVelocity(gestureEndVelocity).setEndValue(flingTarget)`
  // to cause it to naturally animate the UI element to the resting
  // position taking into account existing velocity. The codepaths for
  // synchronous movement and spring driven animation can
  // be unified using this technique.
  setCurrentValue: function setCurrentValue(currentValue, skipSetAtRest) {
    this._startValue = currentValue;
    this._currentState.position = currentValue;
    this.val = currentValue;
    if (!skipSetAtRest) {
      this.setAtRest();
    }

    // TODO!!!!!!!!!!!!!!!!!!!!!!
    this.emitUpdate();

    // else {
    //       this.emit(false, false, true)
    //     }
    this.emit(false, false);
    return this;
  },

  // Get the position that the most recent animation started at. This
  // can be useful for determining the number off oscillations that
  // have occurred.
  getStartValue: function getStartValue() {
    return this._startValue;
  },

  // Retrieve the current value of the Spring.
  getCurrentValue: function getCurrentValue() {
    return this._currentState.position;
  },

  // Get the absolute distance of the Spring from it's resting endValue
  // position.
  getCurrentDisplacementDistance: function getCurrentDisplacementDistance() {
    return this.getDisplacementDistanceForState(this._currentState);
  },

  getDisplacementDistanceForState: function getDisplacementDistanceForState(state) {
    return Math.abs(this._endValue - state.position);
  },

  // Set the endValue or resting position of the spring. If this
  // value is different than the current value, the SpringSystem will
  // be notified and will begin running its solver loop to resolve
  // the Spring to equilibrium. Any listeners that are registered
  // for onSpringEndStateChange will also be notified of this update
  // immediately.
  setEndValue: function setEndValue(endValue) {
    if (this._endValue == endValue && this.isAtRest()) {
      return this;
    }
    this._startValue = this.getCurrentValue();
    this._endValue = endValue;
    this._springSystem.activateSpring(this.getId());
    this.emit(false, false, true);
    return this;
  },

  // Retrieve the endValue or resting position of this spring.
  getEndValue: function getEndValue() {
    return this._endValue;
  },

  // Set the current velocity of the Spring. As previously mentioned,
  // this can be useful when you are performing a direct manipulation
  // gesture. When a UI element is released you may call setVelocity
  // on its animation Spring so that the Spring continues with the
  // same velocity as the gesture ended with. The friction, tension,
  // and displacement of the Spring will then govern its motion to
  // return to rest on a natural feeling curve.
  setVelocity: function setVelocity(velocity) {
    if (velocity === this._currentState.velocity) {
      return this;
    }
    this._currentState.velocity = velocity;
    this._springSystem.activateSpring(this.getId());
    return this;
  },

  // Get the current velocity of the Spring.
  getVelocity: function getVelocity() {
    return this._currentState.velocity;
  },

  // Set a threshold value for the movement speed of the Spring below
  // which it will be considered to be not moving or resting.
  setRestSpeedThreshold: function setRestSpeedThreshold(restSpeedThreshold) {
    this._restSpeedThreshold = restSpeedThreshold;
    return this;
  },

  // Retrieve the rest speed threshold for this Spring.
  getRestSpeedThreshold: function getRestSpeedThreshold() {
    return this._restSpeedThreshold;
  },

  // Set a threshold value for displacement below which the Spring
  // will be considered to be not displaced i.e. at its resting
  // `endValue`.
  setRestDisplacementThreshold: function setRestDisplacementThreshold(displacementFromRestThreshold) {
    this._displacementFromRestThreshold = displacementFromRestThreshold;
  },

  // Retrieve the rest displacement threshold for this spring.
  getRestDisplacementThreshold: function getRestDisplacementThreshold() {
    return this._displacementFromRestThreshold;
  },

  // Enable overshoot clamping. This means that the Spring will stop
  // immediately when it reaches its resting position regardless of
  // any existing momentum it may have. This can be useful for certain
  // types of animations that should not oscillate such as a scale
  // down to 0 or alpha fade.
  setOvershootClampingEnabled: function setOvershootClampingEnabled(enabled) {
    this._overshootClampingEnabled = enabled;
    return this;
  },

  // Check if overshoot clamping is enabled for this spring.
  isOvershootClampingEnabled: function isOvershootClampingEnabled() {
    return this._overshootClampingEnabled;
  },

  // Check if the Spring has gone past its end point by comparing
  // the direction it was moving in when it started to the current
  // position and end value.
  isOvershooting: function isOvershooting() {
    var start = this._startValue;
    var end = this._endValue;
    return this._springConfig.tension > 0 && (start < end && this.getCurrentValue() > end || start > end && this.getCurrentValue() < end);
  },

  // Spring.advance is the main solver method for the Spring. It takes
  // the current time and delta since the last time step and performs
  // an RK4 integration to get the new position and velocity state
  // for the Spring based on the tension, friction, velocity, and
  // displacement of the Spring.
  advance: function advance(time, realDeltaTime) {
    var isAtRest = this.isAtRest();

    if (isAtRest && this._wasAtRest) {
      return;
    }

    var adjustedDeltaTime = realDeltaTime;
    if (realDeltaTime > Spring.MAX_DELTA_TIME_SEC) {
      adjustedDeltaTime = Spring.MAX_DELTA_TIME_SEC;
    }

    this._timeAccumulator += adjustedDeltaTime;

    var tension = this._springConfig.tension,
        friction = this._springConfig.friction,
        position = this._currentState.position,
        velocity = this._currentState.velocity,
        tempPosition = this._tempState.position,
        tempVelocity = this._tempState.velocity,
        aVelocity,
        aAcceleration,
        bVelocity,
        bAcceleration,
        cVelocity,
        cAcceleration,
        dVelocity,
        dAcceleration,
        dxdt,
        dvdt;

    while (this._timeAccumulator >= Spring.SOLVER_TIMESTEP_SEC) {

      this._timeAccumulator -= Spring.SOLVER_TIMESTEP_SEC;

      if (this._timeAccumulator < Spring.SOLVER_TIMESTEP_SEC) {
        this._previousState.position = position;
        this._previousState.velocity = velocity;
      }

      aVelocity = velocity;
      aAcceleration = tension * (this._endValue - tempPosition) - friction * velocity;

      tempPosition = position + aVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;
      tempVelocity = velocity + aAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;
      bVelocity = tempVelocity;
      bAcceleration = tension * (this._endValue - tempPosition) - friction * tempVelocity;

      tempPosition = position + bVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;
      tempVelocity = velocity + bAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;
      cVelocity = tempVelocity;
      cAcceleration = tension * (this._endValue - tempPosition) - friction * tempVelocity;

      tempPosition = position + cVelocity * Spring.SOLVER_TIMESTEP_SEC * 0.5;
      tempVelocity = velocity + cAcceleration * Spring.SOLVER_TIMESTEP_SEC * 0.5;
      dVelocity = tempVelocity;
      dAcceleration = tension * (this._endValue - tempPosition) - friction * tempVelocity;

      dxdt = 1.0 / 6.0 * (aVelocity + 2.0 * (bVelocity + cVelocity) + dVelocity);
      dvdt = 1.0 / 6.0 * (aAcceleration + 2.0 * (bAcceleration + cAcceleration) + dAcceleration);

      position += dxdt * Spring.SOLVER_TIMESTEP_SEC;
      velocity += dvdt * Spring.SOLVER_TIMESTEP_SEC;
    }

    this._tempState.position = tempPosition;
    this._tempState.velocity = tempVelocity;

    this._currentState.position = position;
    this.val = position;
    this._currentState.velocity = velocity;

    if (this._timeAccumulator > 0) {
      this._interpolate(this._timeAccumulator / Spring.SOLVER_TIMESTEP_SEC);
    }

    if (this.isAtRest() || this._overshootClampingEnabled && this.isOvershooting()) {

      if (this._springConfig.tension > 0) {
        this._startValue = this._endValue;
        this._currentState.position = this._endValue;
        this.val = this._currentState.position;
      } else {
        this._endValue = this._currentState.position;
        this._startValue = this._endValue;
      }
      this.setVelocity(0);
      isAtRest = true;
    }

    var notifyActivate = false;
    if (this._wasAtRest) {
      this._wasAtRest = false;
      notifyActivate = true;
    }

    var notifyAtRest = false;
    if (isAtRest) {
      this._wasAtRest = true;
      notifyAtRest = true;
    }

    this.emitUpdate();
    this.emit(notifyActivate, notifyAtRest);
  },

  emitUpdate: function emitUpdate() {
    var id = this.getId();
    var val = this.getCurrentValue();
    //if(id.includes('action'))console.log("SPRING emitUpdate!~~~~~~~", id, val)
    this._springSystem.updateSpringVal(id, val);
  },

  emit: function emit(notifyActivate, notifyAtRest, notifyEndChange) {
    var ID = this.getId();
    //if(ID.includes('action'))console.log("SPRING EMIT", ID)

    if (!this.listeners) return;
    for (var i = 0, len = this.listeners.length; i < len; i++) {
      var listener = this.listeners[i];

      // will start update loop
      if (notifyEndChange) {

        //if(ID.includes('action'))console.log("SPRING EMIT END-CHANGe", ID)
        if (listener.onSpringEndStateChange) listener.onSpringEndStateChange(this);
        //continue
      }

      //if(ID.includes('action'))console.log("SPRING did update", ID)
      // did update
      if (typeof listener === 'function') {
        listener(this);
        continue;
      }
      if (notifyActivate && listener.onSpringActivate) {
        listener.onSpringActivate(this);
      }
      if (listener.onSpringUpdate) {
        listener.onSpringUpdate(this);
      }
      if (notifyAtRest && listener.onSpringAtRest) {
        listener.onSpringAtRest(this);
      }
    }
  },

  // Check if the SpringSystem should advance. Springs are advanced
  // a final frame after they reach equilibrium to ensure that the
  // currentValue is exactly the requested endValue regardless of the
  // displacement threshold.
  systemShouldAdvance: function systemShouldAdvance() {
    return !this.isAtRest() || !this.wasAtRest();
  },

  wasAtRest: function wasAtRest() {
    return this._wasAtRest;
  },

  // Check if the Spring is atRest meaning that it's currentValue and
  // endValue are the same and that it has no velocity. The previously
  // described thresholds for speed and displacement define the bounds
  // of this equivalence check. If the Spring has 0 tension, then it will
  // be considered at rest whenever its absolute velocity drops below the
  // restSpeedThreshold.
  isAtRest: function isAtRest() {
    return Math.abs(this._currentState.velocity) < this._restSpeedThreshold && (this.getDisplacementDistanceForState(this._currentState) <= this._displacementFromRestThreshold || this._springConfig.tension === 0);
  },

  // Force the spring to be at rest at its current position. As
  // described in the documentation for setCurrentValue, this method
  // makes it easy to do synchronous non-animated updates to ui
  // elements that are attached to springs via SpringListeners.
  setAtRest: function setAtRest() {
    this._endValue = this._currentState.position;
    this._tempState.position = this._currentState.position;
    this._currentState.velocity = 0;
    return this;
  },

  _interpolate: function _interpolate(alpha) {
    this._currentState.position = this._currentState.position * alpha + this._previousState.position * (1 - alpha);
    this.val = this._currentState.position;

    this._currentState.velocity = this._currentState.velocity * alpha + this._previousState.velocity * (1 - alpha);

    // D4
    //this.emitUpdate()
    //this._springSystem.updateSpringVal(this.getId(), this.val)
  },

  getListeners: function getListeners() {
    return this.listeners;
  },

  addListener: function addListener(newListener) {
    if (!this.listeners) this.listeners = [];
    this.listeners.push(newListener);
    return this;
  },

  removeListener: function removeListener(listenerToRemove) {
    if (!this.listeners) return;
    if (this.listeners.length === 0) return this.removeAllListeners();
    removeFirst(this.listeners, listenerToRemove);
    return this;
  },

  removeAllListeners: function removeAllListeners() {
    this.listeners = undefined;
    return this;
  },

  currentValueIsApproximately: function currentValueIsApproximately(value) {
    return Math.abs(this.getCurrentValue() - value) <= this.getRestDisplacementThreshold();
  }

});

// PhysicsState
// ------------
// **PhysicsState** consists of a position and velocity. A Spring uses
// this internally to keep track of its current and prior position and
// velocity values.
var PhysicsState = function PhysicsState() {};

util.extend(PhysicsState.prototype, {
  position: 0,
  velocity: 0
});

// SpringConfig
// ------------
// **SpringConfig** maintains a set of tension and friction constants
// for a Spring. You can use fromOrigamiTensionAndFriction to convert
// values from the [Origami](http://facebook.github.io/origami/)
// design tool directly to Rebound spring constants.
var SpringConfig = rebound.SpringConfig = function SpringConfig(tension, friction) {
  this.tension = tension;
  this.friction = friction;
};

// Loopers
// -------
// **AnimationLooper** plays each frame of the SpringSystem on animation
// timing loop. This is the default type of looper for a new spring system
// as it is the most common when developing UI.
var AnimationLooper = rebound.AnimationLooper = function AnimationLooper() {
  this.springSystem = null;
  var _this = this;
  // D4: updated to use raf high res timeStamp instead of Date.now()
  var _run = function _run(timeStamp) {
    _this.springSystem.loop(timeStamp || Date.now());
  };

  this.run = function () {
    util.onFrame(_run);
  };
};

// **SimulationLooper** resolves the SpringSystem to a resting state in a
// tight and blocking loop. This is useful for synchronously generating
// pre-recorded animations that can then be played on a timing loop later.
// Sometimes this lead to better performance to pre-record a single spring
// curve and use it to drive many animations; however, it can make dynamic
// response to user input a bit trickier to implement.
rebound.SimulationLooper = function SimulationLooper(timestep) {
  this.springSystem = null;
  var time = 0;
  var running = false;
  timestep = timestep || 16.667;

  this.run = function () {
    if (running) {
      return;
    }
    running = true;
    while (!this.springSystem.getIsIdle()) {
      this.springSystem.loop(time += timestep);
    }
    running = false;
  };
};

// **SteppingSimulationLooper** resolves the SpringSystem one step at a
// time controlled by an outside loop. This is useful for testing and
// verifying the behavior of a SpringSystem or if you want to control your own
// timing loop for some reason e.g. slowing down or speeding up the
// simulation.
rebound.SteppingSimulationLooper = function (timestep) {
  this.springSystem = null;
  var time = 0;

  // this.run is NOOP'd here to allow control from the outside using
  // this.step.
  this.run = function () {};

  // Perform one step toward resolving the SpringSystem.
  this.step = function (timestep) {
    this.springSystem.loop(time += timestep);
  };
};

// Math for converting from
// [Origami](http://facebook.github.io/origami/) to
// [Rebound](http://facebook.github.io/rebound).
// You mostly don't need to worry about this, just use
// SpringConfig.fromOrigamiTensionAndFriction(v, v);
var OrigamiValueConverter = rebound.OrigamiValueConverter = {
  tensionFromOrigamiValue: function tensionFromOrigamiValue(oValue) {
    return (oValue - 30.0) * 3.62 + 194.0;
  },

  origamiValueFromTension: function origamiValueFromTension(tension) {
    return (tension - 194.0) / 3.62 + 30.0;
  },

  frictionFromOrigamiValue: function frictionFromOrigamiValue(oValue) {
    return (oValue - 8.0) * 3.0 + 25.0;
  },

  origamiFromFriction: function origamiFromFriction(friction) {
    return (friction - 25.0) / 3.0 + 8.0;
  }
};

// BouncyConversion provides math for converting from Origami PopAnimation
// config values to regular Origami tension and friction values. If you are
// trying to replicate prototypes made with PopAnimation patches in Origami,
// then you should create your springs with
// SpringSystem.createSpringWithBouncinessAndSpeed, which uses this Math
// internally to create a spring to match the provided PopAnimation
// configuration from Origami.
var BouncyConversion = rebound.BouncyConversion = function (bounciness, speed) {
  this.bounciness = bounciness;
  this.speed = speed;
  var b = this.normalize(bounciness / 1.7, 0, 20.0);
  b = this.projectNormal(b, 0.0, 0.8);
  var s = this.normalize(speed / 1.7, 0, 20.0);
  this.bouncyTension = this.projectNormal(s, 0.5, 200);
  this.bouncyFriction = this.quadraticOutInterpolation(b, this.b3Nobounce(this.bouncyTension), 0.01);
};

util.extend(BouncyConversion.prototype, {

  normalize: function normalize(value, startValue, endValue) {
    return (value - startValue) / (endValue - startValue);
  },

  projectNormal: function projectNormal(n, start, end) {
    return start + n * (end - start);
  },

  linearInterpolation: function linearInterpolation(t, start, end) {
    return t * end + (1.0 - t) * start;
  },

  quadraticOutInterpolation: function quadraticOutInterpolation(t, start, end) {
    return this.linearInterpolation(2 * t - t * t, start, end);
  },

  b3Friction1: function b3Friction1(x) {
    return 0.0007 * Math.pow(x, 3) - 0.031 * Math.pow(x, 2) + 0.64 * x + 1.28;
  },

  b3Friction2: function b3Friction2(x) {
    return 0.000044 * Math.pow(x, 3) - 0.006 * Math.pow(x, 2) + 0.36 * x + 2.;
  },

  b3Friction3: function b3Friction3(x) {
    return 0.00000045 * Math.pow(x, 3) - 0.000332 * Math.pow(x, 2) + 0.1078 * x + 5.84;
  },

  b3Nobounce: function b3Nobounce(tension) {
    var friction = 0;
    if (tension <= 18) {
      friction = this.b3Friction1(tension);
    } else if (tension > 18 && tension <= 44) {
      friction = this.b3Friction2(tension);
    } else {
      friction = this.b3Friction3(tension);
    }
    return friction;
  }
});

util.extend(SpringConfig, {
  // Convert an origami Spring tension and friction to Rebound spring
  // constants. If you are prototyping a design with Origami, this
  // makes it easy to make your springs behave exactly the same in
  // Rebound.
  fromOrigamiTensionAndFriction: function fromOrigamiTensionAndFriction(tension, friction) {
    return new SpringConfig(OrigamiValueConverter.tensionFromOrigamiValue(tension), OrigamiValueConverter.frictionFromOrigamiValue(friction));
  },

  // Convert an origami PopAnimation Spring bounciness and speed to Rebound
  // spring constants. If you are using PopAnimation patches in Origami, this
  // utility will provide springs that match your prototype.
  fromBouncinessAndSpeed: function fromBouncinessAndSpeed(bounciness, speed) {
    var bouncyConversion = new rebound.BouncyConversion(bounciness, speed);
    return this.fromOrigamiTensionAndFriction(bouncyConversion.bouncyTension, bouncyConversion.bouncyFriction);
  },

  // Create a SpringConfig with no tension or a coasting spring with some
  // amount of Friction so that it does not coast infininitely.
  coastingConfigWithOrigamiFriction: function coastingConfigWithOrigamiFriction(friction) {
    return new SpringConfig(0, OrigamiValueConverter.frictionFromOrigamiValue(friction));
  }
});

SpringConfig.DEFAULT_ORIGAMI_SPRING_CONFIG = SpringConfig.fromOrigamiTensionAndFriction(40, 7);

util.extend(SpringConfig.prototype, { friction: 0, tension: 0 });

// Here are a couple of function to convert colors between hex codes and RGB
// component values. These are handy when performing color
// tweening animations.
var colorCache = {};
util.hexToRGB = function (color) {
  if (colorCache[color]) {
    return colorCache[color];
  }
  color = color.replace('#', '');
  if (color.length === 3) {
    color = color[0] + color[0] + color[1] + color[1] + color[2] + color[2];
  }
  var parts = color.match(/.{2}/g);

  var ret = {
    r: parseInt(parts[0], 16),
    g: parseInt(parts[1], 16),
    b: parseInt(parts[2], 16)
  };

  colorCache[color] = ret;
  return ret;
};

util.rgbToHex = function (r, g, b) {
  r = r.toString(16);
  g = g.toString(16);
  b = b.toString(16);
  r = r.length < 2 ? '0' + r : r;
  g = g.length < 2 ? '0' + g : g;
  b = b.length < 2 ? '0' + b : b;
  return '#' + r + g + b;
};

var MathUtil = rebound.MathUtil = {
  // This helper function does a linear interpolation of a value from
  // one range to another. This can be very useful for converting the
  // motion of a Spring to a range of UI property values. For example a
  // spring moving from position 0 to 1 could be interpolated to move a
  // view from pixel 300 to 350 and scale it from 0.5 to 1. The current
  // position of the `Spring` just needs to be run through this method
  // taking its input range in the _from_ parameters with the property
  // animation range in the _to_ parameters.
  mapValueInRange: function mapValueInRange(value, fromLow, fromHigh, toLow, toHigh) {
    var fromRangeSize = fromHigh - fromLow;
    var toRangeSize = toHigh - toLow;
    var valueScale = (value - fromLow) / fromRangeSize;
    return toLow + valueScale * toRangeSize;
  },

  // Interpolate two hex colors in a 0 - 1 range or optionally provide a
  // custom range with fromLow,fromHight. The output will be in hex by default
  // unless asRGB is true in which case it will be returned as an rgb string.
  interpolateColor: function interpolateColor(val, startColor, endColor, fromLow, fromHigh, asRGB) {
    fromLow = fromLow === undefined ? 0 : fromLow;
    fromHigh = fromHigh === undefined ? 1 : fromHigh;
    startColor = util.hexToRGB(startColor);
    endColor = util.hexToRGB(endColor);
    var r = Math.floor(util.mapValueInRange(val, fromLow, fromHigh, startColor.r, endColor.r));
    var g = Math.floor(util.mapValueInRange(val, fromLow, fromHigh, startColor.g, endColor.g));
    var b = Math.floor(util.mapValueInRange(val, fromLow, fromHigh, startColor.b, endColor.b));
    if (asRGB) {
      return 'rgb(' + r + ',' + g + ',' + b + ')';
    } else {
      return util.rgbToHex(r, g, b);
    }
  },

  degreesToRadians: function degreesToRadians(deg) {
    return deg * Math.PI / 180;
  },

  radiansToDegrees: function radiansToDegrees(rad) {
    return rad * 180 / Math.PI;
  }

};

util.extend(util, MathUtil);

// Utilities
// ---------
// Here are a few useful JavaScript utilities.

// Lop off the first occurence of the reference in the Array.
function removeFirst(array, item) {
  var idx = array.indexOf(item);
  idx != -1 && array.splice(idx, 1);
}

var _onFrame;
if (typeof window !== 'undefined') {
  _onFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (callback) {
    window.setTimeout(callback, 1000 / 60);
  };
}
if (!_onFrame && typeof process !== 'undefined' && process.title === 'node') {
  _onFrame = _setImmediate3.default;
}

// Cross browser/node timer functions.
util.onFrame = function onFrame(func) {
  return _onFrame(func);
};

// Export the public api using exports for common js or the window for
// normal browser inclusion.
// if (typeof exports != 'undefined') {
//   util.extend(exports, rebound);
// } else if (typeof window != 'undefined') {
//   window.rebound = rebound;
// }

module.exports = rebound;

// Legal Stuff
// -----------
/**
 *  Copyright (c) 2013, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(77)))

/***/ }),
/* 217 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ActionGroup = exports.CTA = undefined;

var _cta = __webpack_require__(586);

var _cta2 = _interopRequireDefault(_cta);

var _actionGroup = __webpack_require__(585);

var _actionGroup2 = _interopRequireDefault(_actionGroup);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.CTA = _cta2.default;
exports.ActionGroup = _actionGroup2.default;

/***/ }),
/* 218 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _defaultActions = __webpack_require__(591);

var _defaultActions2 = _interopRequireDefault(_defaultActions);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var log = console.log;

var Store = function () {
  (0, _createClass3.default)(Store, [{
    key: 'awake',

    // waitingToEmit = false

    // deferMethod = 'raf' // debounce,
    value: function awake() {
      this.is_sleeping = false;
    }
  }, {
    key: 'sleep',
    value: function sleep() {
      this.is_sleeping = true;
    }
  }, {
    key: 'clean',
    value: function clean() {
      this.hasCommitted = false;
      this.willChange = undefined;
      this.handlers = [];
      this.committedState = undefined;
      if (this.is_deferring_commit) {
        clearTimeout(this.timeout);
      }
      this.is_deferring_commit = false;
      this._contextStores = undefined;
      // this.waitingToEmit = false
    }
  }, {
    key: 'recycle',
    value: function recycle() {
      this.clean();
      this.sleep();
    }
  }]);

  function Store() {
    (0, _classCallCheck3.default)(this, Store);
    this.state = undefined;
    this.isStore = true;
    this.debug = false;
    this.deferCommit = false;
    this.defaultActions = _defaultActions2.default;
    this.hasCommitted = false;
    this.willChange = undefined;
    this.handlers = [];
    this.count = count++;
    this.committedState = undefined;
    this.is_sleeping = false;
    this.is_deferring_commit = false;
    this._contextStores = undefined;

    // let {
    //  name,
    //  actions,
    //  state
    // } = o
    //
    // //if (!name) name = 'Store-' + count
    // this.name = name

    // this.actions = Object.assign( {}, defaultActions )
    // if (actions) this.actions = actions //Object.assign( {}, actions )

    // this.dirtyState = undefined

    this.request = this.execute = this.execute.bind(this);

    this.commit = this.commit.bind(this);

    // if (this.deferCommit) this.commitDebounce = debounce(this.commit, 1, {trailing: true})

    // MyStore extends Store { init(o) { this.state = ... } }
    if (this.init) this.init.call(this, o);
  }

  (0, _createClass3.default)(Store, [{
    key: '_handleContextStores',
    value: function _handleContextStores(_contextStores) {
      this._contextStores = _contextStores;
    }
  }, {
    key: 'handleContextStores',
    value: function handleContextStores(stores) {}
  }, {
    key: 'contextRequest',
    value: function contextRequest(key) {
      var targetStore = this._contextStores[key];

      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (targetStore) return targetStore.execute.apply(targetStore, args);
      throw new Error('Store contextRequest: no store found by key: ' + key);
    }
  }, {
    key: '_shouldCommit',
    value: function _shouldCommit(state) {
      if (this.is_sleeping) return false;
      return this.shouldCommit ? this.shouldCommit(state) : true;
    }
  }, {
    key: 'commit',
    value: function commit() {
      this.is_deferring_commit = false;
      if (this.is_sleeping) return;

      // if (this.name === 'viewport') debugger
      this.willChange = false;
      this.committedState = this.state;
      // this.state = this.dirtyState
      // this.dirtyState = undefined
      this.hasCommitted = true;

      // this.waitingToEmit = true

      if (this.didCommit) {
        this.didCommit();
      }

      // if (!this.waitingToEmit) return

      if (this.debug) {
        log('Store ' + this.name + ':' + this.count + ' commit()', { state: this.state.toJS() });
      }

      this.isNotifyingHandlers = true;
      for (var i = 0; i < this.handlers.length; i++) {
        this.handlers[i](this);
      }
      this.isNotifyingHandlers = false;

      // this.waitingToEmit = false

      if (this.didEmit) {
        this.didEmit();
      }
    }
  }, {
    key: 'getCurrentState',
    value: function getCurrentState() {
      return this.state;
      // return this.dirtyState ? this.dirtyState : this.state
    }
    // Immutable state methods

  }, {
    key: 'toJS',
    value: function toJS() {
      var includeComputed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      return this.state.toJS(includeComputed);
    }
  }, {
    key: 'hashCode',
    value: function hashCode() {
      return this.state.hashCode();
    }
  }, {
    key: 'equals',
    value: function equals(other) {
      if (other.isStore) return this.state.equals(other.state);
      return this.state.equals(other);
    }
  }, {
    key: 'get',
    value: function get() {
      var _state;

      return (_state = this.state).get.apply(_state, arguments);
    }
  }, {
    key: 'getIn',
    value: function getIn() {
      var _state2;

      return (_state2 = this.state).getIn.apply(_state2, arguments);
    }
  }, {
    key: 'set',
    value: function set() {
      throw new Error('do not use store.set, Stores are read only, execute an action instead');
    }
  }, {
    key: 'setIn',
    value: function setIn() {
      throw new Error('do not use store.setIn, Stores are read only, execute an action instead');
    }
  }, {
    key: 'merge',
    value: function merge() {
      throw new Error('do not use store.merge, Stores are read only, execute an action instead');
    }
  }, {
    key: 'onMissingAction',
    value: function onMissingAction(actionName) {
      throw new Error('Contextual.Store ' + this.name + ' does not provide action: ' + actionName);
    }
  }, {
    key: 'execute',
    value: function execute(actionName) {
      var _action;

      for (var _len2 = arguments.length, payload = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        payload[_key2 - 1] = arguments[_key2];
      }

      if (this.is_sleeping) return;

      var action = void 0;

      if (this.actions) action = this.actions[actionName];

      if (!action && this.defaultActions) action = this.defaultActions[actionName];

      if (!action) return this.onMissingAction.apply(this, [actionName].concat(payload));

      var startState = this.getCurrentState();

      // action methods called with this === store

      if (this.debug) {
        log('Store ' + this.name + ':' + this.count + ' execute(' + actionName + ')', { payload: payload });
      }

      this.updateState((_action = action).call.apply(_action, [this, startState].concat(payload)));

      return this.state;
    }
  }, {
    key: 'silently',
    value: function silently(actionName) {
      var _action2;

      for (var _len3 = arguments.length, payload = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
        payload[_key3 - 1] = arguments[_key3];
      }

      if (this.is_sleeping) return;

      var action = void 0;

      if (this.actions) action = this.actions[actionName];

      if (!action && this.defaultActions) action = this.defaultActions[actionName];

      if (!action) throw new Error('Contextual.Store ' + this.name + ' does not provide action: ' + actionName);

      var startState = this.getCurrentState();

      // action methods called with this === store

      if (this.debug) {
        log('Store ' + this.name + ':' + this.count + ' silently(' + actionName + ')', { payload: payload });
      }

      this.willChange = false;
      this.state = (_action2 = action).call.apply(_action2, [this, startState].concat(payload));
      this.committedState = this.state;
      return this.state;
      // this.dirtyState = undefined
    }
  }, {
    key: 'updateState',
    value: function updateState(state) {
      if (this.is_sleeping) return;

      if (!state) return;

      if (typeof state === 'function') state = state(this.getCurrentState());

      this.state = state;

      // TODO... this.dirtyState === this.state??
      if (state === this.committedState) return;

      // if (this.hasCommitted && state === this.committedState) return


      if (!this.state.equals(this.committedState)) {
        if (this.willChange) return;
        if (!this._shouldCommit(state)) return;

        this.willChange = true;

        // defering commit
        if (this.deferCommit) {
          if (this.is_deferring_commit) return;
          this.is_deferring_commit = true;
          this.timeout = setTimeout(this.commit, 1);
          // this.commitDebounce()
          // raf(this.commit)
        } else {
          this.commit();
        }
      } else {
        if (this.willChange && this.deferCommit) {
          this.is_deferring_commit = false;
          clearTimeout(this.timeout);
          // raf.cancel(this.commit) //this.commitDebounce.cancel()
        }
        // this.dirtyState = undefined
        this.willChange = false;
      }
    }
  }]);
  return Store;
}();

Store.isStore = true;
exports.default = Store;
module.exports = exports['default'];

/***/ }),
/* 219 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Device = __webpack_require__(104);

var _Device2 = _interopRequireDefault(_Device);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/ui-device");
exports.default = _Device2.default;
module.exports = exports["default"];

/***/ }),
/* 220 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _immutable2 = _interopRequireDefault(_immutable);

var _actionButton = __webpack_require__(141);

var _actionButton2 = _interopRequireDefault(_actionButton);

var _actionLink = __webpack_require__(601);

var _actionLink2 = _interopRequireDefault(_actionLink);

var _actionListStaticStyle = __webpack_require__(602);

var _actionListStaticStyle2 = _interopRequireDefault(_actionListStaticStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var typeConigs = {
  'button': {
    View: _actionButton2.default,
    viewProps: {
      // pillable: false,
    }
  },
  'link': {
    View: _actionLink2.default,
    viewProps: {
      pillable: false
    }
  }
};
// import ActionListStyle from './action-list-style'


var types = (0, _keys2.default)(typeConigs);
var count = 0;

var createVNode = Inferno.createVNode;

var ActionList = function (_React$Component) {
  (0, _inherits3.default)(ActionList, _React$Component);

  function ActionList() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ActionList);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ActionList.__proto__ || (0, _getPrototypeOf2.default)(ActionList)).call.apply(_ref, [this].concat(args))), _this), _this.id = 'ActionList-' + count++, _this.hasActivated = false, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  /*
  static propTypes = {
    list: Immutable.PropTypes.list.isRequired,
    title: React.PropTypes.string,
    type: React.PropTypes.string.isRequired,
    active: React.PropTypes.bool.isRequired,
    x: React.PropTypes.number.isRequired,
    y: React.PropTypes.number.isRequired,
    fabSize: React.PropTypes.number.isRequired,
    viewportWidth: React.PropTypes.number.isRequired,
    viewportHeight: React.PropTypes.number.isRequired,
  }
  */


  (0, _createClass3.default)(ActionList, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.hasActivated = this.props.active ? true : false;
    }
    // shouldComponentUpdate(nextProps) {
    //  let {
    //    show
    //  } = nextProps
    //  return show
    // }

  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps) {
      this.hasActivated = nextProps.active || this.hasActivated ? true : false;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          list = _props.list,
          type = _props.type,
          active = _props.active,
          title = _props.title,
          id = _props.id,
          className = _props.className,
          attrs = (0, _objectWithoutProperties3.default)(_props, ['list', 'type', 'active', 'title', 'id', 'className']);

      id = id || this.id;
      if (!list) return null;
      var length = list.size || list.length || 0;
      if (!length) return null;
      var hasActivated = this.hasActivated;
      var scope = '#' + id;

      className = className || '';
      className += ' action-list';
      if (active) className += ' active';

      var typeConfig = typeConigs[type];
      var View = typeConfig.View,
          viewProps = typeConfig.viewProps;

      var actionListStyle = null;

      // if (!active && !hasActivated) {
      //  if (!attrs.style) {
      //    attrs.style = {visibility: 'hidden'}
      //  } else {
      //    attrs.style.visibility = 'hidden'
      //  }
      // }
      // else {
      var actionListStyleProps = {
        list: list,
        type: type, // TODO
        scope: scope,
        active: active
      };
      // actionListStyle = <ActionListStyle key="ActionListStyle" styleProps={actionListStyleProps} />
      if (!attrs.style) {
        attrs.style = { visibility: 'visible' };
      } else {
        attrs.style.visibility = 'visible';
      }
      // }

      var actionRenders = [];
      var actionProps = void 0;
      for (var i = 0; i < length; i++) {
        actionProps = list.get ? list.get(i) : list[i];
        if (actionProps.toJS) actionProps = actionProps.toJS();
        if (!actionProps.id) actionProps.id = id + '-action-button-' + i;
        if (!actionProps.key) {
          actionProps.key = actionProps.id;
        }
        actionRenders.push(createVNode(16, View, (0, _extends3.default)({}, actionProps, viewProps)));
      }
      return createVNode(2, 'div', (0, _extends3.default)({
        'id': id,
        'className': className
      }, attrs), [_actionListStaticStyle2.default, this.renderTitle(title), actionRenders]);
    }
  }, {
    key: 'renderTitle',
    value: function renderTitle(title) {
      if (!title) return null;
      return createVNode(2, 'h2', {
        'className': 'action-list-title'
      }, title, null, 'action-list-title');
    }
  }]);
  return ActionList;
}(_infernoCompat2.default.Component);

ActionList.displayName = 'ActionList';
ActionList.types = types;
ActionList.defaultProps = {
  list: _immutable2.default.List(),
  type: 'button'
};
exports.default = ActionList;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 221 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _inferno = __webpack_require__(51);

var _styleverse = __webpack_require__(9);

var _fabChromaStyle = __webpack_require__(606);

var _fabChromaStyle2 = _interopRequireDefault(_fabChromaStyle);

var _fabStaticStyle = __webpack_require__(607);

var _fabStaticStyle2 = _interopRequireDefault(_fabStaticStyle);

var _actionList = __webpack_require__(220);

var _actionList2 = _interopRequireDefault(_actionList);

var _fabSprungStyle = __webpack_require__(613);

var _fabSprungStyle2 = _interopRequireDefault(_fabSprungStyle);

var _gooey = __webpack_require__(142);

var _gooey2 = _interopRequireDefault(_gooey);

var _events = __webpack_require__(609);

var _actionButton = __webpack_require__(141);

var _actionButton2 = _interopRequireDefault(_actionButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import GooeyStyle, {gooeyStyleGenerator, gooeyStyleGenerator2} from '../theme/gooey'
// import ReactTooltip from 'react-hint'
// import ReactTooltip from '../helpers/hint'

var renderedSprungStyle;
var createVNode = Inferno.createVNode;
function renderSprungStyle() {
  if (!renderedSprungStyle) renderedSprungStyle = createVNode(16, _fabSprungStyle2.default, null, null, null, 'sprung-style');
  return renderedSprungStyle;
}
function renderThemeStyle(theme) {
  // if (theme === 'gooey') return (state) => gooeyStyleGenerator(state)
  // if (theme === 'gooey2') return (state) => gooeyStyleGenerator2(state)
  // if (theme === 'gooey2') return (state) => {
  //   debugger
  // }
  if (theme === 'gooey' || theme === 'gooey2') return _gooey2.default;
  return renderSprungStyle();
}

// import IconLineMorpher from '../icon-line-morpher'


var mountCount = 0;

var FAB = function (_React$Component) {
  (0, _inherits3.default)(FAB, _React$Component);

  function FAB() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FAB);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FAB.__proto__ || (0, _getPrototypeOf2.default)(FAB)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      mouseDown: false,
      FABState: undefined
    }, _this.prevMouseDownIndex = -1, _this.mouseDownIndex = -1, _this.hasShown = false, _this.updateFABState = function (store) {
      var FABState = store.state;
      var prev = _this.state.FABState;
      // if (prev) {
      //  if (FABState.equals(prev)) return
      // }
      _this.setState({ FABState: FABState }, (function noop() { /* noop */ }));
    }, _this.mountIndex = -1, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  /*
  static propTypes = {
    name: string
    icon: PropTypes.string,
    label: PropTypes.string,
    chromaType: PropTypes.string,
    actionList: Immutable.PropTypes.list.isRequired,
    onClick: PropTypes.func,
    active: PropTypes.bool.isRequired,
    show: PropTypes.bool.isRequired,
    pop: PropTypes.number.isRequired,
  }
  */


  (0, _createClass3.default)(FAB, [{
    key: 'get',

    // onLeave = (targetIndex) => {
    //  this.mouseDownIndex = targetIndex
    //  this.setState({mouseDown: true})
    // }
    // captureClick = (e) => {
    //  e.stopPropagation()
    // }
    value: function get(key, fallback) {
      var FABState = this.state.FABState;
      if (!FABState) return fallback;
      var val = FABState.get(key, fallback);
      return val;
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.mountIndex = mountCount;
      mountCount++;
      // TODO: auto unmount lower index?
      if (mountCount > 1) throw new Error('Only one FAB can be mounted at a time');
      this.hasShown = false;
      this.context.request('FAB', 'connect', this.updateFABState);
      var that = this;
      this.onMouseUp = function () {
        (0, _events.onMouseUp)(that);
      };
      document.addEventListener('mouseup', this.onMouseUp);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      mountCount--;
      this.hasShown = false;
      this.context.request('FAB', 'disconnect', this.updateFABState);
      document.removeEventListener('mouseup', this.onMouseUp);
      this.onMouseUp = undefined;
      // if (this.showTimeout) clearTimeout(this.showTimeout)
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.didRender();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.didRender();
    }
  }, {
    key: 'didRender',
    value: function didRender() {
      this.prevMouseDownIndex = -1;
    }
  }, {
    key: 'getDestructure',
    value: function getDestructure() {
      var show = this.get('show');

      // @NOTE: any reason not to use the var ^?
      if (this.get('show')) this.hasShown = true;

      var active = this.get('active');
      var chroma = this.get('chroma');
      var pop = this.get('pop');

      // var shape = this.get('shape')
      // var showLabel = this.get('showLabel')
      var labelAsTip = this.get('labelAsTip');
      var loading = this.get('loading');

      return { show: show, active: active, chroma: chroma, pop: pop, loading: loading, labelAsTip: labelAsTip };
    }
  }, {
    key: 'getClassName',
    value: function getClassName(_ref2) {
      var active = _ref2.active,
          loading = _ref2.loading,
          pop = _ref2.pop;

      var className = this.props.className || '';
      className += ' pop-' + pop;
      if (active) className += ' is-active';
      if (loading) className += ' loading';

      return className;
    }
  }, {
    key: 'renderTipIfNeeded',
    value: function renderTipIfNeeded(labelAsTip, children) {
      // if (labelAsTip) {
      //   children.push(<ReactTooltip />)
      //   // children.push(styles)
      // }
    }
  }, {
    key: 'render',
    value: function render() {
      var mouseDownIndex = this.mouseDownIndex,
          prevMouseDownIndex = this.prevMouseDownIndex;


      var id = 'fab';
      var scope = '#' + id;

      var _getDestructure = this.getDestructure(),
          show = _getDestructure.show,
          active = _getDestructure.active,
          chroma = _getDestructure.chroma,
          pop = _getDestructure.pop,
          loading = _getDestructure.loading,
          labelAsTip = _getDestructure.labelAsTip;

      var className = this.getClassName({ show: show, active: active, chroma: chroma, pop: pop, loading: loading });

      var children = void 0;
      if (!this.hasShown) children = null;else {
        children = [renderThemeStyle(), _fabChromaStyle2.default, _fabStaticStyle2.default, this.renderOverlay(id), this.renderActionList(id, active, show), this.renderActionButton(id, active)];
        this.renderTipIfNeeded(labelAsTip, children);
      }
      return createVNode(16, _styleverse.StyleContext, {
        'chroma': chroma,
        children: createVNode(2, 'div', {
          'id': id,
          'className': className,
          'style': { visibility: 'hidden' }
        }, children)
      });
    }
  }, {
    key: 'renderActionButton',
    value: function renderActionButton(id, active) {
      var icon = active ? this.get('activeIcon') : this.get('icon');
      var label = this.get('label');
      return createVNode(16, _actionButton2.default, {
        'id': id + '_action-button',
        'active': active,
        'className': 'FAB_action-button',
        'icon': icon,
        'label': label,
        'onClick': (0, _inferno.linkEvent)(this, _events.onClick),
        'onMouseDown': (0, _inferno.linkEvent)(this, _events.onMouseDown_0)
      }, null, null, 'FAB');
    }
  }, {
    key: 'renderOverlay',
    value: function renderOverlay(id) {
      var overlayProps = this.get('overlayProps');
      // if (!overlayProps) return null
      // return null
      return createVNode(2, 'div', {
        'id': id + '-active-bg-mask'
      }, createVNode(2, 'div', {
        'id': id + '-active-bg'
      }, null, {
        'onClick': (0, _inferno.linkEvent)(this, _events.onClick)
      }), null, 'overlay');
    }
  }, {
    key: 'renderActionList',
    value: function renderActionList(id, active, show) {
      var actionList = this.get('actionList');
      if (!actionList || actionList.size <= 1) return null;
      var actionListProps = {
        key: 'action-list',
        id: id + '-action-list',
        list: actionList,
        show: show,
        active: active
      };
      return createVNode(16, _actionList2.default, (0, _extends3.default)({}, actionListProps));
    }
  }]);
  return FAB;
}(_infernoCompat2.default.Component);

FAB.displayName = 'FAB';
FAB.contextTypes = {
  request: _infernoCompat.PropTypes.func.isRequired
};
exports.default = FAB;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 222 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ActionList = exports.ActionButton = exports.FAB = exports.FABContext = undefined;

var _fabContext = __webpack_require__(605);

var _fabContext2 = _interopRequireDefault(_fabContext);

var _fab = __webpack_require__(221);

var _fab2 = _interopRequireDefault(_fab);

var _actionButton = __webpack_require__(141);

var _actionButton2 = _interopRequireDefault(_actionButton);

var _actionList = __webpack_require__(220);

var _actionList2 = _interopRequireDefault(_actionList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-fab');
exports.default = _fabContext2.default;
exports.FABContext = _fabContext2.default;
exports.FAB = _fab2.default;
exports.ActionButton = _actionButton2.default;
exports.ActionList = _actionList2.default;

/***/ }),
/* 223 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _fafChromaStyle = __webpack_require__(617);

var _fafChromaStyle2 = _interopRequireDefault(_fafChromaStyle);

var _fafStaticStyle = __webpack_require__(619);

var _fafStaticStyle2 = _interopRequireDefault(_fafStaticStyle);

var _uiIcon = __webpack_require__(78);

var _uiIcon2 = _interopRequireDefault(_uiIcon);

var _fafSprungStyle = __webpack_require__(618);

var _fafSprungStyle2 = _interopRequireDefault(_fafSprungStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {linkEvent} from 'inferno'
// import FAFSprungStyle from './faf-sprung-style'
// import raf from 'raf'
// import Immutable from '@the-grid/immutable'

var renderedSprungStyle;
var createVNode = Inferno.createVNode;
function renderSprungStyle() {
  if (!renderedSprungStyle) renderedSprungStyle = createVNode(16, _fafSprungStyle2.default, null, null, null, 'sprung-style');
  return renderedSprungStyle;
}

var mountCount = 0;

// function onClick(that, e) {
//   let actionList = that.get('actionList')
//   if (actionList && actionList.size === 1) {
//     let onClick = actionList.getIn([0, 'onClick'], that.props.onClick)
//     if (onClick) return onClick(e)
//   }
//   else if (!actionList && that.get('onClick')) {
//     return that.get('onClick')(e)
//   }
//   else {
//     return that.context.request('FAF','activate-toggle')
//   }
// }
// function onMouseUp(that) {
//  if (!that.state.show || !that.state.mouseDown) return
//  that.prevMouseDownIndex = that.mouseDownIndex
//  that.mouseDownIndex = -1
//  that.setState({mouseDown: false}, NOOP)
// }
// function onMouseDown_0(that) {
//  if (!that.state.show || that.state.mouseDown) return
//  that.mouseDownIndex = 0
//  that.setState({mouseDown: true}, NOOP)
// }

var FAF = function (_React$Component) {
  (0, _inherits3.default)(FAF, _React$Component);

  function FAF() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FAF);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FAF.__proto__ || (0, _getPrototypeOf2.default)(FAF)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      // mouseDown: false,
      FAFState: undefined
    }, _this.hasShown = false, _this.updateFAFState = function (store) {
      var FAFState = store.state;
      var prev = _this.state.FAFState;
      console.log('updateFAFState -------- ', { equals: FAFState.equals(prev), actionList: FAFState.toJS().actionList });
      if (prev) {
        if (FAFState.equals(prev)) return;
      }
      _this.setState({ FAFState: FAFState });
    }, _this.mountIndex = -1, _this.onActionItemClick = function (key) {
      _this.context.request('FAF', 'activate', key);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  /*
  static propTypes = {
    name: string
    icon: PropTypes.string,
    label: PropTypes.string,
    chromaType: PropTypes.string,
    actionList: Immutable.PropTypes.list.isRequired,
    onClick: PropTypes.func,
    active: PropTypes.bool.isRequired,
    show: PropTypes.bool.isRequired,
    pop: PropTypes.number.isRequired,
  }
  */

  // prevMouseDownIndex = -1
  // mouseDownIndex = -1


  (0, _createClass3.default)(FAF, [{
    key: 'get',

    // onLeave = (targetIndex) => {
    //  this.mouseDownIndex = targetIndex
    //  this.setState({mouseDown: true})
    // }
    // captureClick = (e) => {
    //  e.stopPropagation()
    // }
    value: function get(key, fallback) {
      var FAFState = this.state.FAFState;
      if (!FAFState) return fallback;
      var val = FAFState.get(key);
      if (val === undefined) return fallback;
      return val;
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.mountIndex = mountCount;
      mountCount++;
      // TODO: auto unmount lower index?
      if (mountCount > 1) throw new Error('Only one FAF can be mounted at a time');
      this.hasShown = false;
      this.context.request('FAF', 'connect', this.updateFAFState);
      var that = this;
      // this.onMouseUp = function(){
      //  onMouseUp(that)
      // }
      // document.addEventListener('mouseup',this.onMouseUp)
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      mountCount--;
      this.hasShown = false;
      this.context.request('FAF', 'disconnect', this.updateFAFState);
      // document.removeEventListener('mouseup',this.onMouseUp)
      // this.onMouseUp = undefined
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.didRender();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.didRender();
    }
  }, {
    key: 'didRender',
    value: function didRender() {
      // this.prevMouseDownIndex = -1
    }
  }, {
    key: 'render',
    value: function render() {
      // let {
      //  mouseDownIndex,
      //  prevMouseDownIndex,
      // } = this
      if (!this.hasShown && this.state.FAFState === undefined) return null;
      var show = this.get('show');
      if (this.get('show')) this.hasShown = true;
      if (!this.hasShown) return null;

      var id = 'faf';
      var scope = '#' + id;
      var active = this.get('active');
      var chroma = this.get('chroma');
      var pop = this.get('pop');
      var render = this.get('render');
      var className = this.props.className || '';
      className += ' pop-' + pop;
      if (active !== false) className += ' is-active';
      var content = [];
      var child = void 0;
      child = this.renderActionList('actionList', id, active, show);
      if (child) content.push(child);
      child = this.renderActionList('actionList2', id, active, show);
      if (child) content.push(child);
      child = render ? render() : null;
      if (child) content.push(child);

      return createVNode(34, 'div', {
        'id': id,
        'className': className,
        'style': { display: 'none' }
      }, [createVNode(2, 'div', {
        'id': id + '-bg',
        'className': 'faf_bg'
      }), createVNode(16, _styleverse.StyleContext, {
        'chroma': chroma.toJS(),
        children: _fafChromaStyle2.default
      }, null, null, 'chroma-context'), renderSprungStyle(), _fafStaticStyle2.default, createVNode(2, 'div', {
        'className': 'faf_content'
      }, content, null, 'faf_content')]);
    }
    // renderOverlay(id) {
    //  let overlayProps = this.get('overlayProps')
    //  if (!overlayProps) return null
    //  return null
    //  return (
    //    <div key="overlay" id={id+'-active-bg-mask'}>
    //      <div id={id+'-active-bg'} onClick={linkEvent(this, onClick)} />
    //    </div>
    //  )
    // }

  }, {
    key: 'renderActionList',
    value: function renderActionList(path, id, active, show) {
      var actionList = this.get(path);
      if (!actionList) return null;
      var l = actionList.size;
      if (!l) return null;
      var className = 'faf_action-list action-list';
      if (path === 'actionList2') {
        className += ' secondary';
      } else if (path === 'actionList') {
        className += ' primary';
      }
      var children = [],
          action,
          id,
          key,
          label,
          isActive,
          _className,
          onItemClick,
          icon,
          src;
      for (var i = 0; i < l; i++) {
        action = actionList.get(i);
        id = 'faf_action-item-' + i;
        key = action.get('key', i);
        isActive = active === key;
        _className = 'faf_action-item';
        if (isActive) {
          _className += ' active';
        } else {
          onItemClick = this.onActionItemClick.bind(this, key);
        }
        label = action.get('label', null);
        if (label) label = createVNode(2, 'div', {
          'className': 'faf_action-item_label label'
        }, label);
        icon = action.get('icon', null);
        if (icon) icon = createVNode(16, _uiIcon2.default, {
          'className': 'faf_action-item_icon',
          children: icon
        });
        src = action.get('src', null);
        if (src) src = createVNode(2, 'div', {
          'className': 'faf_action-item_src',
          'style': { background: 'url(' + src + ')', backgroundSize: 'cover' }
        });

        children.push(createVNode(2, 'div', {
          'id': id,
          'className': _className
        }, [icon, label, src], {
          'onClick': onItemClick
        }, 'action-item-' + key));
      }
      return createVNode(2, 'div', {
        'className': className
      }, children);
      // let actionListProps = {
      //  key: 'action-list',
      //  id: id+'-action-list',
      //  list: actionList,
      //  show,
      //  active,
      //  //type, // TODO
      // }
      // return (
      //  <ActionList {...actionListProps} />
      // )
    }
  }]);
  return FAF;
}(_infernoCompat2.default.Component);

FAF.displayName = 'FAF';
FAF.contextTypes = {
  request: _infernoCompat.PropTypes.func.isRequired
};
exports.default = FAF;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 224 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _inferno = __webpack_require__(51);

var _styleverse = __webpack_require__(9);

var _fanChromaStyle = __webpack_require__(624);

var _fanChromaStyle2 = _interopRequireDefault(_fanChromaStyle);

var _fanStaticStyle = __webpack_require__(626);

var _fanStaticStyle2 = _interopRequireDefault(_fanStaticStyle);

var _immutable = __webpack_require__(6);

var _immutable2 = _interopRequireDefault(_immutable);

var _uiIcon = __webpack_require__(78);

var _uiIcon2 = _interopRequireDefault(_uiIcon);

var _fanSprungStyle = __webpack_require__(625);

var _fanSprungStyle2 = _interopRequireDefault(_fanSprungStyle);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var renderedSprungStyle;
// import raf from 'raf'

// import FANSprungStyle from './fan-sprung-style'
var createVNode = Inferno.createVNode;

function renderSprungStyle() {
  if (!renderedSprungStyle) renderedSprungStyle = createVNode(16, _fanSprungStyle2.default, null, null, null, 'sprung-style');
  return renderedSprungStyle;
}

var mountCount = 0;

function NOOP() {}

// function onClick(that, e) {
//   let actionList = that.get('actionList')
//   if (actionList && actionList.size === 1) {
//     let onClick = actionList.getIn([0, 'onClick'], that.props.onClick)
//     if (onClick) return onClick(e)
//   }
//   else if (!actionList && that.get('onClick')) {
//     return that.get('onClick')(e)
//   }
//   else {
//     return that.context.request('FAN','activate-toggle')
//   }
// }
// function onMouseUp(that) {
//  if (!that.state.show || !that.state.mouseDown) return
//  that.prevMouseDownIndex = that.mouseDownIndex
//  that.mouseDownIndex = -1
//  that.setState({mouseDown: false}, NOOP)
// }
// function onMouseDown_0(that) {
//  if (!that.state.show || that.state.mouseDown) return
//  that.mouseDownIndex = 0
//  that.setState({mouseDown: true}, NOOP)
// }

var FAN = function (_React$Component) {
  (0, _inherits3.default)(FAN, _React$Component);

  function FAN() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FAN);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FAN.__proto__ || (0, _getPrototypeOf2.default)(FAN)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      // mouseDown: false,
      FANState: undefined
    }, _this.hasShown = false, _this.updateFANState = function (store) {
      var FANState = store.state;
      var prev = _this.state.FANState;
      if (prev) {
        if (FANState.equals(prev)) return;
      }
      _this.setState({ FANState: FANState });
    }, _this.mountIndex = -1, _this.onActionItemClick = function (key) {
      _this.context.request('FAN', 'activate', key);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  /*
  static propTypes = {
    name: string
    icon: PropTypes.string,
    label: PropTypes.string,
    chromaType: PropTypes.string,
    actionList: Immutable.PropTypes.list.isRequired,
    onClick: PropTypes.func,
    active: PropTypes.bool.isRequired,
    show: PropTypes.bool.isRequired,
    pop: PropTypes.number.isRequired,
  }
  */

  // prevMouseDownIndex = -1
  // mouseDownIndex = -1


  (0, _createClass3.default)(FAN, [{
    key: 'get',

    // onLeave = (targetIndex) => {
    //  this.mouseDownIndex = targetIndex
    //  this.setState({mouseDown: true})
    // }
    // captureClick = (e) => {
    //  e.stopPropagation()
    // }
    value: function get(key, fallback) {
      var FANState = this.state.FANState;
      if (!FANState) return fallback;
      var val = FANState.get(key);
      if (val === undefined) return fallback;
      return val;
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.mountIndex = mountCount;
      mountCount++;
      // TODO: auto unmount lower index?
      if (mountCount > 1) throw new Error('Only one FAN can be mounted at a time');
      this.hasShown = false;
      this.context.request('FAN', 'connect', this.updateFANState);
      var that = this;
      // this.onMouseUp = function(){
      //  onMouseUp(that)
      // }
      // document.addEventListener('mouseup',this.onMouseUp)
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      mountCount--;
      this.hasShown = false;
      this.context.request('FAN', 'disconnect', this.updateFANState);
      // document.removeEventListener('mouseup',this.onMouseUp)
      // this.onMouseUp = undefined
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.didRender();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.didRender();
    }
  }, {
    key: 'didRender',
    value: function didRender() {
      // this.prevMouseDownIndex = -1
    }
  }, {
    key: 'render',
    value: function render() {
      // let {
      //  mouseDownIndex,
      //  prevMouseDownIndex,
      // } = this
      if (!this.hasShown && this.state.FANState === undefined) return null;
      var show = this.get('show');
      if (this.get('show')) this.hasShown = true;
      if (!this.hasShown) return null;

      var id = 'fan';
      var scope = '#' + id;
      var active = this.get('active');
      var chroma = this.get('chroma');
      var pop = this.get('pop');
      var render = this.get('render');
      var className = this.props.className || '';
      className += ' pop-' + pop;
      if (active !== false) className += ' is-active';
      var content = [];
      var child = void 0;
      child = this.renderActionList(this.get('actionList'), id, active, show);
      if (child) content.push(child);
      child = this.renderActionList(this.get('actionList2'), id + '-secondary-', active, show);
      if (child) content.push(child);
      child = render ? render() : null;
      if (child) content.push(child);

      return createVNode(34, 'div', {
        'id': id,
        'className': className,
        'style': { display: 'none' }
      }, [createVNode(2, 'div', {
        'id': id + '-bg',
        'className': 'fan_bg'
      }), createVNode(16, _styleverse.StyleContext, {
        'chroma': chroma.toJS(),
        children: _fanChromaStyle2.default
      }, null, null, 'chroma-context'), renderSprungStyle(), _fanStaticStyle2.default, createVNode(2, 'div', {
        'className': 'fan_content'
      }, content, null, 'fan_content')]);
    }
    // renderOverlay(id) {
    //  let overlayProps = this.get('overlayProps')
    //  if (!overlayProps) return null
    //  return null
    //  return (
    //    <div key="overlay" id={id+'-active-bg-mask'}>
    //      <div id={id+'-active-bg'} onClick={linkEvent(this, onClick)} />
    //    </div>
    //  )
    // }

  }, {
    key: 'renderActionList',
    value: function renderActionList(actionList, id, active, show) {
      if (!actionList) return null;
      var l = actionList.size;
      if (!l) return null;
      var children = [],
          action,
          id,
          key,
          label,
          isActive,
          className,
          onItemClick,
          icon,
          src;
      for (var i = 0; i < l; i++) {
        action = actionList.get(i);
        id = 'fan_action-item-' + i;
        key = action.get('key', i);
        isActive = active === key;
        className = 'fan_action-item';
        if (isActive) {
          onItemClick = null;
          className += ' active';
        } else {
          onItemClick = this.onActionItemClick.bind(this, key);
        }
        label = action.get('label', null);
        if (label) label = createVNode(2, 'div', {
          'className': 'fan_action-item_label label'
        }, label);
        icon = action.get('icon', null);
        if (icon) icon = createVNode(16, _uiIcon2.default, {
          'className': 'fan_action-item_icon',
          children: icon
        });
        src = action.get('src', null);
        if (src) src = createVNode(2, 'div', {
          'className': 'fan_action-item_src',
          'style': { background: 'url(' + src + ')', backgroundSize: 'cover' }
        });

        children.push(createVNode(2, 'div', {
          'id': id,
          'className': className
        }, [icon, label, src], {
          'onClick': onItemClick
        }, 'action-item-' + key));
      }
      return createVNode(2, 'div', {
        'className': 'fan_action-list'
      }, children);
      // let actionListProps = {
      //  key: 'action-list',
      //  id: id+'-action-list',
      //  list: actionList,
      //  show,
      //  active,
      //  //type, // TODO
      // }
      // return (
      //  <ActionList {...actionListProps} />
      // )
    }
  }, {
    key: '_renderActionList',
    value: function _renderActionList(id, active, show) {}
  }]);
  return FAN;
}(_infernoCompat2.default.Component);

FAN.displayName = 'FAN';
FAN.contextTypes = {
  request: _infernoCompat.PropTypes.func.isRequired
};
exports.default = FAN;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 225 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.get_icon_type = exports.renderer = undefined;

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiInlineSvg = __webpack_require__(143);

var _uiInlineSvg2 = _interopRequireDefault(_uiInlineSvg);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;

var icon_lines_types = ['+', '*', 'x', '-'];

var createVNode = Inferno.createVNode;
var icon_svg_types = {
  'facebook': {
    type: 'svg',
    rendered: createVNode(128, 'svg', {
      'x': '0px',
      'y': '0px',
      'viewBox': '0 0 24 24',
      'style': {
        position: 'absolute',
        top: 0,
        left: 0,
        bottom: 0,
        right: 0
      }
    }, createVNode(2, 'path', {
      'className': 'icon-svg-part',
      'd': 'M13.9,24V13.1h3.7l0.5-4.3h-4.2V6.1C13.9,4.8,14.2,4,16,4l2.3,0V0.2C17.8,0.1,16.5,0,14.9,0c-3.3,0-5.5,2-5.5,5.6\n        \tv3.1H5.8v4.3h3.7V24H13.9z'
    }))
  },
  'twitter': {
    type: 'svg',
    rendered: createVNode(128, 'svg', {
      'x': '0px',
      'y': '0px',
      'viewBox': '0 0 24 24',
      'style': {
        position: 'absolute',
        top: 0,
        left: 0,
        bottom: 0,
        right: 0
      }
    }, createVNode(2, 'path', {
      'className': 'icon-svg-part',
      'd': 'M7.5,21.8c9.1,0,14-7.5,14-14c0-0.2,0-0.4,0-0.6c1-0.7,1.8-1.6,2.5-2.5c-0.9,0.4-1.9,0.7-2.8,0.8c1-0.6,1.8-1.6,2.2-2.7\n          c-1,0.6-2,1-3.1,1.2c-1.9-2-5-2.1-7-0.2c-1.3,1.2-1.8,3-1.4,4.7c-4-0.2-7.6-2.1-10.1-5.1C0.4,5.4,1,8.3,3.2,9.7\n          C2.4,9.7,1.6,9.5,1,9.1c0,0,0,0,0,0.1c0,2.3,1.7,4.4,4,4.8c-0.7,0.2-1.5,0.2-2.2,0.1c0.6,2,2.5,3.4,4.6,3.4\n          c-1.7,1.4-3.9,2.1-6.1,2.1c-0.4,0-0.8,0-1.2-0.1C2.3,21,4.9,21.8,7.5,21.8'
    }))
  },
  'pinterest': {
    type: 'svg',
    rendered: createVNode(128, 'svg', {
      'x': '0px',
      'y': '0px',
      'viewBox': '0 0 24 24',
      'style': {
        position: 'absolute',
        top: 0,
        left: 0,
        bottom: 0,
        right: 0
      }
    }, createVNode(2, 'path', {
      'className': 'icon-svg-part',
      'd': 'M12,0C5.4,0,0,5.4,0,12c0,5.1,3.2,9.4,7.6,11.2c-0.1-0.9-0.2-2.4,0-3.4c0.2-0.9,1.4-6,1.4-6S8.7,13,8.7,12\n\t\t\t    c0-1.7,1-2.9,2.2-2.9c1,0,1.5,0.8,1.5,1.7c0,1-0.7,2.6-1,4c-0.3,1.2,0.6,2.2,1.8,2.2c2.1,0,3.8-2.2,3.8-5.5c0-2.9-2.1-4.9-5-4.9\n\t\t\t    c-3.4,0-5.4,2.6-5.4,5.2c0,1,0.4,2.1,0.9,2.7c0.1,0.1,0.1,0.2,0.1,0.3c-0.1,0.4-0.3,1.2-0.3,1.4c-0.1,0.2-0.2,0.3-0.4,0.2\n          c-1.5-0.7-2.4-2.9-2.4-4.6c0-3.8,2.8-7.3,7.9-7.3c4.2,0,7.4,3,7.4,6.9c0,4.1-2.6,7.5-6.2,7.5c-1.2,0-2.4-0.6-2.8-1.4\n          c0,0-0.6,2.3-0.7,2.9c-0.3,1-1,2.3-1.5,3.1C9.6,23.8,10.8,24,12,24c6.6,0,12-5.4,12-12C24,5.4,18.6,0,12,0z'
    }))
  }
};

var types = (0, _keys2.default)(icon_lines_types).concat((0, _keys2.default)(icon_svg_types));

var cache = {};

function get_icon_type(icon) {
  if (icon_lines_types.includes(icon)) return 'lines';
  if (icon_svg_types[icon]) return 'svg';
  if (icon.endsWith('.svg')) return 'svgurl';
  return 'font';
}

var renderer_by_type = {
  lines: function lines(_, icon, props) {
    var iconWeight = props.iconWeight,
        iconSize = props.iconSize;

    var cache_key = icon + ':' + iconWeight + ',' + iconSize;
    if (cache[cache_key]) return cache[cache_key];
    var partStyle = {
      position: 'absolute',
      width: iconWeight,
      height: iconSize,
      transformOrigin: '50%',
      backfaceVisibility: 'hidden',
      top: 'calc(50% - ' + iconSize / 2 + 'px)',
      left: 'calc(50% - ' + iconWeight / 2 + 'px)'
    };
    cache[cache_key] = [createVNode(2, 'div', {
      'style': partStyle,
      'className': 'icon-line icon-line-0'
    }, null, null, 'icon-line-0'), createVNode(2, 'div', {
      'style': partStyle,
      'className': 'icon-line icon-line-1'
    }, null, null, 'icon-line-1'), createVNode(2, 'div', {
      'style': partStyle,
      'className': 'icon-line icon-line-2'
    }, null, null, 'icon-line-2')];
    return cache[cache_key];
  },
  svg: function svg(_, icon) {
    if (cache[icon]) return cache[icon];
    var key = 'icon-svg--' + icon;
    cache[icon] = el('div', {
      key: key,
      className: key + ' icon-renderer icon-svg',
      style: {
        position: 'absolute',
        // width: 24,
        // height: 24,
        width: '1em',
        height: '1em',
        transformOrigin: '50%',
        backfaceVisibility: 'hidden',
        // top: `calc(50% - ${24 / 2}px)`,
        // left: `calc(50% - ${24 / 2}px)`,
        top: 'calc(50% - .5em)',
        left: 'calc(50% - .5em)'
      }
    }, icon_svg_types[icon].rendered);
    return cache[icon];
  },
  svgurl: function svgurl(_, icon) {
    if (cache[icon]) return cache[icon];
    var key = 'icon-svgurl--' + icon;
    cache[icon] = el('div', {
      key: key,
      className: key + ' icon-renderer icon-svgurl',
      style: {
        position: 'absolute',
        width: '100%',
        height: '100%',
        // width: 24,
        // height: 24,
        transformOrigin: '50%',
        backfaceVisibility: 'hidden',
        top: 0,
        left: 0
      }
    }, el(_uiInlineSvg2.default, { src: icon, cacheGetRequests: true }));
    return cache[icon];
  },
  font: function font(_, icon) {
    if (cache[icon]) return cache[icon];
    var key = 'icon-font--' + icon;
    cache[icon] = el('i', {
      key: key,
      className: key + ' material-icons icon-renderer icon-font',
      style: {
        position: 'absolute',
        // width: 24,
        // height: 24,
        width: '1em',
        height: '1em',
        fontSize: 'inherit',
        transformOrigin: '50%',
        backfaceVisibility: 'hidden',
        // top: `calc(50% - ${24 / 2}px)`,
        // left: `calc(50% - ${24 / 2}px)`,
        top: 'calc(50% - .5em)',
        left: 'calc(50% - .5em)'
      }
    }, icon === 'share' ? 'reply' : icon);
    return cache[icon];
  }
};

function renderer(id, icon, props) {
  if (!icon) return null;
  return renderer_by_type[get_icon_type(icon)](id, icon, props);
}

exports.default = renderer;
exports.renderer = renderer;
exports.get_icon_type = get_icon_type;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 226 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}

var count = 0;

var updatePropKeys = ['id', 'tag', 'index', 'className', 'layoutSheet'];

var createVNode = Inferno.createVNode;

var _LayoutNode = function (_React$Component) {
  (0, _inherits3.default)(_LayoutNode, _React$Component);

  function _LayoutNode() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, _LayoutNode);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = _LayoutNode.__proto__ || (0, _getPrototypeOf2.default)(_LayoutNode)).call.apply(_ref, [this].concat(args))), _this), _this.__id = count++, _this.state = {
      injectedRenderList: undefined
    }, _this.injectRenderList = function (childNodeData) {
      var curr = _this.state.injectedRenderList;
      if (curr) {
        //if (curr === injectedRenderList) return
        if (childNodeData.equals(curr)) return;
      }
      _this.setState({ injectedRenderList: childNodeData }, NOOP);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(_LayoutNode, [{
    key: 'didEnterVisibleState',


    // Interface State Lifecyle Methods

    // Visible Range
    value: function didEnterVisibleState() {}
  }, {
    key: 'didExitVisibleState',
    value: function didExitVisibleState() {}
    // Display Range

  }, {
    key: 'didEnterDisplayState',
    value: function didEnterDisplayState() {}
  }, {
    key: 'didExitDisplayState',
    value: function didExitDisplayState() {}
    // Preload Range

  }, {
    key: 'didEnterPreloadState',
    value: function didEnterPreloadState() {}
  }, {
    key: 'didExitPreloadState',
    value: function didExitPreloadState() {}

    // Component Lifecyle Methods

  }, {
    key: 'didInstallStore',
    value: function didInstallStore() {
      //componentWillMount() {
      this.store.willMount(this);
    }
    // componentWillMount() {
    // }

  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.store.didMount(this);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(p) {
      this.store.updateProps(p);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.store.didUpdate(this);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount(this);
      this.store = undefined;
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      if (this.props.alwaysUpdate) return true;
      if (nextState && nextState.injectedRenderList) return true;
      //if (nextState.injectedRenderList !== this.state.injectedRenderList) return true
      //if (!nextState.injectedRenderList.equals(this.state.injectedRenderList)) return true
      if (!nextProps) return false;
      for (var i = 0; i < updatePropKeys.length; i++) {
        var key = updatePropKeys[i];
        var next = nextProps[key];
        var prev = this.props[key];
        if (!next && !prev) continue;
        if (prev !== next) return true; // do diff
      }
      return false;
    }

    // injectedRenderIds = []
    // injectedRenderIndices = []

  }, {
    key: 'render',
    value: function render() {
      var children = this.props.children;
      var style = this.props.style;

      var renderProps = this.store.getRenderProps();
      var className = this.props.className || '';
      className += ' component--layout-node';
      renderProps.className = className;
      var injectedRenders = null; //= injectedRenderList ? injectedRenderList.renders : null
      var asyncStates;
      var ids;
      if (this.state && this.state.injectedRenderList && this.state.injectedRenderList.renders) {
        injectedRenders = this.state.injectedRenderList.renders;
        asyncStates = this.state.injectedRenderList.states;
        ids = this.state.injectedRenderList.ids;
      }
      if (style) renderProps.style = style;
      if (!injectedRenders) {
        return _deps.React.createElement(this.props.tag, renderProps, children);
      }
      if (!children) {
        var Tag = this.props.tag;
        var cssD = '';
        var cssV = '';
        var css = '';
        var renders = [];
        var l = injectedRenders.length;
        var sel, state;
        for (var i = 0; i < l; i++) {
          var _injectedRenders$i$pr = injectedRenders[i].props,
              index = _injectedRenders$i$pr.index,
              id = _injectedRenders$i$pr.id;

          sel = "html #" + id;
          if (asyncStates) {
            state = asyncStates[i];
            //console.log("render injected ---- ", ids.get(i), state)
          }

          css += sel + (' { z-index: ' + (l - i) + '; }');
          if (state === 'retain' || state === 'preload') {
            cssD += sel;
            if (i + 1 !== l) cssD += ", ";
          }
          if (state === 'display') {
            cssV += sel;
            if (i + 1 !== l) cssV += ", ";
          }

          if (!id) throw new Error("LayoutNode in dynamic layout must have props.id");
          //if (indices.indexOf(i) !== -1) debugger
          //renders.push(<LayoutNode {...injectedRenders[i].props}>{injectedRenders[i].props.children}</LayoutNode>)
          renders.push(injectedRenders[i]);
          //renders.push(React.cloneElement(injectedRenders[i]))
        }
        //if (
        //  cssV &&
        //  !layoutverse.HACK
        //) {
        //  css += cssV + " { visibility: hidden !important }"
        //}
        if (cssD && !_layoutverse2.default.HACK) {
          css += cssD + " { display: none !important; transition: none !important; }";
        }

        if (css) {
          renders.unshift(createVNode(2, 'style', {
            'dangerouslySetInnerHTML': { __html: css }
          }));
        }
        return Inferno.createElement(Tag, renderProps, renders);
        //return <Tag {...renderProps} >{renders}</Tag>
        //return React.createElement(this.props.tag, renderProps, injectedRenders)
      }
      renders.push(children);
      return _deps.React.createElement(this.props.tag, renderProps, renders);
    }
  }]);
  return _LayoutNode;
}(_deps.React.Component);

_LayoutNode.displayName = 'LayoutNode';
_LayoutNode.contextTypes = {
  styleverse: _deps.PropTypes.object.isRequired,
  stores: _deps.PropTypes.object.isRequired
};
_LayoutNode.propTypes = {
  id: _deps.PropTypes.string.isRequired,
  tag: _deps.PropTypes.string.isRequired,
  index: _deps.PropTypes.number.isRequired,
  className: _deps.PropTypes.string,
  layoutSheet: _deps.PropTypes.string,
  layoutRole: _deps.PropTypes.string.isRequired,
  //frameId: PropTypes.string,
  //layoutId: PropTypes.string, TODO?
  children: _deps.PropTypes.any,
  alwaysUpdate: _deps.PropTypes.bool.isRequired
};
_LayoutNode.defaultProps = {
  tag: 'div',
  layoutRole: 'item',
  alwaysUpdate: false,
  children: null
};


var LayoutNode = _layoutverse2.default.enhance(_LayoutNode, 'layout-node');

exports.default = LayoutNode;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 227 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}

var createVNode = Inferno.createVNode;

var LayoutverseSheet = function (_React$Component) {
  (0, _inherits3.default)(LayoutverseSheet, _React$Component);

  function LayoutverseSheet() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, LayoutverseSheet);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = LayoutverseSheet.__proto__ || (0, _getPrototypeOf2.default)(LayoutverseSheet)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      cssString: ''
    }, _this.sheet_lastRendered = '', _this._didRender = false, _this.sheet_shouldUpdate = false, _this.handleStore = function (store) {
      var cssString = store.get('cssString');
      var nextState = { cssString: cssString };
      if (!_this.shouldUpdateState(nextState)) return;
      _this.sheet_shouldUpdate = true;
      _layoutverse2.default.sheet_willRender(_this.store);
      _this.setState(nextState, NOOP);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(LayoutverseSheet, [{
    key: 'shouldUpdateState',
    value: function shouldUpdateState(nextState) {
      if (!nextState) return false;
      var nextCss = nextState.cssString;
      if (!nextCss) return false;
      if (nextCss === this.sheet_lastRendered) return false;
      return true;
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return this.sheet_shouldUpdate;
    }
  }, {
    key: 'didInstallStore',
    value: function didInstallStore() {
      this.store.execute('connect', this.handleStore);
      _layoutverse2.default.sheet_willMount(this.store);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      _layoutverse2.default.sheet_didMount(this.store);
      if (this._didRender) _layoutverse2.default.sheet_didRender(this.store);
      this._didRender = false;
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      //if (this._didRender) setTimeout(()=>{layoutverse.sheet_didRender(this.store)},1)
      if (this._didRender) _layoutverse2.default.sheet_didRender(this.store);
      this._didRender = false;
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.execute('disconnect', this.handleStore);
    }
  }, {
    key: 'render',
    value: function render() {
      var cssString = this.state.cssString;
      this._didRender = false;
      this.sheet_shouldUpdate = false;
      if (cssString) {
        this._didRender = true;
        this.sheet_lastRendered = cssString;
      }
      cssString = this.store.get('cssStringPrefix') + cssString;
      return createVNode(2, 'style', {
        'id': 'LayoutverseSheet',
        'dangerouslySetInnerHTML': { __html: cssString }
      }, null, null, 'LayoutverseSheet');
    }
  }]);
  return LayoutverseSheet;
}(_deps.React.Component);

LayoutverseSheet.displayName = 'LayoutverseSheet';


LayoutverseSheet = _layoutverse2.default.enhance(LayoutverseSheet, 'layoutverse-sheet');

exports.default = LayoutverseSheet;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 228 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DEBUG_PERF = false;

function numFromPixels(str) {
  if (typeof str === 'number') return str;
  if (!str) return undefined;
  if (!str.endsWith('px')) return undefined;
  var num = Number(str.substr(0, str.length - 2));
  if (isNaN(num)) return undefined;
  return num;
}

function rulesetPixelsToNumbers(obj) {
  if (!obj) return obj;
  var keys = (0, _keys2.default)(obj);
  var cloned = void 0;
  var str = '';
  // TODO new obj??? don't think so...
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    var val = obj[key];
    str += key;
    str += ': ';
    str += val;
    str += '; ';
    var num = numFromPixels(val);
    if (num) {
      if (!cloned) cloned = (0, _assign2.default)({}, obj);
      cloned[key] = num;
    }
  }
  if (cloned) return { obj: cloned, str: str };
  return { obj: obj, str: str };
}

var LayoutSheetState = (0, _deps.Struct)({
  //hashCode: undefined,
  id: undefined,
  //text: undefined,
  'node': undefined,
  'node_string': { default: '' },
  'child-nodes': undefined,
  'child-nodes_string': { default: '' },
  'layout': undefined,
  'layout_string': undefined,

  //'size_rules': {
  //  get: function(obj) {
  //    let size = {}
  //    if (obj['min-height'])
  //  }
  //},

  type: undefined,

  css: {
    deps: ['id', 'node_string'],
    get: function get(id, node_string) {
      var css = '#';
      css += id;
      css += ' { ';
      css += node_string;
      css += ' } ';
      return css;
    }
  }

}, {
  cacheByHashCode: true,
  defaultCache: false
});

var initialState = new LayoutSheetState();

var count = 0;

var LayoutSheetStore = function (_Store) {
  (0, _inherits3.default)(LayoutSheetStore, _Store);

  function LayoutSheetStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, LayoutSheetStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = LayoutSheetStore.__proto__ || (0, _getPrototypeOf2.default)(LayoutSheetStore)).call.apply(_ref, [this].concat(args))), _this), _this.__count = count++, _this.deferCommit = false, _this.state = initialState, _this.isMounted = false, _this.isReady = false, _this.renderList = undefined, _this.styleStore = undefined, _this.needingMerge = undefined, _this.mergeIfNeeded = function () {
      if (_this.needingMerge) _this.silently('merge', _this.needingMerge);
      _this.needingMerge = undefined;
    }, _this.addToMerge = function (obj) {
      if (!_this.needingMerge) {
        _this.needingMerge = obj;
      } else {
        _this.needingMerge = (0, _assign2.default)(_this.needingMerge, obj);
      }
    }, _this.handleStyleStore = function (styleStore) {
      //raf.throttle((styleStore) => {
      if (!_this.isMounted) return;
      styleStore = styleStore.state;
      if (!styleStore || !styleStore.isReady) return;
      if (!styleStore.isReady()) return;
      //console.log(this.id, "Style handleStyleStore() styleStore=",styleStore.toJS())

      _this.isReady = true;
      //let styleversePluginNames = this.renderList.get('styleversePluginNames')
      var renderList = _this.renderList;
      var nextRenderList = renderList.set('styleStore', styleStore);
      if (nextRenderList.equals(renderList)) return;
      _this.renderList = nextRenderList;
      return _this.executeRenderList();
    }, _this.executeRenderList = function () {
      if (!_this.isMounted) return;
      if (DEBUG_PERF) console.time('LayoutSheet RENDER ' + (_this.props.id || _this.props.scope));
      //console.log("Style executeRenderList() styleStore=",styleStore.toJS())
      // TODO: dont set state style store so much!!

      var _this$renderList$get = _this.renderList.get('prerender'),
          rulesets = _this$renderList$get.rulesets,
          css = _this$renderList$get.css,
          components = _this$renderList$get.components;

      //let hashCode = this.renderList.hashCode()


      var toMerge = {};

      if (DEBUG_PERF) console.timeEnd('LayoutSheet RENDER ' + (_this.props.id || _this.props.scope));

      if (rulesets[':node']) {
        var _rulesetPixelsToNumbe = rulesetPixelsToNumbers(rulesets[':node']),
            obj = _rulesetPixelsToNumbe.obj,
            str = _rulesetPixelsToNumbe.str;

        toMerge['node'] = obj;
        toMerge['node_string'] = str;
      } else {
        toMerge['node'] = undefined;
        toMerge['node_string'] = undefined;
      }
      if (rulesets[':child-nodes']) {
        var _rulesetPixelsToNumbe2 = rulesetPixelsToNumbers(rulesets[':child-nodes']),
            _obj = _rulesetPixelsToNumbe2.obj,
            _str = _rulesetPixelsToNumbe2.str;

        toMerge['child-nodes'] = _obj;
        toMerge['child-nodes_string'] = _str;
      } else {
        toMerge['child-nodes'] = undefined;
        toMerge['child-nodes_string'] = undefined;
      }
      if (rulesets[':layout']) {
        var _rulesetPixelsToNumbe3 = rulesetPixelsToNumbers(rulesets[':layout']),
            _obj2 = _rulesetPixelsToNumbe3.obj,
            _str2 = _rulesetPixelsToNumbe3.str;

        toMerge['layout'] = _obj2;
        toMerge['layout_string'] = _str2;
      } else {
        toMerge['layout'] = undefined;
        toMerge['layout_string'] = undefined;
      }
      _this.addToMerge(toMerge);
      _this.mergeIfNeeded();

      //console.log('userSheet_needsRender!!!!!!!!!!',this.state.toJS())
      _layoutverse2.default.userSheet_needsRender(_this);

      //this.context.request('layout-node','handle-layout-style-render', {rulesets, css, components})
      //
      // const rendered = components || []
      // if (rulesets) rendered.push( <style key='style' id={id} className={className} dangerouslySetInnerHTML={{__html: rulesets}} /> )
      // if (css) rendered.push( <style key='css-dump' dangerouslySetInnerHTML={{__html: css.join('\n')}} /> )
      //
      // console.timeEnd('render styles')
      // if (rendered.length === 1) return rendered[0]
      //
      // return (
      //   <span style={{display: 'block', height: 0, width: 0, position: 'absolute'}}>
      //     {rendered}
      //   </span>
      // )
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(LayoutSheetStore, [{
    key: 'shouldCommit',
    value: function shouldCommit() {
      return false;
    }
  }, {
    key: 'hashCode',
    value: function hashCode() {
      return this.state.hashCode();
      // let hash = this.state.get('hashCode')
      //    if (hash) return hash
      //    return this.state.get('id') + ' user-sheet'
    }
  }, {
    key: 'willMount',
    //, {leading: 1})

    value: function willMount(component) {
      this.isMounted = true;
      this.props = component.props;
      //console.log((this.props.id || this.props.scope),"mount")
      var context = component.context;
      var _props = this.props,
          children = _props.children,
          layoutSheet = _props.layoutSheet,
          id = _props.id,
          rendererProps = (0, _objectWithoutProperties3.default)(_props, ['children', 'layoutSheet', 'id']);

      if (layoutSheet.includes(';')) throw new Error("LayoutSheet must be Stylverse syntax");

      this.addToMerge({ layoutSheet: layoutSheet, id: id });
      this.mergeIfNeeded();

      //raf(()=>{
      //if (!this.isMounted) return false
      // WARN: assuming string doesn't change & parsed only once!
      if (DEBUG_PERF) console.time('LayoutSheet COMPILE ' + (this.props.id || this.props.scope));
      var renderList = context.styleverse.compile(layoutSheet);
      this.renderList = renderList.merge({
        'props': rendererProps,
        renderToString: false
      });
      if (DEBUG_PERF) console.timeEnd('LayoutSheet COMPILE ' + (this.props.id || this.props.scope));

      var styleversePluginNames = this.renderList.get('styleversePluginNames');
      if (styleversePluginNames.length === 0) {
        this.isReady = true;
        this.executeRenderList();
      } else {
        this.styleStore = context.stores.styleStore;
        this.styleStore.execute('connect', this.handleStyleStore);
      }
      //})

    }
    //willGetProps(props) {
    //  if (!this.props.updateProps) return
    //  const {children, layoutSheet, ...rendererProps} = nextProps
    //  let renderList = this.renderList.set('props',rendererProps)
    //  if (renderList === this.renderList) return
    //  if (renderList.equals(this.renderList)) return
    //  this.renderList = renderList
    //  if (this.isReady) this.executeRenderList()
    //}

  }, {
    key: 'willUnmount',
    //,{leading:1})
    value: function willUnmount() {
      //console.log((this.props.id || this.props.scope),"unmount")
      this.isMounted = false;
      _layoutverse2.default.userSheet_willUnmount(this);
      this.isReady = false;
      this.renderList = undefined;
      if (this.styleStore) {
        this.styleStore.execute('disconnect', this.handleStyleStore);
        this.styleStore = undefined;
      }
    }
  }]);
  return LayoutSheetStore;
}(_cymatics.Store);

exports.default = LayoutSheetStore;
module.exports = exports['default'];

/***/ }),
/* 229 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _ = __webpack_require__(645);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StoresByName = {
  'layout': _.Layout,
  'layout-node': _.LayoutNode,
  'layout-sheet': _.LayoutSheet,
  'layoutverse-sheet': _.LayoutverseSheet
};
var typesByStoreName = {
  'layout': 'layout',
  'layout-node': 'node',
  'layout-sheet': 'userSheet',
  'layoutverse-sheet': 'sheet'
};
var DEBUG = false;
var DEBUG_PERF = false;
if (DEBUG_PERF) console.time('init-to-sheet-did-mount');
if (DEBUG_PERF) console.time('init-to-sheet-first-render');

/* LayoutverseMediator #########################################################

This class is based on the Mediator pattern, encapsulating how the layoutverse objects interact. It promotes loose coupling & acts as control mechanism for syncrhonizing otherwise hairy event listener/emitter interactions.

It is aware of *all* the Layoutverse stores and their purpose with regards to inter communication. A naive event loop is used for synchronizaing state between stores. */

var LayoutverseMediator = function (_Store) {
  (0, _inherits3.default)(LayoutverseMediator, _Store);

  function LayoutverseMediator() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, LayoutverseMediator);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = LayoutverseMediator.__proto__ || (0, _getPrototypeOf2.default)(LayoutverseMediator)).call.apply(_ref, [this].concat(args))), _this), _this.deferCommit = false, _this.getById = function (type, id) {
      var byId = _this[type + 's_byId'];
      if (!byId) return undefined;
      return byId[id];
    }, _this.getInMeta = function (store, key) {
      var id = store.get('id');
      var type = store.__layoutverse_type;
      var meta = _this[type + '_meta_byId'];
      if (!meta) return undefined;
      return meta[key];
    }, _this.createStore = function (component, storeName) {
      var type = typesByStoreName[storeName];
      if (!type) throw new Error('Layoutverse createStore for component cant find type: ' + type);
      return _this[type + '_install'](component, StoresByName[storeName]);
    }, _this.flushCount = 0, _this.action_order = {
      'digest_sheets': 0,
      'compute_layout': 1,
      'apply_layout': 2,
      'measure_nodes': 3
    }, _this.emit_apply_layout = function () {
      if (DEBUG) LOG("executing emit_emit_apply_layout");
      _this.sheet.execute('update');
      var layouts = _this.layouts;
      for (var i = 0; i < layouts.length; i++) {
        var layout = layouts[i];
        layout.applyLayout();
      }
      _this.measureIfNeeded();
    }, _this.measureIfNeeded = function () {
      var layouts = _this.layouts;
      for (var i = 0; i < layouts.length; i++) {
        var layout = layouts[i];
        _this.nodes_ofLayout_may_need_measure(layout.get('id'));
      }
      _this.queueMeasurePassIfNeeded;
    }, _this.emit_compute_layout = function (layoutId) {
      var layout = _this.layouts_byId[layoutId];
      if (DEBUG) LOG('emit_compute_layout 11111 ' + layout.get('id'), layout.toJS());
      layout.compute();
    }, _this.layout_didCompute = function (layout) {
      if (DEBUG) LOG('layout_didCompute 222222 ' + layout.get('id'), layout.toJS());
      _this.emit('apply_layout');
    }, _this.action_stack = [[], [], [], []], _this.halted = undefined, _this.IMMEDIATE_ACTION_ORDER_FLOOR = undefined, _this.EMIT_FAST = function (name) {
      var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      _this.halted = true;

      //this.catchNext = 'apply_layout'
      _this.IMMEDIATE_ACTION_ORDER_FLOOR = 1;

      var actions = _this.action_stack[0];

      if (DEBUG) LOG_EVENT('EMIT_FAST FLUSH ============ ', actions, name + ':' + id);

      if (actions.length) {
        if (DEBUG) LOG_EVENT('EMIT_FAST FLUSH: --- dumping action queue ', actions);
        while (actions.length) {
          var _actions$shift$split = actions.shift().split(':'),
              _actions$shift$split2 = (0, _slicedToArray3.default)(_actions$shift$split, 2),
              _name = _actions$shift$split2[0],
              _id2 = _actions$shift$split2[1];

          _this['emit_' + _name].call(_this, _id2);
        }
      }

      if (DEBUG) LOG_EVENT('EMIT_FAST FLUSH: --- running fast action ', actions, name + ':' + id);
      setTimeout(function () {
        _this['emit_' + name].call(_this, id);
      }, 1);

      //if (DEBUG) LOG_EVENT('EMIT_FAST FLUSH: --- running forcing apply_layout ')
      //this['emit_'+'apply_layout'].call(this)

      //raf.cancel(this.flush)

      _this.cancelFlush();

      //this.action_stack[2] = []
      //raf.cancel(this.EMIT_FAST_END)
      (0, _deps.raf)(_this.EMIT_FAST_END);
      return;
    }, _this.EMIT_FAST_END = function () {
      _this.halted = undefined;
      //this.catchNext = undefined
      _this.IMMEDIATE_ACTION_ORDER_FLOOR = undefined;
      _this.queueFlush(true);
    }, _this.queueFlush = function () {
      var startAgain = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

      if (_this.waiting && !startAgain) return;
      _deps.raf.cancel(_this.flush);
      (0, _deps.raf)(_this.flush);
      _this.waiting = true;
    }, _this.cancelFlush = function () {
      _deps.raf.cancel(_this.flush);
      _this.waiting = false;
    }, _this.emit = function (name) {
      var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';


      //if (DEBUG) LOG_EVENT('EMIT request ...'+name+':'+id)
      if (DEBUG_PERF) console.time('emit-to-flush');

      var action = name + ":" + id;

      var action_order_index = _this.action_order[name];

      if (action_order_index >= _this.IMMEDIATE_ACTION_ORDER_FLOOR) {
        if (DEBUG) LOG_EVENT('EMIT: IMMEDIATE ' + action);
        return setTimeout(function () {
          _this.execute_action(action);
        }, 1);
      }

      var actions = _this.action_stack[action_order_index];

      //if (name === this.catchNext) {
      //  if (DEBUG) LOG_EVENT('... EMIT CAUGHT & DENIED !!!!'+action, {catchNext:this.catchNext})
      //  this.catchNext = undefined
      //  return
      //}

      if (!actions.length) {
        if (DEBUG) LOG_EVENT('EMIT: RAF  ' + action);
        actions.push(action);
      } else if (actions.indexOf(action) === -1) {
        if (DEBUG) LOG_EVENT('EMIT: RAF  ' + action);
        actions.push(action);
      }
      _this.queueFlush();
    }, _this.execute_action = function (action) {
      var _action$split = action.split(':'),
          _action$split2 = (0, _slicedToArray3.default)(_action$split, 2),
          name = _action$split2[0],
          id = _action$split2[1];

      if (DEBUG) LOG_EVENT('EXECUTE ACTION ', name + ':' + id);
      _this['emit_' + name].call(_this, id);
    }, _this.flush = function () {
      if (_this.halted) {
        if (DEBUG) LOG_EVENT('FLUSH HALTED ++++++++++!!!!!!!' + (0, _stringify2.default)(_this.action_stack));
        return;
      }

      // if (this.FAST_ACTION) {
      //   let [name,id] = this.FAST_ACTION.split(':')
      //   this.FAST_ACTION = undefined
      //   if (DEBUG) LOG_EVENT('FLUSH FAST ACTION ***********'+this.FAST_ACTION)
      //   this['emit_'+name].call(this,id)
      //   return
      // }

      if (DEBUG_PERF) console.timeEnd('emit-to-flush');
      _this.waiting = false;
      _this.flushCount++;
      if (DEBUG) LOG_EVENT('FLUSH START +++++++++++===============' + (0, _stringify2.default)(_this.action_stack));

      // WARN: Below is not DRY on purpose

      if (_this.waiting) return;

      var actions = _this.action_stack[0];
      if (actions.length) {
        while (actions.length) {
          _this.execute_action(actions.shift());
        }
        if (_this.action_stack[1].length || _this.action_stack[2].length || _this.action_stack[3].length) {
          _this.queueFlush(true);
        }
        if (DEBUG) LOG_EVENT('1+++++++++++=============== FLUSH END', 0);
        return;
      }

      actions = _this.action_stack[1];
      if (actions.length) {
        while (actions.length) {
          _this.execute_action(actions.shift());
        }
        if (_this.action_stack[2].length || _this.action_stack[3].length) {
          _this.queueFlush(true);
        }
        if (DEBUG) LOG_EVENT('2+++++++++++=============== FLUSH END', 1);
        return;
      }

      actions = _this.action_stack[2];
      if (actions.length) {
        while (actions.length) {
          _this.execute_action(actions.shift());
        }
        if (_this.action_stack[3].length) {
          _this.queueFlush(true);
        }
        if (DEBUG) LOG_EVENT('3+++++++++++=============== FLUSH END', 2);
        return;
      }

      actions = _this.action_stack[3];
      if (actions.length) {
        while (actions.length) {
          _this.execute_action(actions.shift());
        }
        if (DEBUG) LOG_EVENT('+++++++++++=============== FLUSH END', 3);
        return;
      }

      if (DEBUG) LOG_EVENT('+++++++++++=============== FLUSH END', -1);
    }, _this.layouts = [], _this.layouts_byId = {}, _this.layout_nodeIdByIndex_byId = {}, _this.layout_nonGenerated_indicesToIds = function (layout, indices) {
      var ids = [];
      var layout_id = layout.get('id');
      var idByIndex = _this.layout_nodeIdByIndex_byId[layout_id];
      for (var i = 0; i < indices.size; i++) {
        var index = indices.get(i);
        if (index === undefined) throw new Error("! layout_nonGenerated_indicesToIds");
        ids.push(idByIndex[index]);
      }
      return ids;
    }, _this.layout_getNodeIdByIndex = function (layout, index) {
      var layout_id = layout.get('id');
      return _this.layout_nodeIdByIndex_byId[layout_id][index];
    }, _this.layout_registerNodeIndexId = function (layout, index, id) {
      if (index === -1) return; // content-node
      var layout_id = layout.get('id');
      if (!_this.layout_nodeIdByIndex_byId[layout_id]) _this.layout_nodeIdByIndex_byId[layout_id] = {};
      _this.layout_nodeIdByIndex_byId[layout_id][index] = id;
    }, _this.layout_add = function (layout) {
      if (DEBUG) LOG('layout_add', { layout: layout.toJS() });
      return _this._add('layout', layout);
    }, _this.layout_remove = function (layout) {
      var layout_id = layout.get('id');
      _this.virtualizer_remove_forLayoutId(layout_id);
      var nodes = _this.nodes_byLayoutId[layout_id];
      if (nodes) {
        for (var i = 0; i < nodes.length; i++) {
          var node = nodes[i];
          node.willUnmount();
        }
      }
      delete _this.userSheets_ids_byLayoutId[layout_id];
      delete _this.nodes_byLayoutId[layout_id];
      delete _this.layout_nodeIdByIndex_byId[layout_id];
      return _this._remove('layout', layout);
    }, _this.layout_pool = [], _this.layout_install = function (component, Store) {
      if (_this.layout_pool.length) return _this.layout_pool.shift();
      return new Store();
    }, _this.layout_willMount = function (layout) {
      _this.layout_add(layout);
    }, _this.layout_didMount = function (layout) {}, _this.layout_willUnmount = function (layout) {
      _this.layout_remove(layout);
      _this.layout_pool.push(layout);
    }, _this.virtualizer_byLayoutId = {}, _this.virtualizer_pool = [], _this.virtualizer_get_forLayoutId = function (layoutId, Store) {
      var v = _this.virtualizer_byLayoutId[layoutId];
      if (v) return v;
      if (_this.virtualizer_pool.length) {
        v = _this.virtualizer_pool.shift();
        _this.virtualizer_byLayoutId[layoutId] = v;
      } else {
        v = new Store();
        _this.virtualizer_byLayoutId[layoutId] = v;
      }
      return v;
    }, _this.virtualizer_remove_forLayoutId = function (layoutId) {
      var virtualizer = _this.virtualizer_byLayoutId[layoutId];
      if (virtualizer) {
        virtualizer.unmount();
        delete _this.virtualizer_byLayoutId[layoutId];
        _this.virtualizer_pool.push(virtualizer);
      }
    }, _this.nodes = [], _this.nodes_byId = {}, _this.nodes_byLayoutId = {}, _this.nodes_needingMeasure_ids = [], _this.nodes_measurable_ids_byLayoutId = {}, _this.node_needs_measure = function (id, layout_id) {
      var node = _this.nodes_byId[id];
      if (!node) return;
      var asyncState = node.asyncState;

      //TODO
      //console.log("***********",node.asyncState)
      //


      // remember all the nodes that need measure by layout
      // so we can update measurements with the layout
      if (!_this.nodes_measurable_ids_byLayoutId[layout_id]) {
        _this.nodes_measurable_ids_byLayoutId[layout_id] = [id];
      } else if (_this.nodes_measurable_ids_byLayoutId[layout_id].indexOf(id) === -1) {
        _this.nodes_measurable_ids_byLayoutId[layout_id].push(id);
      }

      if (asyncState === 'preload' || asyncState === 'retain') {
        return;
      }
      // make sure it's apart of next measurement batch
      if (_this.nodes_needingMeasure_ids.indexOf(id) === -1) {
        _this.nodes_needingMeasure_ids.push(id);
        _this.___MEASURE = true;
      }

      if (DEBUG) LOG('node_needs_measure', id);

      //setTimeout(
      //  ()=> {
      //   this.emit('measure_nodes')
      //  },
      //  1
      //)
    }, _this.nodes_ofLayout_may_need_measure = function (layoutId) {
      var layout = _this.layouts_byId[layoutId];
      if (!layout) return; // unmounted?

      var ids = _this.nodes_measurable_ids_byLayoutId[layoutId];
      if (!ids) return;

      var asyncState, node, id;
      for (var i = 0; i < ids.length; i++) {
        id = ids[i];
        node = _this.nodes_byId[id];
        if (!node) continue; // unmounted?

        asyncState = node.asyncState;
        if (asyncState === 'preload' || asyncState === 'retain') continue;

        // ********************************************************
        // TODO!!!!!! WILL NOT WORK FOR MULTI COLUMN
        // ********************************************************
        //if (layout.rowIndexNeedsMeasure(node.get('index'))) {
        if (_this.nodes_needingMeasure_ids.indexOf(id) === -1) {
          _this.nodes_needingMeasure_ids.push(id);
          _this.___MEASURE = true;
        }
        //}
        // ********************************************************
        // ********************************************************

        // make sure it's apart of next measurement batch
      }

      if (DEBUG) LOG('nodes_ofLayout_may_need_measure', { layoutId: layoutId });

      //setTimeout(
      //  ()=> {
      //   this.emit('measure_nodes')
      //  },
      //  1
      //)
    }, _this.__throttled = null, _this.__measurePassWaiting = false, _this.queueMeasurePassIfNeeded = function () {
      if (_this.___MEASURE) {
        _this.___MEASURE = false;
        if (_this.__measurePassWaiting) {
          return;
          // raf.cancel(this.emit_measure_nodes)
        } else {
          _this.__measurePassWaiting = true;
          //raf(this.emit_measure_nodes)
          _this.emit_measure_nodes_throttled();
        }
      }
    }, _this.emit_measure_nodes = function () {
      if (DEBUG) LOG("executing emit_measure_nodes");

      _this.__measurePassWaiting = false;

      var layouts_ids_toUpdate = [];
      var layout_registeredHeights_byId = {};
      var idsToCheck = _this.nodes_needingMeasure_ids;
      var next = [];
      var asyncState;
      while (_this.nodes_needingMeasure_ids.length) {

        var id = _this.nodes_needingMeasure_ids.shift();
        var node = _this.getById('node', id);

        if (!node) continue; // node may have since unmounted

        asyncState = node.asyncState;
        if (asyncState === 'preload' || asyncState === 'retain') continue;

        var layout = node.get('layout');
        var layoutId = layout.get('id');
        var role = node.get('layoutRole');

        if (!layouts_ids_toUpdate.includes(layoutId)) {
          layouts_ids_toUpdate.push(layoutId);
        }
        if (role === 'item') {
          // if (layout.get('isUniform')) continue
          var rect = node.get('rect');
          var height = rect.height;
          // TODO

          if (!isNaN(height)) {
            if (!layout_registeredHeights_byId[layoutId]) {
              layout_registeredHeights_byId[layoutId] = {};
            }
            var index = node.get('index');
            //var asyncState = node.asyncState
            //console.log("***********",node.asyncState)
            //if (height <= 1 || asyncState === 'preload' || asyncState === 'retain') {
            //  next.push(id)
            //  continue
            //}
            layout_registeredHeights_byId[layoutId][index] = height;
          } else {
            debugger;
          }
        }
      }
      //this.nodes_needingMeasure_ids = next

      if (DEBUG) LOG("--- emit_measure_nodes: layouts_ids_toUpdate", layouts_ids_toUpdate);

      for (var i = 0; i < layouts_ids_toUpdate.length; i++) {
        var layout_id = layouts_ids_toUpdate[i];
        var _layout = _this.getById('layout', layout_id);
        var regHeights = layout_registeredHeights_byId[layout_id];
        if (DEBUG) LOG("--- emit_measure_nodes: regHeights for " + layout_id, regHeights);
        if (regHeights) _layout.registerHeights(regHeights);
        //this.emit('compute_layout',layout_id)
      }

      //if (this.nodes_needingMeasure_ids.length) setTimeout(()=>{this.emit('measure_nodes')},1)

      //this.userSheets_needingRender_ids = []
    }, _this.emit_measure_nodes_throttled = _deps.raf.throttle(_this.emit_measure_nodes, { leading: true, delay: 120 }), _this.node_add = function (node) {
      _this._add('node', node);
      return _this.node_addToLayout(node, node.get('layout'));
    }, _this.node_addToLayout = function (node, layout) {
      if (DEBUG) LOG("node_addToLayout", node.get('id'));
      if (!layout) return;
      // TODO if mounted and what not...

      // don't add content-nodes to layout like item nodes
      var role = node.get('layoutRole');
      if (role === 'content') return;

      var layout_id = layout.get('id');
      if (!_this.nodes_byLayoutId[layout_id]) _this.nodes_byLayoutId[layout_id] = [];
      _this.nodes_byLayoutId[layout_id].push(node);

      var layout_isGenerated = layout.get('isGenerated');
      if (!layout_isGenerated) {
        _this.layout_registerNodeIndexId(layout, node.get('index'), node.get('id'));
      }
    }, _this.node_removeIfNeeded = function (node) {
      return _this.node_remove(node);
    }, _this.node_remove = function (node) {
      //let node_id = node.get('id')
      //if (nodes_needingMeasure_ids.in)
      _this.node_removeFromLayout(node, node.get('layout'));
      _this.node_pool.push(node);
      return _this._remove('node', node);
    }, _this.node_removeFromLayout = function (node, layout) {
      if (DEBUG) LOG("node_removeFromLayout", node.get('id'));
      if (!layout) return;
      // TODO if mounted and what not...
      var layoutId = layout.get('id');
      var _byLayoutId = _this.nodes_byLayoutId[layoutId];
      if (!_byLayoutId) return;
      var indexOf = _byLayoutId.indexOf(node);
      if (indexOf === -1) return;
      _byLayoutId.splice(indexOf, 1);
    }, _this.node_pool = [], _this.node_install = function (component, Store) {
      //if (DEBUG) LOG("node_install")
      // allows virtual nodes to maintain state while mounting & unmounting
      if (_this.node_pool.length) return _this.node_pool.shift();
      return new Store();
    }, _this.node_willMount = function (node) {
      if (DEBUG) LOG('node_willMount', node.get && node.get('id'), { node: node.toJS() });
      _this.node_add(node);

      var role = node.get('layoutRole');
      if (role === 'content') {
        var layout = node.get('layout');
        if (DEBUG) LOG("##### content will", layout.get('id'), layout.get('isReady'));
        // let depClass = node.get('nodeDepClass')
        // let handleRect = depClass.get('handleRect')
        // if (handleRect === 0)
      }
    }, _this.node_didMount = function (node) {
      var role = node.get('layoutRole');
      if (role === 'content') {
        var layout = node.get('layout');
        if (DEBUG) LOG("##### content did", layout.get('id'), layout.get('isReady'));
        // let depClass = node.get('nodeDepClass')
        // let handleRect = depClass.get('handleRect')
        // if (handleRect === 0)
      }
      // TODO if role =
    }, _this.node_didUpdate = function (node) {}, _this.node_willUnmount = function (node) {
      _this.node_removeIfNeeded(node);
    }, _this.sheet = undefined, _this.sheet_renderCount = 0, _this.emit_digest_sheets = function () {

      if (DEBUG) LOG("executing emit_digest_sheets");

      var layouts_ids_toUpdate = [];
      var layout_registeredHeights_byId = {};
      var idsToCheck = _this.userSheets_needingRender_ids;

      for (var i = 0; i < idsToCheck.length; i++) {
        var id = idsToCheck[i];
        var node = _this.getById('node', id);
        if (!node) continue; // node may unmounted since
        var layout = node.get('layout');
        var layoutId = layout.get('id');
        var role = node.get('layoutRole');

        if (!layouts_ids_toUpdate.includes(layoutId)) {
          layouts_ids_toUpdate.push(layoutId);
        }
        if (role === 'item') {
          if (layout.get('isUniform')) continue;
          var height = node.get('height');
          // TODO
          //let defaultRowHeight = layout.get('defaultRowHeight')
          if (!isNaN(height)) {
            if (!layout_registeredHeights_byId[layoutId]) {
              layout_registeredHeights_byId[layoutId] = {};
            }
            var index = node.get('index');
            //console.LOG("////////layout_registeredHeights_byId",layoutId,index,height)
            layout_registeredHeights_byId[layoutId][index] = height;
          } else if (height === 'intrinsic') {
            _this.node_needs_measure(id, layoutId);
          }
        } else if (role === 'content') {
          _this.nodes_ofLayout_may_need_measure(layoutId);
        }
      }

      if (DEBUG) LOG("--- emit_digest_sheets: layouts_ids_toUpdate", layouts_ids_toUpdate);

      for (var _i = 0; _i < layouts_ids_toUpdate.length; _i++) {
        var layout_id = layouts_ids_toUpdate[_i];
        var _layout2 = _this.getById('layout', layout_id);
        var regHeights = layout_registeredHeights_byId[layout_id];
        if (DEBUG) LOG("--- emit_digest_sheets: regHeights for " + layout_id, regHeights);
        if (regHeights) _layout2.registerHeights(regHeights);
        _this.emit('compute_layout', layout_id);
      }

      _this.userSheets_needingRender_ids = [];
    }, _this.sheet_install = function (component, Store) {
      //if (DEBUG) LOG("sheet_install")
      return new Store();
    }, _this.userSheets_ids_byLayoutId = {}, _this.userSheets_needingRender_ids = [], _this.userSheet_remove = function (sheet) {
      if (DEBUG) LOG('userSheet_remove');
      var id = sheet.get('id');
      //delete this.userSheets_renderable_byId[id]
      var idx = _this.userSheets_needingRender_ids.indexOf(id);
      if (idx !== -1) {
        _this.userSheets_needingRender_ids.splice(idx, 1);
      }
      //this._remove('userSheet',sheet)
    }, _this.userSheet_needsRender = function (sheet) {
      var id = sheet.get('id');
      if (_this.userSheets_needingRender_ids.indexOf(id) === -1) {
        _this.userSheets_needingRender_ids.push(id);
      }
      var node = _this.getById('node', id);
      if (node) {
        // if layoutSheet of layout's contentNode
        // then add all sibling layoutSheets to render queue
        var role = node.get('layoutRole');
        if (role === 'content') {
          // userSheet_id === layout_id
          var layout_id = id;
          var ids = _this.userSheets_ids_byLayoutId[layout_id];
          if (ids && ids.length) {
            for (var i = 0; i < ids.length; i++) {
              var _id = ids[i];
              if (_this.userSheets_needingRender_ids.indexOf(_id) === -1) {
                _this.userSheets_needingRender_ids.push(_id);
              }
            }
          }
        }
        // if layoutSheet of a layout's item
        // then register to be updated w/ the layout's content sheet
        else if (role === 'item') {
            // userSheet_id === node_id
            var layout = node.get('layout');
            if (!layout) DEBUGger;
            var _layout_id = layout.get('id');
            if (!_layout_id) DEBUGger;
            if (!_this.userSheets_ids_byLayoutId[_layout_id]) {
              _this.userSheets_ids_byLayoutId[_layout_id] = [id];
            } else if (_this.userSheets_ids_byLayoutId[_layout_id].indexOf(id) === -1) {
              _this.userSheets_ids_byLayoutId[_layout_id].push(id);
            }
          }
      }

      //this.userSheets_renderable_byId[id] = sheet

      if (DEBUG) LOG('userSheet_needsRender', id);
      _this.emit('digest_sheets');
    }, _this.userSheet_didRender = function () {}, _this.userSheet_pool = [], _this.userSheet_install = function (node, Store) {
      if (_this.userSheet_pool.length) return _this.userSheet_pool.shift();
      return new Store();
    }, _this.userSheet_willMount = function (store) {
      if (DEBUG) LOG('userSheet_willMount');
      //this.userSheet_add(store)
    }, _this.userSheet_willUnmount = function (store) {
      _this.userSheet_pool.push(store);
      _this.userSheet_remove(store);
    }, _this.handleScroll = function (store) {}, _this.handleViewport = function (store) {}, _this.contextStores = {
      scroll: _this.handleScroll,
      viewport: _this.handleViewport
    }, _this.state = (0, _deps.Map)(), _this._add = function (type, store) {
      var byId = _this[type + 's_byId'];
      var id = store.get('id');
      var curr = byId[id];
      if (curr) throw new Error('Layoutverse: ' + type + ' already mounted with id: ' + id + ', store: ' + (0, _stringify2.default)(store.toJS()));
      byId[id] = store;
      _this[type + 's'].push(store);
      return _this;
    }, _this._remove = function (type, store) {
      var byId = _this[type + 's_byId'];
      var id = store.get('id');
      delete byId[id];
      var i = _this[type + 's'].indexOf(store);
      if (i === -1) return _this;
      _this[type + 's'].splice(i, 1);
      return _this;
    }, _this.actions = {
      'HACK_YEP': function HACK_YEP(state) {
        _this.HACK = true;
        return state;
      },
      'HACK_NOPE': function HACK_NOPE(state) {
        _this.HACK = false;
        return state;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  /* Runtime Loop ================================================================
  
  System wide layout events are cordinated here. Without such mediation, the sheer number of inter-object event handling is cripling.
  
  This event loop ensures the that the following lifecyle happens in a controlled flow.  Events in the 3rd or 4th stage are deferred until all events in earlier stages are completed, then a animation-frame later the next stage of events is flushed:
  
  1. *Process layout rules before render* `LayoutSheets` ready for render are handled & inspected for layout-relevant data. This allows us to execute custom layouts but without the perf-baggage of having to read DOM nodes, as the computed layout sheets provide most of what we need
  
  2. *Compute layout* `Layouts` compute with known information from sheets & general DOM info
  
  3. *Render computed layout styles* A RootSheet recieves computed styles from the LayoutSheets & the Layouts for each `LayoutNode` & renders it to CSS high up the DOM, where it ought to be.
  
  4. *Measure & validate* Measure any needed intrinsic properties & repeat. */

  /*
    1. Render all styles in the root styleverse sheet
    2. Tell each layout to notify
  */


  // layout event loop ---------------------------------------------------------

  //FAST_ACTION = undefined


  // Layouts =====================================================================

  // layout methods ------------------------------------------------------------

  // layout component lifecycle ------------------------------------------------

  //layout_didUpdate = (layout) => {}


  // layout virtualizer --------------------------------------------------------

  // Nodes =======================================================================

  // node actions  -------------------------------------------------------------

  // nodes methods -------------------------------------------------------------

  // node lifecycle ------------------------------------------------------------

  // Master Sheet ================================================================

  // :LayoutverseSheetStore


  /*
  - after user layout sheet updates have been deferred & gathered
  - identifies which layouts need to update & computes by the node-sheet relationship
  - if node is in non-uniform layout, attemps to read node's height, which will be sent to layout's virtualizer
  - for each affected layout, emits `compute_layout`
  */


  // sheet lifecycle -----------------------------------------------------------

  (0, _createClass3.default)(LayoutverseMediator, [{
    key: 'sheet_willMount',
    value: function sheet_willMount(store) {
      if (DEBUG_PERF) console.time('sheet-will-mount-to-sheet-first-render');
      this.sheet = store;
      if (DEBUG) LOG('sheet_willMount');
    }
  }, {
    key: 'sheet_willUnmount',
    value: function sheet_willUnmount() {
      this.sheet = undefined;
      if (DEBUG) LOG('sheet_willUnmount?????');
    }
  }, {
    key: 'sheet_didMount',
    value: function sheet_didMount() {
      if (DEBUG) LOG('sheet_didMount');
      if (DEBUG_PERF) console.timeEnd('init-to-sheet-did-mount');
    }
  }, {
    key: 'sheet_willRender',
    value: function sheet_willRender() {
      if (DEBUG) LOG('sheet_willRender');
    }
  }, {
    key: 'sheet_didRender',
    value: function sheet_didRender() {
      if (this.sheet_renderCount === 0) {
        if (DEBUG_PERF) console.timeEnd('sheet-will-mount-to-sheet-first-render');
        if (DEBUG_PERF) console.timeEnd('init-to-sheet-first-render');
      }
      this.sheet_renderCount++;
      if (DEBUG) LOG('sheet_didRender');

      // D4.... hacky
      this.queueMeasurePassIfNeeded();
    }

    // User LayoutSheets ---------------------------------------------------------

    //userSheets = []
    //userSheets_byId = {}

    //userSheets_renderable_byId = {}


    //nodeSheet_byId = {}
    //contentSheets_byId = {}

    //userSheet_add = (sheet) => {
    //  if (DEBUG) LOG('userSheet_add')
    //  //this._add('userSheet',sheet)
    //}


    // userSheet lifecycle -------------------------------------------------------

    //userSheet_didMount = (store) => {}


    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

    //~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

  }]);
  return LayoutverseMediator;
}(_cymatics.Store);

LayoutverseMediator.displayName = "LayoutverseMediator";


var LOG_EVENT = function LOG_EVENT() {
  var _console;

  for (var _len2 = arguments.length, messages = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    messages[_key2] = arguments[_key2];
  }

  messages = ['%c %s', 'background: hsl(0,90%,50%); color: hsl(0,0%,100%)'].concat(messages).concat();
  (_console = console).log.apply(_console, (0, _toConsumableArray3.default)(messages));
};

var LOG = function LOG() {
  var _console2;

  //messages = [
  //  '%c %s',
  //  'background: hsl(0,90%,50%); color: hsl(0,0%,100%)'
  //].concat(messages).concat()
  (_console2 = console).log.apply(_console2, arguments);
};

exports.default = LayoutverseMediator;
module.exports = exports['default'];

/***/ }),
/* 230 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.get_ornament_type = exports.renderer = undefined;

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiInlineSvg = __webpack_require__(143);

var _uiInlineSvg2 = _interopRequireDefault(_uiInlineSvg);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;

var createVNode = Inferno.createVNode;
var ornament_svg_types = {
  'vintage-1-top': {
    type: 'svg',
    style: {
      width: '8em',
      height: '2em',
      left: 'calc(50% - 4em)',
      top: 'calc(50% - 1em)'
    },
    rendered: createVNode(128, 'svg', {
      'xmlns': 'http://www.w3.org/2000/svg',
      'viewBox': '0 0 225.62 49.37',
      'style': {
        position: 'absolute',
        top: 0,
        left: 0,
        bottom: 0,
        right: 0
      }
    }, [createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M224.88,49.37H.73a.73.73,0,0,1,0-1.47H224.88a.73.73,0,1,1,0,1.47Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M134.26,30a2.93,2.93,0,0,0,.76-1.13,2.77,2.77,0,0,0,.09-1.59A3.3,3.3,0,0,0,134,25.44l-.51-.4c-.18-.12-.38-.2-.57-.3a2.39,2.39,0,0,0-.63-.24,2.73,2.73,0,0,0-.69-.15,6.29,6.29,0,0,0-3.09.39,10,10,0,0,0-3.07,1.85,8.21,8.21,0,0,0-2.3,3.11l-.15.47a1.17,1.17,0,0,0-.06.2l0,.27-.08.55,0,.47a4.93,4.93,0,0,0,.16,1,5.75,5.75,0,0,0,.41,1,8.67,8.67,0,0,0,3.15,3.13A13.33,13.33,0,0,0,131,38.5a23.72,23.72,0,0,0,5.12.3,18.81,18.81,0,0,0,10-3.25c.37-.25.7-.55,1.06-.83s.66-.6,1-.93a5.76,5.76,0,0,0,1.34-2.07,2.46,2.46,0,0,0-.18-2.06,1.44,1.44,0,0,0-1.58-.7,2.91,2.91,0,0,0-.53.14l-.07,0,0,0,0,0-.16.08-.32.16a3.37,3.37,0,0,0-.43.31,5.5,5.5,0,0,0-.39.39,4.21,4.21,0,0,0-.89,2.18A6.47,6.47,0,0,0,146.27,37a3.06,3.06,0,0,0,.41.45l.19.19.28.22a4.55,4.55,0,0,0,.53.39,5.1,5.1,0,0,0,.53.33,10.52,10.52,0,0,0,2.39,1,21,21,0,0,0,5.24.68,87.3,87.3,0,0,0,10.29-.38,36.47,36.47,0,0,0,8.92-2A23.58,23.58,0,0,0,181.72,34a18.64,18.64,0,0,0,4-4.47,16.28,16.28,0,0,0,1.66-3.5c.15-.42.22-.76.28-1l.09-.34-.07.35c-.05.23-.09.57-.22,1A15.05,15.05,0,0,1,186,29.67a19.13,19.13,0,0,1-3.82,4.79,24.43,24.43,0,0,1-3,2.33c-.56.36-1.16.71-1.79,1s-1.26.63-1.95.92a35.43,35.43,0,0,1-9.14,2.39,78.64,78.64,0,0,1-10.48.63,22.58,22.58,0,0,1-5.65-.65A10.11,10.11,0,0,1,144.95,38a8.16,8.16,0,0,1-1.72-6,5.94,5.94,0,0,1,1.26-3.08,6.51,6.51,0,0,1,.62-.63,5.9,5.9,0,0,1,.75-.52l.32-.16.16-.08,0,0,.12-.05.1,0a4.42,4.42,0,0,1,.87-.22,3.39,3.39,0,0,1,1.9.23,3.21,3.21,0,0,1,1.44,1.31,4.18,4.18,0,0,1,.33,3.5A7.43,7.43,0,0,1,149.39,35c-.34.36-.73.69-1.09,1s-.77.64-1.19.92a20.06,20.06,0,0,1-10.92,3.42,23.81,23.81,0,0,1-5.47-.43,14.68,14.68,0,0,1-4.89-2.09,9.73,9.73,0,0,1-3.49-3.7,6.89,6.89,0,0,1-.45-1.19,5.94,5.94,0,0,1-.16-1.27V31l.1-.55,0-.27a1.62,1.62,0,0,1,.1-.32l.2-.56a8.9,8.9,0,0,1,2.7-3.39,10.7,10.7,0,0,1,3.4-1.82,6.85,6.85,0,0,1,3.38-.25,4.88,4.88,0,0,1,2.54,1.31,3.44,3.44,0,0,1,1.11,2,2.92,2.92,0,0,1-.21,1.67A3,3,0,0,1,134.26,30Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M171.94,39.21l.39-.19c.26-.13.63-.31,1.13-.52a28,28,0,0,1,4.22-1.41,30,30,0,0,1,6.26-.89,24.79,24.79,0,0,1,3.61.09,15.63,15.63,0,0,1,3.72.85,32.45,32.45,0,0,1,3.34,1.63,31.28,31.28,0,0,0,3.07,1.45,14.12,14.12,0,0,0,5.77,1.12,9.58,9.58,0,0,0,4.07-1.06,8.4,8.4,0,0,0,1-.65l.34-.27-.28.34a6.49,6.49,0,0,1-.9.87,8.89,8.89,0,0,1-4.16,1.78,13.33,13.33,0,0,1-6.41-.67,24.34,24.34,0,0,1-3.32-1.4,32,32,0,0,0-3.18-1.5,13.89,13.89,0,0,0-3.3-.81,30.85,30.85,0,0,0-3.39-.23,42.8,42.8,0,0,0-6.09.33c-1.78.23-3.26.52-4.3.75Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M189.9,37.48l.48.08c.31.06.77.12,1.35.17a8.51,8.51,0,0,0,1,.05,11,11,0,0,0,1.12,0,18.73,18.73,0,0,0,2.66-.29,19.71,19.71,0,0,0,3-.87A18.75,18.75,0,0,0,202.55,35a15.7,15.7,0,0,0,2.81-2.34,8.23,8.23,0,0,0,2-3,3.82,3.82,0,0,0,.24-1.61,3.14,3.14,0,0,0-.47-1.47,2.28,2.28,0,0,0-1.07-.9,4.54,4.54,0,0,0-1.6-.26,7.7,7.7,0,0,0-3.22.51,3.41,3.41,0,0,0-1.87,1.93.65.65,0,0,0,0,.4.73.73,0,0,0,.29.32l.24.14.29.13a4,4,0,0,0,.54.18,4.63,4.63,0,0,0,2,0,4.8,4.8,0,0,0,1.25-.44,3.45,3.45,0,0,0,.41-.25,3.49,3.49,0,0,1-.36.33,4.35,4.35,0,0,1-1.21.7,4.73,4.73,0,0,1-2.2.29,4.63,4.63,0,0,1-.68-.12l-.33-.1a2.73,2.73,0,0,1-.37-.15,1.4,1.4,0,0,1-.8-1.7,4.36,4.36,0,0,1,2.25-2.85,8.31,8.31,0,0,1,3.82-.89,6.1,6.1,0,0,1,2.17.27,3.75,3.75,0,0,1,1.93,1.51,5.2,5.2,0,0,1,.48,4.6,9.9,9.9,0,0,1-2.44,3.59,15.36,15.36,0,0,1-3.23,2.47,16.4,16.4,0,0,1-6.77,2.11,15.1,15.1,0,0,1-2.81,0,8.7,8.7,0,0,1-1.16-.16,8.89,8.89,0,0,1-1-.21,9.64,9.64,0,0,1-1.31-.42Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M171.75,31.37a.76.76,0,0,1-.12.37,1.15,1.15,0,0,1-1,.43,1.29,1.29,0,0,1-.82-.36,1.93,1.93,0,0,1-.51-.9,4.62,4.62,0,0,1,.07-2.35,2.91,2.91,0,0,1,.29-.67,2,2,0,0,1,.25-.34l.1-.12.18-.16a2.63,2.63,0,0,1,1.6-.55,3.22,3.22,0,0,1,1.69.44,3.49,3.49,0,0,1,1.25,1.3,5,5,0,0,1,.59,1.66,5.83,5.83,0,0,1,.09.9,6.87,6.87,0,0,1,0,.83,8.67,8.67,0,0,1-1.06,3.28,12.41,12.41,0,0,1-2.06,2.64l-.29.28-.15.14-.07.07-.1.09,0,0c-.11.07-.19.14-.33.22l-.44.23a14,14,0,0,1-1.5.57,27.45,27.45,0,0,1-2.79.73c-.89.2-1.74.34-2.52.46a34.12,34.12,0,0,1-3.81.38c-.46,0-.83,0-1.07,0h-.38s.52-.11,1.4-.35,2.14-.58,3.64-1,3.24-1,5-1.66a12.83,12.83,0,0,0,1.26-.56l.22-.12c.08,0,.2-.15.29-.22l.2-.2.25-.26a10.82,10.82,0,0,0,1.73-2.3,7,7,0,0,0,.91-2.59,6.23,6.23,0,0,0,0-.7,4.33,4.33,0,0,0,0-.62,3.46,3.46,0,0,0-.33-1.16,2,2,0,0,0-1.59-1.17,1.36,1.36,0,0,0-1.45.86,4.38,4.38,0,0,0-.36,1.87,1.47,1.47,0,0,0,.24.7.86.86,0,0,0,.49.34,1,1,0,0,0,.91-.15A.73.73,0,0,0,171.75,31.37Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M127,33.12s.1.18.31.46a5.41,5.41,0,0,0,1,1,7.08,7.08,0,0,0,1.67,1,8.1,8.1,0,0,0,2.13.57,10.56,10.56,0,0,0,1.15.09c.38,0,.75,0,1.12,0,.73,0,1.42-.11,2-.18,1.19-.15,2-.21,2-.21a14.88,14.88,0,0,1-1.9.71,13,13,0,0,1-2,.45,10.21,10.21,0,0,1-1.2.09,11.19,11.19,0,0,1-1.24-.06,7.11,7.11,0,0,1-2.37-.75A5.73,5.73,0,0,1,127.94,35a4.78,4.78,0,0,1-.49-.7,4.06,4.06,0,0,1-.27-.6,2.58,2.58,0,0,1-.12-.4Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M152.6,37.54l.56.25a8.76,8.76,0,0,0,1.51.5,12,12,0,0,0,2.19.3,14.09,14.09,0,0,0,2.52-.12,22.75,22.75,0,0,0,2.51-.49c.8-.2,1.54-.41,2.19-.59l1.56-.43.6-.15s-.77.47-2,1.05a19.28,19.28,0,0,1-2.15.86,14.91,14.91,0,0,1-2.6.62,11,11,0,0,1-2.71,0,8.53,8.53,0,0,1-2.28-.59,6.8,6.8,0,0,1-1.44-.83A4.51,4.51,0,0,1,152.6,37.54Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M176.14,35.56c4.93-2.07,6.3-8.33,4.58-9.94-1.45-1.35-3.35-.32-3,2.61C178.35,33.28,177.35,34.47,176.14,35.56Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M185,34c2.75-4.59,9.15-5,10.49-3.11,1.13,1.63-.16,3.36-3,2.58C187.55,32.14,186.23,33,185,34Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M91.35,30a3,3,0,0,1-.85-1.09,2.92,2.92,0,0,1-.21-1.67,3.44,3.44,0,0,1,1.11-2A4.88,4.88,0,0,1,94,23.87a6.85,6.85,0,0,1,3.38.25,10.7,10.7,0,0,1,3.4,1.82,8.9,8.9,0,0,1,2.7,3.39l.2.56a1.61,1.61,0,0,1,.1.32l0,.27.1.55v.65a5.94,5.94,0,0,1-.16,1.27,6.9,6.9,0,0,1-.45,1.19,9.73,9.73,0,0,1-3.49,3.7,14.68,14.68,0,0,1-4.89,2.09,23.81,23.81,0,0,1-5.47.43,20.06,20.06,0,0,1-10.92-3.42c-.42-.28-.79-.61-1.19-.92s-.75-.68-1.09-1a7.43,7.43,0,0,1-1.75-2.71,4.18,4.18,0,0,1,.33-3.5,3.21,3.21,0,0,1,1.44-1.31,3.39,3.39,0,0,1,1.9-.23,4.42,4.42,0,0,1,.87.22l.1,0,.12.05,0,0,.16.08.32.16a5.91,5.91,0,0,1,.75.52,6.5,6.5,0,0,1,.62.63A5.94,5.94,0,0,1,82.39,32a8.16,8.16,0,0,1-1.72,6,10.11,10.11,0,0,1-5.21,3.09,22.58,22.58,0,0,1-5.65.65,78.64,78.64,0,0,1-10.48-.63,35.43,35.43,0,0,1-9.14-2.39c-.69-.28-1.33-.6-1.95-.92s-1.22-.68-1.79-1a24.42,24.42,0,0,1-3-2.33,19.13,19.13,0,0,1-3.82-4.79A15,15,0,0,1,38.19,26c-.12-.44-.16-.78-.22-1l-.07-.35L38,25c.07.22.13.56.28,1a16.28,16.28,0,0,0,1.66,3.5,18.64,18.64,0,0,0,4,4.47,23.58,23.58,0,0,0,6.68,3.85,36.47,36.47,0,0,0,8.92,2,87.3,87.3,0,0,0,10.29.38A21,21,0,0,0,75,39.54a10.52,10.52,0,0,0,2.39-1,5.1,5.1,0,0,0,.53-.33,4.55,4.55,0,0,0,.53-.39l.28-.22.19-.19a3.05,3.05,0,0,0,.41-.45,6.47,6.47,0,0,0,1.32-4.72,4.21,4.21,0,0,0-.89-2.18,5.52,5.52,0,0,0-.39-.39,3.37,3.37,0,0,0-.43-.31l-.32-.16-.16-.08,0,0,0,0-.07,0a2.91,2.91,0,0,0-.53-.14,1.44,1.44,0,0,0-1.58.7,2.46,2.46,0,0,0-.18,2.06,5.76,5.76,0,0,0,1.34,2.07c.32.33.65.62,1,.93s.69.58,1.06.83a18.81,18.81,0,0,0,10,3.25,23.72,23.72,0,0,0,5.12-.3,13.33,13.33,0,0,0,4.47-1.77,8.67,8.67,0,0,0,3.15-3.13,5.75,5.75,0,0,0,.41-1,4.93,4.93,0,0,0,.16-1l0-.47-.08-.55,0-.27a1.18,1.18,0,0,0-.06-.2l-.15-.47a8.21,8.21,0,0,0-2.3-3.11,10,10,0,0,0-3.07-1.85A6.28,6.28,0,0,0,94,24.35a2.73,2.73,0,0,0-.69.15,2.39,2.39,0,0,0-.63.24c-.19.1-.39.18-.57.3l-.51.4a3.3,3.3,0,0,0-1.13,1.79,2.77,2.77,0,0,0,.09,1.59A2.93,2.93,0,0,0,91.35,30Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M53.67,39.21,52,38.83c-1-.23-2.52-.52-4.3-.75a42.8,42.8,0,0,0-6.09-.33,30.85,30.85,0,0,0-3.39.23,13.89,13.89,0,0,0-3.3.81,32,32,0,0,0-3.18,1.5,24.33,24.33,0,0,1-3.32,1.4,13.33,13.33,0,0,1-6.41.67,8.89,8.89,0,0,1-4.16-1.78,6.5,6.5,0,0,1-.9-.87l-.28-.34.34.27a8.42,8.42,0,0,0,1,.65,9.58,9.58,0,0,0,4.07,1.06,14.12,14.12,0,0,0,5.77-1.12A31.28,31.28,0,0,0,31,38.77a32.45,32.45,0,0,1,3.34-1.63,15.63,15.63,0,0,1,3.72-.85,24.79,24.79,0,0,1,3.61-.09,30,30,0,0,1,6.26.89,28,28,0,0,1,4.22,1.41c.49.21.87.39,1.13.52Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M35.72,37.48l-.45.17a9.64,9.64,0,0,1-1.31.42,8.89,8.89,0,0,1-1,.21,8.69,8.69,0,0,1-1.16.16,15.1,15.1,0,0,1-2.81,0,16.4,16.4,0,0,1-6.77-2.11A15.35,15.35,0,0,1,19,33.89a9.9,9.9,0,0,1-2.44-3.59,5.2,5.2,0,0,1,.48-4.6A3.75,3.75,0,0,1,19,24.2a6.1,6.1,0,0,1,2.17-.27,8.31,8.31,0,0,1,3.82.89,4.36,4.36,0,0,1,2.25,2.85,1.4,1.4,0,0,1-.8,1.7,2.73,2.73,0,0,1-.37.15l-.33.1a4.63,4.63,0,0,1-.68.12,4.73,4.73,0,0,1-2.2-.29,4.35,4.35,0,0,1-1.21-.7,3.48,3.48,0,0,1-.36-.33,3.46,3.46,0,0,0,.41.25,4.81,4.81,0,0,0,1.25.44,4.63,4.63,0,0,0,2,0,4,4,0,0,0,.54-.18l.29-.13.24-.14a.73.73,0,0,0,.29-.32.65.65,0,0,0,0-.4A3.41,3.41,0,0,0,24.38,26a7.7,7.7,0,0,0-3.22-.51,4.54,4.54,0,0,0-1.6.26,2.28,2.28,0,0,0-1.07.9A3.14,3.14,0,0,0,18,28.11a3.82,3.82,0,0,0,.24,1.61,8.23,8.23,0,0,0,2,3A15.7,15.7,0,0,0,23.06,35a18.75,18.75,0,0,0,3.08,1.57,19.71,19.71,0,0,0,3,.87,18.73,18.73,0,0,0,2.66.29,11,11,0,0,0,1.12,0,8.51,8.51,0,0,0,1-.05c.58,0,1-.11,1.35-.17Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M53.87,31.37a.73.73,0,0,0,.19.31,1,1,0,0,0,.91.15.86.86,0,0,0,.49-.34,1.47,1.47,0,0,0,.24-.7,4.38,4.38,0,0,0-.36-1.87,1.36,1.36,0,0,0-1.45-.86,2,2,0,0,0-1.59,1.17A3.46,3.46,0,0,0,52,30.38,4.32,4.32,0,0,0,52,31a6.23,6.23,0,0,0,0,.7,7,7,0,0,0,.91,2.59,10.82,10.82,0,0,0,1.73,2.3l.25.26.2.2c.1.07.21.17.29.22l.22.12a12.83,12.83,0,0,0,1.26.56c1.78.68,3.53,1.21,5,1.66s2.75.79,3.64,1,1.4.35,1.4.35h-.38c-.25,0-.61,0-1.07,0a34.12,34.12,0,0,1-3.81-.38c-.78-.12-1.63-.26-2.52-.46a27.46,27.46,0,0,1-2.79-.73,14,14,0,0,1-1.5-.57l-.44-.23c-.14-.08-.22-.14-.33-.22l0,0-.1-.09-.07-.07-.15-.14-.29-.28a12.41,12.41,0,0,1-2.06-2.64,8.66,8.66,0,0,1-1.06-3.28,6.83,6.83,0,0,1,0-.83,5.81,5.81,0,0,1,.09-.9,5,5,0,0,1,.59-1.66,3.49,3.49,0,0,1,1.25-1.3,3.22,3.22,0,0,1,1.69-.44,2.63,2.63,0,0,1,1.6.55l.18.16.1.12a2,2,0,0,1,.25.34,2.91,2.91,0,0,1,.29.67,4.62,4.62,0,0,1,.07,2.35,1.93,1.93,0,0,1-.51.9,1.29,1.29,0,0,1-.82.36,1.15,1.15,0,0,1-1-.43A.75.75,0,0,1,53.87,31.37Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M98.59,33.12l0,.14a2.6,2.6,0,0,1-.12.4,4.09,4.09,0,0,1-.27.6,4.78,4.78,0,0,1-.49.7A5.72,5.72,0,0,1,96,36.3a7.11,7.11,0,0,1-2.37.75,11.2,11.2,0,0,1-1.24.06,10.21,10.21,0,0,1-1.2-.09,13,13,0,0,1-2-.45,14.88,14.88,0,0,1-1.9-.71s.81.07,2,.21c.6.06,1.28.14,2,.18.37,0,.74,0,1.12,0a10.56,10.56,0,0,0,1.15-.09,8.1,8.1,0,0,0,2.13-.57,7.08,7.08,0,0,0,1.67-1,5.41,5.41,0,0,0,1-1C98.49,33.3,98.59,33.12,98.59,33.12Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M73,37.54a4.51,4.51,0,0,1-.47.4,6.79,6.79,0,0,1-1.44.83,8.53,8.53,0,0,1-2.28.59,11,11,0,0,1-2.71,0,14.91,14.91,0,0,1-2.6-.62,19.27,19.27,0,0,1-2.15-.86c-1.22-.58-2-1.05-2-1.05L60,37l1.56.43c.64.18,1.39.39,2.18.59a22.75,22.75,0,0,0,2.51.49,14.09,14.09,0,0,0,2.52.12,12,12,0,0,0,2.19-.3,8.76,8.76,0,0,0,1.51-.5Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M49.48,35.56c-4.93-2.07-6.3-8.33-4.58-9.94,1.45-1.35,3.35-.32,3,2.61C47.27,33.28,48.27,34.47,49.48,35.56Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M40.64,34c-2.75-4.59-9.15-5-10.49-3.11-1.13,1.63.16,3.36,3,2.58C38.07,32.14,39.39,33,40.64,34Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-top',
      'd': 'M112.46,28.18c-5.7-5-8.92-11.3-7.09-17.33C106.56,7,109.71,3.44,112.81,0c3.1,3.44,6.25,7,7.43,10.85,1.83,6-1.39,12.37-7.09,17.33Z'
    }), createVNode(2, 'circle', {
      'className': 'vintage-1-top',
      'cx': '112.81',
      'cy': '34.77',
      'r': '3.89'
    })])
  },
  'vintage-1-bottom': {
    type: 'svg',
    style: {
      width: '8em',
      height: '2em',
      left: 'calc(50% - 4em)',
      top: 'calc(50% - 1em)'
    },
    rendered: createVNode(128, 'svg', {
      'xmlns': 'http://www.w3.org/2000/svg',
      'viewBox': '0 0 225.62 49.43'
    }, [createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M224.88,1.47H.73A.73.73,0,0,1,.73,0H224.88a.73.73,0,1,1,0,1.47Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M91.35,19.48a2.93,2.93,0,0,0-.76,1.13,2.77,2.77,0,0,0-.09,1.59A3.3,3.3,0,0,0,91.64,24l.51.4c.18.12.38.2.57.3a2.39,2.39,0,0,0,.63.24,2.72,2.72,0,0,0,.69.15,6.28,6.28,0,0,0,3.09-.39,10,10,0,0,0,3.07-1.85,8.21,8.21,0,0,0,2.3-3.11l.15-.47a1.18,1.18,0,0,0,.06-.2l0-.27.08-.55,0-.47a4.93,4.93,0,0,0-.16-1,5.75,5.75,0,0,0-.41-1,8.67,8.67,0,0,0-3.15-3.13,13.33,13.33,0,0,0-4.47-1.77,23.72,23.72,0,0,0-5.12-.3,18.81,18.81,0,0,0-10,3.25c-.37.25-.7.55-1.06.83s-.66.6-1,.93a5.76,5.76,0,0,0-1.34,2.07,2.46,2.46,0,0,0,.18,2.06,1.44,1.44,0,0,0,1.58.7,2.91,2.91,0,0,0,.53-.14l.07,0,0,0,0,0,.16-.08.32-.16a3.36,3.36,0,0,0,.43-.31,5.5,5.5,0,0,0,.39-.39,4.21,4.21,0,0,0,.89-2.18,6.47,6.47,0,0,0-1.32-4.72,3.06,3.06,0,0,0-.41-.45l-.19-.19-.28-.22a4.56,4.56,0,0,0-.53-.39,5.08,5.08,0,0,0-.53-.33,10.52,10.52,0,0,0-2.39-1,21,21,0,0,0-5.24-.68,87.3,87.3,0,0,0-10.29.38,36.46,36.46,0,0,0-8.92,2,23.57,23.57,0,0,0-6.68,3.85,18.64,18.64,0,0,0-4,4.47,16.27,16.27,0,0,0-1.66,3.5c-.15.42-.22.76-.28,1l-.09.34.07-.35c.05-.23.09-.57.22-1a15,15,0,0,1,1.46-3.65A19.13,19.13,0,0,1,43.46,15a24.42,24.42,0,0,1,3-2.33c.56-.36,1.15-.71,1.79-1s1.26-.63,1.95-.92a35.43,35.43,0,0,1,9.14-2.39,78.66,78.66,0,0,1,10.48-.63,22.58,22.58,0,0,1,5.65.65,10.11,10.11,0,0,1,5.21,3.09,8.16,8.16,0,0,1,1.72,6,5.94,5.94,0,0,1-1.26,3.08,6.51,6.51,0,0,1-.62.63,5.89,5.89,0,0,1-.75.52l-.32.16-.16.08,0,0-.12.05L79,22a4.43,4.43,0,0,1-.87.22,3.39,3.39,0,0,1-1.9-.23,3.21,3.21,0,0,1-1.44-1.31,4.18,4.18,0,0,1-.33-3.5,7.44,7.44,0,0,1,1.75-2.71c.34-.36.73-.69,1.09-1s.77-.64,1.19-.92A20.06,20.06,0,0,1,89.43,9.09a23.8,23.8,0,0,1,5.47.43,14.68,14.68,0,0,1,4.89,2.09,9.73,9.73,0,0,1,3.49,3.7,6.9,6.9,0,0,1,.45,1.19,5.94,5.94,0,0,1,.16,1.27v.65l-.1.55,0,.27a1.61,1.61,0,0,1-.1.32l-.2.56a8.9,8.9,0,0,1-2.7,3.39,10.7,10.7,0,0,1-3.4,1.82,6.85,6.85,0,0,1-3.38.25,4.88,4.88,0,0,1-2.54-1.31,3.44,3.44,0,0,1-1.11-2,2.92,2.92,0,0,1,.21-1.67A3,3,0,0,1,91.35,19.48Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M53.67,10.22l-.39.19c-.26.13-.63.31-1.13.52a28,28,0,0,1-4.22,1.41,30,30,0,0,1-6.26.89,24.77,24.77,0,0,1-3.61-.09,15.63,15.63,0,0,1-3.72-.85A32.43,32.43,0,0,1,31,10.66a31.31,31.31,0,0,0-3.07-1.45,14.12,14.12,0,0,0-5.77-1.12,9.58,9.58,0,0,0-4.07,1.06,8.44,8.44,0,0,0-1,.65l-.34.27L17,9.72a6.51,6.51,0,0,1,.9-.87,8.89,8.89,0,0,1,4.16-1.78,13.33,13.33,0,0,1,6.41.67,24.33,24.33,0,0,1,3.32,1.4A32,32,0,0,0,35,10.64a13.89,13.89,0,0,0,3.3.81,30.9,30.9,0,0,0,3.39.23,42.82,42.82,0,0,0,6.09-.33c1.78-.23,3.26-.52,4.3-.75Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M35.72,12l-.48-.08c-.31-.06-.77-.12-1.35-.17a8.53,8.53,0,0,0-1-.05,11,11,0,0,0-1.12,0,18.72,18.72,0,0,0-2.66.29,19.7,19.7,0,0,0-3,.87,18.76,18.76,0,0,0-3.08,1.57,15.71,15.71,0,0,0-2.81,2.34,8.23,8.23,0,0,0-2,3A3.82,3.82,0,0,0,18,21.32a3.14,3.14,0,0,0,.47,1.47,2.28,2.28,0,0,0,1.07.9,4.54,4.54,0,0,0,1.6.26,7.7,7.7,0,0,0,3.22-.51,3.41,3.41,0,0,0,1.87-1.93.65.65,0,0,0,0-.4A.73.73,0,0,0,26,20.8l-.24-.14-.29-.13a4,4,0,0,0-.54-.18,4.63,4.63,0,0,0-2,0,4.8,4.8,0,0,0-1.25.44,3.46,3.46,0,0,0-.41.25,3.48,3.48,0,0,1,.36-.33,4.35,4.35,0,0,1,1.21-.7,4.73,4.73,0,0,1,2.2-.29,4.64,4.64,0,0,1,.68.12l.33.1a2.75,2.75,0,0,1,.37.15,1.4,1.4,0,0,1,.8,1.7A4.36,4.36,0,0,1,25,24.61a8.31,8.31,0,0,1-3.82.89A6.1,6.1,0,0,1,19,25.24a3.75,3.75,0,0,1-1.93-1.51,5.2,5.2,0,0,1-.48-4.6A9.9,9.9,0,0,1,19,15.54a15.35,15.35,0,0,1,3.23-2.47A16.4,16.4,0,0,1,29,11a15.1,15.1,0,0,1,2.81,0,8.69,8.69,0,0,1,1.16.16,8.84,8.84,0,0,1,1,.21,9.64,9.64,0,0,1,1.31.42Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M53.87,18.07A.75.75,0,0,1,54,17.7a1.15,1.15,0,0,1,1-.43,1.29,1.29,0,0,1,.82.36,1.93,1.93,0,0,1,.51.9,4.62,4.62,0,0,1-.07,2.35,2.91,2.91,0,0,1-.29.67,2,2,0,0,1-.25.34l-.1.12-.18.16a2.63,2.63,0,0,1-1.6.55,3.22,3.22,0,0,1-1.69-.44A3.49,3.49,0,0,1,50.94,21a5,5,0,0,1-.59-1.66,5.82,5.82,0,0,1-.09-.9,6.83,6.83,0,0,1,0-.83,8.66,8.66,0,0,1,1.06-3.28,12.41,12.41,0,0,1,2.06-2.64l.29-.28.15-.14.07-.07.1-.09,0,0c.11-.07.19-.14.33-.22l.44-.23a14,14,0,0,1,1.5-.57,27.45,27.45,0,0,1,2.79-.73c.89-.2,1.74-.34,2.52-.46a34.12,34.12,0,0,1,3.81-.38c.46,0,.83,0,1.07,0h.38s-.52.11-1.4.35-2.14.58-3.64,1-3.24,1-5,1.66a12.83,12.83,0,0,0-1.26.56l-.22.12c-.08,0-.2.15-.29.22l-.2.2-.25.26a10.82,10.82,0,0,0-1.73,2.3A7,7,0,0,0,52,17.74a6.23,6.23,0,0,0,0,.7,4.32,4.32,0,0,0,0,.62,3.46,3.46,0,0,0,.33,1.16,2,2,0,0,0,1.59,1.17,1.36,1.36,0,0,0,1.45-.86,4.38,4.38,0,0,0,.36-1.87,1.47,1.47,0,0,0-.24-.7.86.86,0,0,0-.49-.34,1,1,0,0,0-.91.15A.73.73,0,0,0,53.87,18.07Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M98.59,16.31s-.1-.18-.31-.46a5.41,5.41,0,0,0-1-1,7.08,7.08,0,0,0-1.67-1,8.09,8.09,0,0,0-2.13-.57,10.57,10.57,0,0,0-1.15-.09c-.38,0-.75,0-1.12,0-.73,0-1.42.11-2,.18-1.19.15-2,.21-2,.21a14.87,14.87,0,0,1,1.9-.71,13,13,0,0,1,2-.45,10.23,10.23,0,0,1,1.2-.09,11.17,11.17,0,0,1,1.24.06,7.11,7.11,0,0,1,2.37.75,5.72,5.72,0,0,1,1.69,1.34,4.78,4.78,0,0,1,.49.7,4.09,4.09,0,0,1,.27.6,2.6,2.6,0,0,1,.12.4Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M73,11.89l-.56-.25a8.75,8.75,0,0,0-1.51-.5,12,12,0,0,0-2.19-.3,14.1,14.1,0,0,0-2.52.12,22.77,22.77,0,0,0-2.51.49c-.8.2-1.54.41-2.18.59L60,12.48l-.6.15s.77-.47,2-1.05a19.27,19.27,0,0,1,2.15-.86,14.92,14.92,0,0,1,2.6-.62,11,11,0,0,1,2.71,0,8.54,8.54,0,0,1,2.28.59,6.79,6.79,0,0,1,1.44.83A4.51,4.51,0,0,1,73,11.89Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M49.48,13.88c-4.93,2.07-6.3,8.33-4.58,9.94,1.45,1.35,3.35.32,3-2.6C47.27,16.16,48.27,15,49.48,13.88Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M40.64,15.43c-2.75,4.59-9.15,5-10.49,3.11-1.13-1.62.16-3.36,3-2.58C38.07,17.3,39.39,16.47,40.64,15.43Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M134.26,19.48a3,3,0,0,1,.85,1.09,2.92,2.92,0,0,1,.21,1.67,3.44,3.44,0,0,1-1.11,2,4.88,4.88,0,0,1-2.54,1.31,6.85,6.85,0,0,1-3.38-.25,10.7,10.7,0,0,1-3.4-1.82,8.9,8.9,0,0,1-2.7-3.39l-.2-.56a1.62,1.62,0,0,1-.1-.32l0-.27-.1-.55v-.65a5.94,5.94,0,0,1,.16-1.27,6.89,6.89,0,0,1,.45-1.19,9.73,9.73,0,0,1,3.49-3.7,14.68,14.68,0,0,1,4.89-2.09,23.8,23.8,0,0,1,5.47-.43,20.05,20.05,0,0,1,10.92,3.42c.42.28.79.61,1.19.92s.75.68,1.09,1a7.43,7.43,0,0,1,1.75,2.71,4.18,4.18,0,0,1-.33,3.5A3.21,3.21,0,0,1,149.37,22a3.39,3.39,0,0,1-1.9.23,4.43,4.43,0,0,1-.87-.22l-.1,0-.12-.05,0,0-.16-.08-.32-.16a5.89,5.89,0,0,1-.75-.52,6.53,6.53,0,0,1-.62-.63,5.94,5.94,0,0,1-1.26-3.08,8.16,8.16,0,0,1,1.72-6,10.11,10.11,0,0,1,5.21-3.09,22.58,22.58,0,0,1,5.65-.65,78.66,78.66,0,0,1,10.48.63,35.43,35.43,0,0,1,9.14,2.39c.69.28,1.33.6,1.95.92s1.22.68,1.79,1a24.43,24.43,0,0,1,3,2.33A19.13,19.13,0,0,1,186,19.76a15.05,15.05,0,0,1,1.46,3.65c.12.44.16.78.22,1l.07.35-.09-.34c-.07-.22-.13-.56-.28-1a16.27,16.27,0,0,0-1.66-3.5,18.64,18.64,0,0,0-4-4.47A23.57,23.57,0,0,0,175,11.62a36.46,36.46,0,0,0-8.92-2,87.3,87.3,0,0,0-10.29-.38,21,21,0,0,0-5.24.68,10.52,10.52,0,0,0-2.39,1,5.08,5.08,0,0,0-.53.33,4.56,4.56,0,0,0-.53.39l-.28.22-.19.19a3.06,3.06,0,0,0-.41.45,6.47,6.47,0,0,0-1.32,4.72,4.21,4.21,0,0,0,.89,2.18,5.48,5.48,0,0,0,.39.39,3.36,3.36,0,0,0,.43.31l.32.16.16.08,0,0,0,0,.07,0a2.91,2.91,0,0,0,.53.14,1.44,1.44,0,0,0,1.58-.7,2.46,2.46,0,0,0,.18-2.06,5.76,5.76,0,0,0-1.34-2.07c-.32-.33-.65-.62-1-.93s-.69-.58-1.06-.83a18.81,18.81,0,0,0-10-3.25,23.72,23.72,0,0,0-5.12.3,13.33,13.33,0,0,0-4.47,1.77,8.67,8.67,0,0,0-3.15,3.13,5.75,5.75,0,0,0-.41,1,4.94,4.94,0,0,0-.16,1l0,.47.08.55,0,.27a1.17,1.17,0,0,0,.06.2l.15.47a8.21,8.21,0,0,0,2.3,3.11,10,10,0,0,0,3.07,1.85,6.28,6.28,0,0,0,3.09.39,2.72,2.72,0,0,0,.69-.15,2.39,2.39,0,0,0,.63-.24c.19-.1.39-.18.57-.3L134,24a3.3,3.3,0,0,0,1.13-1.79,2.77,2.77,0,0,0-.09-1.59A2.93,2.93,0,0,0,134.26,19.48Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M171.94,10.22l1.63.38c1,.23,2.52.52,4.3.75a42.82,42.82,0,0,0,6.09.33,30.9,30.9,0,0,0,3.39-.23,13.89,13.89,0,0,0,3.3-.81,32,32,0,0,0,3.18-1.5,24.34,24.34,0,0,1,3.32-1.4,13.33,13.33,0,0,1,6.41-.67,8.89,8.89,0,0,1,4.16,1.78,6.5,6.5,0,0,1,.9.87l.28.34-.34-.27a8.42,8.42,0,0,0-1-.65,9.58,9.58,0,0,0-4.07-1.06,14.12,14.12,0,0,0-5.77,1.12,31.31,31.31,0,0,0-3.07,1.45,32.43,32.43,0,0,1-3.34,1.63,15.63,15.63,0,0,1-3.72.85,24.77,24.77,0,0,1-3.61.09,30,30,0,0,1-6.26-.89,28,28,0,0,1-4.22-1.41c-.49-.21-.87-.39-1.13-.52Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M189.9,12l.45-.17a9.64,9.64,0,0,1,1.31-.42,8.84,8.84,0,0,1,1-.21,8.7,8.7,0,0,1,1.16-.16,15.1,15.1,0,0,1,2.81,0,16.4,16.4,0,0,1,6.77,2.11,15.35,15.35,0,0,1,3.23,2.47A9.9,9.9,0,0,1,209,19.13a5.2,5.2,0,0,1-.48,4.6,3.75,3.75,0,0,1-1.93,1.51,6.1,6.1,0,0,1-2.17.27,8.31,8.31,0,0,1-3.82-.89,4.36,4.36,0,0,1-2.25-2.85,1.4,1.4,0,0,1,.8-1.7,2.75,2.75,0,0,1,.37-.15l.33-.1a4.65,4.65,0,0,1,.68-.12,4.73,4.73,0,0,1,2.2.29,4.35,4.35,0,0,1,1.21.7,3.49,3.49,0,0,1,.36.33,3.45,3.45,0,0,0-.41-.25,4.8,4.8,0,0,0-1.25-.44,4.63,4.63,0,0,0-2,0,4,4,0,0,0-.54.18l-.29.13-.24.14a.73.73,0,0,0-.29.32.65.65,0,0,0,0,.4,3.41,3.41,0,0,0,1.87,1.93,7.7,7.7,0,0,0,3.22.51,4.54,4.54,0,0,0,1.6-.26,2.28,2.28,0,0,0,1.07-.9,3.14,3.14,0,0,0,.47-1.47,3.82,3.82,0,0,0-.24-1.61,8.23,8.23,0,0,0-2-3,15.71,15.71,0,0,0-2.81-2.34,18.76,18.76,0,0,0-3.08-1.57,19.7,19.7,0,0,0-3-.87,18.72,18.72,0,0,0-2.66-.29,11,11,0,0,0-1.12,0,8.54,8.54,0,0,0-1,.05c-.58,0-1,.11-1.35.17Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M171.75,18.07a.73.73,0,0,0-.19-.31,1,1,0,0,0-.91-.15.86.86,0,0,0-.49.34,1.47,1.47,0,0,0-.24.7,4.38,4.38,0,0,0,.36,1.87,1.36,1.36,0,0,0,1.45.86,2,2,0,0,0,1.59-1.17,3.46,3.46,0,0,0,.33-1.16,4.33,4.33,0,0,0,0-.62,6.23,6.23,0,0,0,0-.7,7,7,0,0,0-.91-2.59,10.82,10.82,0,0,0-1.73-2.3l-.25-.26-.2-.2c-.1-.07-.21-.17-.29-.22L170,12a12.83,12.83,0,0,0-1.26-.56c-1.78-.68-3.53-1.21-5-1.66S161,9,160.08,8.8s-1.4-.35-1.4-.35h.38c.25,0,.61,0,1.07,0a34.12,34.12,0,0,1,3.81.38c.78.12,1.63.26,2.52.46a27.45,27.45,0,0,1,2.79.73,14,14,0,0,1,1.5.57l.44.23c.14.08.22.14.33.22l0,0,.1.09.07.07.15.14.29.28a12.41,12.41,0,0,1,2.06,2.64,8.67,8.67,0,0,1,1.06,3.28,6.87,6.87,0,0,1,0,.83,5.83,5.83,0,0,1-.09.9,5,5,0,0,1-.59,1.66,3.49,3.49,0,0,1-1.25,1.3,3.22,3.22,0,0,1-1.69.44,2.63,2.63,0,0,1-1.6-.55L170,22l-.1-.12a2,2,0,0,1-.25-.34,2.91,2.91,0,0,1-.29-.67,4.62,4.62,0,0,1-.07-2.35,1.93,1.93,0,0,1,.51-.9,1.29,1.29,0,0,1,.82-.36,1.15,1.15,0,0,1,1,.43A.76.76,0,0,1,171.75,18.07Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M127,16.31l0-.14a2.58,2.58,0,0,1,.12-.4,4.07,4.07,0,0,1,.27-.6,4.78,4.78,0,0,1,.49-.7,5.72,5.72,0,0,1,1.69-1.34,7.11,7.11,0,0,1,2.37-.75,11.17,11.17,0,0,1,1.24-.06,10.23,10.23,0,0,1,1.2.09,13,13,0,0,1,2,.45,14.87,14.87,0,0,1,1.9.71s-.82-.07-2-.21c-.6-.06-1.28-.14-2-.18-.37,0-.74,0-1.12,0a10.57,10.57,0,0,0-1.15.09,8.09,8.09,0,0,0-2.13.57,7.08,7.08,0,0,0-1.67,1,5.41,5.41,0,0,0-1,1C127.13,16.14,127,16.31,127,16.31Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M152.6,11.89a4.51,4.51,0,0,1,.47-.4,6.8,6.8,0,0,1,1.44-.83,8.54,8.54,0,0,1,2.28-.59,11,11,0,0,1,2.71,0,14.92,14.92,0,0,1,2.6.62,19.28,19.28,0,0,1,2.15.86c1.22.58,2,1.05,2,1.05l-.6-.15-1.56-.43c-.64-.18-1.39-.39-2.19-.59a22.77,22.77,0,0,0-2.51-.49,14.1,14.1,0,0,0-2.52-.12,12,12,0,0,0-2.19.3,8.75,8.75,0,0,0-1.51.5Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M176.14,13.88c4.93,2.07,6.3,8.33,4.58,9.94-1.45,1.35-3.35.32-3-2.6C178.35,16.16,177.35,15,176.14,13.88Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M185,15.43c2.75,4.59,9.15,5,10.49,3.11,1.13-1.62-.16-3.36-3-2.58C187.55,17.3,186.23,16.47,185,15.43Z'
    }), createVNode(2, 'path', {
      'className': 'vintage-1-bottom',
      'd': 'M113.15,21.25c5.7,5,8.92,11.3,7.09,17.33-1.18,3.89-4.33,7.41-7.43,10.85-3.1-3.44-6.25-7-7.43-10.85-1.83-6,1.39-12.37,7.09-17.33Z'
    }), createVNode(2, 'circle', {
      'className': 'vintage-1-bottom',
      'cx': '112.81',
      'cy': '14.67',
      'r': '3.89'
    })])
  },
  'snowflake-1': {
    type: 'svg',
    style: {
      width: '4em',
      height: '4em',
      left: 'calc(50% - 2em)',
      top: 'calc(50% - 2em)'
    },
    rendered: createVNode(128, 'svg', {
      'xmlns': 'http://www.w3.org/2000/svg',
      'viewBox': '0 0 129.07 147.95'
    }, [createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M87.9,23.44l-4.47-3.27.6,5.5L79,27.91,84,30.14l-.6,5.5,4.47-3.27,4.46,3.27s-.54-5-.6-5.5l5.07-2.24-5.07-2.23c.06-.55.6-5.5.6-5.5ZM91.3,22l-.46,4.18,3.85,1.7-3.85,1.7.46,4.18-3.4-2.49-3.4,2.49L85,29.61l-3.85-1.7L85,26.21,84.5,22l3.4,2.49Z'
    }), createVNode(2, 'polygon', {
      'class': 'snowflake-1',
      'points': '87.9 25.8 90.01 24.26 89.72 26.86 92.11 27.91 89.72 28.96 90.01 31.56 87.9 30.02 85.8 31.56 86.08 28.96 83.69 27.91 86.08 26.86 85.8 24.26 87.9 25.8'
    }), createVNode(2, 'rect', {
      'class': 'snowflake-1',
      'x': '62.33',
      'width': '4.67',
      'height': '66.02',
      'rx': '2.07',
      'ry': '2.07'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M66,15.25a1.82,1.82,0,0,1-2.76,0L57.77,9.1a1.68,1.68,0,0,0-2.51-.28,2.18,2.18,0,0,0,.25,2.8l7.77,8.67a1.82,1.82,0,0,0,2.76,0l7.77-8.67a2.18,2.18,0,0,0,.25-2.8,1.68,1.68,0,0,0-2.51.28Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M66,27.34a1.82,1.82,0,0,1-2.76,0l-7.55-8.42a1.82,1.82,0,0,0-2.76,0l-.05.06a2.36,2.36,0,0,0,0,3.08L63.29,33.61a1.82,1.82,0,0,0,2.76,0L76.41,22.06a2.36,2.36,0,0,0,0-3.08l-.05-.06a1.82,1.82,0,0,0-2.76,0Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M66,41.86a1.82,1.82,0,0,1-2.76,0l-8-8.92a1.82,1.82,0,0,0-2.76,0l-.17.19a2.36,2.36,0,0,0,0,3.08L63.29,48.41a1.82,1.82,0,0,0,2.76,0L77,36.22a2.36,2.36,0,0,0,0-3.08l-.17-.19a1.82,1.82,0,0,0-2.76,0Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M84.9,44.37c-.38-.29-1.25.22-1.94,1.13L72.23,59.72c-.69.91-.94,1.88-.56,2.17s1.25-.22,1.94-1.13L84.35,46.54C85,45.63,85.28,44.65,84.9,44.37Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M83.59,48.53a2.07,2.07,0,0,1-2.33-1.76s.05.38-.08-.55-.5-1.66-.82-1.62-.46,1-.3,2.13l.19,1.38a2.07,2.07,0,0,0,2.33,1.76L84,49.68c1.13-.16,2-.55,2-.87s-.84-.48-1.78-.35Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M81.16,51.74A2.07,2.07,0,0,1,78.83,50l-.18-1.26c-.16-1.13-.61-2-1-1.95s-.6,1-.45,2.15l.38,2.72a2.08,2.08,0,0,0,2.33,1.76L82.63,53c1.13-.16,2-.62,1.95-1s-1-.6-2.15-.45Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M78.25,55.6a2.07,2.07,0,0,1-2.33-1.76l-.21-1.5c-.16-1.12-.63-2-1-1.94s-.63,1-.48,2.15l.42,3a2.07,2.07,0,0,0,2.33,1.76l3-.42c1.12-.16,2-.63,1.94-1s-1-.63-2.15-.48Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M66.34,64A3,3,0,0,1,63,64l-5.41-4c-.92-.67-1.57-.3-1.45.83l.73,6.67a3,3,0,0,1-1.67,2.89l-6.14,2.71c-1,.46-1,1.21,0,1.67l6.14,2.71a3,3,0,0,1,1.67,2.89L56.14,87c-.12,1.13.53,1.51,1.44.83l5.42-4a3,3,0,0,1,3.34,0l5.41,4c.92.67,1.57.3,1.45-.83l-.73-6.67a3,3,0,0,1,1.67-2.89l6.14-2.71c1-.46,1-1.21,0-1.67l-6.14-2.71a3,3,0,0,1-1.67-2.89l.73-6.67c.12-1.13-.53-1.5-1.45-.83Zm3.32-.33c.92-.67,1.57-.3,1.45.83l-.45,4.09a3,3,0,0,0,1.67,2.89l3.76,1.66c1,.46,1,1.21,0,1.67l-3.76,1.66a3,3,0,0,0-1.67,2.89l.45,4.09c.12,1.13-.53,1.51-1.45.83l-3.32-2.43a3,3,0,0,0-3.34,0l-3.32,2.43c-.92.67-1.57.3-1.44-.83l.44-4.09A3,3,0,0,0,57,76.44l-3.76-1.66c-1-.46-1-1.21,0-1.67L57,71.45a3,3,0,0,0,1.67-2.89l-.44-4.09c-.12-1.13.53-1.5,1.44-.83L63,66.07a3,3,0,0,0,3.34,0Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M63,68.6a3,3,0,0,0,3.34,0l.79-.57c.92-.67,1.57-.3,1.45.83l-.11,1a3,3,0,0,0,1.67,2.89l.89.39c1,.46,1,1.21,0,1.67l-.89.4a3,3,0,0,0-1.67,2.89l.11,1c.12,1.13-.53,1.51-1.45.83l-.79-.58a3,3,0,0,0-3.34,0l-.79.58c-.92.67-1.57.3-1.45-.83l.11-1a3,3,0,0,0-1.67-2.89l-.89-.4c-1-.46-1-1.21,0-1.67l.89-.39a3,3,0,0,0,1.67-2.89l-.11-1c-.12-1.13.53-1.51,1.44-.83Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M32.46,28.47l-5.07,2.23,5.07,2.23-.6,5.5,4.47-3.27,4.47,3.27-.6-5.5,5.07-2.23L40.2,28.47l.6-5.51-4.47,3.27L31.86,23S32.4,27.92,32.46,28.47Zm.47-3.65,3.4,2.49,3.4-2.49L39.27,29l3.85,1.7-3.85,1.7.45,4.19-3.4-2.49-3.4,2.49.45-4.19-3.85-1.7L33.39,29S33.07,26.06,32.93,24.82Z'
    }), createVNode(2, 'polygon', {
      'class': 'snowflake-1',
      'points': '34.5 29.65 34.22 27.06 36.33 28.6 38.43 27.06 38.15 29.65 40.54 30.71 38.15 31.76 38.43 34.35 36.33 32.81 34.22 34.35 34.5 31.76 32.12 30.71 34.5 29.65'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M.41,37.1a2.07,2.07,0,0,0,.76,2.82L54.75,70.87a2.07,2.07,0,0,0,2.83-.76l.27-.46a2.08,2.08,0,0,0-.76-2.83L3.5,35.88a2.08,2.08,0,0,0-2.83.76Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M14.43,43.3a1.81,1.81,0,0,1-1.38,2.39L5,47.39a1.68,1.68,0,0,0-1.5,2A2.18,2.18,0,0,0,6,50.6l11.39-2.4a1.82,1.82,0,0,0,1.38-2.39L15.17,34.75a2.18,2.18,0,0,0-2.3-1.62,1.68,1.68,0,0,0-1,2.31Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M24.91,49.35a1.82,1.82,0,0,1-1.38,2.39L12.46,54.07a1.82,1.82,0,0,0-1.38,2.39l0,.07a2.36,2.36,0,0,0,2.67,1.54L29,54.87a1.82,1.82,0,0,0,1.38-2.39L25.51,37.73a2.36,2.36,0,0,0-2.67-1.54l-.07,0a1.82,1.82,0,0,0-1.38,2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M37.48,56.61A1.82,1.82,0,0,1,36.1,59L24.38,61.47A1.82,1.82,0,0,0,23,63.86l.08.25a2.37,2.37,0,0,0,2.67,1.54l16-3.37a1.82,1.82,0,0,0,1.38-2.39L38.06,44.32a2.36,2.36,0,0,0-2.66-1.54l-.26.05a1.82,1.82,0,0,0-1.38,2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M49.08,41.53c-.44.19-.43,1.19,0,2.24L56,60.18c.44,1,1.17,1.75,1.6,1.57s.43-1.2,0-2.24L50.68,43.1C50.24,42,49.52,41.35,49.08,41.53Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M52,44.76a2.07,2.07,0,0,1-2.69,1.14l-.52-.21c-.87-.35-1.69-.4-1.81-.1s.64.9,1.69,1.33l1.29.52a2.07,2.07,0,0,0,2.69-1.14L53.21,45c.43-1.05.53-2,.23-2.14s-.84.49-1.19,1.37Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M53.6,48.46a2.07,2.07,0,0,1-2.69,1.14l-1.18-.48c-1.05-.43-2-.47-2.19-.09s.59,1,1.64,1.46l2.55,1a2.08,2.08,0,0,0,2.69-1.14l1-2.55c.43-1.05.47-2,.09-2.19s-1,.59-1.46,1.64Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M55.48,52.91A2.08,2.08,0,0,1,52.79,54l-1.4-.57c-1.05-.43-2-.46-2.2-.06s.57,1.06,1.63,1.49l2.82,1.14a2.07,2.07,0,0,0,2.69-1.14l1.14-2.82c.43-1.05.46-2,.06-2.21s-1.06.57-1.49,1.63Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M56.78,67.42a3,3,0,0,1-1.67,2.89L49,73c-1,.46-1,1.21,0,1.67l6.14,2.71a3,3,0,0,1,1.67,2.89l-.72,6.67c-.12,1.13.53,1.51,1.45.83l5.42-4a3,3,0,0,1,3.33,0l5.42,4c.92.67,1.57.29,1.44-.83l-.73-6.67A3,3,0,0,1,74,77.39l6.14-2.71c1-.46,1-1.21,0-1.67l-6.14-2.71a3,3,0,0,1-1.67-2.89l.72-6.67c.12-1.13-.53-1.5-1.45-.83l-5.41,4a3,3,0,0,1-3.33,0l-5.41-4c-.92-.67-1.57-.3-1.44.83Zm1.37-3c-.12-1.13.53-1.51,1.44-.83L62.91,66a3,3,0,0,0,3.34,0l3.32-2.43c.92-.67,1.57-.3,1.44.84l-.45,4.09a3,3,0,0,0,1.67,2.89L76,73c1,.46,1,1.21,0,1.67l-3.76,1.66a3,3,0,0,0-1.67,2.89L71,83.32c.12,1.13-.53,1.51-1.44.83l-3.32-2.43a3,3,0,0,0-3.34,0l-3.32,2.43c-.92.67-1.57.3-1.44-.83l.44-4.09a3,3,0,0,0-1.67-2.89l-3.76-1.66c-1-.46-1-1.21,0-1.67l3.76-1.66a3,3,0,0,0,1.67-2.89Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M59.12,72.62a3,3,0,0,0,1.67-2.89l-.1-1c-.12-1.13.53-1.5,1.44-.83l.79.58a3,3,0,0,0,3.33,0l.79-.58c.92-.67,1.57-.3,1.45.83l-.11,1A3,3,0,0,0,70,72.62l.89.39c1,.46,1,1.21,0,1.67l-.89.39A3,3,0,0,0,68.38,78l.1,1c.12,1.13-.53,1.5-1.44.83l-.79-.58a3,3,0,0,0-3.34,0l-.79.58c-.92.67-1.57.3-1.45-.83l.11-1a3,3,0,0,0-1.67-2.89l-.89-.4c-1-.46-1-1.21,0-1.67Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M9.09,79l-.6,5.5L13,81.24l4.47,3.27L16.83,79l5.07-2.23-5.07-2.23c.06-.55.6-5.51.6-5.51L13,72.3,8.49,69l.6,5.51L4,76.77ZM6.17,76.77,10,75.07l-.45-4.19L13,73.37l3.4-2.49-.45,4.19,3.85,1.7-3.85,1.7.45,4.19L13,80.17l-3.4,2.49L10,78.47Z'
    }), createVNode(2, 'polygon', {
      'class': 'snowflake-1',
      'points': '11.14 77.82 8.75 76.77 11.14 75.72 10.86 73.12 12.96 74.66 15.07 73.12 14.78 75.72 17.17 76.77 14.79 77.82 15.07 80.41 12.96 78.87 10.86 80.42 11.14 77.82'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M.54,111.07a2.07,2.07,0,0,0,2.82.76L57,80.89a2.07,2.07,0,0,0,.75-2.83l-.26-.46a2.08,2.08,0,0,0-2.83-.76L1,107.79a2.08,2.08,0,0,0-.76,2.83Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M12.92,102a1.82,1.82,0,0,1,1.38,2.39l-2.57,7.85a1.68,1.68,0,0,0,1,2.31A2.18,2.18,0,0,0,15,113l3.62-11.06a1.82,1.82,0,0,0-1.38-2.39L5.89,97.11a2.18,2.18,0,0,0-2.55,1.18,1.68,1.68,0,0,0,1.5,2Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M23.4,96a1.82,1.82,0,0,1,1.38,2.39l-3.51,10.75a1.81,1.81,0,0,0,1.38,2.39l.08,0A2.37,2.37,0,0,0,25.38,110l4.83-14.75a1.82,1.82,0,0,0-1.38-2.39l-15.19-3.2A2.37,2.37,0,0,0,11,91.19l0,.07a1.82,1.82,0,0,0,1.38,2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M36,88.72a1.82,1.82,0,0,1,1.38,2.39l-3.72,11.38A1.82,1.82,0,0,0,35,104.88l.25.05a2.37,2.37,0,0,0,2.67-1.54L43,87.84a1.82,1.82,0,0,0-1.38-2.39l-16-3.37A2.37,2.37,0,0,0,23,83.61l-.08.25a1.82,1.82,0,0,0,1.38,2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M28.71,71.14c-.06.47.82,1,1.95,1.11l17.69,2.19c1.13.14,2.1-.13,2.16-.61s-.82-1-1.95-1.11L30.87,70.53C29.74,70.39,28.77,70.67,28.71,71.14Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M33,70.19a2.08,2.08,0,0,1-.36,2.9l-.44.34c-.74.58-1.19,1.26-1,1.52s1.1-.11,2-.8l1.1-.85a2.07,2.07,0,0,0,.36-2.9l-.85-1.1c-.7-.9-1.48-1.47-1.74-1.27s0,1,.59,1.71Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M37,70.69a2.07,2.07,0,0,1-.36,2.9l-1,.78c-.9.7-1.43,1.53-1.18,1.85s1.19,0,2.08-.69l2.17-1.69a2.08,2.08,0,0,0,.36-2.9l-1.69-2.17c-.7-.9-1.53-1.42-1.85-1.18s0,1.19.69,2.08Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M41.77,71.28a2.07,2.07,0,0,1-.36,2.9l-1.19.93c-.9.7-1.42,1.54-1.16,1.88s1.21,0,2.1-.66l2.4-1.87a2.07,2.07,0,0,0,.36-2.9l-1.87-2.4c-.7-.9-1.54-1.42-1.88-1.16s0,1.21.66,2.1Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M55,77.41a3,3,0,0,1,1.67,2.89L55.92,87c-.12,1.13.53,1.51,1.44.83l5.41-4a3,3,0,0,1,3.33,0l5.41,4c.92.67,1.57.3,1.44-.83l-.72-6.67a3,3,0,0,1,1.67-2.89l6.14-2.71c1-.46,1-1.21,0-1.67l-6.14-2.71a3,3,0,0,1-1.67-2.89L73,60.77c.13-1.13-.53-1.5-1.44-.83l-5.41,4a3,3,0,0,1-3.34,0l-5.42-4c-.92-.67-1.57-.3-1.45.83l.73,6.67A3,3,0,0,1,55,70.33L48.84,73c-1,.46-1,1.21,0,1.67ZM53,74.7c-1-.46-1-1.21,0-1.67l3.76-1.66a3,3,0,0,0,1.67-2.89L58,64.4c-.12-1.13.53-1.51,1.44-.83L62.78,66a3,3,0,0,0,3.34,0l3.32-2.43c.92-.67,1.57-.3,1.45.83l-.44,4.09a3,3,0,0,0,1.67,2.89L75.87,73c1,.46,1,1.21,0,1.67L72.1,76.36a3,3,0,0,0-1.67,2.89l.44,4.09c.13,1.13-.53,1.5-1.44.83l-3.32-2.43a3,3,0,0,0-3.34,0l-3.32,2.43c-.92.67-1.57.3-1.45-.83l.45-4.09a3,3,0,0,0-1.67-2.89Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M60.65,78A3,3,0,0,0,59,75.1l-.89-.39c-1-.46-1-1.21,0-1.67l.89-.39a3,3,0,0,0,1.67-2.89l-.11-1c-.12-1.13.53-1.51,1.45-.83l.79.58a3,3,0,0,0,3.34,0L66.9,68c.92-.67,1.57-.3,1.44.83l-.11,1a3,3,0,0,0,1.67,2.89l.89.39c1,.46,1,1.21,0,1.67l-.89.39A3,3,0,0,0,68.24,78l.11,1c.12,1.13-.53,1.51-1.45.83l-.78-.58a3,3,0,0,0-3.34,0l-.79.58c-.92.67-1.57.3-1.44-.83Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M41.17,124.5l4.47,3.27s-.54-5-.6-5.5L50.1,120,45,117.8l.6-5.5-4.47,3.27L36.7,112.3l.6,5.5L32.23,120l5.07,2.23-.6,5.5Zm-3.4,1.42.46-4.18L34.37,120l3.85-1.7s-.32-2.95-.46-4.19l3.4,2.49,3.4-2.49-.45,4.19L48,120l-3.85,1.7s.32,2.94.45,4.18l-3.4-2.49Z'
    }), createVNode(2, 'polygon', {
      'class': 'snowflake-1',
      'points': '41.17 122.14 39.06 123.68 39.35 121.09 36.96 120.03 39.35 118.98 39.07 116.39 41.17 117.93 43.27 116.39 42.99 118.98 45.38 120.03 42.99 121.09 43.27 123.68 41.17 122.14'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M64.67,147.94a2.07,2.07,0,0,0,2.07-2.07V84a2.07,2.07,0,0,0-2.07-2.07h-.53A2.07,2.07,0,0,0,62.07,84v61.88a2.08,2.08,0,0,0,2.07,2.07Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M63,132.7a1.82,1.82,0,0,1,2.76,0l5.52,6.15a1.68,1.68,0,0,0,2.51.28,2.18,2.18,0,0,0-.25-2.8l-7.77-8.67a1.82,1.82,0,0,0-2.76,0l-7.77,8.67a2.18,2.18,0,0,0-.25,2.8,1.68,1.68,0,0,0,2.51-.28Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M63,120.6a1.82,1.82,0,0,1,2.76,0L73.34,129a1.82,1.82,0,0,0,2.76,0l.05-.06a2.37,2.37,0,0,0,0-3.08L65.78,114.33a1.82,1.82,0,0,0-2.76,0L52.66,125.89a2.37,2.37,0,0,0,0,3.08l.05.06a1.82,1.82,0,0,0,2.76,0Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M63,106.08a1.82,1.82,0,0,1,2.76,0l8,8.92a1.82,1.82,0,0,0,2.76,0l.17-.19a2.37,2.37,0,0,0,0-3.08L65.78,99.54a1.82,1.82,0,0,0-2.76,0L52.09,111.73a2.36,2.36,0,0,0,0,3.08l.17.19A1.82,1.82,0,0,0,55,115Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M44.17,103.58c.38.28,1.25-.22,1.94-1.13L56.85,88.23c.69-.91.93-1.88.56-2.17s-1.25.22-1.94,1.13L44.72,101.41C44,102.32,43.79,103.29,44.17,103.58Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M45.48,99.41a2.08,2.08,0,0,1,2.33,1.76s-.05-.38.08.56.5,1.66.82,1.61.46-1,.3-2.13l-.19-1.38a2.07,2.07,0,0,0-2.33-1.76l-1.38.19c-1.12.16-2,.55-2,.87s.85.48,1.78.35Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M47.91,96.2A2.07,2.07,0,0,1,50.24,98l.18,1.26c.16,1.13.61,2,1,1.95s.6-1,.44-2.15L51.5,96.3a2.08,2.08,0,0,0-2.33-1.76l-2.72.38c-1.13.16-2,.61-1.94,1s1,.6,2.15.45Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M50.82,92.35a2.07,2.07,0,0,1,2.33,1.76l.21,1.5c.16,1.13.63,2,1,1.94s.63-1,.48-2.15l-.42-3a2.07,2.07,0,0,0-2.33-1.76l-3,.42c-1.13.16-2,.63-1.94,1s1,.63,2.15.48Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M62.73,84a3,3,0,0,1,3.34,0l5.41,4c.92.67,1.57.29,1.44-.84l-.72-6.67a3,3,0,0,1,1.67-2.89L80,74.83c1-.46,1-1.21,0-1.67l-6.14-2.71a3,3,0,0,1-1.67-2.89l.72-6.67c.12-1.13-.53-1.51-1.44-.83l-5.41,4a3,3,0,0,1-3.33,0l-5.41-4c-.92-.67-1.57-.3-1.45.83l.73,6.67a3,3,0,0,1-1.67,2.89l-6.14,2.71c-1,.46-1,1.21,0,1.67l6.14,2.71a3,3,0,0,1,1.67,2.89l-.73,6.67c-.12,1.13.53,1.5,1.44.84Zm-3.32.33c-.92.67-1.57.3-1.44-.83l.45-4.09a3,3,0,0,0-1.67-2.89L53,74.83c-1-.46-1-1.21,0-1.67l3.76-1.66a3,3,0,0,0,1.67-2.89L58,64.53c-.12-1.13.53-1.51,1.44-.83l3.32,2.43a3,3,0,0,0,3.33,0l3.32-2.43c.92-.67,1.57-.3,1.45.83l-.45,4.09a3,3,0,0,0,1.67,2.89l3.76,1.66c1,.46,1,1.21,0,1.67l-3.76,1.66a3,3,0,0,0-1.67,2.89l.45,4.09c.12,1.13-.53,1.5-1.44.83l-3.32-2.43a3,3,0,0,0-3.34,0Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M66.07,79.34a3,3,0,0,0-3.34,0l-.79.57c-.92.67-1.57.3-1.44-.83l.1-1a3,3,0,0,0-1.67-2.89l-.89-.39c-1-.46-1-1.21,0-1.67l.89-.39a3,3,0,0,0,1.67-2.89l-.1-1c-.12-1.13.53-1.5,1.44-.83l.79.57a3,3,0,0,0,3.33,0l.79-.57c.92-.67,1.57-.3,1.44.83l-.1,1a3,3,0,0,0,1.67,2.89l.89.39c1,.46,1,1.21,0,1.67l-.89.39a3,3,0,0,0-1.67,2.89l.11,1c.12,1.13-.53,1.51-1.45.83Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M96.61,119.47l5.07-2.24L96.61,115l.6-5.5-4.47,3.27-4.47-3.27s.54,5,.6,5.5l-5.07,2.23,5.07,2.23-.6,5.5,4.47-3.27L97.21,125S96.67,120,96.61,119.47Zm-.47,3.65-3.4-2.49-3.4,2.49.46-4.19-3.86-1.7,3.85-1.7-.45-4.19,3.4,2.49,3.4-2.49-.45,4.19,3.85,1.7-3.85,1.7Z'
    }), createVNode(2, 'polygon', {
      'class': 'snowflake-1',
      'points': '94.57 118.29 94.85 120.89 92.74 119.34 90.64 120.89 90.92 118.29 88.53 117.24 90.92 116.19 90.64 113.59 92.74 115.13 94.85 113.59 94.57 116.19 96.95 117.24 94.57 118.29'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M128.66,110.84a2.07,2.07,0,0,0-.76-2.82L74.32,77.08a2.08,2.08,0,0,0-2.83.76l-.26.46A2.07,2.07,0,0,0,72,81.12l53.59,30.94a2.08,2.08,0,0,0,2.82-.76Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M114.64,104.64a1.82,1.82,0,0,1,1.38-2.39l8.08-1.7a1.68,1.68,0,0,0,1.5-2,2.18,2.18,0,0,0-2.55-1.18l-11.39,2.4a1.82,1.82,0,0,0-1.38,2.39l3.62,11.06a2.18,2.18,0,0,0,2.3,1.62,1.68,1.68,0,0,0,1-2.31Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M104.16,98.6a1.82,1.82,0,0,1,1.38-2.39l11.07-2.33A1.82,1.82,0,0,0,118,91.49l0-.08a2.36,2.36,0,0,0-2.67-1.54l-15.19,3.2a1.82,1.82,0,0,0-1.38,2.39l4.83,14.75a2.37,2.37,0,0,0,2.67,1.54l.08,0a1.82,1.82,0,0,0,1.38-2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M91.59,91.33A1.82,1.82,0,0,1,93,88.94l11.72-2.47a1.82,1.82,0,0,0,1.38-2.39l-.08-.25a2.36,2.36,0,0,0-2.67-1.54l-16,3.37a1.82,1.82,0,0,0-1.38,2.39L91,103.63a2.36,2.36,0,0,0,2.66,1.54l.25-.05a1.82,1.82,0,0,0,1.38-2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M80,106.41c.44-.19.43-1.19,0-2.24L73,87.76c-.44-1-1.16-1.75-1.6-1.57s-.43,1.19,0,2.24l6.95,16.41C78.83,105.89,79.55,106.6,80,106.41Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M77,103.19A2.08,2.08,0,0,1,79.73,102l.52.21c.87.35,1.69.39,1.81.09s-.64-.9-1.69-1.33l-1.29-.52a2.07,2.07,0,0,0-2.69,1.14l-.52,1.29c-.43,1.05-.53,2-.23,2.14s.84-.49,1.19-1.36Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M75.47,99.49a2.07,2.07,0,0,1,2.69-1.14l1.18.48c1.05.43,2,.47,2.19.09s-.59-1-1.64-1.46l-2.55-1a2.07,2.07,0,0,0-2.69,1.14l-1,2.55c-.43,1.05-.47,2-.09,2.19s1-.58,1.46-1.64Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M73.59,95a2.07,2.07,0,0,1,2.69-1.14l1.4.56c1.05.43,2,.46,2.2.06s-.57-1.06-1.63-1.49l-2.82-1.15A2.08,2.08,0,0,0,72.74,93L71.6,95.85c-.43,1.05-.46,2-.06,2.21s1.06-.57,1.49-1.63Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M72.29,80.53A3,3,0,0,1,74,77.64l6.14-2.71c1-.46,1-1.21,0-1.67L74,70.56a3,3,0,0,1-1.67-2.89L73,61c.12-1.13-.53-1.5-1.44-.83l-5.41,4a3,3,0,0,1-3.34,0l-5.41-4c-.92-.67-1.57-.3-1.44.83l.73,6.67A3,3,0,0,1,55,70.56l-6.14,2.7c-1,.46-1,1.21,0,1.67L55,77.64a3,3,0,0,1,1.67,2.89L56,87.2c-.12,1.13.53,1.51,1.45.83l5.41-4a3,3,0,0,1,3.34,0l5.41,4c.92.67,1.57.29,1.45-.83Zm-1.37,3c.12,1.13-.53,1.5-1.44.83L66.16,82a3,3,0,0,0-3.34,0L59.5,84.4c-.92.67-1.57.3-1.45-.83l.45-4.09a3,3,0,0,0-1.67-2.89l-3.76-1.66c-1-.46-1-1.21,0-1.67l3.76-1.66a3,3,0,0,0,1.67-2.89l-.44-4.09c-.12-1.13.53-1.51,1.45-.83l3.32,2.43a3,3,0,0,0,3.34,0l3.32-2.43c.92-.67,1.57-.3,1.45.83l-.45,4.09a3,3,0,0,0,1.67,2.89l3.76,1.66c1,.46,1,1.21,0,1.67l-3.76,1.66a3,3,0,0,0-1.67,2.89Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M70,75.33a3,3,0,0,0-1.67,2.89l.1,1c.13,1.13-.53,1.51-1.44.83l-.79-.58a3,3,0,0,0-3.34,0L62,80c-.92.67-1.57.3-1.45-.83l.11-1A3,3,0,0,0,59,75.32l-.89-.39c-1-.46-1-1.21,0-1.67l.89-.39A3,3,0,0,0,60.7,70l-.11-1c-.12-1.13.53-1.5,1.45-.83l.79.58a3,3,0,0,0,3.34,0l.79-.58c.92-.67,1.57-.3,1.44.83l-.1,1A3,3,0,0,0,70,72.87l.89.39c1,.46,1,1.21,0,1.67Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M120,68.94c.06-.55.6-5.5.6-5.5l-4.47,3.27-4.47-3.27s.54,5,.6,5.5l-5.07,2.23,5.07,2.23-.6,5.5,4.47-3.27,4.47,3.27-.6-5.51L125,71.18Zm2.93,2.23-3.85,1.7.46,4.19-3.4-2.49-3.4,2.49.46-4.19-3.85-1.7,3.85-1.7-.46-4.19,3.4,2.49,3.4-2.49-.46,4.19Z'
    }), createVNode(2, 'polygon', {
      'class': 'snowflake-1',
      'points': '117.93 70.12 120.32 71.18 117.93 72.23 118.22 74.82 116.11 73.28 114 74.82 114.29 72.23 111.9 71.18 114.29 70.12 114 67.53 116.11 69.07 118.22 67.53 117.93 70.12'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M128.53,36.87a2.07,2.07,0,0,0-2.82-.76L72.11,67.05a2.08,2.08,0,0,0-.76,2.83l.27.46a2.07,2.07,0,0,0,2.82.76L128,40.16a2.08,2.08,0,0,0,.76-2.83Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M116.15,45.92a1.82,1.82,0,0,1-1.38-2.39l2.57-7.85a1.68,1.68,0,0,0-1-2.31A2.18,2.18,0,0,0,114,35L110.41,46a1.82,1.82,0,0,0,1.38,2.39l11.39,2.4a2.18,2.18,0,0,0,2.55-1.18,1.68,1.68,0,0,0-1.5-2Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M105.67,52a1.82,1.82,0,0,1-1.38-2.39l3.52-10.75a1.82,1.82,0,0,0-1.38-2.39l-.08,0A2.36,2.36,0,0,0,103.69,38L98.86,52.71a1.82,1.82,0,0,0,1.38,2.39l15.19,3.2a2.36,2.36,0,0,0,2.67-1.54l0-.08a1.82,1.82,0,0,0-1.38-2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M93.1,59.23a1.82,1.82,0,0,1-1.38-2.39l3.72-11.38a1.82,1.82,0,0,0-1.38-2.39L93.81,43a2.36,2.36,0,0,0-2.67,1.54L86,60.11a1.82,1.82,0,0,0,1.38,2.39l16,3.37a2.36,2.36,0,0,0,2.67-1.54l.08-.25a1.82,1.82,0,0,0-1.38-2.39Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M100.36,76.81c.06-.47-.82-1-1.95-1.11L80.73,73.5c-1.13-.14-2.1.13-2.16.61s.82,1,1.94,1.11L98.2,77.41C99.33,77.55,100.3,77.28,100.36,76.81Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M96.09,77.75a2.07,2.07,0,0,1,.36-2.9l.44-.34c.74-.58,1.19-1.26,1-1.52s-1.1.11-2,.8l-1.1.85a2.07,2.07,0,0,0-.36,2.9l.86,1.1c.7.9,1.48,1.47,1.74,1.27s0-1-.58-1.71Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M92.1,77.26a2.07,2.07,0,0,1,.36-2.9l1-.78c.9-.7,1.43-1.53,1.18-1.85s-1.19,0-2.09.69L90.39,74.1A2.08,2.08,0,0,0,90,77l1.69,2.17c.7.9,1.53,1.43,1.85,1.18s0-1.19-.69-2.09Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M87.3,76.66a2.07,2.07,0,0,1,.36-2.9l1.19-.93c.9-.7,1.42-1.54,1.16-1.88s-1.21,0-2.1.66L85.5,73.5a2.07,2.07,0,0,0-.36,2.9L87,78.8c.7.9,1.54,1.42,1.88,1.16s0-1.2-.66-2.1Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M74.09,70.53a3,3,0,0,1-1.67-2.89L73.15,61c.12-1.13-.53-1.51-1.45-.83l-5.41,4a3,3,0,0,1-3.34,0l-5.42-4c-.92-.67-1.57-.3-1.44.83l.72,6.67a3,3,0,0,1-1.67,2.89L49,73.24c-1,.46-1,1.21,0,1.67l6.14,2.71a3,3,0,0,1,1.67,2.89l-.73,6.67c-.12,1.13.53,1.5,1.45.83L63,84a3,3,0,0,1,3.34,0l5.42,4c.92.67,1.57.3,1.44-.83l-.73-6.67a3,3,0,0,1,1.67-2.89l6.14-2.7c1-.46,1-1.21,0-1.67ZM76,73.24c1,.46,1,1.21,0,1.67l-3.76,1.66a3,3,0,0,0-1.67,2.89l.44,4.09c.12,1.13-.53,1.51-1.44.83l-3.32-2.43a3,3,0,0,0-3.34,0l-3.32,2.43c-.92.67-1.57.3-1.44-.83l.44-4.09A3,3,0,0,0,57,76.57L53.2,74.91c-1-.46-1-1.21,0-1.67L57,71.58a3,3,0,0,0,1.67-2.89l-.45-4.09c-.12-1.13.53-1.51,1.44-.83L63,66.2a3,3,0,0,0,3.34,0l3.32-2.43c.92-.67,1.57-.3,1.44.83l-.44,4.09a3,3,0,0,0,1.67,2.89Z'
    }), createVNode(2, 'path', {
      'class': 'snowflake-1',
      'd': 'M68.42,70a3,3,0,0,0,1.67,2.89l.89.39c1,.46,1,1.21,0,1.67l-.89.39a3,3,0,0,0-1.67,2.89l.11,1c.12,1.13-.53,1.5-1.44.83l-.79-.58a3,3,0,0,0-3.34,0l-.79.58c-.92.67-1.57.3-1.44-.83l.1-1a3,3,0,0,0-1.67-2.89l-.89-.39c-1-.46-1-1.21,0-1.67l.89-.39A3,3,0,0,0,60.83,70l-.1-1c-.12-1.13.53-1.51,1.44-.83l.79.58a3,3,0,0,0,3.34,0l.79-.58c.92-.67,1.57-.3,1.44.83Z'
    })])
  }
};

var types = (0, _keys2.default)(ornament_svg_types);
var cache = {};

function get_ornament_type(ornament) {
  if (ornament_svg_types[ornament]) return 'svg';
  if (ornament.endsWith('.svg')) return 'svgurl';
  return null;
}

var renderer_by_type = {
  svg: function svg(_, ornament) {
    if (cache[ornament]) return cache[ornament];
    var key = 'ornament-svg--' + ornament;
    var ornamentConfig = ornament_svg_types[ornament];
    var style = {
      position: 'absolute',
      transformOrigin: '50%',
      backfaceVisibility: 'hidden'

    };
    if (ornamentConfig.style) (0, _assign2.default)(style, ornamentConfig.style);
    cache[ornament] = el('div', {
      key: key,
      className: key + ' ornament-renderer ornament-svg',
      style: style
    }, ornamentConfig.rendered);
    return cache[ornament];
  },
  svgurl: function svgurl(_, ornament) {
    if (cache[ornament]) return cache[ornament];
    var key = 'ornament-svgurl--' + ornament;
    cache[ornament] = el('div', {
      key: key,
      className: key + ' ornament-renderer ornament-svgurl',
      style: {
        width: '100%',
        height: '100%',
        // width: 24,
        // height: 24,
        transformOrigin: '50%',
        backfaceVisibility: 'hidden',
        top: 0,
        left: 0
      }
    }, el(_uiInlineSvg2.default, { src: ornament, cacheGetRequests: true }));
    return cache[ornament];
  }
};

function renderer(id, ornament, props) {
  if (!ornament) return null;
  return renderer_by_type[get_ornament_type(ornament)](id, ornament, props);
}

exports.default = renderer;
exports.renderer = renderer;
exports.get_ornament_type = get_ornament_type;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 231 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _deps = __webpack_require__(13);

var _elementResizeDetector = __webpack_require__(180);

var _elementResizeDetector2 = _interopRequireDefault(_elementResizeDetector);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {Store} from '@the-grid/cymatics'
var resizeDetector = undefined;
var getResizeDetector = function getResizeDetector() {
  if (!resizeDetector) {
    resizeDetector = (0, _elementResizeDetector2.default)({
      strategy: 'scroll' });
  }
  return resizeDetector;
};

var ResizeState = (0, _immutable.Struct)({

  target: undefined, // string
  resizeTarget: undefined, // string
  didMeasure: {
    cache: false,
    deps: ['width'],
    get: function get(width) {
      return width !== undefined;
    }
  },
  bottom: undefined,
  height: undefined,
  left: undefined,
  right: undefined,
  top: undefined,
  width: undefined,
  windowWidth: undefined,
  windowHeight: undefined

}, {
  defaultCache: false
});

var initialState = new ResizeState({});

// TODO!!!

var USER_AGENT = void 0;
var iOS = void 0;
var webkit = void 0;
var iOSSafari = void 0;

// ensuring window measurement happens only once when needed
var prev_windowWidth = void 0;
var prev_windowHeight = void 0;
var windowWidth = void 0;
var windowHeight = void 0;
var isListeningToWindow = false;
var windowListeners = [];
function measureWindow() {
  prev_windowWidth = windowWidth;
  prev_windowHeight = windowHeight;
  windowWidth = window.innerWidth;
  windowHeight = window.innerHeight;
}
function _onWindowResize() {
  measureWindow();
  if (iOSSafari) {
    if (prev_windowWidth === windowWidth || prev_windowHeight === windowHeight) {
      windowWidth = prev_windowWidth;
      windowHeight = prev_windowHeight;
      return;
    }
  }
  if (!USER_AGENT) {
    USER_AGENT = window.navigator.userAgent;
    iOS = !!USER_AGENT.match(/iPad/i) || !!USER_AGENT.match(/iPhone/i);
    webkit = !!USER_AGENT.match(/WebKit/i);
    iOSSafari = iOS && webkit && !USER_AGENT.match(/CriOS/i);
  }
  for (var i = 0; i < windowListeners.length; i++) {
    windowListeners[i]();
  }
}

// TODO decrease long trailing throttle time with a requestStyleFrame or something...
var onWindowResize = _deps.raf.throttle(_onWindowResize, { leading: true, delay: 120 });
// let onWindowResize = debounce(_onWindowResize, 240)
function listenToWindowIfNeeded() {
  if (isListeningToWindow) return;
  isListeningToWindow = true;
  window.addEventListener('resize', onWindowResize);
  measureWindow();
}

var ResizeStore = function (_Store) {
  (0, _inherits3.default)(ResizeStore, _Store);
  (0, _createClass3.default)(ResizeStore, [{
    key: 'didCommit',
    value: function didCommit() {
      var handler = this.props.handler;
      if (!handler) return;
      handler(this);
    }

    // debug = true

  }, {
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      if (!this.targetElement) return false;
      return state.get('width') !== undefined;
    }
  }]);

  function ResizeStore() {
    (0, _classCallCheck3.default)(this, ResizeStore);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ResizeStore.__proto__ || (0, _getPrototypeOf2.default)(ResizeStore)).call(this));

    _this.name = 'resize';
    _this.state = initialState;
    _this.deferCommit = false;
    _this.props = undefined;
    _this.isListening = false;
    _this.isSearchingTarget = false;
    _this.targetElement = undefined;
    _this.actions = {

      'update-props': function updateProps(state, props) {
        var _props = props,
            id = _props.id,
            target = _props.target,
            resizeTarget = _props.resizeTarget,
            shouldUpdateProps = _props.shouldUpdateProps,
            shouldSearchTarget = _props.shouldSearchTarget,
            handler = _props.handler;


        if (target === 'self') target = 'auto';
        if (target === 'auto') {
          if (!id) throw new Error('ResizeContext with target: auto requires an id');
          target = '#' + id;
        }
        if (resizeTarget === 'auto') resizeTarget = target;

        props = {
          id: id,
          target: target,
          resizeTarget: resizeTarget,
          shouldUpdateProps: shouldUpdateProps,
          shouldSearchTarget: shouldSearchTarget,
          handler: handler
        };

        if (_this.props) {
          var currentTarget = _this.props.target;
          var _target = props.target;
          var currentResizeTarget = _this.props.resizeTarget;
          var _resizeTarget = props.resizeTarget;
          if (currentTarget !== _target || currentResizeTarget !== _resizeTarget) state = _this.actions.unlistenIfNeeded(state);
        }
        _this.props = props;
        // return state
        return state.merge(props);
      },

      'listenIfNeeded': function listenIfNeeded(state) {
        if (_this.isListening || _this.isSearchingTarget || !_this.props) return state;
        return _this.actions.listen(state);
      },

      'listen': function listen(state) {

        _this.isSearchingTarget = false;

        if (!_this.props) return state;

        var _this$props = _this.props,
            target = _this$props.target,
            resizeTarget = _this$props.resizeTarget;


        if (target === 'window') {
          _this.targetElement = window;
          // window.addEventListener('resize', listener)
          windowListeners.push(_this.listener);
          _this.isListening = true;
        } else if (target.indexOf('#') === 0) {

          _this.targetElement = document.getElementById(target.substr(1));

          // TODO?
          if (!_this.targetElement && _this.props.shouldSearchTarget) {
            _this.isSearchingTarget = true;
            (0, _deps.raf)(function () {
              return _this.actions.listen(state, target, resizeTarget);
            });
            return state;
          }

          if (resizeTarget) {
            if (resizeTarget === 'window') {
              // window.addEventListener('resize', listener)
              windowListeners.push(_this.listener);
              _this.isListening = true;
            } else if (resizeTarget.indexOf('#') === 0) {
              getResizeDetector().listenTo(_this.targetElement, _this.listener);
              _this.isListening = true;
            } else {
              throw new Error('ResizeContext resizeTarget must be undefined, \'window\' or an id selector');
            }
          }
        } else {
          throw new Error('ResizeContext target must be \'window\' or id selector');
        }

        _this.willMeasure();

        return state;
        // return actions.onScrollStart(state, true)
      },

      'unlistenIfNeeded': function unlistenIfNeeded(state) {
        if (!_this.isListening || !_this.props) return state;
        return _this.actions.unlisten(state);
      },

      'unlisten': function unlisten(state) {

        if (!_this.props) return state;

        if (!_this.isListening) return state;

        var _this$props2 = _this.props,
            target = _this$props2.target,
            resizeTarget = _this$props2.resizeTarget;


        if (target === 'window' || resizeTarget === 'window') {
          // window.removeEventListener('resize', listener)
          windowListeners.splice(windowListeners.indexOf(_this.listener), 1);
        } else if (resizeTarget) {
          getResizeDetector().removeListener(_this.targetElement, _this.update);
          // TODO!!!!
          // throw new Error("RECT CONTEXT NOT READY")
          // scrollingElement.removeEventListener('scroll', listener)
        }

        _this.isListening = false;
        _this.targetElement = undefined;
        return state;
      },

      'measure': function measure(state) {

        var toMerge = _this.measureRect();
        if (!toMerge) return state;
        state = state.merge(toMerge);
        return state;
      },

      'teardown': function teardown(state) {
        _this.actions.unlistenIfNeeded(state);
        _this.props = undefined;
        _this.isListening = false;
        _this.isSearchingTarget = false;
        _this.targetElement = undefined;
        return initialState;
      }

    };


    listenToWindowIfNeeded();

    var request = _this.request;

    _this.willMeasure = function () {
      _deps.raf.cancel(_this._measure);
      (0, _deps.raf)(_this._measure);
    };
    _this._measure = function () {
      request('measure');
      // raf.cancel(this.__measure)
      // raf(this.__measure)
    };
    // this.__measure = () => {
    //  raf(this.___measure)
    // }
    // this.___measure = () => {
    //  request( 'measure' )
    // }

    _this.listener = _this.willMeasure;
    // let listener = throttle(this.willMeasure, 16, {leading: true, trailing: true})
    // let listener = debounce(this.willMeasure, 16)

    _this.measureRect = function () {
      if (_this.targetElement === window) {
        return {
          width: windowWidth,
          height: windowHeight,
          right: windowWidth,
          bottom: windowHeight,
          top: 0,
          left: 0,
          windowWidth: windowWidth,
          windowHeight: windowHeight,
          target: _this.props.target,
          resizeTarget: _this.props.resizeTarget
        };
      } else if (_this.targetElement) {
        var _this$targetElement$g = _this.targetElement.getBoundingClientRect(),
            bottom = _this$targetElement$g.bottom,
            height = _this$targetElement$g.height,
            left = _this$targetElement$g.left,
            right = _this$targetElement$g.right,
            top = _this$targetElement$g.top,
            width = _this$targetElement$g.width;

        return {
          bottom: bottom,
          height: height,
          left: left,
          right: right,
          top: top,
          width: width,
          windowWidth: windowWidth,
          windowHeight: windowHeight,
          target: _this.props.target,
          resizeTarget: _this.props.resizeTarget
        };
      } else {
        return undefined;
      }
    };

    return _this;
  }

  return ResizeStore;
}(_cymatics.Store);

exports.default = ResizeStore;
module.exports = exports['default'];

/***/ }),
/* 232 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ResizeStore = exports.ResizeContext = undefined;

var _ResizeContext = __webpack_require__(662);

var _ResizeContext2 = _interopRequireDefault(_ResizeContext);

var _ResizeStore = __webpack_require__(231);

var _ResizeStore2 = _interopRequireDefault(_ResizeStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-resize-context');
exports.default = _ResizeContext2.default;
exports.ResizeContext = _ResizeContext2.default;
exports.ResizeStore = _ResizeStore2.default;

/***/ }),
/* 233 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ResizeRenderer = __webpack_require__(663);

var _ResizeRenderer2 = _interopRequireDefault(_ResizeRenderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-resize-renderer');
exports.default = _ResizeRenderer2.default;
module.exports = exports['default'];

/***/ }),
/* 234 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// for browsers that dont' support document.body or document.scrolllingElement, ugh

var rootScrollingElement = void 0;
var getRootScrollingElement = function getRootScrollingElement() {
  if (!rootScrollingElement) {
    rootScrollingElement = document.scrollingElement ? document.scrollingElement : document.body;
    if (!rootScrollingElement) rootScrollingElement = document.getElementsByTagName('body')[0];
  }

  // TODO: D4 hacky!!!!!!!!!!!!!
  // window.addEventListener('resize',function(){
  //   rootScrollingElement.scrollTop = 0
  // })

  return rootScrollingElement;
};

var storesById = {};

var ScrollState = (0, _immutable.Struct)({
  __store_id: undefined,
  target: undefined, // string
  count: 0,
  isScrolling: false,
  isRoot: {
    deps: ['target'],
    get: function get(taget) {
      return target === 'window' || target === 'document';
    }
  },

  // PERF: scrollTop, scrollHeight
  // ensuring DOM reads are only when needed & cached per scroll

  scrollTop: {
    cache: 1,
    instanceCache: true,
    deps: ['count'],
    get: function get() {
      var id = this.get('__store_id');
      var el = storesById[id].scrollingElement;
      if (!el) return undefined;
      return el.scrollTop;
    }
  },

  scrollHeight: {
    cache: 1,
    instanceCache: true,
    deps: ['count'],
    get: function get() {
      var id = this.get('__store_id');
      var el = storesById[id].scrollingElement;
      if (!el) return undefined;
      return el.scrollHeight;
    }
  }

}, {
  defaultCache: false
});

var initialState = new ScrollState({});

var storeCount = 0;

var ScrollStore = function (_Store) {
  (0, _inherits3.default)(ScrollStore, _Store);
  (0, _createClass3.default)(ScrollStore, [{
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      return state.get('__store_id') !== undefined;
    }
  }]);

  function ScrollStore() {
    (0, _classCallCheck3.default)(this, ScrollStore);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ScrollStore.__proto__ || (0, _getPrototypeOf2.default)(ScrollStore)).call(this));

    _this.name = 'scroll';
    _this.state = initialState;
    _this.props = undefined;
    _this.deferCommit = false;
    _this.isListening = false;
    _this.scrollingElement = undefined;


    _this.__id = 'scroll-store-' + storeCount;
    storesById[_this.__id] = _this;
    storeCount++;

    var request = _this.request;

    var scrollEndDebounce = (0, _deps.debounce)(function (target, data) {
      request('onScrollEnd');
    }, 333);

    var _listener = function _listener(isInitial) {
      request('onScrollStart');
    };

    var listener = _deps.raf.throttle(_listener, { leading: true });

    // let listener = throttle(_listener, 16, {leading: true, trailing: true})
    // let listener = debounce(listener, 16)

    var actions = _this.actions = {

      'update-props': function updateProps(state, props) {
        if (_this.props) {
          var currentTarget = _this.props.target;
          var _target = props.target;
          if (currentTarget !== _target) state = actions.unlistenIfNeeded(state);
        }
        _this.props = props;
        // return state
        return state.merge(props);
      },

      'listenIfNeeded': function listenIfNeeded(state) {
        if (_this.isListening || !_this.props) return state;
        return actions.listen(state);
      },

      'listen': function listen(state) {

        if (!_this.props) return state;

        var target = _this.props.target;


        if (target === 'window' || target === 'document') {
          _this.scrollingElement = getRootScrollingElement();
          window.addEventListener('scroll', listener);
        } else if (target.indexOf('#') === 0) {
          _this.scrollingElement = document.getElementById(target.substr(1));
          // TODO: searchTarget? shit...
          if (!_this.scrollingElement) return state;
          _this.scrollingElement.addEventListener('scroll', listener);
        } else {
          throw new Error('scroll context target must be \'document\', \'window\' or an id selector ');
        }
        listener();
        // raf( () => {
        //   request( 'onScrollStart', true )
        // })
        _this.isListening = true;
        // state = state.set('target', target) // hmmmm...
        return state;
        // return actions.onScrollStart(state, true)
      },

      'unlistenIfNeeded': function unlistenIfNeeded(state) {
        if (!this.isListening) return state;
        return actions.unlisten(state);
      },

      'unlisten': function unlisten(state) {

        if (!this.props) return state;

        var target = this.props.target;


        if (target === 'window' || target === 'document') {
          window.removeEventListener('scroll', listener);
        } else if (this.scrollingElement) {
          this.scrollingElement.removeEventListener('scroll', listener);
        }

        this.isListening = false;
        this.scrollingElement = undefined;
        return state;
      },

      'onScrollStart': function onScrollStart(state) {
        scrollEndDebounce.cancel();
        var count = this.state.get('count');
        var isInitial = count === 0;
        count++;
        var isScrolling = isInitial ? false : true;
        var toMerge = {
          count: count,
          __store_id: this.__id,
          // scrollTop,
          // scrollHeight,
          // topDelta,
          isScrolling: isScrolling
        };

        state = state.merge(toMerge);

        if (isScrolling) scrollEndDebounce();
        return state;
      },

      'onScrollEnd': function onScrollEnd(state) {
        // let topDelta = 0
        var isScrolling = false;

        state = state.merge({
          // topDelta,
          isScrolling: isScrolling
        });

        return state;
      },

      'teardown': function teardown(state) {
        delete storesById[_this.__id];
        actions.unlistenIfNeeded(state);
        _this.props = undefined;
        _this.isListening = false;
        _this.scrollingElement = undefined;
        return initialState;
      }

    };
    return _this;
  }

  return ScrollStore;
}(_cymatics.Store);

exports.default = ScrollStore;
module.exports = exports['default'];

/***/ }),
/* 235 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ScrollStore = exports.ScrollContext = undefined;

var _ScrollContext = __webpack_require__(666);

var _ScrollContext2 = _interopRequireDefault(_ScrollContext);

var _ScrollStore = __webpack_require__(234);

var _ScrollStore2 = _interopRequireDefault(_ScrollStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-scroll-context');
exports.default = _ScrollContext2.default;
exports.ScrollContext = _ScrollContext2.default;
exports.ScrollStore = _ScrollStore2.default;

/***/ }),
/* 236 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _semanticVector = __webpack_require__(237);

var _semanticVector2 = _interopRequireDefault(_semanticVector);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EMPTY_LIST = _immutable.List.EMPTY;
var EMPTY_MAP = _immutable.Map.EMPTY;

var SemanticSpace = (0, _immutable.Struct)({

  _vectors: undefined,
  vectors: {
    set: function set(vectors) {
      return { _vectors: _semanticVector2.default.makeList(vectors) };
    },

    cache: 1,
    instanceCache: true,
    deps: ['_vectors'],
    get: function get(_vectors) {
      return _vectors;
    }
  },

  components: {
    // default: EMPTY_MAP,
    set: function set(components) {
      return { components: (0, _immutable.Map)(components) };
    }
  },

  rendered: {
    cache: 1,
    instanceCache: true,
    deps: ['_vectors', 'components'],
    get: function get(vectors, components) {
      var content = [];
      var vector;
      for (var i = 0; i < vectors.size; i++) {
        vector = vectors.get(i);
        content.push(vector.render(components));
      }
      return content;
    }
  }
});

SemanticSpace.EMPTY = new SemanticSpace();

exports.default = SemanticSpace;
module.exports = exports['default'];

/***/ }),
/* 237 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _semanticVectorStruct = __webpack_require__(672);

var _semanticVectorStruct2 = _interopRequireDefault(_semanticVectorStruct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _semanticVectorStruct2.default;
module.exports = exports['default'];

/***/ }),
/* 238 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _rebound = __webpack_require__(216);

var _rebound2 = _interopRequireDefault(_rebound);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _defaults = {
  tension: 40,
  friction: 7
};
// _presets = {}

var count = 0;

window.springsById = {};

var Springs = function () {
  function Springs(o) {
    (0, _classCallCheck3.default)(this, Springs);

    _initialiseProps.call(this);

    var id = o.id,
        defaults = o.defaults;

    window.springsById[id] = this;
    this._instanceIndex = count++;
    this.id = !!id ? id : 'springs__' + this._instanceIndex;
    this.defaults = !defaults ? _defaults : (0, _assign2.default)({}, _defaults, defaults);
    this.setup();
  }

  (0, _createClass3.default)(Springs, [{
    key: 'setup',
    value: function setup() {
      this.isSetup = true;
      this.state = undefined;
      // pre flush state
      this._byId = {};
      this._ids = [];
      // post flush state
      this.springs = {};
      this._system = new _rebound2.default.SpringSystem();
      // TODO, kinda hacky by reference
      this.vals = this._system._springValsById;
    }
  }, {
    key: 'reset',
    value: function reset() {
      this.isSetup = true;
      this.state = undefined;
      this.changedStateKeys = undefined;
      // pre flush state
      if (this._waitingUpdate) _raf2.default.cancel(this._waitingUpdate);
      this.updateCount = 0;
      this.will_commit_async = false;
      this._waitingUpdate = false;
      this._byId = {};
      this._ids = [];
      // post flush state
      this.springs = {};
      this.removeAllListeners();
      this._system.clean();
      //
      this.styleRenderers = undefined;
      // TODO, kinda hacky by reference
      this.vals = this._system._springValsById;
    }
  }, {
    key: 'destroy',
    value: function destroy() {
      this.isSetup = false;
      this.state = undefined;
      this.changedStateKeys = undefined;
      // pre flush state
      if (this._waitingUpdate) _raf2.default.cancel(this._waitingUpdate);
      this.will_commit_async = false;
      this._waitingUpdate = false;
      this._byId = undefined;
      this._ids = undefined;
      this.updateCount = 0;
      this._needsUpdate = false;
      this._added = undefined;
      this._removed = undefined;
      this._updatedEnd = undefined;
      this._updatedConfig = undefined;
      // post flush state
      this.springs = undefined;
      this.followerListeners = undefined;
      this.followerEdges = undefined;
      this.removeAllListeners();
      //
      this.styleRenderers = undefined;
      // TODO
      this._system.clean();
      //this._system.destroy()
      this.vals = undefined;
    }

    // helpers ===================================================================

  }, {
    key: 'getSpring',
    value: function getSpring(id) {
      return this._byId[id];
    }
  }, {
    key: 'getIsIdle',
    value: function getIsIdle() {
      if (!this._system) return true;
      return this._system.getIsIdle();
    }
  }, {
    key: 'springCount',
    value: function springCount() {
      if (!this._ids) return 0;
      return this._ids.length;
    }
    // linear interpolation helpers

  }, {
    key: '_',
    value: function _(value, fromLow, fromHigh, toLow, toHigh) {
      var fromRangeSize = fromHigh - fromLow;
      var toRangeSize = toHigh - toLow;
      var valueScale = (value - fromLow) / fromRangeSize;
      return toLow + valueScale * toRangeSize;
    }
  }, {
    key: '_x_0_1_0_x',
    value: function _x_0_1_0_x(value, toHigh) {
      return value * toHigh;
    }
  }, {
    key: '_x_0_1_x_x',
    value: function _x_0_1_x_x(value, toLow, toHigh) {
      return toLow + value * toHigh;
    }

    // state =====================================================================

    //stateChangedKeys = undefined
    //stateNeedsUpdate = false

  }, {
    key: 'setState',
    value: function setState(key, val) {
      // if (this.BLOCK_METHOD) {
      //       throw new Error(`Springs ${id} cannot setState during ${this.BLOCK_SET_STATE_METHOD}`)
      //     }
      var state = this.state;
      if (!state) state = {};
      if (state[key] === val) return;
      state[key] = val;
      if (!this.changedStateKeys) this.changedStateKeys = [];
      this.changedStateKeys.push(key);

      if (!this.BLOCK_METHOD) this.setNeedsUpdate(true);

      this.state = state;
      //this.stateNeedsUpdate = true
    }

    // lifecycle methods =========================================================

  }, {
    key: 'stateWillUpdate',
    value: function stateWillUpdate(state, changedKeys) {
      // EXTEND THIS METHOD
      // return false to cancel update & wait for next commit
      return this.springCount();
    }
  }, {
    key: 'shouldCommit',
    value: function shouldCommit() {
      // EXTEND THIS METHOD... if needed
      // - by default, will not commit & flush without springs
      // - which allows state to build up before hand
      // - and updating a SPRING system w/o springs doesn't help anybody
      // NOTE:
      // - stateWillUpdate is called beforehand, allowing springs to be added based on setState
      return this.springCount();
    }
  }, {
    key: 'commitAsync',
    value: function commitAsync() {
      if (this.will_commit_async) return;
      if (!this._needsUpdate || this.BLOCK_METHOD) return;
      this.will_commit_async = true;
      setTimeout(this.commit, 1);
    }

    // pre flush state ===========================================================

  }, {
    key: 'needsUpdate',
    value: function needsUpdate() {
      return this._needsUpdate;
    }
  }, {
    key: 'setNeedsUpdate',
    value: function setNeedsUpdate(bool) {
      if (this._needsUpdate === bool) return;
      this._needsUpdate = bool;
    }
  }, {
    key: 'set',
    value: function set(id, end, o) {
      var friction, tension, start, setter, meta;
      if (o) {
        friction = o.friction;
        tension = o.tension;
        start = o.start;
        setter = o.set;
        meta = o.meta;
      }
      if (end === undefined || end === null || end === false) {
        end = 0;
      } else if (end === true) {
        end = 1;
      }
      if (typeof friction !== 'number') friction = this.defaults.friction;
      if (typeof tension !== 'number') tension = this.defaults.tension;
      if (typeof start !== 'number' && typeof end === 'number') start = end;

      var curr = this._byId[id];
      var _needsUpdate;
      if (!curr) {
        if (!this._added) this._added = [];
        this._added.push(id);
        this._ids.push(id);
        _needsUpdate = true;
      } else {
        if (end !== curr.end) {
          if (!this._updatedEnd) {
            this._updatedEnd = [id];
          } else if (!this._updatedEnd.includes(id)) {
            this._updatedEnd.push(id);
          }
          _needsUpdate = true;
        } else if (typeof end === 'string') {
          this.updateFollower(id);
        }
        if (friction !== curr.friction || tension !== curr.tension) {
          if (!this._updatedConfig) {
            this._updatedConfig = [id];
          } else if (!this._updatedConfig.includes(id)) {
            this._updatedConfig.push(id);
          }
          _needsUpdate = true;
        }
      }
      if (_needsUpdate) {
        this.setNeedsUpdate(true);
        this._byId[id] = {
          end: end,
          friction: friction,
          tension: tension,
          start: start,
          id: id
        };
        if (setter) this._byId[id].set = setter;
        if (meta !== undefined) this._byId[id].meta = meta;
      }
    }
  }, {
    key: 'delete',
    value: function _delete(id) {
      if (this._byId[id]) {
        if (!this._removed) this._removed = [];
        this.setNeedsUpdate(true);
        this._removed.push(id);

        // NOTE: safe to delete from _ids here before flush
        var idx = this._ids.indexOf(id);
        this._ids.splice(idx, 1);
        delete this._byId[id];
      }
    }

    // post flush state ==========================================================

  }, {
    key: 'addListener',
    value: function addListener(listener) {
      // if first listener, then listen to internal spring system
      if (!this.listeners.length) {
        this._system.addListener(this._systemListener);
      }
      if (this.listeners.includes(listener)) return;
      this.listeners.push(listener);
    }
  }, {
    key: 'removeListener',
    value: function removeListener(listener) {
      var idx = this.listeners.indexOf(listener);
      if (idx === -1) return;
      if (this.listeners.length === 1) return this.removeAllListeners();
      this.listeners.splice(idx, 1);
    }
  }, {
    key: 'removeAllListeners',
    value: function removeAllListeners() {
      this.listeners = [];
      this._system.removeListener(this._systemListener);
    }
  }, {
    key: 'updateFollower',
    value: function updateFollower(id) {
      var leaderId = this.followerEdges[id];
      if (!leaderId) return;
      var leaderSpring = this.springs[leaderId];
      if (!leaderSpring) return;
      var callback = this.followerListeners[id];
      if (!callback) return;
      callback(leaderSpring);
    }

    // renderers =================================================================

  }, {
    key: 'addStyleRenderer',
    value: function addStyleRenderer(styleRenderer) {
      if (!this.styleRenderers) {
        this.styleRenderers = [styleRenderer];
      } else if (!this.styleRenderers.includes(styleRenderer)) {
        this.styleRenderers.push();
      }
    }
  }, {
    key: 'removeStyleRenderer',
    value: function removeStyleRenderer(styleRenderer) {
      if (!this.styleRenderers) return;
      var idx = this.styleRenderers.indexOf(styleRenderer);
      if (idx === -1) return;
      this.styleRenderers.splice(idx, 1);
    }

    // flush =====================================================================

  }, {
    key: '_flush',
    value: function _flush(callback) {
      var springsWillUpdate = false;

      if (!callback) callback = this.flushCallback;
      var id, config, i, len, arr, key, _key;
      // unDRY on puprose
      key = 'added';
      arr = this['_' + key];
      if (arr && arr.length) {
        springsWillUpdate = true;
        for (i = 0; i < arr.length; i++) {
          id = arr[i];
          config = this._byId[id];
          callback(key, id, config);
        }
        this['_' + key] = undefined;
      }
      //
      key = 'updatedConfig';
      arr = this['_' + key];
      if (arr && arr.length) {
        springsWillUpdate = true;
        for (i = 0; i < arr.length; i++) {
          id = arr[i];
          config = this._byId[id];
          callback(key, id, config);
        }
        this['_' + key] = undefined;
      }
      //
      key = 'updatedEnd';
      arr = this['_' + key];
      if (arr && arr.length) {
        springsWillUpdate = true;
        for (i = 0; i < arr.length; i++) {
          id = arr[i];
          config = this._byId[id];
          callback(key, id, config);
        }
        this['_' + key] = undefined;
      }
      //
      key = 'removed';
      arr = this['_' + key];
      if (arr && arr.length) {
        //springsWillUpdate = true
        for (i = 0; i < arr.length; i++) {
          id = arr[i];
          config = this._byId[id];
          callback(key, id, config);
        }
        this['_' + key] = undefined;
      }
      //
      return springsWillUpdate;
    }
  }]);
  return Springs;
}();

var _initialiseProps = function _initialiseProps() {
  var _this = this;

  this.isSetup = false;
  this.vals = undefined;
  this.state = undefined;
  this.changedStateKeys = undefined;
  this.BLOCK_METHOD = false;
  this.will_commit_async = false;

  this.commit = function () {
    _this.will_commit_async = false;
    if (!_this._needsUpdate || _this.BLOCK_METHOD) return;

    var changedKeyCount = void 0;
    if (_this.changedStateKeys) {
      _this.BLOCK_METHOD = 'stateWillUpdate';
      // if spring changes happen here, will not trigger new update
      // `return false` will stop the commit
      var shouldContinute = _this.stateWillUpdate(_this.state, _this.changedStateKeys);
      _this.BLOCK_METHOD = false;
      if (shouldContinute === false) return;
    }

    if (!_this.shouldCommit()) return;

    _this.setNeedsUpdate(false);

    var springsWillUpdate = _this._flush();

    if (
    // TODO: this.updateCount shit is crap
    (!springsWillUpdate && _this.state || _this.updateCount === 0) &&
    // this makes sense
    _this._waitingUpdate === false) {
      if (!_this.forceUpdateIfNeeded) {
        var forceUpdateIfNeeded = function forceUpdateIfNeeded() {
          if (that._waitingUpdate !== false) {
            //console.log("Springs FORCE UPDATE!!!!!!!!!" + that.id,that._waitingUpdate,{state: that.state})
            that._didUpdate();
          }
        };

        var that = _this;

        _this.forceUpdateIfNeeded = forceUpdateIfNeeded;
      }

      _this._waitingUpdate = (0, _raf2.default)(_this.forceUpdateIfNeeded);
    }

    return _this;
  };

  this.updateCount = 0;

  this._didUpdate = function () {
    _this.updateCount++;
    _this._waitingUpdate = false;
    var listeners = _this.listeners;
    var listener, i;
    for (i = 0; i < listeners.length; i++) {
      listener = listeners[i];
      if (typeof listener === 'function') {
        listener(_this);
        continue;
      }
      if (listener.didUpdate) {
        listener.didUpdate(_this);
      }
    }
    _this.changedStateKeys = undefined;
  };

  this._byId = undefined;
  this._ids = undefined;
  this._added = undefined;
  this._removed = undefined;
  this._updatedEnd = undefined;
  this._updatedConfig = undefined;
  this._needsUpdate = false;
  this._waitingUpdate = false;
  this.springs = undefined;
  this.followerEdges = undefined;
  this.followerListeners = undefined;
  this._system = undefined;
  this.listeners = [];
  this._systemListener = {
    //onBeforeIntegrate: this._systemWillUpdate,
    onAfterIntegrate: this._didUpdate
  };

  this.getFollowerListener = function (id) {
    if (!_this.followerListeners) _this.followerListeners = {};
    if (!_this.followerListeners[id]) {
      _this.followerListeners[id] = function (leader) {
        var valToSet = leader.getCurrentValue();
        var config = _this._byId[id];
        if (config && config.set) {
          valToSet = config.set(valToSet, config, _this);
        }
        _this.springs[id].setEndValue(valToSet);
      };
    }
    return _this.followerListeners[id];
  };

  this.styleRenderers = undefined;

  this.flushCallback = function (action, id, o) {
    var spring;
    // remove spring -----------------------------------------------------------
    if (action === 'removed') {
      spring = _this.springs[id];
      var leaderId = _this.followerEdges[id];
      if (leaderId) {
        _this.springs[leaderId].removeListener(_this.getFollowerListener(id));
      }
      // TODO: handle abandoned followers?
      delete _this.followerListeners[id];
      delete _this.followerEdges[id];
      delete _this.springs[id];
      spring.destroy();
      return;
    }

    var end = o.end,
        start = o.start;

    var typeofTarget = typeof end === 'undefined' ? 'undefined' : (0, _typeof3.default)(end);

    // add new -----------------------------------------------------------------
    if (action === 'added') {
      spring = _this._system.createSpring(id, o);
      _this.springs[id] = spring;

      // APPLIES START ONLY WHEN FIRST CREATED
      // I THNK MUST BE APPLIED BEFORE BELOW...
      //// start === 0 by default
      //if (start) {
      //spring.setCurrentValue(start)
      //spring._startValue = start
      //this._system._springValsById[id] = start
      //spring.val = start
      //}
      if (start !== end && typeofTarget === 'number') {
        spring.setCurrentValue(start);
        spring.setEndValue(end);
        return;
      }

      // added and not spring to an end
      if (!end) return;

      // spring to num
      if (typeofTarget === 'number') {
        //if (start && start !== end) spring.setEndValue(end)
        spring.setEndValue(end);
      }

      // staggered spring
      else if (typeofTarget === 'string') {
          if (typeof start === 'number') spring.setCurrentValue(start);
          var springToFollow = _this.springs[end];
          // limit possible cycles
          if (!springToFollow) throw new Error('Sprung: spring:' + id + ' cannot follow spring:' + end + ', only springs before it in order');
          if (!_this.followerEdges) _this.followerEdges = {};
          _this.followerEdges[id] = end;
          springToFollow.addListener(_this.getFollowerListener(id));
          _this.updateFollower(id);

          //this._system._springValsById[id] = this._system._springValsById[end]
          //requestAnimationFrame(()=>{
          //  this.getFollowerListener(id).call(this,springToFollow)
          //})
          //if (this._system._springValsById[end] && !start) spring.setEndValue(this._system._springValsById[end])
          //this.staggered[id] = end
        }

        // otherwise end is truthy assumed to be 1
        else {
            //if (start && start !== end)
            spring.setEndValue(1);
          }
    }

    // update spring end -------------------------------------------------------
    else if (action === 'updatedEnd') {
        spring = _this.springs[id];

        // staggered spring
        if (typeofTarget === 'string') {
          var _springToFollow = _this.springs[end];

          // TODO: must i kill possible cycles... hmm
          //if (!springToFollow || spring.__index < springToFollow.__index) throw new Error(`Sprung: spring:${id} cannot follow spring:${end}, only springs before it in order`)

          if (!_this.followerEdges) _this.followerEdges = {};
          var currentLeader = _this.followerEdges[id];

          // spring already following
          if (currentLeader === end) {
            _this.updateFollower(id);
            return;
          }

          // new end to follow, unlisten old
          if (currentLeader) {
            _this.springs[currentLeader].removeListener(_this.getFollowerListener(id));
          }
          _this.followerEdges[id] = end;
          _springToFollow.addListener(_this.getFollowerListener(id));
          _this.updateFollower(id);
          return;
        }

        // check if old follower to unlisten to
        else if (_this.followerEdges) {
            var _currentLeader = _this.followerEdges[id];
            if (_currentLeader) _this.springs[_currentLeader] && _this.springs[_currentLeader].removeListener(_this.getFollowerListener(id));
          }

        // nothing new
        if (spring.getEndValue() === end) return;

        // falsy end assumed 0
        if (!end) {
          spring.setEndValue(0);
        }

        // new end value
        else if (typeofTarget === 'number') {
            spring.setEndValue(end);
          }

          // else truthy end assumed 1
          else {
              spring.setEndValue(1);
            }
      }

      // update spring tension & friction ----------------------------------------
      else if (action === 'updatedConfig') {
          spring = springs[id];
          spring.setSpringConfig(o);
        }

    //let ids = Object.keys(this.followerEdges)
    //for (let i = 0; i < ids.length; i++) {
    //  let id = ids[i]
    //  let leaderId = this.followerEdges[id]
    //}
  };
};

exports.default = Springs;
module.exports = exports['default'];

/***/ }),
/* 239 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _sprung = __webpack_require__(240);

var _sprung2 = _interopRequireDefault(_sprung);

var _rebound = __webpack_require__(216);

var _rebound2 = _interopRequireDefault(_rebound);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var SprungSheet = function (_Sprung) {
  (0, _inherits3.default)(SprungSheet, _Sprung);

  function SprungSheet() {
    (0, _classCallCheck3.default)(this, SprungSheet);
    return (0, _possibleConstructorReturn3.default)(this, (SprungSheet.__proto__ || (0, _getPrototypeOf2.default)(SprungSheet)).apply(this, arguments));
  }

  (0, _createClass3.default)(SprungSheet, [{
    key: 'render',
    value: function render() {
      return createVNode(2, 'style', {
        'dangerouslySetInnerHTML': { __html: this.props.children(this.springs, this.props) }
      });
    }
  }]);
  return SprungSheet;
}(_sprung2.default);

exports.default = SprungSheet;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 240 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function noop() {} /*
                   Basic Spring System
                   
                   ```
                   
                     <Sprung configs={[[springName1, tension, friction], [springName2, tension, friction]]} springName1={endValue} springName2={endValue}>
                       { ({spring1, spring2}) => {
                         return <div style={{transform: `translate3d(${spring1.val}px, ${spring2.val}px)`}} />
                       }}
                     </Sprung>
                   ```
                   
                   Staggered Spring System
                   
                   ```
                     <Sprung configs={[[item1, tension, friction], [item2, tension, friction]]} item1={1} item2={'item1'}>
                       { ({spring1, spring2}) => {
                         return <div style={{transform: `translate3d(${spring1.val}px, ${spring2.val}px)`}} />
                       }}
                     </Sprung>
                   ```
                   */

var Sprung = function (_React$Component) {
  (0, _inherits3.default)(Sprung, _React$Component);

  function Sprung() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Sprung);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Sprung.__proto__ || (0, _getPrototypeOf2.default)(Sprung)).call.apply(_ref, [this].concat(args))), _this), _this.state = { ticker: 0 }, _this.springsDidUpdate = function () {
      _this.setState({ ticker: _this.state.ticker++ }, noop);
    }, _this.springs_listeners = {
      // willUpdate: this.springsWillUpdate,
      didUpdate: _this.springsDidUpdate
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Sprung, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.springs = this.props.springs;
      if (!this.springs) throw new Error('Sprung requires props.springs set once at mount');
      this.springs.addListener(this.springs_listeners);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.springs.removeListener(this.springs_listeners);
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children(this.springs, this.props);
    }
  }]);
  return Sprung;
}(_infernoCompat2.default.Component);

exports.default = Sprung;
module.exports = exports['default'];

/***/ }),
/* 241 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Story = function (_Store) {
  (0, _inherits3.default)(Story, _Store);

  function Story() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Story);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Story.__proto__ || (0, _getPrototypeOf2.default)(Story)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'story', _this.initialState = (0, _immutable.Map)(), _this.state = _this.initialState, _this.storyline = undefined, _this.id = undefined, _this.depth = undefined, _this.focused = undefined, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Story, [{
    key: '_willMount',


    // internal
    value: function _willMount(component) {
      var storyline = component.context.stores.storyline;

      if (!storyline) throw new Error('Story Store !storyline?');
      var _component$props = component.props,
          id = _component$props.id,
          depth = _component$props.depth,
          focused = _component$props.focused;

      if (!id) throw new Error('Story Store !id?');
      if (typeof depth !== 'number') throw new Error('Story Store !depth?');
      this.storyline = storyline;
      this.id = id;
      this.depth = undefined;
      this.focused = focused;
      storyline.registerMountedStory(id, this);
    }
  }, {
    key: '_willUnmount',
    value: function _willUnmount() {
      this.storyline.unregisterMountedStory(this.id);
      this.state = this.initialState;
      this.id = undefined;
      this.depth = undefined;
      this.storyline = undefined;
      this.focused = undefined;
    }

    // Story Interface

  }, {
    key: 'willMount',
    value: function willMount(component) {
      return true;
    }
  }, {
    key: 'focus',
    value: function focus() {
      return true;
    }
  }, {
    key: 'display',
    value: function display(children) {
      return children;
    }
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      return true;
    }
  }]);
  return Story;
}(_cymatics.Store);

exports.default = Story;
module.exports = exports['default'];

/***/ }),
/* 242 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _uiScrollContext = __webpack_require__(235);

var _uiScrollContext2 = _interopRequireDefault(_uiScrollContext);

var _uiViewportContext = __webpack_require__(741);

var _uiViewportContext2 = _interopRequireDefault(_uiViewportContext);

var _cymatics = __webpack_require__(12);

var _defaultPlugins = __webpack_require__(714);

var _defaultPlugins2 = _interopRequireDefault(_defaultPlugins);

var _makeStyleStoreStruct = __webpack_require__(733);

var _makeStyleStoreStruct2 = _interopRequireDefault(_makeStyleStoreStruct);

var _compiler = __webpack_require__(682);

var _compiler2 = _interopRequireDefault(_compiler);

var _styleContext = __webpack_require__(248);

var _styleContext2 = _interopRequireDefault(_styleContext);

var _resetStyles = __webpack_require__(732);

var _resetStyles2 = _interopRequireDefault(_resetStyles);

var _StyleverseStore = __webpack_require__(679);

var _StyleverseStore2 = _interopRequireDefault(_StyleverseStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}
// import {installStore} from '../contextual'
// import StyleStore from './StyleStore'
// import StyleKeeper from './StyleKeeper'

var count = 0;

var styleContextPropsDefault = {
  base: {},
  breakpoint: { target: 'window', resizeTarget: 'window' },
  layout: {},
  typography: {},
  chroma: { randomIfNeeded: true, type: 'light' }
};

var createVNode = Inferno.createVNode;

var Styleverse = function (_React$Component) {
  (0, _inherits3.default)(Styleverse, _React$Component);
  (0, _createClass3.default)(Styleverse, [{
    key: 'getChildContext',
    value: function getChildContext() {
      return { styleverse: this };
    }
  }]);

  function Styleverse(props) {
    var _ref;

    (0, _classCallCheck3.default)(this, Styleverse);

    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Styleverse.__proto__ || (0, _getPrototypeOf2.default)(Styleverse)).call.apply(_ref, [this, props].concat(args)));

    _initialiseProps.call(_this);

    _this.id = 'Styleverse-' + count;
    count++;

    var plugins = _this.props && _this.props.plugins ? _this.props.plugins : _defaultPlugins2.default;

    _this.installPlugins(plugins);
    return _this;
  }

  (0, _createClass3.default)(Styleverse, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.request('connect', this.handleStore);
    }
  }, {
    key: 'render',


    // componentDidMount() {
    //   raf(()=>{
    //     this.setState({visibility: ''})
    //   })
    // }

    value: function render() {
      var styleContextProps = this.state.styleContext;
      if (!styleContextProps) styleContextProps = this.props.styleContext || {};
      if (styleContextProps.toJS) styleContextProps = styleContextProps.toJS();
      styleContextProps = (0, _assign2.default)({}, styleContextPropsDefault, styleContextProps);

      return createVNode(2, 'div', {
        'id': this.id,
        'className': 'styleverse',
        'style': { visibility: 'hidden' }
      }, [createVNode(2, 'style', {
        'id': 'reset-styles',
        'dangerouslySetInnerHTML': { __html: _resetStyles2.default }
      }), createVNode(16, RootSheet), createVNode(16, _uiViewportContext2.default, {
        children: createVNode(16, _uiScrollContext2.default, {
          'target': 'document',
          children: createVNode(16, _styleContext2.default, (0, _extends3.default)({}, styleContextProps, {
            'ROOT': true,
            children: this.props.children
          }))
        })
      })]);
    }
  }, {
    key: 'compile',
    value: function compile(string) {
      return this.compiler.compile(string);
    }
  }]);
  return Styleverse;
}(_infernoCompat2.default.Component);

Styleverse.displayName = 'Styleverse';
Styleverse.childContextTypes = {
  styleverse: _infernoCompat.PropTypes.object.isRequired
};

var _initialiseProps = function _initialiseProps() {
  var _this3 = this;

  this.state = {
    styleContext: undefined
  };
  this.plugins = undefined;
  this.StyleStoreStruct = undefined;
  this.compiler = undefined;

  this.handleStore = function (store) {
    var styleContext = store.get('styleContext');
    if (!styleContext) return;
    _this3.setState({ styleContext: styleContext }, NOOP);
  };

  this.installPlugins = function (_plugins) {
    if (_this3.plugins) throw new Error('Cannot set Styleverse plugins more than once or after initial <StyleContext> component instantiation');

    var names = (0, _keys2.default)(_plugins);
    var namesWithComponent = [];
    var namesWithParser = [];

    var components = {};
    var parsers = {};
    var structs = {};

    for (var i = 0, len = names.length; i < len; i++) {
      var pluginName = names[i];

      var plugin = _plugins[pluginName];
      if (plugin.Component) {
        components[pluginName] = plugin.Component;
        namesWithComponent.push(pluginName);
      }
      if (plugin.Parser) {
        parsers[pluginName] = plugin.Parser;
        namesWithParser.push(pluginName);
      }
      if (plugin.Struct) {
        structs[pluginName] = plugin.Struct;
      }
    }

    var componentsToRenderFromProps = function componentsToRenderFromProps(props) {
      var toRender = [];

      // looping length to 0 so plugin component parent-child nesting is correct order
      for (var _i = namesWithComponent.length - 1; _i >= 0; _i--) {
        var _pluginName = namesWithComponent[_i];
        if (props[_pluginName]) toRender.push(_pluginName);
      }

      return toRender;
    };

    var plugins = {
      names: names,
      namesWithParser: namesWithParser,
      namesWithComponent: namesWithComponent,
      parsers: parsers,
      components: components,
      structs: structs,
      componentsToRenderFromProps: componentsToRenderFromProps
    };

    _this3.StyleStoreStruct = (0, _makeStyleStoreStruct2.default)(plugins);
    _this3.plugins = plugins;
    _this3.compiler = new _compiler2.default(plugins);
  };
};

Styleverse = (0, _cymatics.installStore)(Styleverse, 'styleverse', function () {
  return new _StyleverseStore2.default();
});

exports.default = Styleverse;

var RootSheet = function (_React$Component2) {
  (0, _inherits3.default)(RootSheet, _React$Component2);

  function RootSheet() {
    var _ref2;

    var _temp, _this2, _ret;

    (0, _classCallCheck3.default)(this, RootSheet);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret = (_temp = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref2 = RootSheet.__proto__ || (0, _getPrototypeOf2.default)(RootSheet)).call.apply(_ref2, [this].concat(args))), _this2), _this2.state = {
      storeHashCode: undefined,
      sheet_ids: []
    }, _this2.shouldUpdate = false, _this2.sheets = [], _this2.sheet_needsRender = function (id, sheet) {
      var sheet_ids = _this2.state.sheet_ids;
      var index = sheet_ids.indexOf(id);
      if (index === -1) {
        sheet_ids.push(id);
        _this2.sheets.push(sheet);
        // sheet.setRootSheetIndex(index)
        // this.setState({sheet_ids})
      } else {
        _this2.sheets.splice(index, 1, sheet);
      }
      _this2.shouldUpdate = true;
      _this2.setState({ sheet_ids: sheet_ids }, NOOP);
    }, _this2.sheet_willUnmount = function (id) {
      var sheet_ids = _this2.state.sheet_ids;
      var index = sheet_ids.indexOf(id);
      if (index > -1) {
        sheet_ids.splice(index, 1);
        _this2.sheets.splice(index, 1);
        // sheet.setRootSheetIndex(index)
        // this.setState({sheet_ids})
      }
      _this2.shouldUpdate = true;
      _this2.setState({ sheet_ids: sheet_ids }, NOOP);
    }, _this2.handleStyleverse = function (store) {
      var storeHashCode = store.state.hashCode();
      if (_this2.state.storeHashCode === storeHashCode) return;
      _this2.shouldUpdate = true;
      _this2.setState({ storeHashCode: storeHashCode });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this2, _ret);
  }

  (0, _createClass3.default)(RootSheet, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.readyStyles = createVNode(2, 'style', {
        'dangerouslySetInnerHTML': { __html: '.styleverse {visibility: inherit !important;}' }
      }, null, null, 'root-ready-styles');
      var styleverse = this.context.styleverse;
      styleverse.rootSheet = this;
      styleverse.sheet_needsRender = this.sheet_needsRender;
      styleverse.sheet_willUnmount = this.sheet_willUnmount;
      styleverse.store.request('connect', this.handleStyleverse);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      var styleverse = this.context.styleverse;
      styleverse.store.request('disconnect', this.handleStyleverse);
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      if (!nextState) return false;
      if (!this.shouldUpdate) return false;
      return true;
    }
  }, {
    key: 'render',
    value: function render() {
      var styleverseStore = this.context.styleverse.store;
      var renderedCSS = styleverseStore.get('renderedCSS');

      this.shouldUpdate = false;
      if (!this.sheets.length && !renderedCSS) return null;
      var children = [this.readyStyles];
      if (renderedCSS) children.push(renderedCSS);
      for (var i = 0; i < this.sheets.length; i++) {
        var sheet = this.sheets[i];
        children = children.concat(sheet);
      }
      return createVNode(2, 'span', {
        'id': 'styleverse-root-sheet',
        'style': { display: 'block', height: 0, width: 0, position: 'absolute' }
      }, children, null, 'styleverse-root-sheet');
    }
  }]);
  return RootSheet;
}(_infernoCompat2.default.Component);

RootSheet.contextTypes = {
  styleverse: _infernoCompat.PropTypes.object.isRequired
};
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 243 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var BaseStruct = (0, _immutable.Struct)({});

exports.default = BaseStruct;
module.exports = exports['default'];

/***/ }),
/* 244 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var possibleRatioBP = ['s', 'm', 'l', 'xl'];

var possible = ['media-xl', 'media-l', 'media-m', 'media-s', 'media-xs', 'el-xl', 'el-l', 'el-m', 'el-s', 'el-xs'];

var BreakpointStruct = (0, _immutable.Struct)({

  // inputs

  viewport: undefined,

  'styleStore': {
    // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    set: function set(styleStore) {
      if (!styleStore) return {};
      var rootBreakpoint = styleStore.get('breakpoint.root');
      if (!rootBreakpoint) return { isRoot: true };
      return { _root: rootBreakpoint };
    }
  },

  // if no other breakpoints set before it
  '_root': undefined,
  'isRoot': undefined,
  'root': {
    set: function set(root) {
      return { _root: root };
    },

    deps: ['_root'],
    get: function get(_root) {
      if (!_root) return this;
      return _root;
    }
  },

  'isWindow': false,

  'constrain': undefined,

  'width': undefined,

  'height': undefined,

  'target': {
    init: function init(val) {
      return { isWindow: val === 'window' };
    },
    set: function set(val) {
      return { isWindow: val === 'window' };
    }
  },

  'sizes': {
    default: (0, _immutable.Map)({

      /* media-xl XL devices (Cinema displays, 1600px and up) */
      'media-xl': 1600,

      /* media-l Large devices (large desktops, 1200px and up) */
      'media-l': 1200,

      /* media-m Medium devices (desktops, 992px and up) */
      'media-m': 992,

      /* media-s Small devices (tablets, 768px and up) */
      'media-s': 760,

      /* media-xs Extra small devices (phones, less than 768px) */
      'media-xs': 600,

      /* el-xl */
      'el-xl': 500,

      /* el-l */
      'el-l': 400,

      /* el-m */
      'el-m': 320,

      /* el-s */
      'el-s': 256,

      /* el-xs */
      'el-xs': 0

    })
  },

  // computed

  className: {
    deps: '*',
    get: function get() {
      var g = this.get.bind(this);
      var className = '';
      className += 'bp--' + this.get('size');
      className += ' bp-w--' + g('width');
      className += ' bp-h--' + g('height');
      className += ' bp-type--' + g('type');
      className += ' bp-ori--' + g('orientation');
      className += ' bp-ratio--' + g('ratio');
      className += ' bp-ratio-sz--' + g('ratioSize');

      if (this.isRatioSizeGTE('xl')) className += ' bp-ratio-gte-xl';
      if (this.isRatioSizeGTE('l')) className += ' bp-ratio-gte-l';
      if (this.isRatioSizeGTE('m')) className += ' bp-ratio-gte-m';
      if (this.isRatioSizeGTE('s')) className += ' bp-ratio-gte-s';

      if (this.isSizeLTE('media-xl')) className += ' bp-lte-media-xl';
      if (this.isSizeLTE('media-l')) className += ' bp-lte-media-l';
      if (this.isSizeLTE('media-m')) className += ' bp-lte-media-m';
      if (this.isSizeLTE('media-s')) className += ' bp-lte-media-s';
      if (this.isSizeLTE('media-xs')) className += ' bp-lte-media-xs';
      if (this.isSizeLTE('el-xl')) className += ' bp-lte-el-xl';
      if (this.isSizeLTE('el-l')) className += ' bp-lte-el-l';
      if (this.isSizeLTE('el-m')) className += ' bp-lte-el-m';
      if (this.isSizeLTE('el-s')) className += ' bp-lte-el-s';
      if (this.isSizeLTE('el-xs')) className += ' bp-lte-el-xs';

      if (g('isWindow')) className += ' bp-target-is-window';
      return className;
    }
  },

  'size': {
    deps: ['width', 'isWindow', 'isRatioSizeGTE', 'sizes'],
    get: function get(width, tagetIsWindow, isRatioSizeGTE, sizes) {
      var startIndex = 0;

      if (tagetIsWindow) {
        // when targeting window, don't adjust breakpoints based on degree of ratio
        startIndex = 0;
      } else if (isRatioSizeGTE('xl')) {
        startIndex = 4;
      } else if (isRatioSizeGTE('l')) {
        startIndex = 2;
      } else if (isRatioSizeGTE('m')) {
        startIndex = 0;
      }

      var getBP = function getBP(n) {
        return possible[Math.min(startIndex + n, possible.length - 1)];
      };

      /* media-xl XL devices (Cinema displays, 1600px and up) */
      if (width >= sizes.get('media-xl')) {
        return getBP(0);
        // 6
      }

      /* media-l Large devices (large desktops, 1200px and up) */
      else if (width >= sizes.get('media-l')) {
          return getBP(1);
          // 9
        }

        /* media-m Medium devices (desktops, 992px and up) */
        else if (width >= sizes.get('media-m')) {
            return getBP(2);
            // 9
          }

          /* media-s Small devices (tablets, 768px and up) */
          else if (width >= sizes.get('media-s')) {
              return getBP(3);
              // 12
            }

            /* media-xs Extra small devices (phones, less than 768px) */
            else if (width >= sizes.get('media-xs')) {
                return getBP(4);
                // 15
              }

              /* el-xl */
              else if (width >= sizes.get('el-xl')) {
                  return getBP(5);
                  // 18
                }

                /* el-l */
                else if (width >= sizes.get('el-l')) {
                    return getBP(6);
                    // 18
                  }

                  /* el-m */
                  else if (width >= sizes.get('el-m')) {
                      return getBP(7);
                      // 18
                    }

                    /* el-s */
                    else if (width >= sizes.get('el-s')) {
                        return getBP(8);
                        // 18
                      }

                      /* el-xs */
                      else {
                          // if (width >= 200)
                          return getBP(9);
                          // 18
                        }
    }
  },

  // is('<=', 'media-s')
  'is': {
    params: ['op', 'target'],
    deps: ['size'],
    get: function get(op, target, size) {
      if (op === '==') return size === target;
      if (op === '===') return size === target;
      if (op === '!=') return size !== target;
      if (op === '!==') return size !== target;

      var sizeIndex = possible.indexOf(size);
      var targetIndex = possible.indexOf(target);

      // TODO: warn??
      if (sizeIndex === -1 || targetIndex === -1) return false;

      if (op === '<') return sizeIndex - 1 >= targetIndex;
      if (op === '>') return sizeIndex + 1 <= targetIndex;

      if (op === '<=') return sizeIndex >= targetIndex;
      if (op === '>=') return sizeIndex <= targetIndex;
    }
  },

  'isSizeLTE': {
    params: ['target'],
    deps: ['size'],
    get: function get(target, size) {
      return possible.indexOf(size) >= possible.indexOf(target);
    }
  },

  'isSizeGTE': {
    params: ['target'],
    deps: ['size'],
    get: function get(target, size) {
      return possible.indexOf(size) <= possible.indexOf(target);
    }
  },

  'type': {
    cache: false,
    deps: ['size'],
    get: function get(breakpoint) {
      return breakpoint.split('-')[0];
    }
  },

  'orientation': {
    deps: ['width', 'height'],
    get: function get(w, h) {
      if (w === h) {
        return 's';
      } else if (w > h) {
        return 'l';
      } else {
        return 'p';
      }
    }
  },

  'ratio': {
    cache: false,
    deps: ['width', 'height'],
    get: function get(w, h) {
      return w / h;
    }
  },

  'ratioSize': {
    deps: ['ratio'],
    get: function get(ratio) {
      if (ratio >= 3) {
        return 'xl';
      } else if (ratio >= 2) {
        return 'l';
      } else if (ratio >= 3 / 2) {
        return 'm';
      } else if (ratio >= 1) {
        return 's';
      } else if (ratio >= 2 / 3) {
        return 'm';
      } else if (ratio >= 1 / 2) {
        return 'l';
      } else {
        return 'xl';
      }
    }
  },

  'isRatioSizeGTE': {
    params: ['target'],
    deps: ['ratioSize'],
    get: function get(target, ratioSize) {
      return possibleRatioBP.indexOf(ratioSize) >= possibleRatioBP.indexOf(target);
    }
  }

});

exports.default = BreakpointStruct;
module.exports = exports['default'];

/***/ }),
/* 245 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Color = undefined;

var _deps = __webpack_require__(13);

var _immutable = __webpack_require__(6);

var _colorsToList = __webpack_require__(702);

var _colorsToList2 = _interopRequireDefault(_colorsToList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var blackAndWhite = (0, _immutable.List)(['hsl(0,0%,100%)', 'hsl(0,0%,0%)', 'hsl(0,0%,25%)', 'hsl(0,0%,50%)', 'hsl(0,0%,75%)']);

var ChromaStruct = (0, _immutable.Struct)({

  mountCount: { deps: ['props.mountCount'], get: function get(mc) {
      return mc;
    }
  },

  parent: {
    default: (0, _immutable.Map)({
      type: 'light',
      typeIndex: 0,
      colors: (0, _colorsToList2.default)(_deps.palettes.getRandom())
    })
  },

  props: {
    default: (0, _immutable.Map)({
      type: undefined,
      // light, dark, inverse, vibrant, !light, !dark
      // natural, inverse, natural-inverse
      // {any-css-color-string}

      typeIndex: undefined,
      colors: undefined, // List of colorStrings || 'random' || 'black-and-white'
      randomIfNeeded: true
    }),
    set: function set(props) {
      var colors = props.get ? props.get('colors') : props.colors;
      if (colors) {
        if (colors === 'random') {
          colors = _deps.palettes.getRandom();
        } else if (colors === 'bw') {
          colors = blackAndWhite;
        }
        colors = (0, _colorsToList2.default)(colors);
        if (!props.set) {
          props = (0, _immutable.fromJS)(props);
        }

        props = props.set('colors', colors);
      }

      return { props: props };
    }
  },

  colors: {
    cache: 1,
    set: function set(colors) {
      var props = this.get('props').set('colors', colors);
      return { props: props };
    },

    deps: ['props.colors', 'parent.colors'],
    get: function get(colors, parentColors) {
      if (!colors) return parentColors;
      return colors;
    }
  },

  type: {
    cache: 1,
    set: function set(type) {
      var props = this.get('props').set('type', type);
      return { props: props };
    },

    deps: ['props.type', 'parent'],
    get: function get(type, parent) {
      if (!type) return parent.get('type');
      if (type === 'inverse') return parent.get('inverseType');
      return type;
    }
  },

  typeIndex: {
    cache: false,
    set: function set(typeIndex) {
      var props = this.get('props').set('typeIndex', typeIndex);
      return { props: props };
    },

    deps: ['props.typeIndex', 'parent.typeIndex'],
    get: function get(typeIndex, parent_typeIndex) {
      if (typeof typeIndex !== 'number') return parent_typeIndex;
      return typeIndex;
    }
  },

  // computed props

  // parseVal: {
  //   params: ['']
  //   deps: ['palette'],
  //   get
  // },

  inverseType: {
    deps: ['type'],
    get: function get(type) {
      if (type === 'light') return 'dark';
      if (type === 'dark') return 'light';
      if (type === 'natural') return 'natural-inverse';
      if (type === 'vibrant') return 'light'; // ????
    }
  },

  palette: {
    params: ['key', 'asObj', 'type', 'typeIndex'],
    deps: ['type', 'typeIndex', 'solutionOfType', 'inverseType'],
    get: function get(key, asObj, type, typeIndex, defaultType, defaultTypeIndex, solutionOfType, inverseType) {
      if (type === 'inverse') {
        type = inverseType;
      } else if (!type || type === 'inherit') {
        type = defaultType;
      }
      if (typeof typeIndex !== 'number') typeIndex = defaultTypeIndex;
      var solution = solutionOfType(type, typeIndex);
      var color = solution[key];
      if (asObj && color) return color;
      if (typeof color === 'string') return color;
      if (color.hslString) return color.hslString();

      throw new Error('Chroma struct couldnt find palette(key = ' + key);
    }
  },

  inversePalette: {
    params: ['key', 'asObj'],
    deps: ['palette'],
    get: function get(key, asObj, palette) {
      return palette(key, asObj, 'inverse');
    }
  },

  darkPalette: {
    params: ['key', 'asObj'],
    deps: ['palette', 'type', 'typeIndex'],
    get: function get(key, asObj, palette, type, typeIndex) {
      if (type === 'dark') return palette(key, asObj, typeIndex);
      return palette(key, asObj, 'dark', typeIndex);
    }
  },

  lightPalette: {
    params: ['key', 'asObj'],
    deps: ['palette', 'type', 'typeIndex'],
    get: function get(key, asObj, palette, type, typeIndex) {
      if (type === 'light') return palette(key, asObj, typeIndex);
      return palette(key, asObj, 'light', typeIndex);
    }
  },

  vibrant: {
    deps: ['solutionOfType'],
    get: function get(solutionOfType) {
      return solutionOfType('vibrant');
    }
  },

  Color: {
    cache: false,
    params: ['colorStringOrObj'],
    get: function get(colorStringOrObj) {
      return (0, _deps.Color)(colorStringOrObj);
    }
  },

  gradientMap: {
    deps: ['palette', 'type', 'inverseType', 'typeIndex'],
    get: function get(palette, type, inverseType, typeIndex) {
      var colors = [palette('box', true, type, typeIndex).clone().darken(.3).saturate(.5).hexString(), palette('bg', true, inverseType, typeIndex).clone().mix(palette('box', true, type, typeIndex).clone().saturate(.5).darken(.2), .85).hexString()];

      // let stops = [
      //  0,
      //  .3,
      //  1
      // ]
      return {
        colors: colors
      };
    }
  },

  gradientMapDarkDemph: {
    deps: ['palette', 'type', 'inverseType', 'typeIndex'],
    get: function get(palette, type, inverseType, typeIndex) {
      var colors = [palette('box', true, 'dark', typeIndex).hexString(), palette('box', true, 'dark', typeIndex).clone().mix(palette('box', true, 'light', typeIndex), .04).hexString(), palette('header', true, 'dark', typeIndex).hexString(),
      // palette('title', true, 'light', typeIndex).darken(.5).hexString(),
      palette('bg', true, 'dark', typeIndex).clone().darken(.2).saturate(.5).hexString()];

      // let stops = [
      //  0,
      //  .3,
      //  1
      // ]
      return {
        colors: colors
      };
    }
  },

  gradientMapUrl: {
    params: ['imgUrl'],
    deps: ['palette', 'type', 'inverseType', 'typeIndex'],
    get: function get(imgUrl, palette, type, inverseType, typeIndex) {
      if (imgUrl && imgUrl.length > 0) {
        return _deps.imgflo.ext('gradientmap', {
          width: 1280,
          input: imgUrl,
          stop1: 0.000001,
          stop2: .3,
          stop3: .9999999,
          color1: palette('box', true, type, typeIndex).clone().darken(.5).saturate(.5).hexString(),
          color2: palette('box', true, type, typeIndex).hexString(),
          color3: palette('box', true, inverseType, typeIndex).clone().mix(palette('box', true, type, typeIndex).clone().saturate(.9).darken(.001), .16).hexString(),
          srgb: 'True'
        });
      } else {
        throw new Error('Chroma gradientMapUrl()' + imgUrl);
      }
    }
  },

  gradientMapUrlBlur: {
    params: ['imgUrl'],
    deps: ['palette', 'type', 'inverseType', 'typeIndex'],
    get: function get(imgUrl, palette, type, inverseType, typeIndex) {
      if (imgUrl && imgUrl.length > 0) {
        return _deps.imgflo.ext('gradientmap', {

          input: imgUrl,
          stop1: 0.000001,
          stop2: .3,
          stop3: .9999999,
          color1: palette('box', true, inverseType, typeIndex).clone().darken(.7).saturate(.5).hexString(),
          color2: palette('box', true, inverseType, typeIndex).hexString(),
          color3: palette('box', true, inverseType, typeIndex).clone().mix(palette('box', true, type, typeIndex).clone().saturate(.9).darken(.001), .3).hexString(),
          srgb: 'True',
          // width: 1280,
          width: 7,
          height: 3
        });
      } else {
        throw new Error('Chroma gradientMapUrl()' + imgUrl);
      }
    }
  },

  isDefaultType: {
    params: ['type'],
    deps: ['type'],
    get: function get(type, typeInQuestion) {
      return type === typeInQuestion;
    }
  },

  chromaId: {
    deps: ['colors', 'type', 'typeIndex'],
    get: function get(colors, type, typeIndex) {
      var className = 'CHROMA-from-';
      colors.forEach(function (color) {
        className += color.replace('#', 'HEX_').replace('rgb(', 'RGB_').replace('hsl(', 'HSL_').replace(')', '').replace(/\,/g, '-').replace(/\%/g, '').replace(/\s/g, '');
      });
      className += '-type-' + type;
      className += '-typeIndex-' + typeIndex;
      return className;
    }
  },

  className: {
    deps: ['chromaId', 'type'],
    get: function get(chromaId, type) {
      return chromaId + ' ' + 'color-type-' + type;
    }
  },

  solver: {
    deps: ['colors'],
    get: function get(colors) {
      // let solver = new chromatose.ChromeSolver(colors.toJS())
      return new _deps.chromatose.ChromeSolver(colors.toJS());
    }
  },

  solutionOfType: {
    params: ['type', 'typeIndex'],
    deps: ['solver', 'typeIndex'],
    get: function get(type, typeIndex, solver, defaultTypeIndex) {
      var solution = solver.solve({ base: { type: type, index: typeIndex } });
      // add aditional colors to solution
      // TODO: move to Chromatose?
      solution.placeholder = solution.meta.clone().mix(solution.selection, .2).alpha(.7);
      solution.disabled = solution.meta.clone().mix(solution.box);
      solution.selectionMoreOpaque = solution.selection.clone().alpha(.9);
      solution.selectionOpaque = solution.selection.clone().alpha(1);

      if (solution.isLight) {
        solution.sliderTrackBg = solution.line.clone().mix(solution.meta, .3);
        solution.sliderTrackShadow = 'inset 0 1px 1px rgba(0, 0, 0, 0.2)';
        solution.sliderThumbBg = solution.boxPop; // color_box_pop
        solution.sliderThumbShadow = '0 1px 2px rgba(0, 0, 0, 0.3)';

        solution.lineShadow = 'inset 0 1px 1px rgba(0, 0, 0, 0.1), inset 0 -1px 0px hsla(0, 0%, 100%, 0.4)';
      } else {
        solution.sliderTrackBg = solution.line.clone().mix(solution.meta, .3).hslString();
        solution.sliderTrackShadow = 'inset 0 1px 1px rgba(0, 0, 0, 0.6)';
        solution.sliderThumbBg = solution.boxPop; // color_box_pop
        solution.sliderThumbShadow = '0 1px 2px rgba(0, 0, 0, 0.5)';

        solution.lineShadow = 'inset 0 1px 1px rgba(0, 0, 0, 0.3)';
      }

      // add toString props once so don't have to call many times
      // ==> solution.boxPopString
      // for (let key in solution) {
      //  let val = solution[key]
      //  if (val.hslString) {
      //    solution[key + 'String'] = val.hslString()
      //  }
      //  else if (typeof val === 'string') {
      //    solution[key + 'String'] = val
      //  }
      // }

      return solution;
    }
  },

  solution: {
    // just for cache lookup
    deps: ['type', 'typeIndex', 'chromaId'],
    get: function get(type, typeIndex) {
      return this.solutionOfType(type, typeIndex);
    }
  },

  css: {
    // deps: ['type', 'typeIndex', 'cssOfType'],
    get: function get(type, typeIndex, cssOfType) {
      throw new Error('Styleverse Chroma Plugin: get(css) is deprecated & no longer supported');
      // return cssOfType(type, typeIndex)
    }
  },

  render: {
    params: ['renderer'],
    deps: ['css'],
    get: function get(renderer, css) {
      return renderer(css);
    }
  },

  // selector helper
  $: {
    params: ['selector'],
    deps: ['chromaId'],
    get: function get(selector, chromaId) {
      var prefix = '.' + chromaId;

      return prefix + ' ' + selector;
    }
  }

});

exports.default = ChromaStruct;
exports.Color = _deps.Color;

/***/ }),
/* 246 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

/*
TODO

.bp-lte-media-m .d--n-at-bp-lte-media-m { display: none; }
.bp-lte-el-l .d--n-at-bp-lte-el-l { display: none; }
.bp-lte-el-m .d--n-at-bp-lte-el-m { display: none; }
.bp-lte-el-s .d--n-at-bp-lte-el-s { display: none; }
.bp-lte-el-xs .d--n-at-bp-lte-el-xs { display: none; }

*/

var LayoutStruct = (0, _immutable.Struct)({

  // inputs
  typography: undefined,
  breakpoint: undefined,
  goldDivsMin: 3,
  goldDivsMax: 21,

  viewport: undefined,
  node: undefined,

  // computed

  'header-h': {
    deps: ['goldY'],
    get: function get(goldY) {
      var h = goldY(-1);
      return Math.max(h, 540);
    }
  },

  vw: {
    params: ['n', 'divs'],
    deps: ['viewport.width'],
    get: function get(n, divs, size) {
      if (!divs) divs = 100;
      // if (n < 0) return size * (n + divs) / divs
      return size * n / divs;
    }
  },

  vh: {
    params: ['n', 'divs'],
    deps: ['viewport.height'],
    get: function get(n, divs, size) {
      if (!divs) divs = 100;
      // if (n < 0) return size * (n + divs) / divs
      return size * n / divs;
    }
  },

  nw: {
    params: ['n', 'divs'],
    deps: ['node.width'],
    get: function get(n, divs, size) {
      if (!divs) divs = 100;
      // if (n < 0) return size * (n + divs) / divs
      return size * n / divs;
    }
  },

  nh: {
    params: ['n', 'divs'],
    deps: ['node.height'],
    get: function get(n, divs, size) {
      if (!divs) divs = 100;
      // if (n < 0) return size * (n + divs) / divs
      return size * n / divs;
    }
  },

  npw: {
    params: ['n', 'divs'],
    deps: ['node.parent.width'],
    get: function get(n, divs, size) {
      if (!divs) divs = 100;
      // if (n < 0) return size * (n + divs) / divs
      return size * n / divs;
    }
  },

  nph: {
    params: ['n', 'divs'],
    deps: ['node.parent.height'],
    get: function get(n, divs, size) {
      if (!divs) divs = 100;
      // if (n < 0) return size * (n + divs) / divs
      return size * n / divs;
    }
  },

  goldX: {
    params: ['n', 'divs'],
    deps: ['goldDivsAuto', 'breakpoint.width'],
    get: function get(n, divs, divsAuto, size) {
      if (!divs) divs = divsAuto;
      if (n < 0) return size * (n + divs) / divs;
      return size * n / divs;
    }
  },

  goldY: {
    params: ['n', 'divs'],
    deps: ['goldDivsAuto', 'breakpoint.height'],
    get: function get(n, divs, divsAuto, size) {
      if (!divs) divs = divsAuto;
      if (n < 0) return size * (n + divs) / divs;
      return size * n / divs;
    }
  },

  goldDivsAuto: {
    deps: ['breakpoint.size', 'goldDivsMin', 'goldDivsMax'],
    get: function get(bp, min, max) {
      var auto = 9;

      if (bp === 'media-xl') {
        auto = 6;
      } else if (bp === 'media-l') {
        auto = 8;
      } else if (bp === 'media-m') {
        auto = 9;
      } else if (bp === 'media-s') {
        auto = 12;
      } else if (bp === 'media-xs') {
        auto = 15;
      } else if (bp === 'el-xl') {
        auto = 9;
      } else if (bp === 'el-l') {
        auto = 9;
      } else if (bp === 'el-m') {
        auto = 12;
      } else if (bp === 'el-s') {
        auto = 15;
      } else if (bp === 'el-xs') {
        auto = 18;
      }

      return Math.max(Math.min(max, auto), min);
    }
  }

});

exports.default = LayoutStruct;
module.exports = exports['default'];

/***/ }),
/* 247 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var TypographyStruct = (0, _immutable.Struct)({

  // inputs

  breakpoint: undefined,

  isTypography: {
    default: true
  },

  //
  fonts: {
    default: {
      'd': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"TradeGothicNextLight", "Trade Gothic Next LT Pro Light"',
          'font-weight': '300 !important',
          'font-style': 'normal !important',
          'letter-spacing': 0
        }
      },

      'd3': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"TradeGothicNextBold", "Trade Gothic Next LT Pro Bold", "HelveticaNeue-CondensedBold", -apple-system, ".SFNSText-Regular", "San Francisco", "Roboto", "Segoe UI", "Helvetica Neue", "Lucida Grande", sans-serif',
          'font-weight': '700 !important',
          'font-style': 'normal !important',
          'letter-spacing': 0
        }
      },

      'd2': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"TradeGothicNextBoldCondensed", "Trade Gothic Next LT Pro Bold Condensed", "HelveticaNeue-CondensedBold", "HelveticaNeue-CondensedBlack", -apple-system, ".SFNSText-Regular", "San Francisco", "Roboto", "Segoe UI", "Helvetica Neue", "Lucida Grande", sans-serif',
          'font-weight': '700 !important',
          'font-style': 'normal !important',
          'letter-spacing': '-0.03em'
        }
      },

      'txt': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"GeorgiaProItalic", "Trade Gothic Next LT Pro Light"',
          'font-weight': '400 !important',
          'font-style': 'italic !important',
          'letter-spacing': 0
        }
      },

      'txt2': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': ' -apple-system, ".SFNSText-Regular", "San Francisco", "Roboto", "Segoe UI", "Helvetica Neue", "Lucida Grande", sans-serif',
          'letter-spacing': 0
        }
      },

      'num': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"GeorgiaProItalic", "Trade Gothic Next LT Pro Light"',
          'font-weight': '400 !important',
          'font-style': 'italic !important',
          'letter-spacing': 0
        }
      }
    }
  },

  // computed

  'fnt-sz': {
    deps: ['breakpoint.isSizeGTE'],
    get: function get(isSizeGTE) {

      var sz = void 0;

      if (isSizeGTE('media-xl')) {
        sz = {
          'd-xxl': 166,
          'd-xl': 112,
          'd-l': 80,
          'd': 56,
          'd-m': 56,
          'd-s': 36,

          'txt-l': 24,
          'txt': 20,
          'txt-s': 16,
          'txt-xs': 14,

          'icon': 24
        };
      } else if (isSizeGTE('media-l')) {
        sz = {
          'd-xxl': 130,
          'd-xl': 96,
          'd-l': 72,
          'd': 48,
          'd-m': 48,
          'd-s': 32,

          'txt-l': 24,
          'txt': 20,
          'txt-s': 16,
          'txt-xs': 14,

          'icon': 24
        };
      } else if (isSizeGTE('media-s')) {
        sz = {
          'd-xxl': 104,
          'd-xl': 88,
          'd-l': 64,
          'd': 40,
          'd-m': 40,
          'd-s': 32,

          'txt-l': 20,
          'txt': 16,
          'txt-s': 16,
          'txt-xs': 14,

          'icon': 24
        };
      } else if (isSizeGTE('media-xs')) {
        sz = {
          'd-xxl': 96,
          'd-xl': 80,
          'd-l': 56,
          'd': 36,
          'd-m': 36,
          'd-s': 24,

          'txt-l': 20,
          'txt': 16,
          'txt-s': 14,
          'txt-xs': 12,

          'icon': 24
        };
      } else if (isSizeGTE('el-xl')) {
        sz = {
          'd-xxl': 72,
          'd-xl': 56,
          'd-l': 40,
          'd': 32,
          'd-m': 32,
          'd-s': 24,

          'txt-l': 20,
          'txt': 16,
          'txt-s': 14,
          'txt-xs': 10,

          'icon': 24
        };
      } else if (isSizeGTE('el-l')) {
        sz = {
          'd-xxl': 64,
          'd-xl': 48,
          'd-l': 32,
          'd': 24,
          'd-m': 24,
          'd-s': 20,

          'txt-l': 16,
          'txt': 14,
          'txt-s': 12,
          'txt-xs': 10,

          'icon': 24
        };
      } else if (isSizeGTE('el-m')) {
        sz = {
          'd-xxl': 50,
          'd-xl': 32,
          'd-l': 24,
          'd': 20,
          'd-m': 20,
          'd-s': 20,

          'txt-l': 16,
          'txt': 14,
          'txt-s': 12,
          'txt-xs': 10,

          'icon': 24
        };
      } else if (isSizeGTE('el-s')) {
        sz = {
          'd-xxl': 40,
          'd-xl': 20,
          'd-l': 16,
          'd': 16,
          'd-m': 16,
          'd-s': 14,

          'txt-l': 14,
          'txt': 12,
          'txt-s': 10,
          'txt-xs': 10,

          'icon': 20
        };
      } else {
        sz = {
          'd-xxl': 40,
          'd-xl': 20,
          'd-l': 16,
          'd': 16,
          'd-m': 16,
          'd-s': 14,

          'txt-l': 14,
          'txt': 12,
          'txt-s': 10,
          'txt-xs': 0,

          'icon': 16
        };
      }

      return (0, _immutable.Map)(sz);
    }
  }
});

exports.default = TypographyStruct;
module.exports = exports['default'];

/***/ }),
/* 248 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _StyleContext = __webpack_require__(734);

var _StyleContext2 = _interopRequireDefault(_StyleContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _StyleContext2.default;
module.exports = exports['default'];

/***/ }),
/* 249 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var VPState = (0, _immutable.Struct)({
  // target: undefined, // string
  // resizeTarget: undefined, // string
  width: undefined,
  height: undefined,
  x: undefined,
  y: undefined
}, {
  defaultCache: false
});

var initialState = new VPState({});

// TODO!!!
var USER_AGENT = void 0;
var iOS = void 0;
var webkit = void 0;
var iOSSafari = void 0;

// ensuring window measurement happens only once when needed
var prev_windowWidth = void 0;
var prev_windowHeight = void 0;
var windowWidth = void 0;
var windowHeight = void 0;
var isListeningToWindow = false;
var windowListeners = [];
function measureWindow() {
  prev_windowWidth = windowWidth;
  prev_windowHeight = windowHeight;
  windowWidth = window.innerWidth;
  windowHeight = window.innerHeight;
}
function _onWindowResize() {
  measureWindow();
  if (iOSSafari) {
    if (prev_windowWidth === windowWidth || prev_windowHeight === windowHeight) {
      windowWidth = prev_windowWidth;
      windowHeight = prev_windowHeight;
      return;
    }
  }
  if (!USER_AGENT) {
    USER_AGENT = window.navigator.userAgent;
    iOS = !!USER_AGENT.match(/iPad/i) || !!USER_AGENT.match(/iPhone/i);
    webkit = !!USER_AGENT.match(/WebKit/i);
    iOSSafari = iOS && webkit && !USER_AGENT.match(/CriOS/i);
  }
  for (var i = 0; i < windowListeners.length; i++) {
    windowListeners[i]();
  }
}

// TODO decrease long trailing throttle time with a requestStyleFrame or something...
//let onWindowResize = raf.throttle(_onWindowResize, {leading: true, delay: 120})
var onWindowResize = (0, _deps.debounce)(_onWindowResize, 240);
function listenToWindowIfNeeded() {
  if (isListeningToWindow) return;
  isListeningToWindow = true;
  window.addEventListener('resize', onWindowResize);
  measureWindow();
}

var count = 0;

var ViewportStore = function (_Store) {
  (0, _inherits3.default)(ViewportStore, _Store);
  (0, _createClass3.default)(ViewportStore, [{
    key: 'shouldCommit',


    // debug = true
    value: function shouldCommit(state) {
      // console.log(this.count,'vp shouldCommit', {width:state.get('width'), height:state.get('height')},(state.get('width') !== undefined && state.get('height') !== undefined))
      return state.get('width') !== undefined && state.get('height') !== undefined;
    }
  }]);

  function ViewportStore() {
    (0, _classCallCheck3.default)(this, ViewportStore);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ViewportStore.__proto__ || (0, _getPrototypeOf2.default)(ViewportStore)).call(this));

    _this.name = 'viewport';
    _this.state = initialState;
    _this.deferCommit = false;
    _this.props = undefined;
    _this.isListening = false;
    _this.targetElement = undefined;
    _this.actions = {

      // 'update-props': (state, props) => {
      //  if (this.props) {
      //    let currentTarget = this.props.target
      //    let target = props.target
      //    let currentResizeTarget = this.props.resizeTarget
      //    let resizeTarget = props.resizeTarget
      //    if (currentTarget !== target || currentResizeTarget !== resizeTarget) state = this.actions.unlistenIfNeeded(state)
      //  }
      //  this.props = props
      //  //return state
      //  return state.merge(props)
      // },

      'listenIfNeeded': function listenIfNeeded(state) {
        if (_this.isListening) return state;
        return _this.actions.listen(state);
      },

      'listen': function listen(state) {

        var target = 'window';
        var resizeTarget = 'window';

        if (target === 'window') {
          _this.targetElement = window;
          // window.addEventListener('resize', listener)
          windowListeners.push(_this.listener);
          _this.isListening = true;
        }

        return _this.actions.measure(state);
      },

      'unlistenIfNeeded': function unlistenIfNeeded(state) {
        if (!_this.isListening) return state;
        return _this.actions.unlisten(state);
      },

      'unlisten': function unlisten(state) {

        windowListeners.splice(windowListeners.indexOf(_this.listener), 1);
        _this.isListening = false;
        _this.targetElement = undefined;
        return state;
      },

      'measure': function measure(state) {

        var toMerge = _this.measureRect();

        if (!toMerge) return state;

        state = state.merge(toMerge);

        return state;
      },

      'teardown': function teardown(state) {
        _this.actions.unlistenIfNeeded(state);
        _this.props = undefined;
        _this.isListening = false;
        _this.targetElement = undefined;
        return initialState;
      }

    };

    _this.count = count;
    count++;

    listenToWindowIfNeeded();

    var request = _this.request;

    _this._measure = function () {
      request('measure');
      // raf.cancel(this.__measure)
      // raf(this.__measure)
    };

    // this.willMeasure = () => {
    //       raf.cancel(this._measure)
    //       raf(this._measure)
    //     }
    _this.willMeasure = _this._measure;

    // this.__measure = () => {
    //  raf(this.___measure)
    // }
    // this.___measure = () => {
    //  request( 'measure' )
    // }

    _this.listener = _this.willMeasure;
    // let listener = throttle(this.willMeasure, 16, {leading: true, trailing: true})
    // let listener = debounce(this.willMeasure, 16)

    _this.measureRect = function () {
      return {
        width: windowWidth,
        height: windowHeight,
        x: 0,
        y: 0
      };
    };

    return _this;
  }

  return ViewportStore;
}(_cymatics.Store);

exports.default = ViewportStore;
module.exports = exports['default'];

/***/ }),
/* 250 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

exports.default = function (id) {
  if (typeof id !== 'string') return extendTarget(id);
  function extendTarget(target) {
    var _desc, _value, _class;

    // not sure if this is safe
    ++count;
    return _class = function (_target) {
      (0, _inherits3.default)(GetIdComponent, _target);

      function GetIdComponent() {
        (0, _classCallCheck3.default)(this, GetIdComponent);
        return (0, _possibleConstructorReturn3.default)(this, (GetIdComponent.__proto__ || (0, _getPrototypeOf2.default)(GetIdComponent)).apply(this, arguments));
      }

      (0, _createClass3.default)(GetIdComponent, [{
        key: 'getId',
        value: function getId(postfix) {
          if (this && this.props && this.props.id) return postfix ? this.props.id + '-' + postfix : this.props.id;

          return postfix ? id + count + '-' + postfix : id + count;
        }
      }, {
        key: 'sel',
        value: function sel(postfix) {
          return '#' + this.getId(postfix);
        }
      }]);
      return GetIdComponent;
    }(target), (_applyDecoratedDescriptor(_class.prototype, 'getId', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'getId'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'sel', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'sel'), _class.prototype)), _class;
  }
  return extendTarget;
};

var _coreDecorators = __webpack_require__(38);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
} // export default function(id) {
//   return function(target) {
//     return class GetIdComponent extends target {
//       getId(postfix) {
//         if (postfix) return id + '-' + id
//         return id
//       }
//     }
//   }
// }


var count = 0;
// can extend with options or just class
module.exports = exports['default'];

/***/ }),
/* 251 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.stringContainsAnyOf = exports.cleanUrl = exports.subscribe = exports.publish = exports.itemHelper = exports.imgflo = exports.imgFloExt = exports.imgFloUrl = undefined;

var _pubSub = __webpack_require__(752);

var _itemHelper = __webpack_require__(751);

var _imgfloHelper = __webpack_require__(750);

exports.imgFloUrl = _imgfloHelper.imgFloUrl;
exports.imgFloExt = _imgfloHelper.imgFloExt;
exports.imgflo = _imgfloHelper.imgflo;
exports.itemHelper = _itemHelper.itemHelper;
exports.publish = _pubSub.publish;
exports.subscribe = _pubSub.subscribe;
var cleanUrl = exports.cleanUrl = function cleanUrl(str) {
  return str.toString().toLowerCase().replace(/https?:\/\//, '').replace(/\/$/, '');
};

/**
 * @TODO:
 * - [ ] containsAllOf
 * - [ ] case insensitive flags
 *
 * pass in a string to compare to an array of strings
 *
 * @example
 * // can is in canada, so yes.
 * stringContainsAnyOf('canada', ['eh', 'can'])
 */
var stringContainsAnyOf = exports.stringContainsAnyOf = function stringContainsAnyOf(string, strings) {
  for (var i = 0, len = strings.length; i < len; i++) {
    if (string.includes(strings[i])) return true;
  }return false;
};

/***/ }),
/* 252 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// checks if the function can be bound
// @example `() => {}` cannot be bound
// @example `function() {}` can be bound
function isBindable(func) {
  return func && func.hasOwnProperty('prototype');
}

exports.default = isBindable;
module.exports = exports['default'];

/***/ }),
/* 253 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.raf = exports.debounce = exports.throttle = undefined;

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

window.raf = raf
var time = Date.now();
var func = raf.throttle(function(){var next = Date.now(); console.log('x --------- ',next-time); time=next;}, {leading:2, delay: 32})
var i =0
function tick(){
  i++
  if(i < 32){ setTimeout(tick,1) }
  func('x')
  console.log('-',i)
}
setTimeout(tick,1)
*/

var DEFAULT_THROTTLE_OPTIONS = {
  leading: 0, // 0 === wait for delay, 1 === wait for raf, 2 === before raf
  delay: 0
};
function throttle(callback, options) {
  if (!options) {
    options = DEFAULT_THROTTLE_OPTIONS;
  } else {
    options = (0, _assign2.default)({}, DEFAULT_THROTTLE_OPTIONS, options);
  }
  var _options = options,
      leading = _options.leading,
      delay = _options.delay;


  if (leading === true) leading = 1;

  var requestId = null;
  var startTime = null;
  var is_leading = false;
  var args_to_apply = undefined;

  var execution_count = 0;
  var request_count = 0;
  var immediate = false;
  var leadingDone_request = void 0;
  function later() {
    // console.log('..later',{immediate,request_count,execution_count})
    if (immediate) {
      immediate = false;
      var _args = args_to_apply;
      args_to_apply = undefined;
      execution_count++;
      // console.log('...lead!!!')
      _raf2.default.cancel(leadingDone_request);
      leadingDone_request = (0, _raf2.default)(leadingDone);
      return callback.apply(undefined, (0, _toConsumableArray3.default)(_args));
    }

    if (delay && startTime) {
      var elapsed = Date.now() - startTime;
      if (elapsed < delay) {
        requestId = (0, _raf2.default)(later);
        _raf2.default.cancel(leadingDone_request);
        leadingDone_request = (0, _raf2.default)(leadingDone);
        return;
      }
    }

    startTime = null;
    requestId = null;
    var args = args_to_apply;
    args_to_apply = undefined;
    var results = void 0;
    if (execution_count !== request_count) {
      execution_count++;
      // console.log('exec!!!!')
      results = callback.apply(undefined, (0, _toConsumableArray3.default)(args));
    }
    _raf2.default.cancel(leadingDone_request);
    leadingDone_request = (0, _raf2.default)(leadingDone);
    return results;
  }

  function leadingDone() {
    // console.log('leadingDone')
    is_leading = false;
  }
  function throttled() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    // console.log('throttled()')
    args_to_apply = args;
    if (execution_count === request_count) request_count++;
    if (requestId === null) {
      if (leading && startTime === null && !is_leading) {
        is_leading = true;
        immediate = true;
        // console.log('lead...')
        if (leading === 2) {
          later();
        } else {
          (0, _raf2.default)(later);
        }
      }
      if (delay && startTime === null) startTime = Date.now();
      // console.log('raf(later)..')
      requestId = (0, _raf2.default)(later);
    }
    _raf2.default.cancel(leadingDone_request);
    leadingDone_request = (0, _raf2.default)(leadingDone);
  }
  function tick() {}
  function cancel() {
    if (requestId) {
      _raf2.default.cancel(requestId);
      requestId = null;
    }
    if (leadingDone_request) {
      _raf2.default.cancel(leadingDone_request);
      leadingDone_request = null;
    }
    immediate = false;
    startTime = null;
    args_to_apply = undefined;
    is_leading = false;
    execution_count = 0;
    request_count = 0;
  }
  throttled.cancel = cancel;
  return throttled;
}

var DEFAULT_DEBOUNCE_OPTIONS = {
  leading: false,
  delay: 0
};
function debounce(callback, options) {
  if (!options) {
    options = DEFAULT_DEBOUNCE_OPTIONS;
  } else {
    options = (0, _assign2.default)({}, DEFAULT_DEBOUNCE_OPTIONS, options);
  }
  var _options2 = options,
      leading = _options2.leading,
      delay = _options2.delay;

  var requestId = null;
  var end_request = null;
  var startTime = void 0;
  var args_to_apply = void 0;
  function debounced() {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    args_to_apply = args;
    if (requestId === null) {
      if (leading) later(args);
    } else {
      _raf2.default.cancel(requestId);
    }
    if (delay) startTime = Date.now();
    requestId = (0, _raf2.default)(later(args));
  }
  function later(args) {
    return function () {
      if (delay) {
        var elapsed = Date.now() - startTime;
        if (elapsed < delay) {
          requestId = (0, _raf2.default)(later(args));
          return;
        }
      }
      requestId = null;
      _raf2.default.cancel(end_request);
      end_request = (0, _raf2.default)(end);
    };
  }
  function end() {
    if (!requestId) {
      var args = args_to_apply;
      end_request = undefined;
      args_to_apply = undefined;
      return callback.apply(undefined, (0, _toConsumableArray3.default)(args));
    }
  }
  function cancel() {
    if (requestId) _raf2.default.cancel(requestId);
    if (end_request) _raf2.default.cancel(end_request);
    startTime = null;
    requestId = null;
    end_request = null;
    args_to_apply = undefined;
  }
  debounced.cancel = cancel;
  return debounced;
}

_raf2.default.throttle = throttle;
_raf2.default.debounce = debounce;
exports.default = _raf2.default;
exports.throttle = throttle;
exports.debounce = debounce;
exports.raf = _raf2.default;

/***/ }),
/* 254 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.goToPath = undefined;

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

exports.omit = omit;
exports.merge = merge;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function omit(obj, keys) {
  var target = {};
  for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;
    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;
    target[i] = obj[i];
  }
  return target;
}

function mergeSingle(base, obj) {
  for (var key in obj) {
    var val = obj[val];
    base[key] = val;
  }
  return base;
}

function merge(base) {
  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  for (var i = 0; i < args.length; i++) {
    if (args[i]) {
      base = mergeSingle(base, args[i]);
    }
  }
  return base;
}

// this will keep query strings (e.g. ?siteID=...) when changing paths
// prefixes '/app' unless absolute is true
var goToPath = exports.goToPath = function goToPath(path, param) {
  var removeParam = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var absolute = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

  // FIXME: no more globals, please.
  var history = window.G.history;

  var location = history.createLocation(window.location);
  location.pathname = absolute ? path : "/app/" + path;
  if (param && !removeParam) {
    var _param = (0, _slicedToArray3.default)(param, 2),
        key = _param[0],
        id = _param[1];

    location.query[key] = id;
  } else if (param && removeParam) {
    var _param2 = (0, _slicedToArray3.default)(param, 1),
        _key2 = _param2[0];

    location.query = omit(location.query, [_key2]);
  }
  history.push(location);
};

/***/ }),
/* 255 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AbstractMediaUploader = function (_Component) {
  (0, _inherits3.default)(AbstractMediaUploader, _Component);

  function AbstractMediaUploader() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AbstractMediaUploader);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AbstractMediaUploader.__proto__ || (0, _getPrototypeOf2.default)(AbstractMediaUploader)).call.apply(_ref, [this].concat(args))), _this), _this.onUploadProgress = function (fieldName) {
      return function (progress) {
        _this.isUploading = true;

        var _this$state = _this.state,
            uploads = _this$state.uploads,
            errors = _this$state.errors;

        uploads[fieldName] = progress;
        delete errors[fieldName];
        _this.setState({ uploads: uploads, errors: errors });
      };
    }, _this.onUploadError = function (fieldName) {
      return function (reason) {
        _this.isUploading = false;
        _this.isFinishedUploading = false;

        var _this$state2 = _this.state,
            uploads = _this$state2.uploads,
            errors = _this$state2.errors;

        delete uploads[fieldName];
        errors[fieldName] = reason;
        _this.setState({ uploads: uploads, errors: errors }, function () {
          return _this.onError(fieldName, reason);
        });
      };
    }, _this.onUploadFinish = function (fieldName) {
      return function (result) {
        _this.isUploading = false;
        _this.isFinishedUploading = true;

        var _this$state3 = _this.state,
            uploads = _this$state3.uploads,
            errors = _this$state3.errors;

        delete uploads[fieldName];
        delete errors[fieldName];

        _this.setState({ uploads: uploads, errors: errors }, function () {
          return _this.onFinish(fieldName, result);
        });
      };
    }, _this.clearImageFor = function (fieldName) {
      return function (event) {
        _this.isUploading = false;
        _this.isFinishedUploading = false;

        event.stopPropagation();
        event.preventDefault();

        _this.onClear(fieldName);
      };
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return AbstractMediaUploader;
}(_uiComponentDeprecated2.default);

exports.default = AbstractMediaUploader;
module.exports = exports['default'];

/***/ }),
/* 256 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.chromaStyle = exports.staticStyle = undefined;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _components = __webpack_require__(45);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


function chromaStyle(id) {
  if (!id) throw new Error('ItemCard chromaStyle requires id ' + { id: id });
  // <Style key='selected-styles'>{`
  //   ${id}.selected {
  //     bdr-clr--chroma-selection
  //   }
  //   ${id}.selected .icon-bg {
  //     bg-clr--chroma-selection
  //   }
  // `}</Style>
  return createVNode(16, _components.Style, {
    'perf': true,
    'perfFrame': true,
    'scope': id,
    children: '\n      :scope {\n        bg-clr--chroma-box-pop\n      }\n      :scope-text-content {\n        bg-clr--chroma-box\n      }\n      :scope-attr {\n        clr--chroma-meta\n      }\n      :scope-attr-pop {\n        clr--chroma-text-pop\n      }\n      :scope-title {\n        clr--chroma-title\n      }\n      :scope-desc {\n        clr--chroma-text2\n      }\n      :scope.selected {\n        border-width -- 5px\n        bdr-clr--chroma-selection\n      }\n      :scope.selected .icon-bg {\n        bg-clr--chroma-selection\n      }\n      :scope .Ribbon-text {\n        clr -- chroma-box-pop-text\n        bg-clr -- chroma-box-pop\n      }\n    '
  }, null, null, id + 'colorverse-style');
}

// added as a property to the class
function staticStyle(scope) {
  if (!scope) throw new Error('ItemCard.staticStyle requires (scope) param');
  return createVNode(16, _components.Style, {
    'perf': true,
    'perfFrame': true,
    'scope': scope,
    children: '\n    .GridCell {\n      bg-clr -- chroma-box\n    }\n\n    :scope {\n      o--1 !important\n      pos--a\n      t--0\n      l--0\n      b--0\n      r--0\n      d--b\n      pad--0\n      box-szg--b\n      box-sh--m\n    }\n\n    :scope-cover {\n      w--100%\n      h--100%\n      bg-sz--cover !important\n      bg-pos--50% !important\n    }\n\n    :scope-text-content {\n      pos--a\n      d--flx\n      min-h-- 80px\n      max-h-- -3goldy6\n      b--0\n      l--1goldx\n      r--1goldx\n\n      txt-aln--l\n      fnt-sz--txt\n      box-szg--b\n      bg-clr--chroma-box\n      box-sh--m\n      trans--background-color .6s\n      ovf--h\n    }\n    :scope-text-content-inner {\n      pos--r\n      pad--1.5em\n      ovf--h\n    }\n\n    :scope-attr {\n      clr--chroma-meta\n      fnt--txt2\n      fnt-sz--txt-s\n      ln-h--1em\n      d--b\n      mar-b--.66em\n      trans--color .6s\n    }\n\n    .bp-lte-el-xs :scope-attr {\n      d--n\n    }\n\n    :scope-attr-pop {\n      clr--chroma-text-pop\n    }\n\n    :scope-title {\n      mar-b--.66em\n\n      fnt--d2\n      fnt-sz--d-l\n      ln-h--1.33em\n\n      clr--chroma-title\n      trans--color .6s\n    }\n\n    :scope-desc {\n      clr--chroma-text2\n      fnt--txt\n      fnt-sz--txt\n      trans--color .6s\n    }\n\n\n    :scope-bg-default0 {\n      bg-clr--chroma-box-pop\n    }\n    :scope-bg-default1 {\n      bg-clr--chroma-box-pop2\n    }\n    :scope-bg-default2 {\n      bg-clr--chroma-text-pop\n    }\n    :scope-bg-default3 {\n      bg-clr--chroma-text-pop2\n    }\n    :scope-bg-default4 {\n      bg-clr--chroma-selection\n    }\n    :scope-bg-default5 {\n      bg-clr--chroma-dark-box-pop\n    }\n    :scope-bg-default6 {\n      bg-clr--chroma-dark-box-pop2\n    }\n    :scope-bg-default7 {\n      bg-clr--chroma-dark-text-pop\n    }\n    :scope-bg-default8 {\n      bg-clr--chroma-dark-text-pop2\n    }\n  '
  }, null, null, scope);
}

exports.default = { staticStyle: staticStyle, chromaStyle: chromaStyle };
exports.staticStyle = staticStyle;
exports.chromaStyle = chromaStyle;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 257 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(803), __esModule: true };

/***/ }),
/* 258 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var dP          = __webpack_require__(37).f
  , create      = __webpack_require__(113)
  , redefineAll = __webpack_require__(114)
  , ctx         = __webpack_require__(55)
  , anInstance  = __webpack_require__(109)
  , defined     = __webpack_require__(111)
  , forOf       = __webpack_require__(82)
  , $iterDefine = __webpack_require__(156)
  , step        = __webpack_require__(266)
  , setSpecies  = __webpack_require__(272)
  , DESCRIPTORS = __webpack_require__(42)
  , fastKey     = __webpack_require__(73).fastKey
  , SIZE        = DESCRIPTORS ? '_s' : 'size';

var getEntry = function(that, key){
  // fast case
  var index = fastKey(key), entry;
  if(index !== 'F')return that._i[index];
  // frozen object case
  for(entry = that._f; entry; entry = entry.n){
    if(entry.k == key)return entry;
  }
};

module.exports = {
  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){
    var C = wrapper(function(that, iterable){
      anInstance(that, C, NAME, '_i');
      that._i = create(null); // index
      that._f = undefined;    // first entry
      that._l = undefined;    // last entry
      that[SIZE] = 0;         // size
      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.1.3.1 Map.prototype.clear()
      // 23.2.3.2 Set.prototype.clear()
      clear: function clear(){
        for(var that = this, data = that._i, entry = that._f; entry; entry = entry.n){
          entry.r = true;
          if(entry.p)entry.p = entry.p.n = undefined;
          delete data[entry.i];
        }
        that._f = that._l = undefined;
        that[SIZE] = 0;
      },
      // 23.1.3.3 Map.prototype.delete(key)
      // 23.2.3.4 Set.prototype.delete(value)
      'delete': function(key){
        var that  = this
          , entry = getEntry(that, key);
        if(entry){
          var next = entry.n
            , prev = entry.p;
          delete that._i[entry.i];
          entry.r = true;
          if(prev)prev.n = next;
          if(next)next.p = prev;
          if(that._f == entry)that._f = next;
          if(that._l == entry)that._l = prev;
          that[SIZE]--;
        } return !!entry;
      },
      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)
      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)
      forEach: function forEach(callbackfn /*, that = undefined */){
        anInstance(this, C, 'forEach');
        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3)
          , entry;
        while(entry = entry ? entry.n : this._f){
          f(entry.v, entry.k, this);
          // revert to the last existing entry
          while(entry && entry.r)entry = entry.p;
        }
      },
      // 23.1.3.7 Map.prototype.has(key)
      // 23.2.3.7 Set.prototype.has(value)
      has: function has(key){
        return !!getEntry(this, key);
      }
    });
    if(DESCRIPTORS)dP(C.prototype, 'size', {
      get: function(){
        return defined(this[SIZE]);
      }
    });
    return C;
  },
  def: function(that, key, value){
    var entry = getEntry(that, key)
      , prev, index;
    // change existing entry
    if(entry){
      entry.v = value;
    // create new entry
    } else {
      that._l = entry = {
        i: index = fastKey(key, true), // <- index
        k: key,                        // <- key
        v: value,                      // <- value
        p: prev = that._l,             // <- previous entry
        n: undefined,                  // <- next entry
        r: false                       // <- removed
      };
      if(!that._f)that._f = entry;
      if(prev)prev.n = entry;
      that[SIZE]++;
      // add to index
      if(index !== 'F')that._i[index] = entry;
    } return that;
  },
  getEntry: getEntry,
  setStrong: function(C, NAME, IS_MAP){
    // add .keys, .values, .entries, [@@iterator]
    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11
    $iterDefine(C, NAME, function(iterated, kind){
      this._t = iterated;  // target
      this._k = kind;      // kind
      this._l = undefined; // previous
    }, function(){
      var that  = this
        , kind  = that._k
        , entry = that._l;
      // revert to the last existing entry
      while(entry && entry.r)entry = entry.p;
      // get next entry
      if(!that._t || !(that._l = entry = entry ? entry.n : that._t._f)){
        // or finish the iteration
        that._t = undefined;
        return step(1);
      }
      // return step by kind
      if(kind == 'keys'  )return step(0, entry.k);
      if(kind == 'values')return step(0, entry.v);
      return step(0, [entry.k, entry.v]);
    }, IS_MAP ? 'entries' : 'values' , !IS_MAP, true);

    // add [@@species], 23.1.2.2, 23.2.2.2
    setSpecies(NAME);
  }
};

/***/ }),
/* 259 */
/***/ (function(module, exports, __webpack_require__) {

// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var classof = __webpack_require__(110)
  , from    = __webpack_require__(811);
module.exports = function(NAME){
  return function toJSON(){
    if(classof(this) != NAME)throw TypeError(NAME + "#toJSON isn't generic");
    return from(this);
  };
};

/***/ }),
/* 260 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(32).document && document.documentElement;

/***/ }),
/* 261 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__(42) && !__webpack_require__(56)(function(){
  return Object.defineProperty(__webpack_require__(153)('div'), 'a', {get: function(){ return 7; }}).a != 7;
});

/***/ }),
/* 262 */
/***/ (function(module, exports, __webpack_require__) {

// check on default Array iterator
var Iterators  = __webpack_require__(72)
  , ITERATOR   = __webpack_require__(27)('iterator')
  , ArrayProto = Array.prototype;

module.exports = function(it){
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};

/***/ }),
/* 263 */
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__(81);
module.exports = Array.isArray || function isArray(arg){
  return cof(arg) == 'Array';
};

/***/ }),
/* 264 */
/***/ (function(module, exports, __webpack_require__) {

// call something on iterator step with safe closing on error
var anObject = __webpack_require__(41);
module.exports = function(iterator, fn, value, entries){
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch(e){
    var ret = iterator['return'];
    if(ret !== undefined)anObject(ret.call(iterator));
    throw e;
  }
};

/***/ }),
/* 265 */
/***/ (function(module, exports, __webpack_require__) {

var ITERATOR     = __webpack_require__(27)('iterator')
  , SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function(){ SAFE_CLOSING = true; };
  Array.from(riter, function(){ throw 2; });
} catch(e){ /* empty */ }

module.exports = function(exec, skipClosing){
  if(!skipClosing && !SAFE_CLOSING)return false;
  var safe = false;
  try {
    var arr  = [7]
      , iter = arr[ITERATOR]();
    iter.next = function(){ return {done: safe = true}; };
    arr[ITERATOR] = function(){ return iter; };
    exec(arr);
  } catch(e){ /* empty */ }
  return safe;
};

/***/ }),
/* 266 */
/***/ (function(module, exports) {

module.exports = function(done, value){
  return {value: value, done: !!done};
};

/***/ }),
/* 267 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 19.1.2.1 Object.assign(target, source, ...)
var getKeys  = __webpack_require__(67)
  , gOPS     = __webpack_require__(158)
  , pIE      = __webpack_require__(83)
  , toObject = __webpack_require__(75)
  , IObject  = __webpack_require__(155)
  , $assign  = Object.assign;

// should work with symbols and should have deterministic property order (V8 bug)
module.exports = !$assign || __webpack_require__(56)(function(){
  var A = {}
    , B = {}
    , S = Symbol()
    , K = 'abcdefghijklmnopqrst';
  A[S] = 7;
  K.split('').forEach(function(k){ B[k] = k; });
  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
}) ? function assign(target, source){ // eslint-disable-line no-unused-vars
  var T     = toObject(target)
    , aLen  = arguments.length
    , index = 1
    , getSymbols = gOPS.f
    , isEnum     = pIE.f;
  while(aLen > index){
    var S      = IObject(arguments[index++])
      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)
      , length = keys.length
      , j      = 0
      , key;
    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];
  } return T;
} : $assign;

/***/ }),
/* 268 */
/***/ (function(module, exports, __webpack_require__) {

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = __webpack_require__(50)
  , gOPN      = __webpack_require__(269).f
  , toString  = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function(it){
  try {
    return gOPN(it);
  } catch(e){
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it){
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};


/***/ }),
/* 269 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys      = __webpack_require__(271)
  , hiddenKeys = __webpack_require__(154).concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){
  return $keys(O, hiddenKeys);
};

/***/ }),
/* 270 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has         = __webpack_require__(57)
  , toObject    = __webpack_require__(75)
  , IE_PROTO    = __webpack_require__(160)('IE_PROTO')
  , ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function(O){
  O = toObject(O);
  if(has(O, IE_PROTO))return O[IE_PROTO];
  if(typeof O.constructor == 'function' && O instanceof O.constructor){
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};

/***/ }),
/* 271 */
/***/ (function(module, exports, __webpack_require__) {

var has          = __webpack_require__(57)
  , toIObject    = __webpack_require__(50)
  , arrayIndexOf = __webpack_require__(812)(false)
  , IE_PROTO     = __webpack_require__(160)('IE_PROTO');

module.exports = function(object, names){
  var O      = toIObject(object)
    , i      = 0
    , result = []
    , key;
  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while(names.length > i)if(has(O, key = names[i++])){
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};

/***/ }),
/* 272 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global      = __webpack_require__(32)
  , core        = __webpack_require__(15)
  , dP          = __webpack_require__(37)
  , DESCRIPTORS = __webpack_require__(42)
  , SPECIES     = __webpack_require__(27)('species');

module.exports = function(KEY){
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {
    configurable: true,
    get: function(){ return this; }
  });
};

/***/ }),
/* 273 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// ECMAScript 6 symbols shim
var global         = __webpack_require__(32)
  , has            = __webpack_require__(57)
  , DESCRIPTORS    = __webpack_require__(42)
  , $export        = __webpack_require__(25)
  , redefine       = __webpack_require__(159)
  , META           = __webpack_require__(73).KEY
  , $fails         = __webpack_require__(56)
  , shared         = __webpack_require__(161)
  , setToStringTag = __webpack_require__(85)
  , uid            = __webpack_require__(116)
  , wks            = __webpack_require__(27)
  , wksExt         = __webpack_require__(166)
  , wksDefine      = __webpack_require__(165)
  , keyOf          = __webpack_require__(821)
  , enumKeys       = __webpack_require__(817)
  , isArray        = __webpack_require__(263)
  , anObject       = __webpack_require__(41)
  , toIObject      = __webpack_require__(50)
  , toPrimitive    = __webpack_require__(164)
  , createDesc     = __webpack_require__(84)
  , _create        = __webpack_require__(113)
  , gOPNExt        = __webpack_require__(268)
  , $GOPD          = __webpack_require__(157)
  , $DP            = __webpack_require__(37)
  , $keys          = __webpack_require__(67)
  , gOPD           = $GOPD.f
  , dP             = $DP.f
  , gOPN           = gOPNExt.f
  , $Symbol        = global.Symbol
  , $JSON          = global.JSON
  , _stringify     = $JSON && $JSON.stringify
  , PROTOTYPE      = 'prototype'
  , HIDDEN         = wks('_hidden')
  , TO_PRIMITIVE   = wks('toPrimitive')
  , isEnum         = {}.propertyIsEnumerable
  , SymbolRegistry = shared('symbol-registry')
  , AllSymbols     = shared('symbols')
  , OPSymbols      = shared('op-symbols')
  , ObjectProto    = Object[PROTOTYPE]
  , USE_NATIVE     = typeof $Symbol == 'function'
  , QObject        = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function(){
  return _create(dP({}, 'a', {
    get: function(){ return dP(this, 'a', {value: 7}).a; }
  })).a != 7;
}) ? function(it, key, D){
  var protoDesc = gOPD(ObjectProto, key);
  if(protoDesc)delete ObjectProto[key];
  dP(it, key, D);
  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function(tag){
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){
  return typeof it == 'symbol';
} : function(it){
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D){
  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if(has(AllSymbols, key)){
    if(!D.enumerable){
      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
      D = _create(D, {enumerable: createDesc(0, false)});
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P){
  anObject(it);
  var keys = enumKeys(P = toIObject(P))
    , i    = 0
    , l = keys.length
    , key;
  while(l > i)$defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P){
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key){
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
  it  = toIObject(it);
  key = toPrimitive(key, true);
  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;
  var D = gOPD(it, key);
  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it){
  var names  = gOPN(toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i){
    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
  var IS_OP  = it === ObjectProto
    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))
    , result = []
    , i      = 0
    , key;
  while(names.length > i){
    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if(!USE_NATIVE){
  $Symbol = function Symbol(){
    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function(value){
      if(this === ObjectProto)$set.call(OPSymbols, value);
      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString(){
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f   = $defineProperty;
  __webpack_require__(269).f = gOPNExt.f = $getOwnPropertyNames;
  __webpack_require__(83).f  = $propertyIsEnumerable;
  __webpack_require__(158).f = $getOwnPropertySymbols;

  if(DESCRIPTORS && !__webpack_require__(112)){
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function(name){
    return wrap(wks(name));
  }
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});

for(var symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);

for(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function(key){
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(key){
    if(isSymbol(key))return keyOf(SymbolRegistry, key);
    throw TypeError(key + ' is not a symbol!');
  },
  useSetter: function(){ setter = true; },
  useSimple: function(){ setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it){
    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined
    var args = [it]
      , i    = 1
      , replacer, $replacer;
    while(arguments.length > i)args.push(arguments[i++]);
    replacer = args[1];
    if(typeof replacer == 'function')$replacer = replacer;
    if($replacer || !isArray(replacer))replacer = function(key, value){
      if($replacer)value = $replacer.call(this, key, value);
      if(!isSymbol(value))return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(58)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);

/***/ }),
/* 274 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _app = __webpack_require__(516);

var _app2 = _interopRequireDefault(_app);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ds-app');
exports.default = _app2.default;
module.exports = exports['default'];

/***/ }),
/* 275 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _awardGraphicBlack = __webpack_require__(555);

var _awardGraphicBlack2 = _interopRequireDefault(_awardGraphicBlack);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var colors = {
  'gold_light': 'hsl(45, 100%, 39%)', //'#c59300'
  'gold_dark': 'hsl(42, 79%, 26%)',
  'tan_dark': 'hsl(32, 10%, 25%)',
  'white': 'hsl(32, 0%, 100%)',
  'white_off': 'hsl(38, 21%, 93%)',
  'tan_deep': 'hsl(354, 14%, 15%)'
};

var rootStyleContext = {
  //colors: ['hsl(45, 100%, 39%)', ]
  chroma: {
    colors: [colors.tan_dark, colors.gold_light, colors.white_off, colors.tan_deep, colors.white]
  },
  typography: {
    fonts: {
      'd': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"Playfair Display", "TradeGothicNextLight", "Trade Gothic Next LT Pro Light"',
          'font-weight': '400 !important',
          //'font-style': 'normal !important',
          'letter-spacing': 0
        }
      },
      'd2': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"Playfair Display", "TradeGothicNextLight", "Trade Gothic Next LT Pro Light"',
          'font-weight': '400 !important', //'font-weight': '700 !important',
          'font-style': 'normal !important',
          'letter-spacing': '-0.03em'
        }
      },
      'd3': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"Raleway", "TradeGothicNextLight", "Trade Gothic Next LT Pro Light"',
          'font-weight': '600 !important', //'font-weight': '700 !important',
          'font-style': 'normal !important',
          'letter-spacing': 0
        }
      },

      'txt': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"Raleway", "GeorgiaProItalic", "Trade Gothic Next LT Pro Light"',
          'font-weight': '400 !important',
          'letter-spacing': 0
        }
      },

      'txt2': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': ' -apple-system, ".SFNSText-Regular", "San Francisco", "Roboto", "Segoe UI", "Helvetica Neue", "Lucida Grande", sans-serif',
          'letter-spacing': 0
        }
      },

      'num': {
        style: {
          '-webkit-font-smoothing': 'antialiased',
          'font-family': '"Playfair Display", "TradeGothicNextLight", "Trade Gothic Next LT Pro Light"',
          'font-weight': '700 !important',
          'font-style': 'italic !important',
          'letter-spacing': 0
        }
      }
    }
  }
};

var header = {
  id: 'page-header',
  component: 'Header.bg--dark-overlay.style--mandarin', //.bg--dark-chroma-map
  styleContext: {
    chroma: { type: 'dark', typeIndex: 0 }
  },
  subjects: {
    'background': {
      component: 'media.layout--bg-fill',
      props: {
        imageSrc: 'https://lajollamom.com/wp-content/uploads/2015/01/mandarin-oriental-new-york-city-lobby.jpg'
      }
    },
    'graphic': null,
    'message': [{
      component: 'title',
      props: {
        children: 'Mandarin Oriental,<br /> New York'
      }
    }],
    'pricing': {
      component: 'detail',
      props: {
        type: 'price',
        value: '$695',
        label: 'starting at'
      }
    },
    'actions': [{
      component: 'cta',
      props: {
        label: 'Check Availabity'
      }
    }, {
      component: 'cta',
      props: {
        label: 'Save for Later'
      }
    }],
    'featuredDetails': [{
      component: 'detail',
      props: {
        type: 'rating-stars',
        value: 5,
        label: 'Forbes Travel Guide'
      }
    }, {
      component: 'detail',
      props: {
        type: 'award',
        value: 'Top Choice',
        label: 'Fodor\'s'
      }
    }, {
      component: 'detail',
      props: {
        type: 'rating-stars',
        value: 5,
        label: 'Gayot'
      }
    }, {
      component: 'detail',
      props: {
        type: 'rating',
        value: '91.5',
        label: 'Condé Nast Traveler'
      }
    }, {
      component: 'detail',
      props: {
        type: 'rating',
        value: '5.0',
        label: 'Oyster.com'
      }
    }]
  }
};

var sections = [

//Object.assign({},header,{id: 'header-fairmont-test', component: 'Header.bg--dark-overlay.style--fairmont'}),

{
  id: 'section--intro',
  component: 'SectionDual.layout--more-context.theme--mandarin',
  styleContext: {
    chroma: { type: 'light', typeIndex: 0 }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'text',
      props: {
        children: 'This upscale hotel sits across the street from Central Park, a 1-minute walk from the 59th St.-Columbus Circle subway and less than a mile from the Museum of Modern Art.'
      }
    }, {
      component: 'text',
      props: {
        children: 'The contemporary rooms feature floor-to-ceiling windows with skyline views, as well as flat-screens, stereos and Wi-Fi (fee). They also include desks, soaking tubs and marble bathrooms. Some have Central Park or river views, and luxe suites add separate living rooms and/or Nespresso machines.'
      }
    }]
  },
  subjects: [{
    component: 'text-group',
    subjects: [
    // {
    //   component: 'h3',
    //   props: {
    //     children: 'Ameninities',
    //   },
    // },
    {
      component: 'list',
      subjects: [{
        component: 'text', props: { children: 'Paid Wi-Fi' }
      }, {
        component: 'text', props: { children: 'Paid parking' }
      }, {
        component: 'text', props: { children: 'Pool' }
      }, {
        component: 'text', props: { children: 'Laundry service' }
      }, {
        component: 'text', props: { children: 'Restaurant' }
      }, {
        component: 'text', props: { children: 'Kitchen in all rooms' }
      }, {
        component: 'text', props: { children: 'Bar' }
      }]
    }]
  }]
},

//{
//  id: 'section--photos',
//  component: 'section-base',
//  styleContext: {
//    chroma: {type: 'light', typeIndex: 0},
//  },
//
//  subjects: [
//    {
//      component: 'layout-flickr.media-group',
//      props: {
//        targetRowHeight: 180,
//        showWidows: false,
//        containerPadding: 0,
//        boxSpacing: 16,
//        //containerWidth: 1080,
//        //fullWidthBreakoutRowCadence: 2,
//      },
//      subjects: [
//        {component: 'media', props: {style:{width: 640, height: 640}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/13557289_588013524693451_401730420_n.jpg'}},
//        {component: 'media', props: {style:{width: 612, height: 612}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/13636143_310320512635460_573766987_n.jpg'}},
//        {component: 'media', props: {style:{width: 600, height: 801}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/h_grinding_cut_600x801.JPG'}},
//        {component: 'media', props: {style:{width: 640, height: 640}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/13557060_985639294888286_1343791788_n.jpg'}},
//        {component: 'media', props: {style:{width: 619, height: 619}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/space_2.jpeg'}},
//        {component: 'media', props: {style:{width: 619, height: 442}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/w_branchtable_619x442.jpg'}},
//        {component: 'media', props: {style:{width: 640, height: 640}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/13561667_1117119898347475_539879927_n.jpg'}},
//        {component: 'media', props: {style:{width: 612, height: 612}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/13636292_303637266636108_855495485_n.jpg'}},
//        {component: 'media', props: {style:{width: 600, height: 338}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/w_bambooscrap_cut_600x338.JPG'}},
//        {component: 'media', props: {style:{width: 600, height: 400}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/w_bamboo_cut_600x400.JPG'}},
//        {component: 'media', props: {style:{width: 612, height: 612}, className: 'motion-hoverable', imageSrc: 'https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/proj_user_adam-tablemaker/13627906_1565881257046502_1057854401_n.jpg'}},
//      ],
//    },
//  ],
//},


{
  id: 'section--review-a23423',
  component: 'SectionDual.theme--mandarin.style--thin-centered',
  styleContext: {
    chroma: { type: 'vibrant' }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'media',
      props: {
        imageSrc: 'http://www.gayot.com/bundles/gayotfront/imgs/gayot-logo-2016.png'
      }
    }, {
      component: 'text',
      props: {
        children: 'MoBar on the 35th floor invites guests to lounge well into the evening, while the Lobby Lounge, though lacking views of the skyline, maintains the hotel\'s exceptional standard in service.'
      }
    }, {
      component: 'detail',
      props: {
        type: 'rating-stars',
        value: 5
      }
    }]
  },
  subjects: [{
    component: 'media.layout--bg-fill',
    props: {
      imageSrc: 'https://tripexpert.s3.amazonaws.com/images/venue_photos/profile/2085927.jpg?1459891584'
    }
  }]
}, {
  id: 'section--cards-0',
  component: 'section-base.section--cards.theme--mandarin',
  styleContext: {
    chroma: { type: 'dark' }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'title',
      props: {
        children: 'Critiques from design-sensitive modernists'
      }
    }]
  },
  subjects: [{
    component: 'card.style--quotable-row',
    props: {
      imageSrc: 'https://tripexpert.s3.amazonaws.com/images/venue_photos/profile/2085927.jpg?1459891584',
      logoSrc: 'https://tripexpert.s3.amazonaws.com/publications/icons/retina/4.png?1400267449',
      title: 'Jetsetter',
      description: 'Indulgent Zen palace floating above Columbus Circle with a sprawling spa and an inventive modern American restaurant',
      url: 'http://andersonpaak.audio/',
      urlDisplay: 'andersonpaak.audio'
    }
  }, {
    component: 'card.style--descript.w--1of2',
    props: {
      imageSrc: 'https://tripexpert.s3.amazonaws.com/images/venue_photos/profile/2085936.jpg?1459891616',
      // videoSrc: 'https://www.youtube.com/watch?v=kAod29lF0nM',
      logoSrc: 'https://tripexpert.s3.amazonaws.com/publications/icons/retina/8.png?1436546792',
      title: 'Condé Nast Traveler',
      description: 'Near Lincoln Center and adjacent to Central Park, this "modern and exciting" Asian-inspired hotel in the Time Warner Center has "exquisite city views.',
      url: 'https://thegrid.ai/wafia/',
      urlDisplay: 'thegrid.ai/wafia'
    }
  }, {
    component: 'card.style--descript.w--1of2',
    props: {
      imageSrc: 'https://tripexpert.s3.amazonaws.com/images/venue_photos/profile/2085929.jpg?1459891591',
      logoSrc: 'https://tripexpert.s3.amazonaws.com/publications/icons/retina/22.png?1400266794',
      title: 'BlackBook',
      description: 'East meets West at Time Warner Center, has love child named Luxury. Elevator doors open on 35th floor lobby to Buddha and his front desk minions.',
      url: 'http://danyelle.audio/',
      urlDisplay: 'danyelle.audio'
    }
  }]
}, {
  id: 'section--review-feature-forbes',
  component: 'SectionDual.theme--mandarin.style--thin-centered.order--subject-first',
  styleContext: {
    chroma: { type: 'light', typeIndex: 1 }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'media',
      props: {
        imageSrc: _awardGraphicBlack2.default.src
      }
    }, {
      component: 'text',
      props: {
        children: 'Recognizes the hotel chain\u2019s Far Eastern heritage while simultaneously capturing the individuality of New York. '
      }
    }, {
      component: 'detail',
      props: {
        type: 'rating-stars',
        value: 5
      }
    }]
  },
  subjects: [{
    component: 'media.layout--bg-fill',
    props: {
      imageSrc: 'https://tripexpert.s3.amazonaws.com/images/venue_photos/profile/2085937.jpg?1459891620'
    }
  }]
}, {
  id: 'section--nearby-attractions',
  component: 'section-base.section--cards.theme--mandarin',
  styleContext: {
    chroma: { type: 'dark', typeIndex: 1 }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'title',
      props: {
        children: 'Nearby Attractions Recommended by Locals'
      }
    }, {
      component: 'text',
      props: {
        children: 'The must-selfie-here-before-I-die spots.'
      }
    }]
  },
  subjects: [{
    component: 'card.style--rookie',
    props: {
      imageSrc: 'http://images2.onionstatic.com/clickhole/2978/7/original/600.jpg',
      //avatarSrc: 'https://tripexpert.s3.amazonaws.com/publications/icons/retina/4.png?1400267449',
      title: 'Broadway',
      description: 'Tap your feet to catchy ditties, hold back tears or bust your gut laughing at a world renowned Broadway performance.',
      url: 'http://andersonpaak.audio/',
      urlDisplay: 'andersonpaak.audio'
    }
  }, {
    component: 'card.style--rookie',
    props: {
      imageSrc: 'http://assets.fodors.com/destinations/1128/central-park-manhattan-new-york-city-new-york-usa_main.jpg',
      // videoSrc: 'https://www.youtube.com/watch?v=kAod29lF0nM',
      //avatarSrc: 'https://tripexpert.s3.amazonaws.com/publications/icons/retina/8.png?1436546792',
      title: 'Central Park',
      description: 'Walk, run or bike the winding trails of this 843-acre park, or check out the animal exhibits at the zoo.',
      url: 'https://thegrid.ai/wafia/',
      urlDisplay: 'thegrid.ai/wafia'
    }
  }, {
    component: 'card.style--rookie',
    props: {
      imageSrc: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/1_times_square_night_2013.jpg/325px-1_times_square_night_2013.jpg',
      //avatarSrc: 'https://tripexpert.s3.amazonaws.com/publications/icons/retina/22.png?1400266794',
      title: 'Times Square',
      description: 'It’s impossible to miss the colossal billboards, glitzy lights and massive crowds that make this intersection the city’s beating heart.',
      url: 'http://danyelle.audio/',
      urlDisplay: 'danyelle.audio'
    }
  }, {
    component: 'ActionGroup',
    subjects: [{
      component: 'CTA',
      props: {
        label: 'Check Availabity'
      }
    }, {
      component: 'CTA',
      props: {
        label: 'More Things-to-do Nearby'
      }
    }]
  }]
}, {
  id: 'section--review-feature-fodors',
  component: 'SectionDual.theme--mandarin.style--thin-centered',
  styleContext: {
    chroma: { type: 'light', typeIndex: 2 }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'media',
      props: {
        imageSrc: 'http://www.fodors.com/images/main-nav-home.svg'
      }
    }, {
      component: 'text',
      props: {
        children: 'Suites, however, are really what set this hotel apart, by creating enough stage space to make the hotel\'s Asian-influenced decor really dazzle.'
      }
    }, {
      component: 'detail',
      props: {
        type: 'award',
        value: 'Top Choice'
      }
    }]
  },
  subjects: [{
    component: 'media.layout--bg-fill',
    props: {
      imageSrc: 'http://t-ec.bstatic.com/images/hotel/max1024x768/695/69519637.jpg'
    }
  }]
}, {
  id: 'section--nearby-eateries',
  component: 'section-base.section--cards.theme--mandarin',
  styleContext: {
    chroma: { type: 'dark', typeIndex: 2 }
  },
  context: {
    component: 'text-group',
    subjects: [{
      component: 'title',
      props: {
        children: 'Chic Asian eateries within walking distance'
      }
    }, {
      component: 'text',
      props: {
        children: 'Extend the upscale Asian experience with these highly rated restaurants.'
      }
    }]
  },
  subjects: [{
    component: 'card.style--rookie',
    props: {
      imageSrc: 'https://b.zmtcdn.com/data/pictures/chains/5/16759705/d06dd15afbb8ed25e6091862a93f713b.jpg',
      title: 'ASIATE',
      description: 'Posh Asian-New American hotel restaurant with city vistas & high-end, fixed-price-menu fare.',
      url: 'http://andersonpaak.audio/',
      urlDisplay: 'andersonpaak.audio'
    }
  }, {
    component: 'card.style--rookie',
    props: {
      imageSrc: 'http://www.sociallysuperlative.com/wp-content/uploads/Hakkasan-4.jpg',
      // videoSrc: 'https://www.youtube.com/watch?v=kAod29lF0nM',
      title: 'Hakkasan',
      description: 'Cavernous outpost of a London-based chain showcasing modern Cantonese cuisine in a slick setting.',
      url: 'https://thegrid.ai/wafia/',
      urlDisplay: 'thegrid.ai/wafia'
    }
  }, {
    component: 'card.style--rookie',
    props: {
      imageSrc: 'https://www.wheretraveler.com/sites/default/files/styles/node-feature--teaser/public/images/mr_k.jpg?itok=ncAtM0-y',
      title: 'Mr. K\'s',
      description: 'East meets West at Time Warner Center, has love child named Luxury. Elevator doors open on 35th floor lobby to Buddha and his front desk minions.',
      url: 'http://www.mrksny.com/',
      urlDisplay: 'danyelle.audio'
    }
  }, {
    component: 'ActionGroup',
    subjects: [{
      component: 'CTA',
      props: {
        label: 'Check Availabity'
      }
    }, {
      component: 'CTA',
      props: {
        label: 'More Restaurants Nearby'
      }
    }]
  }]
}, {
  id: 'section--contact',
  component: 'SectionDual.theme--frontenac',
  styleContext: {
    chroma: { type: 'dark', typeIndex: 0 }
  },
  context: {
    component: 'map',
    props: {
      lat: 40.7688844,
      lng: -73.9852327,
      mapStyle: 'light' // light, dark, pastel, vibrant
    }
  },
  subjects: [{
    component: 'text-group',
    subjects: [{
      component: 'title',
      props: {
        children: 'Location'
      }
    }, {
      component: 'text',
      props: {
        children: 'The Shops at Columbus Circle <br/> 80 Columbus Cir <br/> New York, NY 10023'
      }
    }, {
      component: 'text',
      props: {
        children: '<a href=\'mailto:chateaufrontenac@fairmont.com\'>info@mandarinoriental.com</a><br/><a href=\'tel:18002332930\'>(212) 805-8800</a>'
      }
    }]
  }]
}];

exports.default = [{
  id: 'site',
  component: 'Site',
  //styleContext: rootStyleContext,
  props: {
    styleverse: { styleContext: rootStyleContext },
    data: {
      config: {
        logo: 'https://the-grid-user-content.s3-us-west-2.amazonaws.com/5c8e3e03-5703-4144-9cbf-d85011b48d3c.svg'
      }
    }
  },
  context: {
    id: 'section-layout',
    component: 'SectionLayout',
    context: header,
    subjects: sections
  }
}];
module.exports = exports['default'];

/***/ }),
/* 276 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _immutable = __webpack_require__(6);

var _uiCard = __webpack_require__(587);

var _uiCard2 = _interopRequireDefault(_uiCard);

var _uiSemantics = __webpack_require__(169);

var _uiLayoutFlickr = __webpack_require__(633);

var _uiLayoutFlickr2 = _interopRequireDefault(_uiLayoutFlickr);

var _uiMedia = __webpack_require__(144);

var _uiMedia2 = _interopRequireDefault(_uiMedia);

var _sectionBase = __webpack_require__(558);

var _sectionBase2 = _interopRequireDefault(_sectionBase);

var _sectionDual = __webpack_require__(559);

var _sectionDual2 = _interopRequireDefault(_sectionDual);

var _sectionLayout = __webpack_require__(560);

var _sectionLayout2 = _interopRequireDefault(_sectionLayout);

var _site = __webpack_require__(168);

var _site2 = _interopRequireDefault(_site);

var _siteLogo = __webpack_require__(562);

var _siteLogo2 = _interopRequireDefault(_siteLogo);

var _uiHeader = __webpack_require__(628);

var _uiHeader2 = _interopRequireDefault(_uiHeader);

var _uiIcon = __webpack_require__(78);

var _uiIcon2 = _interopRequireDefault(_uiIcon);

var _uiOrnament = __webpack_require__(658);

var _uiOrnament2 = _interopRequireDefault(_uiOrnament);

var _uiMap = __webpack_require__(654);

var _uiMap2 = _interopRequireDefault(_uiMap);

var _uiActionPack = __webpack_require__(217);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;
var Children = _infernoCompat2.default.Children;

exports.default = {
  'div': function div(props) {
    return el('div', (0, _extends3.default)({}, props));
  },
  'Site': _site2.default,
  'Header': _uiHeader2.default,
  'SectionDual': _sectionDual2.default,
  'section-base': _sectionBase2.default,
  'section-layout': _sectionLayout2.default,
  'SectionLayout': _sectionLayout2.default,
  'list': function list(_props) {
    var children = _props.children,
        className = _props.className,
        props = (0, _objectWithoutProperties3.default)(_props, ['children', 'className']);

    return el('ul', (0, _extends3.default)({}, props, { className: className + ' list' }), Children.map(children, function (child) {
      return el('li', { className: 'ui--li' }, child);
    }));
  },
  'detail': function detail(_props) {
    var type = _props.type,
        value = _props.value,
        label = _props.label,
        className = _props.className,
        props = (0, _objectWithoutProperties3.default)(_props, ['type', 'value', 'label', 'className']);

    var i, _value;
    if (type === 'rating-stars') {
      _value = [];
      for (i = 0; i < value; i++) {
        _value.push(el(_uiIcon2.default, { key: 'star-' + i }, 'star'));
      }
      value = _value;
    }
    className += ' detail';
    return el('div', (0, _extends3.default)({}, props, { className: className }), [el('span', { className: 'detail_value' }, value), el('span', { className: 'detail_label' }, label)]);
  },
  'text-group': function textGroup(props) {
    return el('div', (0, _extends3.default)({}, props, { className: props.className + ' text-group typ' }));
  },
  'title': function title(_props) {
    var children = _props.children,
        className = _props.className,
        props = (0, _objectWithoutProperties3.default)(_props, ['children', 'className']);

    return el('h1', (0, _extends3.default)({}, props, { className: className + ' title typ', dangerouslySetInnerHTML: { __html: children } }));
  },
  'sub-title': function subTitle(props) {
    return el('h2', (0, _extends3.default)({}, props, { className: props.className + ' sub-title typ' }));
  },
  'quote': function quote(props) {
    var children = props.children,
        other = (0, _objectWithoutProperties3.default)(props, ['children']);

    return el('blockquote', (0, _extends3.default)({}, other, { className: props.className + ' quote typ', dangerouslySetInnerHTML: { __html: children } }));
  },
  'h1': function h1(props) {
    return el('h1', (0, _extends3.default)({}, props, { className: props.className + ' typ' }));
  },
  'h2': function h2(props) {
    return el('h2', (0, _extends3.default)({}, props, { className: props.className + ' typ' }));
  },
  'h3': function h3(props) {
    return el('h3', (0, _extends3.default)({}, props, { className: props.className + ' typ' }));
  },
  'text': function text(props) {
    var children = props.children,
        other = (0, _objectWithoutProperties3.default)(props, ['children']);

    return el('p', (0, _extends3.default)({}, other, { className: props.className + ' text typ', dangerouslySetInnerHTML: { __html: children } }));
  },
  'ActionGroup': _uiActionPack.ActionGroup,
  'CTA': _uiActionPack.CTA,
  'cta': _uiActionPack.CTA,
  'img': function img(props) {
    return el('img', (0, _extends3.default)({}, props));
  },
  'media': function media(props) {
    return el(_uiMedia2.default, (0, _extends3.default)({}, props));
  },
  'layout-flickr': function layoutFlickr(props) {
    return el(_uiLayoutFlickr2.default, (0, _extends3.default)({}, props, { className: props.className + ' layout-flickr' }));
  },
  'card': _uiCard2.default,
  'site-logo': _siteLogo2.default,
  'map': _uiMap2.default,
  'ornament': function ornament(props) {
    return el(_uiOrnament2.default, (0, _extends3.default)({}, props));
  },
  'separator': function separator(props) {
    var className = props.className;

    className += ' section-separator';
    var style = { backgroundImage: 'url(' + props.src + ')' };
    return el('div', { className: className, style: style });
  }
};
module.exports = exports['default'];

/***/ }),
/* 277 */,
/* 278 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*!
 * Autolinker.js
 * 1.4.2
 *
 * Copyright(c) 2017 Gregory Jacobs <greg@greg-jacobs.com>
 * MIT License
 *
 * https://github.com/gregjacobs/Autolinker.js
 */
;(function (root, factory) {
	if (true) {
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else if ((typeof exports === 'undefined' ? 'undefined' : (0, _typeof3.default)(exports)) === 'object') {
		module.exports = factory();
	} else {
		root.Autolinker = factory();
	}
})(undefined, function () {
	/**
  * @class Autolinker
  * @extends Object
  *
  * Utility class used to process a given string of text, and wrap the matches in
  * the appropriate anchor (&lt;a&gt;) tags to turn them into links.
  *
  * Any of the configuration options may be provided in an Object (map) provided
  * to the Autolinker constructor, which will configure how the {@link #link link()}
  * method will process the links.
  *
  * For example:
  *
  *     var autolinker = new Autolinker( {
  *         newWindow : false,
  *         truncate  : 30
  *     } );
  *
  *     var html = autolinker.link( "Joe went to www.yahoo.com" );
  *     // produces: 'Joe went to <a href="http://www.yahoo.com">yahoo.com</a>'
  *
  *
  * The {@link #static-link static link()} method may also be used to inline
  * options into a single call, which may be more convenient for one-off uses.
  * For example:
  *
  *     var html = Autolinker.link( "Joe went to www.yahoo.com", {
  *         newWindow : false,
  *         truncate  : 30
  *     } );
  *     // produces: 'Joe went to <a href="http://www.yahoo.com">yahoo.com</a>'
  *
  *
  * ## Custom Replacements of Links
  *
  * If the configuration options do not provide enough flexibility, a {@link #replaceFn}
  * may be provided to fully customize the output of Autolinker. This function is
  * called once for each URL/Email/Phone#/Hashtag/Mention (Twitter, Instagram)
  * match that is encountered.
  *
  * For example:
  *
  *     var input = "...";  // string with URLs, Email Addresses, Phone #s, Hashtags, and Mentions (Twitter, Instagram)
  *
  *     var linkedText = Autolinker.link( input, {
  *         replaceFn : function( match ) {
  *             console.log( "href = ", match.getAnchorHref() );
  *             console.log( "text = ", match.getAnchorText() );
  *
  *             switch( match.getType() ) {
  *                 case 'url' :
  *                     console.log( "url: ", match.getUrl() );
  *
  *                     if( match.getUrl().indexOf( 'mysite.com' ) === -1 ) {
  *                         var tag = match.buildTag();  // returns an `Autolinker.HtmlTag` instance, which provides mutator methods for easy changes
  *                         tag.setAttr( 'rel', 'nofollow' );
  *                         tag.addClass( 'external-link' );
  *
  *                         return tag;
  *
  *                     } else {
  *                         return true;  // let Autolinker perform its normal anchor tag replacement
  *                     }
  *
  *                 case 'email' :
  *                     var email = match.getEmail();
  *                     console.log( "email: ", email );
  *
  *                     if( email === "my@own.address" ) {
  *                         return false;  // don't auto-link this particular email address; leave as-is
  *                     } else {
  *                         return;  // no return value will have Autolinker perform its normal anchor tag replacement (same as returning `true`)
  *                     }
  *
  *                 case 'phone' :
  *                     var phoneNumber = match.getPhoneNumber();
  *                     console.log( phoneNumber );
  *
  *                     return '<a href="http://newplace.to.link.phone.numbers.to/">' + phoneNumber + '</a>';
  *
  *                 case 'hashtag' :
  *                     var hashtag = match.getHashtag();
  *                     console.log( hashtag );
  *
  *                     return '<a href="http://newplace.to.link.hashtag.handles.to/">' + hashtag + '</a>';
  *
  *                 case 'mention' :
  *                     var mention = match.getMention();
  *                     console.log( mention );
  *
  *                     return '<a href="http://newplace.to.link.mention.to/">' + mention + '</a>';
  *             }
  *         }
  *     } );
  *
  *
  * The function may return the following values:
  *
  * - `true` (Boolean): Allow Autolinker to replace the match as it normally
  *   would.
  * - `false` (Boolean): Do not replace the current match at all - leave as-is.
  * - Any String: If a string is returned from the function, the string will be
  *   used directly as the replacement HTML for the match.
  * - An {@link Autolinker.HtmlTag} instance, which can be used to build/modify
  *   an HTML tag before writing out its HTML text.
  *
  * @constructor
  * @param {Object} [cfg] The configuration options for the Autolinker instance,
  *   specified in an Object (map).
  */
	var Autolinker = function Autolinker(cfg) {
		cfg = cfg || {};

		this.version = Autolinker.version;

		this.urls = this.normalizeUrlsCfg(cfg.urls);
		this.email = typeof cfg.email === 'boolean' ? cfg.email : true;
		this.phone = typeof cfg.phone === 'boolean' ? cfg.phone : true;
		this.hashtag = cfg.hashtag || false;
		this.mention = cfg.mention || false;
		this.newWindow = typeof cfg.newWindow === 'boolean' ? cfg.newWindow : true;
		this.stripPrefix = this.normalizeStripPrefixCfg(cfg.stripPrefix);
		this.stripTrailingSlash = typeof cfg.stripTrailingSlash === 'boolean' ? cfg.stripTrailingSlash : true;

		// Validate the value of the `mention` cfg
		var mention = this.mention;
		if (mention !== false && mention !== 'twitter' && mention !== 'instagram') {
			throw new Error("invalid `mention` cfg - see docs");
		}

		// Validate the value of the `hashtag` cfg
		var hashtag = this.hashtag;
		if (hashtag !== false && hashtag !== 'twitter' && hashtag !== 'facebook' && hashtag !== 'instagram') {
			throw new Error("invalid `hashtag` cfg - see docs");
		}

		this.truncate = this.normalizeTruncateCfg(cfg.truncate);
		this.className = cfg.className || '';
		this.replaceFn = cfg.replaceFn || null;
		this.context = cfg.context || this;

		this.htmlParser = null;
		this.matchers = null;
		this.tagBuilder = null;
	};

	/**
  * Automatically links URLs, Email addresses, Phone Numbers, Twitter handles,
  * Hashtags, and Mentions found in the given chunk of HTML. Does not link URLs
  * found within HTML tags.
  *
  * For instance, if given the text: `You should go to http://www.yahoo.com`,
  * then the result will be `You should go to &lt;a href="http://www.yahoo.com"&gt;http://www.yahoo.com&lt;/a&gt;`
  *
  * Example:
  *
  *     var linkedText = Autolinker.link( "Go to google.com", { newWindow: false } );
  *     // Produces: "Go to <a href="http://google.com">google.com</a>"
  *
  * @static
  * @param {String} textOrHtml The HTML or text to find matches within (depending
  *   on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #mention},
  *   {@link #hashtag}, and {@link #mention} options are enabled).
  * @param {Object} [options] Any of the configuration options for the Autolinker
  *   class, specified in an Object (map). See the class description for an
  *   example call.
  * @return {String} The HTML text, with matches automatically linked.
  */
	Autolinker.link = function (textOrHtml, options) {
		var autolinker = new Autolinker(options);
		return autolinker.link(textOrHtml);
	};

	/**
  * Parses the input `textOrHtml` looking for URLs, email addresses, phone
  * numbers, username handles, and hashtags (depending on the configuration
  * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}
  * objects describing those matches (without making any replacements).
  *
  * Note that if parsing multiple pieces of text, it is slightly more efficient
  * to create an Autolinker instance, and use the instance-level {@link #parse}
  * method.
  *
  * Example:
  *
  *     var matches = Autolinker.parse( "Hello google.com, I am asdf@asdf.com", {
  *         urls: true,
  *         email: true
  *     } );
  *
  *     console.log( matches.length );           // 2
  *     console.log( matches[ 0 ].getType() );   // 'url'
  *     console.log( matches[ 0 ].getUrl() );    // 'google.com'
  *     console.log( matches[ 1 ].getType() );   // 'email'
  *     console.log( matches[ 1 ].getEmail() );  // 'asdf@asdf.com'
  *
  * @static
  * @param {String} textOrHtml The HTML or text to find matches within
  *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},
  *   {@link #hashtag}, and {@link #mention} options are enabled).
  * @param {Object} [options] Any of the configuration options for the Autolinker
  *   class, specified in an Object (map). See the class description for an
  *   example call.
  * @return {Autolinker.match.Match[]} The array of Matches found in the
  *   given input `textOrHtml`.
  */
	Autolinker.parse = function (textOrHtml, options) {
		var autolinker = new Autolinker(options);
		return autolinker.parse(textOrHtml);
	};

	/**
  * @static
  * @property {String} version (readonly)
  *
  * The Autolinker version number in the form major.minor.patch
  *
  * Ex: 0.25.1
  */
	Autolinker.version = '1.4.2';

	Autolinker.prototype = {
		constructor: Autolinker, // fix constructor property

		/**
   * @cfg {Boolean/Object} [urls]
   *
   * `true` if URLs should be automatically linked, `false` if they should not
   * be. Defaults to `true`.
   *
   * Examples:
   *
   *     urls: true
   *
   *     // or
   *
   *     urls: {
   *         schemeMatches : true,
   *         wwwMatches    : true,
   *         tldMatches    : true
   *     }
   *
   * As shown above, this option also accepts an Object form with 3 properties
   * to allow for more customization of what exactly gets linked. All default
   * to `true`:
   *
   * @cfg {Boolean} [urls.schemeMatches] `true` to match URLs found prefixed
   *   with a scheme, i.e. `http://google.com`, or `other+scheme://google.com`,
   *   `false` to prevent these types of matches.
   * @cfg {Boolean} [urls.wwwMatches] `true` to match urls found prefixed with
   *   `'www.'`, i.e. `www.google.com`. `false` to prevent these types of
   *   matches. Note that if the URL had a prefixed scheme, and
   *   `schemeMatches` is true, it will still be linked.
   * @cfg {Boolean} [urls.tldMatches] `true` to match URLs with known top
   *   level domains (.com, .net, etc.) that are not prefixed with a scheme or
   *   `'www.'`. This option attempts to match anything that looks like a URL
   *   in the given text. Ex: `google.com`, `asdf.org/?page=1`, etc. `false`
   *   to prevent these types of matches.
   */

		/**
   * @cfg {Boolean} [email=true]
   *
   * `true` if email addresses should be automatically linked, `false` if they
   * should not be.
   */

		/**
   * @cfg {Boolean} [phone=true]
   *
   * `true` if Phone numbers ("(555)555-5555") should be automatically linked,
   * `false` if they should not be.
   */

		/**
   * @cfg {Boolean/String} [hashtag=false]
   *
   * A string for the service name to have hashtags (ex: "#myHashtag")
   * auto-linked to. The currently-supported values are:
   *
   * - 'twitter'
   * - 'facebook'
   * - 'instagram'
   *
   * Pass `false` to skip auto-linking of hashtags.
   */

		/**
   * @cfg {String/Boolean} [mention=false]
   *
   * A string for the service name to have mentions (ex: "@myuser")
   * auto-linked to. The currently supported values are:
   *
   * - 'twitter'
   * - 'instagram'
   *
   * Defaults to `false` to skip auto-linking of mentions.
   */

		/**
   * @cfg {Boolean} [newWindow=true]
   *
   * `true` if the links should open in a new window, `false` otherwise.
   */

		/**
   * @cfg {Boolean/Object} [stripPrefix]
   *
   * `true` if 'http://' (or 'https://') and/or the 'www.' should be stripped
   * from the beginning of URL links' text, `false` otherwise. Defaults to
   * `true`.
   *
   * Examples:
   *
   *     stripPrefix: true
   *
   *     // or
   *
   *     stripPrefix: {
   *         scheme : true,
   *         www    : true
   *     }
   *
   * As shown above, this option also accepts an Object form with 2 properties
   * to allow for more customization of what exactly is prevented from being
   * displayed. Both default to `true`:
   *
   * @cfg {Boolean} [stripPrefix.scheme] `true` to prevent the scheme part of
   *   a URL match from being displayed to the user. Example:
   *   `'http://google.com'` will be displayed as `'google.com'`. `false` to
   *   not strip the scheme. NOTE: Only an `'http://'` or `'https://'` scheme
   *   will be removed, so as not to remove a potentially dangerous scheme
   *   (such as `'file://'` or `'javascript:'`)
   * @cfg {Boolean} [stripPrefix.www] www (Boolean): `true` to prevent the
   *   `'www.'` part of a URL match from being displayed to the user. Ex:
   *   `'www.google.com'` will be displayed as `'google.com'`. `false` to not
   *   strip the `'www'`.
   */

		/**
   * @cfg {Boolean} [stripTrailingSlash=true]
   *
   * `true` to remove the trailing slash from URL matches, `false` to keep
   *  the trailing slash.
   *
   *  Example when `true`: `http://google.com/` will be displayed as
   *  `http://google.com`.
   */

		/**
   * @cfg {Number/Object} [truncate=0]
   *
   * ## Number Form
   *
   * A number for how many characters matched text should be truncated to
   * inside the text of a link. If the matched text is over this number of
   * characters, it will be truncated to this length by adding a two period
   * ellipsis ('..') to the end of the string.
   *
   * For example: A url like 'http://www.yahoo.com/some/long/path/to/a/file'
   * truncated to 25 characters might look something like this:
   * 'yahoo.com/some/long/pat..'
   *
   * Example Usage:
   *
   *     truncate: 25
   *
   *
   *  Defaults to `0` for "no truncation."
   *
   *
   * ## Object Form
   *
   * An Object may also be provided with two properties: `length` (Number) and
   * `location` (String). `location` may be one of the following: 'end'
   * (default), 'middle', or 'smart'.
   *
   * Example Usage:
   *
   *     truncate: { length: 25, location: 'middle' }
   *
   * @cfg {Number} [truncate.length=0] How many characters to allow before
   *   truncation will occur. Defaults to `0` for "no truncation."
   * @cfg {"end"/"middle"/"smart"} [truncate.location="end"]
   *
   * - 'end' (default): will truncate up to the number of characters, and then
   *   add an ellipsis at the end. Ex: 'yahoo.com/some/long/pat..'
   * - 'middle': will truncate and add the ellipsis in the middle. Ex:
   *   'yahoo.com/s..th/to/a/file'
   * - 'smart': for URLs where the algorithm attempts to strip out unnecessary
   *   parts first (such as the 'www.', then URL scheme, hash, etc.),
   *   attempting to make the URL human-readable before looking for a good
   *   point to insert the ellipsis if it is still too long. Ex:
   *   'yahoo.com/some..to/a/file'. For more details, see
   *   {@link Autolinker.truncate.TruncateSmart}.
   */

		/**
   * @cfg {String} className
   *
   * A CSS class name to add to the generated links. This class will be added
   * to all links, as well as this class plus match suffixes for styling
   * url/email/phone/hashtag/mention links differently.
   *
   * For example, if this config is provided as "myLink", then:
   *
   * - URL links will have the CSS classes: "myLink myLink-url"
   * - Email links will have the CSS classes: "myLink myLink-email", and
   * - Phone links will have the CSS classes: "myLink myLink-phone"
   * - Hashtag links will have the CSS classes: "myLink myLink-hashtag"
   * - Mention links will have the CSS classes: "myLink myLink-mention myLink-[type]"
   *   where [type] is either "instagram" or "twitter"
   */

		/**
   * @cfg {Function} replaceFn
   *
   * A function to individually process each match found in the input string.
   *
   * See the class's description for usage.
   *
   * The `replaceFn` can be called with a different context object (`this`
   * reference) using the {@link #context} cfg.
   *
   * This function is called with the following parameter:
   *
   * @cfg {Autolinker.match.Match} replaceFn.match The Match instance which
   *   can be used to retrieve information about the match that the `replaceFn`
   *   is currently processing. See {@link Autolinker.match.Match} subclasses
   *   for details.
   */

		/**
   * @cfg {Object} context
   *
   * The context object (`this` reference) to call the `replaceFn` with.
   *
   * Defaults to this Autolinker instance.
   */

		/**
   * @property {String} version (readonly)
   *
   * The Autolinker version number in the form major.minor.patch
   *
   * Ex: 0.25.1
   */

		/**
   * @private
   * @property {Autolinker.htmlParser.HtmlParser} htmlParser
   *
   * The HtmlParser instance used to skip over HTML tags, while finding text
   * nodes to process. This is lazily instantiated in the {@link #getHtmlParser}
   * method.
   */

		/**
   * @private
   * @property {Autolinker.matcher.Matcher[]} matchers
   *
   * The {@link Autolinker.matcher.Matcher} instances for this Autolinker
   * instance.
   *
   * This is lazily created in {@link #getMatchers}.
   */

		/**
   * @private
   * @property {Autolinker.AnchorTagBuilder} tagBuilder
   *
   * The AnchorTagBuilder instance used to build match replacement anchor tags.
   * Note: this is lazily instantiated in the {@link #getTagBuilder} method.
   */

		/**
   * Normalizes the {@link #urls} config into an Object with 3 properties:
   * `schemeMatches`, `wwwMatches`, and `tldMatches`, all Booleans.
   *
   * See {@link #urls} config for details.
   *
   * @private
   * @param {Boolean/Object} urls
   * @return {Object}
   */
		normalizeUrlsCfg: function normalizeUrlsCfg(urls) {
			if (urls == null) urls = true; // default to `true`

			if (typeof urls === 'boolean') {
				return { schemeMatches: urls, wwwMatches: urls, tldMatches: urls };
			} else {
				// object form
				return {
					schemeMatches: typeof urls.schemeMatches === 'boolean' ? urls.schemeMatches : true,
					wwwMatches: typeof urls.wwwMatches === 'boolean' ? urls.wwwMatches : true,
					tldMatches: typeof urls.tldMatches === 'boolean' ? urls.tldMatches : true
				};
			}
		},

		/**
   * Normalizes the {@link #stripPrefix} config into an Object with 2
   * properties: `scheme`, and `www` - both Booleans.
   *
   * See {@link #stripPrefix} config for details.
   *
   * @private
   * @param {Boolean/Object} stripPrefix
   * @return {Object}
   */
		normalizeStripPrefixCfg: function normalizeStripPrefixCfg(stripPrefix) {
			if (stripPrefix == null) stripPrefix = true; // default to `true`

			if (typeof stripPrefix === 'boolean') {
				return { scheme: stripPrefix, www: stripPrefix };
			} else {
				// object form
				return {
					scheme: typeof stripPrefix.scheme === 'boolean' ? stripPrefix.scheme : true,
					www: typeof stripPrefix.www === 'boolean' ? stripPrefix.www : true
				};
			}
		},

		/**
   * Normalizes the {@link #truncate} config into an Object with 2 properties:
   * `length` (Number), and `location` (String).
   *
   * See {@link #truncate} config for details.
   *
   * @private
   * @param {Number/Object} truncate
   * @return {Object}
   */
		normalizeTruncateCfg: function normalizeTruncateCfg(truncate) {
			if (typeof truncate === 'number') {
				return { length: truncate, location: 'end' };
			} else {
				// object, or undefined/null
				return Autolinker.Util.defaults(truncate || {}, {
					length: Number.POSITIVE_INFINITY,
					location: 'end'
				});
			}
		},

		/**
   * Parses the input `textOrHtml` looking for URLs, email addresses, phone
   * numbers, username handles, and hashtags (depending on the configuration
   * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}
   * objects describing those matches (without making any replacements).
   *
   * This method is used by the {@link #link} method, but can also be used to
   * simply do parsing of the input in order to discover what kinds of links
   * there are and how many.
   *
   * Example usage:
   *
   *     var autolinker = new Autolinker( {
   *         urls: true,
   *         email: true
   *     } );
   *
   *     var matches = autolinker.parse( "Hello google.com, I am asdf@asdf.com" );
   *
   *     console.log( matches.length );           // 2
   *     console.log( matches[ 0 ].getType() );   // 'url'
   *     console.log( matches[ 0 ].getUrl() );    // 'google.com'
   *     console.log( matches[ 1 ].getType() );   // 'email'
   *     console.log( matches[ 1 ].getEmail() );  // 'asdf@asdf.com'
   *
   * @param {String} textOrHtml The HTML or text to find matches within
   *   (depending on if the {@link #urls}, {@link #email}, {@link #phone},
   *   {@link #hashtag}, and {@link #mention} options are enabled).
   * @return {Autolinker.match.Match[]} The array of Matches found in the
   *   given input `textOrHtml`.
   */
		parse: function parse(textOrHtml) {
			var htmlParser = this.getHtmlParser(),
			    htmlNodes = htmlParser.parse(textOrHtml),
			    anchorTagStackCount = 0,
			    // used to only process text around anchor tags, and any inner text/html they may have;
			matches = [];

			// Find all matches within the `textOrHtml` (but not matches that are
			// already nested within <a> tags)
			for (var i = 0, len = htmlNodes.length; i < len; i++) {
				var node = htmlNodes[i],
				    nodeType = node.getType();

				if (nodeType === 'element' && node.getTagName() === 'a') {
					// Process HTML anchor element nodes in the input `textOrHtml` to find out when we're within an <a> tag
					if (!node.isClosing()) {
						// it's the start <a> tag
						anchorTagStackCount++;
					} else {
						// it's the end </a> tag
						anchorTagStackCount = Math.max(anchorTagStackCount - 1, 0); // attempt to handle extraneous </a> tags by making sure the stack count never goes below 0
					}
				} else if (nodeType === 'text' && anchorTagStackCount === 0) {
					// Process text nodes that are not within an <a> tag
					var textNodeMatches = this.parseText(node.getText(), node.getOffset());

					matches.push.apply(matches, textNodeMatches);
				}
			}

			// After we have found all matches, remove subsequent matches that
			// overlap with a previous match. This can happen for instance with URLs,
			// where the url 'google.com/#link' would match '#link' as a hashtag.
			matches = this.compactMatches(matches);

			// And finally, remove matches for match types that have been turned
			// off. We needed to have all match types turned on initially so that
			// things like hashtags could be filtered out if they were really just
			// part of a URL match (for instance, as a named anchor).
			matches = this.removeUnwantedMatches(matches);

			return matches;
		},

		/**
   * After we have found all matches, we need to remove subsequent matches
   * that overlap with a previous match. This can happen for instance with
   * URLs, where the url 'google.com/#link' would match '#link' as a hashtag.
   *
   * @private
   * @param {Autolinker.match.Match[]} matches
   * @return {Autolinker.match.Match[]}
   */
		compactMatches: function compactMatches(matches) {
			// First, the matches need to be sorted in order of offset
			matches.sort(function (a, b) {
				return a.getOffset() - b.getOffset();
			});

			for (var i = 0; i < matches.length - 1; i++) {
				var match = matches[i],
				    endIdx = match.getOffset() + match.getMatchedText().length;

				// Remove subsequent matches that overlap with the current match
				while (i + 1 < matches.length && matches[i + 1].getOffset() <= endIdx) {
					matches.splice(i + 1, 1);
				}
			}

			return matches;
		},

		/**
   * Removes matches for matchers that were turned off in the options. For
   * example, if {@link #hashtag hashtags} were not to be matched, we'll
   * remove them from the `matches` array here.
   *
   * @private
   * @param {Autolinker.match.Match[]} matches The array of matches to remove
   *   the unwanted matches from. Note: this array is mutated for the
   *   removals.
   * @return {Autolinker.match.Match[]} The mutated input `matches` array.
   */
		removeUnwantedMatches: function removeUnwantedMatches(matches) {
			var remove = Autolinker.Util.remove;

			if (!this.hashtag) remove(matches, function (match) {
				return match.getType() === 'hashtag';
			});
			if (!this.email) remove(matches, function (match) {
				return match.getType() === 'email';
			});
			if (!this.phone) remove(matches, function (match) {
				return match.getType() === 'phone';
			});
			if (!this.mention) remove(matches, function (match) {
				return match.getType() === 'mention';
			});
			if (!this.urls.schemeMatches) {
				remove(matches, function (m) {
					return m.getType() === 'url' && m.getUrlMatchType() === 'scheme';
				});
			}
			if (!this.urls.wwwMatches) {
				remove(matches, function (m) {
					return m.getType() === 'url' && m.getUrlMatchType() === 'www';
				});
			}
			if (!this.urls.tldMatches) {
				remove(matches, function (m) {
					return m.getType() === 'url' && m.getUrlMatchType() === 'tld';
				});
			}

			return matches;
		},

		/**
   * Parses the input `text` looking for URLs, email addresses, phone
   * numbers, username handles, and hashtags (depending on the configuration
   * of the Autolinker instance), and returns an array of {@link Autolinker.match.Match}
   * objects describing those matches.
   *
   * This method processes a **non-HTML string**, and is used to parse and
   * match within the text nodes of an HTML string. This method is used
   * internally by {@link #parse}.
   *
   * @private
   * @param {String} text The text to find matches within (depending on if the
   *   {@link #urls}, {@link #email}, {@link #phone},
   *   {@link #hashtag}, and {@link #mention} options are enabled). This must be a non-HTML string.
   * @param {Number} [offset=0] The offset of the text node within the
   *   original string. This is used when parsing with the {@link #parse}
   *   method to generate correct offsets within the {@link Autolinker.match.Match}
   *   instances, but may be omitted if calling this method publicly.
   * @return {Autolinker.match.Match[]} The array of Matches found in the
   *   given input `text`.
   */
		parseText: function parseText(text, offset) {
			offset = offset || 0;
			var matchers = this.getMatchers(),
			    matches = [];

			for (var i = 0, numMatchers = matchers.length; i < numMatchers; i++) {
				var textMatches = matchers[i].parseMatches(text);

				// Correct the offset of each of the matches. They are originally
				// the offset of the match within the provided text node, but we
				// need to correct them to be relative to the original HTML input
				// string (i.e. the one provided to #parse).
				for (var j = 0, numTextMatches = textMatches.length; j < numTextMatches; j++) {
					textMatches[j].setOffset(offset + textMatches[j].getOffset());
				}

				matches.push.apply(matches, textMatches);
			}
			return matches;
		},

		/**
   * Automatically links URLs, Email addresses, Phone numbers, Hashtags,
   * and Mentions (Twitter, Instagram) found in the given chunk of HTML. Does not link
   * URLs found within HTML tags.
   *
   * For instance, if given the text: `You should go to http://www.yahoo.com`,
   * then the result will be `You should go to
   * &lt;a href="http://www.yahoo.com"&gt;http://www.yahoo.com&lt;/a&gt;`
   *
   * This method finds the text around any HTML elements in the input
   * `textOrHtml`, which will be the text that is processed. Any original HTML
   * elements will be left as-is, as well as the text that is already wrapped
   * in anchor (&lt;a&gt;) tags.
   *
   * @param {String} textOrHtml The HTML or text to autolink matches within
   *   (depending on if the {@link #urls}, {@link #email}, {@link #phone}, {@link #hashtag}, and {@link #mention} options are enabled).
   * @return {String} The HTML, with matches automatically linked.
   */
		link: function link(textOrHtml) {
			if (!textOrHtml) {
				return "";
			} // handle `null` and `undefined`

			var matches = this.parse(textOrHtml),
			    newHtml = [],
			    lastIndex = 0;

			for (var i = 0, len = matches.length; i < len; i++) {
				var match = matches[i];

				newHtml.push(textOrHtml.substring(lastIndex, match.getOffset()));
				newHtml.push(this.createMatchReturnVal(match));

				lastIndex = match.getOffset() + match.getMatchedText().length;
			}
			newHtml.push(textOrHtml.substring(lastIndex)); // handle the text after the last match

			return newHtml.join('');
		},

		/**
   * Creates the return string value for a given match in the input string.
   *
   * This method handles the {@link #replaceFn}, if one was provided.
   *
   * @private
   * @param {Autolinker.match.Match} match The Match object that represents
   *   the match.
   * @return {String} The string that the `match` should be replaced with.
   *   This is usually the anchor tag string, but may be the `matchStr` itself
   *   if the match is not to be replaced.
   */
		createMatchReturnVal: function createMatchReturnVal(match) {
			// Handle a custom `replaceFn` being provided
			var replaceFnResult;
			if (this.replaceFn) {
				replaceFnResult = this.replaceFn.call(this.context, match); // Autolinker instance is the context
			}

			if (typeof replaceFnResult === 'string') {
				return replaceFnResult; // `replaceFn` returned a string, use that
			} else if (replaceFnResult === false) {
				return match.getMatchedText(); // no replacement for the match
			} else if (replaceFnResult instanceof Autolinker.HtmlTag) {
				return replaceFnResult.toAnchorString();
			} else {
				// replaceFnResult === true, or no/unknown return value from function
				// Perform Autolinker's default anchor tag generation
				var anchorTag = match.buildTag(); // returns an Autolinker.HtmlTag instance

				return anchorTag.toAnchorString();
			}
		},

		/**
   * Lazily instantiates and returns the {@link #htmlParser} instance for this
   * Autolinker instance.
   *
   * @protected
   * @return {Autolinker.htmlParser.HtmlParser}
   */
		getHtmlParser: function getHtmlParser() {
			var htmlParser = this.htmlParser;

			if (!htmlParser) {
				htmlParser = this.htmlParser = new Autolinker.htmlParser.HtmlParser();
			}

			return htmlParser;
		},

		/**
   * Lazily instantiates and returns the {@link Autolinker.matcher.Matcher}
   * instances for this Autolinker instance.
   *
   * @protected
   * @return {Autolinker.matcher.Matcher[]}
   */
		getMatchers: function getMatchers() {
			if (!this.matchers) {
				var matchersNs = Autolinker.matcher,
				    tagBuilder = this.getTagBuilder();

				var matchers = [new matchersNs.Hashtag({ tagBuilder: tagBuilder, serviceName: this.hashtag }), new matchersNs.Email({ tagBuilder: tagBuilder }), new matchersNs.Phone({ tagBuilder: tagBuilder }), new matchersNs.Mention({ tagBuilder: tagBuilder, serviceName: this.mention }), new matchersNs.Url({ tagBuilder: tagBuilder, stripPrefix: this.stripPrefix, stripTrailingSlash: this.stripTrailingSlash })];

				return this.matchers = matchers;
			} else {
				return this.matchers;
			}
		},

		/**
   * Returns the {@link #tagBuilder} instance for this Autolinker instance, lazily instantiating it
   * if it does not yet exist.
   *
   * This method may be used in a {@link #replaceFn} to generate the {@link Autolinker.HtmlTag HtmlTag} instance that
   * Autolinker would normally generate, and then allow for modifications before returning it. For example:
   *
   *     var html = Autolinker.link( "Test google.com", {
   *         replaceFn : function( match ) {
   *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance
   *             tag.setAttr( 'rel', 'nofollow' );
   *
   *             return tag;
   *         }
   *     } );
   *
   *     // generated html:
   *     //   Test <a href="http://google.com" target="_blank" rel="nofollow">google.com</a>
   *
   * @return {Autolinker.AnchorTagBuilder}
   */
		getTagBuilder: function getTagBuilder() {
			var tagBuilder = this.tagBuilder;

			if (!tagBuilder) {
				tagBuilder = this.tagBuilder = new Autolinker.AnchorTagBuilder({
					newWindow: this.newWindow,
					truncate: this.truncate,
					className: this.className
				});
			}

			return tagBuilder;
		}

	};

	// Autolinker Namespaces

	Autolinker.match = {};
	Autolinker.matcher = {};
	Autolinker.htmlParser = {};
	Autolinker.truncate = {};

	/*global Autolinker */
	/*jshint eqnull:true, boss:true */
	/**
  * @class Autolinker.Util
  * @singleton
  *
  * A few utility methods for Autolinker.
  */
	Autolinker.Util = {

		/**
   * @property {Function} abstractMethod
   *
   * A function object which represents an abstract method.
   */
		abstractMethod: function abstractMethod() {
			throw "abstract";
		},

		/**
   * @private
   * @property {RegExp} trimRegex
   *
   * The regular expression used to trim the leading and trailing whitespace
   * from a string.
   */
		trimRegex: /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

		/**
   * Assigns (shallow copies) the properties of `src` onto `dest`.
   *
   * @param {Object} dest The destination object.
   * @param {Object} src The source object.
   * @return {Object} The destination object (`dest`)
   */
		assign: function assign(dest, src) {
			for (var prop in src) {
				if (src.hasOwnProperty(prop)) {
					dest[prop] = src[prop];
				}
			}

			return dest;
		},

		/**
   * Assigns (shallow copies) the properties of `src` onto `dest`, if the
   * corresponding property on `dest` === `undefined`.
   *
   * @param {Object} dest The destination object.
   * @param {Object} src The source object.
   * @return {Object} The destination object (`dest`)
   */
		defaults: function defaults(dest, src) {
			for (var prop in src) {
				if (src.hasOwnProperty(prop) && dest[prop] === undefined) {
					dest[prop] = src[prop];
				}
			}

			return dest;
		},

		/**
   * Extends `superclass` to create a new subclass, adding the `protoProps` to the new subclass's prototype.
   *
   * @param {Function} superclass The constructor function for the superclass.
   * @param {Object} protoProps The methods/properties to add to the subclass's prototype. This may contain the
   *   special property `constructor`, which will be used as the new subclass's constructor function.
   * @return {Function} The new subclass function.
   */
		extend: function extend(superclass, protoProps) {
			var superclassProto = superclass.prototype;

			var F = function F() {};
			F.prototype = superclassProto;

			var subclass;
			if (protoProps.hasOwnProperty('constructor')) {
				subclass = protoProps.constructor;
			} else {
				subclass = function subclass() {
					superclassProto.constructor.apply(this, arguments);
				};
			}

			var subclassProto = subclass.prototype = new F(); // set up prototype chain
			subclassProto.constructor = subclass; // fix constructor property
			subclassProto.superclass = superclassProto;

			delete protoProps.constructor; // don't re-assign constructor property to the prototype, since a new function may have been created (`subclass`), which is now already there
			Autolinker.Util.assign(subclassProto, protoProps);

			return subclass;
		},

		/**
   * Truncates the `str` at `len - ellipsisChars.length`, and adds the `ellipsisChars` to the
   * end of the string (by default, two periods: '..'). If the `str` length does not exceed
   * `len`, the string will be returned unchanged.
   *
   * @param {String} str The string to truncate and add an ellipsis to.
   * @param {Number} truncateLen The length to truncate the string at.
   * @param {String} [ellipsisChars=...] The ellipsis character(s) to add to the end of `str`
   *   when truncated. Defaults to '...'
   */
		ellipsis: function ellipsis(str, truncateLen, ellipsisChars) {
			var ellipsisLength;

			if (str.length > truncateLen) {
				if (ellipsisChars == null) {
					ellipsisChars = '&hellip;';
					ellipsisLength = 3;
				} else {
					ellipsisLength = ellipsisChars.length;
				}

				str = str.substring(0, truncateLen - ellipsisLength) + ellipsisChars;
			}
			return str;
		},

		/**
   * Supports `Array.prototype.indexOf()` functionality for old IE (IE8 and below).
   *
   * @param {Array} arr The array to find an element of.
   * @param {*} element The element to find in the array, and return the index of.
   * @return {Number} The index of the `element`, or -1 if it was not found.
   */
		indexOf: function indexOf(arr, element) {
			if (Array.prototype.indexOf) {
				return arr.indexOf(element);
			} else {
				for (var i = 0, len = arr.length; i < len; i++) {
					if (arr[i] === element) return i;
				}
				return -1;
			}
		},

		/**
   * Removes array elements based on a filtering function. Mutates the input
   * array.
   *
   * Using this instead of the ES5 Array.prototype.filter() function, to allow
   * Autolinker compatibility with IE8, and also to prevent creating many new
   * arrays in memory for filtering.
   *
   * @param {Array} arr The array to remove elements from. This array is
   *   mutated.
   * @param {Function} fn A function which should return `true` to
   *   remove an element.
   * @return {Array} The mutated input `arr`.
   */
		remove: function remove(arr, fn) {
			for (var i = arr.length - 1; i >= 0; i--) {
				if (fn(arr[i]) === true) {
					arr.splice(i, 1);
				}
			}
		},

		/**
   * Performs the functionality of what modern browsers do when `String.prototype.split()` is called
   * with a regular expression that contains capturing parenthesis.
   *
   * For example:
   *
   *     // Modern browsers:
   *     "a,b,c".split( /(,)/ );  // --> [ 'a', ',', 'b', ',', 'c' ]
   *
   *     // Old IE (including IE8):
   *     "a,b,c".split( /(,)/ );  // --> [ 'a', 'b', 'c' ]
   *
   * This method emulates the functionality of modern browsers for the old IE case.
   *
   * @param {String} str The string to split.
   * @param {RegExp} splitRegex The regular expression to split the input `str` on. The splitting
   *   character(s) will be spliced into the array, as in the "modern browsers" example in the
   *   description of this method.
   *   Note #1: the supplied regular expression **must** have the 'g' flag specified.
   *   Note #2: for simplicity's sake, the regular expression does not need
   *   to contain capturing parenthesis - it will be assumed that any match has them.
   * @return {String[]} The split array of strings, with the splitting character(s) included.
   */
		splitAndCapture: function splitAndCapture(str, splitRegex) {
			if (!splitRegex.global) throw new Error("`splitRegex` must have the 'g' flag set");

			var result = [],
			    lastIdx = 0,
			    match;

			while (match = splitRegex.exec(str)) {
				result.push(str.substring(lastIdx, match.index));
				result.push(match[0]); // push the splitting char(s)

				lastIdx = match.index + match[0].length;
			}
			result.push(str.substring(lastIdx));

			return result;
		},

		/**
   * Trims the leading and trailing whitespace from a string.
   *
   * @param {String} str The string to trim.
   * @return {String}
   */
		trim: function trim(str) {
			return str.replace(this.trimRegex, '');
		}

	};

	/*global Autolinker */
	/*jshint boss:true */
	/**
  * @class Autolinker.HtmlTag
  * @extends Object
  *
  * Represents an HTML tag, which can be used to easily build/modify HTML tags programmatically.
  *
  * Autolinker uses this abstraction to create HTML tags, and then write them out as strings. You may also use
  * this class in your code, especially within a {@link Autolinker#replaceFn replaceFn}.
  *
  * ## Examples
  *
  * Example instantiation:
  *
  *     var tag = new Autolinker.HtmlTag( {
  *         tagName : 'a',
  *         attrs   : { 'href': 'http://google.com', 'class': 'external-link' },
  *         innerHtml : 'Google'
  *     } );
  *
  *     tag.toAnchorString();  // <a href="http://google.com" class="external-link">Google</a>
  *
  *     // Individual accessor methods
  *     tag.getTagName();                 // 'a'
  *     tag.getAttr( 'href' );            // 'http://google.com'
  *     tag.hasClass( 'external-link' );  // true
  *
  *
  * Using mutator methods (which may be used in combination with instantiation config properties):
  *
  *     var tag = new Autolinker.HtmlTag();
  *     tag.setTagName( 'a' );
  *     tag.setAttr( 'href', 'http://google.com' );
  *     tag.addClass( 'external-link' );
  *     tag.setInnerHtml( 'Google' );
  *
  *     tag.getTagName();                 // 'a'
  *     tag.getAttr( 'href' );            // 'http://google.com'
  *     tag.hasClass( 'external-link' );  // true
  *
  *     tag.toAnchorString();  // <a href="http://google.com" class="external-link">Google</a>
  *
  *
  * ## Example use within a {@link Autolinker#replaceFn replaceFn}
  *
  *     var html = Autolinker.link( "Test google.com", {
  *         replaceFn : function( match ) {
  *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance, configured with the Match's href and anchor text
  *             tag.setAttr( 'rel', 'nofollow' );
  *
  *             return tag;
  *         }
  *     } );
  *
  *     // generated html:
  *     //   Test <a href="http://google.com" target="_blank" rel="nofollow">google.com</a>
  *
  *
  * ## Example use with a new tag for the replacement
  *
  *     var html = Autolinker.link( "Test google.com", {
  *         replaceFn : function( match ) {
  *             var tag = new Autolinker.HtmlTag( {
  *                 tagName : 'button',
  *                 attrs   : { 'title': 'Load URL: ' + match.getAnchorHref() },
  *                 innerHtml : 'Load URL: ' + match.getAnchorText()
  *             } );
  *
  *             return tag;
  *         }
  *     } );
  *
  *     // generated html:
  *     //   Test <button title="Load URL: http://google.com">Load URL: google.com</button>
  */
	Autolinker.HtmlTag = Autolinker.Util.extend(Object, {

		/**
   * @cfg {String} tagName
   *
   * The tag name. Ex: 'a', 'button', etc.
   *
   * Not required at instantiation time, but should be set using {@link #setTagName} before {@link #toAnchorString}
   * is executed.
   */

		/**
   * @cfg {Object.<String, String>} attrs
   *
   * An key/value Object (map) of attributes to create the tag with. The keys are the attribute names, and the
   * values are the attribute values.
   */

		/**
   * @cfg {String} innerHtml
   *
   * The inner HTML for the tag.
   *
   * Note the camel case name on `innerHtml`. Acronyms are camelCased in this utility (such as not to run into the acronym
   * naming inconsistency that the DOM developers created with `XMLHttpRequest`). You may alternatively use {@link #innerHTML}
   * if you prefer, but this one is recommended.
   */

		/**
   * @cfg {String} innerHTML
   *
   * Alias of {@link #innerHtml}, accepted for consistency with the browser DOM api, but prefer the camelCased version
   * for acronym names.
   */

		/**
   * @protected
   * @property {RegExp} whitespaceRegex
   *
   * Regular expression used to match whitespace in a string of CSS classes.
   */
		whitespaceRegex: /\s+/,

		/**
   * @constructor
   * @param {Object} [cfg] The configuration properties for this class, in an Object (map)
   */
		constructor: function constructor(cfg) {
			Autolinker.Util.assign(this, cfg);

			this.innerHtml = this.innerHtml || this.innerHTML; // accept either the camelCased form or the fully capitalized acronym
		},

		/**
   * Sets the tag name that will be used to generate the tag with.
   *
   * @param {String} tagName
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		setTagName: function setTagName(tagName) {
			this.tagName = tagName;
			return this;
		},

		/**
   * Retrieves the tag name.
   *
   * @return {String}
   */
		getTagName: function getTagName() {
			return this.tagName || "";
		},

		/**
   * Sets an attribute on the HtmlTag.
   *
   * @param {String} attrName The attribute name to set.
   * @param {String} attrValue The attribute value to set.
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		setAttr: function setAttr(attrName, attrValue) {
			var tagAttrs = this.getAttrs();
			tagAttrs[attrName] = attrValue;

			return this;
		},

		/**
   * Retrieves an attribute from the HtmlTag. If the attribute does not exist, returns `undefined`.
   *
   * @param {String} attrName The attribute name to retrieve.
   * @return {String} The attribute's value, or `undefined` if it does not exist on the HtmlTag.
   */
		getAttr: function getAttr(attrName) {
			return this.getAttrs()[attrName];
		},

		/**
   * Sets one or more attributes on the HtmlTag.
   *
   * @param {Object.<String, String>} attrs A key/value Object (map) of the attributes to set.
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		setAttrs: function setAttrs(attrs) {
			var tagAttrs = this.getAttrs();
			Autolinker.Util.assign(tagAttrs, attrs);

			return this;
		},

		/**
   * Retrieves the attributes Object (map) for the HtmlTag.
   *
   * @return {Object.<String, String>} A key/value object of the attributes for the HtmlTag.
   */
		getAttrs: function getAttrs() {
			return this.attrs || (this.attrs = {});
		},

		/**
   * Sets the provided `cssClass`, overwriting any current CSS classes on the HtmlTag.
   *
   * @param {String} cssClass One or more space-separated CSS classes to set (overwrite).
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		setClass: function setClass(cssClass) {
			return this.setAttr('class', cssClass);
		},

		/**
   * Convenience method to add one or more CSS classes to the HtmlTag. Will not add duplicate CSS classes.
   *
   * @param {String} cssClass One or more space-separated CSS classes to add.
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		addClass: function addClass(cssClass) {
			var classAttr = this.getClass(),
			    whitespaceRegex = this.whitespaceRegex,
			    indexOf = Autolinker.Util.indexOf,
			    // to support IE8 and below
			classes = !classAttr ? [] : classAttr.split(whitespaceRegex),
			    newClasses = cssClass.split(whitespaceRegex),
			    newClass;

			while (newClass = newClasses.shift()) {
				if (indexOf(classes, newClass) === -1) {
					classes.push(newClass);
				}
			}

			this.getAttrs()['class'] = classes.join(" ");
			return this;
		},

		/**
   * Convenience method to remove one or more CSS classes from the HtmlTag.
   *
   * @param {String} cssClass One or more space-separated CSS classes to remove.
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		removeClass: function removeClass(cssClass) {
			var classAttr = this.getClass(),
			    whitespaceRegex = this.whitespaceRegex,
			    indexOf = Autolinker.Util.indexOf,
			    // to support IE8 and below
			classes = !classAttr ? [] : classAttr.split(whitespaceRegex),
			    removeClasses = cssClass.split(whitespaceRegex),
			    removeClass;

			while (classes.length && (removeClass = removeClasses.shift())) {
				var idx = indexOf(classes, removeClass);
				if (idx !== -1) {
					classes.splice(idx, 1);
				}
			}

			this.getAttrs()['class'] = classes.join(" ");
			return this;
		},

		/**
   * Convenience method to retrieve the CSS class(es) for the HtmlTag, which will each be separated by spaces when
   * there are multiple.
   *
   * @return {String}
   */
		getClass: function getClass() {
			return this.getAttrs()['class'] || "";
		},

		/**
   * Convenience method to check if the tag has a CSS class or not.
   *
   * @param {String} cssClass The CSS class to check for.
   * @return {Boolean} `true` if the HtmlTag has the CSS class, `false` otherwise.
   */
		hasClass: function hasClass(cssClass) {
			return (' ' + this.getClass() + ' ').indexOf(' ' + cssClass + ' ') !== -1;
		},

		/**
   * Sets the inner HTML for the tag.
   *
   * @param {String} html The inner HTML to set.
   * @return {Autolinker.HtmlTag} This HtmlTag instance, so that method calls may be chained.
   */
		setInnerHtml: function setInnerHtml(html) {
			this.innerHtml = html;

			return this;
		},

		/**
   * Retrieves the inner HTML for the tag.
   *
   * @return {String}
   */
		getInnerHtml: function getInnerHtml() {
			return this.innerHtml || "";
		},

		/**
   * Override of superclass method used to generate the HTML string for the tag.
   *
   * @return {String}
   */
		toAnchorString: function toAnchorString() {
			var tagName = this.getTagName(),
			    attrsStr = this.buildAttrsStr();

			attrsStr = attrsStr ? ' ' + attrsStr : ''; // prepend a space if there are actually attributes

			return ['<', tagName, attrsStr, '>', this.getInnerHtml(), '</', tagName, '>'].join("");
		},

		/**
   * Support method for {@link #toAnchorString}, returns the string space-separated key="value" pairs, used to populate
   * the stringified HtmlTag.
   *
   * @protected
   * @return {String} Example return: `attr1="value1" attr2="value2"`
   */
		buildAttrsStr: function buildAttrsStr() {
			if (!this.attrs) return ""; // no `attrs` Object (map) has been set, return empty string

			var attrs = this.getAttrs(),
			    attrsArr = [];

			for (var prop in attrs) {
				if (attrs.hasOwnProperty(prop)) {
					attrsArr.push(prop + '="' + attrs[prop] + '"');
				}
			}
			return attrsArr.join(" ");
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.RegexLib
  * @singleton
  *
  * Builds and stores a library of the common regular expressions used by the
  * Autolinker utility.
  *
  * Other regular expressions may exist ad-hoc, but these are generally the
  * regular expressions that are shared between source files.
  */
	Autolinker.RegexLib = function () {

		/**
   * The string form of a regular expression that would match all of the
   * alphabetic ("letter") chars in the unicode character set when placed in a
   * RegExp character class (`[]`). This includes all international alphabetic
   * characters.
   *
   * These would be the characters matched by unicode regex engines `\p{L}`
   * escape ("all letters").
   *
   * Taken from the XRegExp library: http://xregexp.com/
   * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js
   *
   * @private
   * @type {String}
   */
		var alphaCharsStr = 'A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC';

		/**
   * The string form of a regular expression that would match all of the
   * decimal number chars in the unicode character set when placed in a RegExp
   * character class (`[]`).
   *
   * These would be the characters matched by unicode regex engines `\p{Nd}`
   * escape ("all decimal numbers")
   *
   * Taken from the XRegExp library: http://xregexp.com/
   * Specifically: http://xregexp.com/v/3.0.0/unicode-categories.js
   *
   * @private
   * @type {String}
   */
		var decimalNumbersStr = '0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19';

		// See documentation below
		var alphaNumericCharsStr = alphaCharsStr + decimalNumbersStr;

		// See documentation below
		var domainNameRegex = new RegExp('[' + alphaNumericCharsStr + '.\\-]*[' + alphaNumericCharsStr + '\\-]');

		return {

			/**
    * The string form of a regular expression that would match all of the
    * letters and decimal number chars in the unicode character set when placed
    * in a RegExp character class (`[]`).
    *
    * These would be the characters matched by unicode regex engines `[\p{L}\p{Nd}]`
    * escape ("all letters and decimal numbers")
    *
    * @property {String} alphaNumericCharsStr
    */
			alphaNumericCharsStr: alphaNumericCharsStr,

			/**
    * The string form of a regular expression that would match all of the
    * letters and in the unicode character set when placed
    * in a RegExp character class (`[]`).
    *
    * These would be the characters matched by unicode regex engines `[\p{L}]`
    * escape ("all letters")
    *
    * @property {String} alphaCharsStr
    */
			alphaCharsStr: alphaCharsStr,

			/**
    * A regular expression to match domain names of a URL or email address.
    * Ex: 'google', 'yahoo', 'some-other-company', etc.
    *
    * @property {RegExp} domainNameRegex
    */
			domainNameRegex: domainNameRegex

		};
	}();

	/*global Autolinker */
	/*jshint sub:true */
	/**
  * @protected
  * @class Autolinker.AnchorTagBuilder
  * @extends Object
  *
  * Builds anchor (&lt;a&gt;) tags for the Autolinker utility when a match is
  * found.
  *
  * Normally this class is instantiated, configured, and used internally by an
  * {@link Autolinker} instance, but may actually be used indirectly in a
  * {@link Autolinker#replaceFn replaceFn} to create {@link Autolinker.HtmlTag HtmlTag}
  * instances which may be modified before returning from the
  * {@link Autolinker#replaceFn replaceFn}. For example:
  *
  *     var html = Autolinker.link( "Test google.com", {
  *         replaceFn : function( match ) {
  *             var tag = match.buildTag();  // returns an {@link Autolinker.HtmlTag} instance
  *             tag.setAttr( 'rel', 'nofollow' );
  *
  *             return tag;
  *         }
  *     } );
  *
  *     // generated html:
  *     //   Test <a href="http://google.com" target="_blank" rel="nofollow">google.com</a>
  */
	Autolinker.AnchorTagBuilder = Autolinker.Util.extend(Object, {

		/**
   * @cfg {Boolean} newWindow
   * @inheritdoc Autolinker#newWindow
   */

		/**
   * @cfg {Object} truncate
   * @inheritdoc Autolinker#truncate
   */

		/**
   * @cfg {String} className
   * @inheritdoc Autolinker#className
   */

		/**
   * @constructor
   * @param {Object} [cfg] The configuration options for the AnchorTagBuilder instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			cfg = cfg || {};

			this.newWindow = cfg.newWindow;
			this.truncate = cfg.truncate;
			this.className = cfg.className;
		},

		/**
   * Generates the actual anchor (&lt;a&gt;) tag to use in place of the
   * matched text, via its `match` object.
   *
   * @param {Autolinker.match.Match} match The Match instance to generate an
   *   anchor tag from.
   * @return {Autolinker.HtmlTag} The HtmlTag instance for the anchor tag.
   */
		build: function build(match) {
			return new Autolinker.HtmlTag({
				tagName: 'a',
				attrs: this.createAttrs(match),
				innerHtml: this.processAnchorText(match.getAnchorText())
			});
		},

		/**
   * Creates the Object (map) of the HTML attributes for the anchor (&lt;a&gt;)
   *   tag being generated.
   *
   * @protected
   * @param {Autolinker.match.Match} match The Match instance to generate an
   *   anchor tag from.
   * @return {Object} A key/value Object (map) of the anchor tag's attributes.
   */
		createAttrs: function createAttrs(match) {
			var attrs = {
				'href': match.getAnchorHref() // we'll always have the `href` attribute
			};

			var cssClass = this.createCssClass(match);
			if (cssClass) {
				attrs['class'] = cssClass;
			}
			if (this.newWindow) {
				attrs['target'] = "_blank";
				attrs['rel'] = "noopener noreferrer";
			}

			if (this.truncate) {
				if (this.truncate.length && this.truncate.length < match.getAnchorText().length) {
					attrs['title'] = match.getAnchorHref();
				}
			}

			return attrs;
		},

		/**
   * Creates the CSS class that will be used for a given anchor tag, based on
   * the `matchType` and the {@link #className} config.
   *
   * Example returns:
   *
   * - ""                                      // no {@link #className}
   * - "myLink myLink-url"                     // url match
   * - "myLink myLink-email"                   // email match
   * - "myLink myLink-phone"                   // phone match
   * - "myLink myLink-hashtag"                 // hashtag match
   * - "myLink myLink-mention myLink-twitter"  // mention match with Twitter service
   *
   * @private
   * @param {Autolinker.match.Match} match The Match instance to generate an
   *   anchor tag from.
   * @return {String} The CSS class string for the link. Example return:
   *   "myLink myLink-url". If no {@link #className} was configured, returns
   *   an empty string.
   */
		createCssClass: function createCssClass(match) {
			var className = this.className;

			if (!className) {
				return "";
			} else {
				var returnClasses = [className],
				    cssClassSuffixes = match.getCssClassSuffixes();

				for (var i = 0, len = cssClassSuffixes.length; i < len; i++) {
					returnClasses.push(className + '-' + cssClassSuffixes[i]);
				}
				return returnClasses.join(' ');
			}
		},

		/**
   * Processes the `anchorText` by truncating the text according to the
   * {@link #truncate} config.
   *
   * @private
   * @param {String} anchorText The anchor tag's text (i.e. what will be
   *   displayed).
   * @return {String} The processed `anchorText`.
   */
		processAnchorText: function processAnchorText(anchorText) {
			anchorText = this.doTruncate(anchorText);

			return anchorText;
		},

		/**
   * Performs the truncation of the `anchorText` based on the {@link #truncate}
   * option. If the `anchorText` is longer than the length specified by the
   * {@link #truncate} option, the truncation is performed based on the
   * `location` property. See {@link #truncate} for details.
   *
   * @private
   * @param {String} anchorText The anchor tag's text (i.e. what will be
   *   displayed).
   * @return {String} The truncated anchor text.
   */
		doTruncate: function doTruncate(anchorText) {
			var truncate = this.truncate;
			if (!truncate || !truncate.length) return anchorText;

			var truncateLength = truncate.length,
			    truncateLocation = truncate.location;

			if (truncateLocation === 'smart') {
				return Autolinker.truncate.TruncateSmart(anchorText, truncateLength);
			} else if (truncateLocation === 'middle') {
				return Autolinker.truncate.TruncateMiddle(anchorText, truncateLength);
			} else {
				return Autolinker.truncate.TruncateEnd(anchorText, truncateLength);
			}
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.htmlParser.HtmlParser
  * @extends Object
  *
  * An HTML parser implementation which simply walks an HTML string and returns an array of
  * {@link Autolinker.htmlParser.HtmlNode HtmlNodes} that represent the basic HTML structure of the input string.
  *
  * Autolinker uses this to only link URLs/emails/mentions within text nodes, effectively ignoring / "walking
  * around" HTML tags.
  */
	Autolinker.htmlParser.HtmlParser = Autolinker.Util.extend(Object, {

		/**
   * @private
   * @property {RegExp} htmlRegex
   *
   * The regular expression used to pull out HTML tags from a string. Handles namespaced HTML tags and
   * attribute names, as specified by http://www.w3.org/TR/html-markup/syntax.html.
   *
   * Capturing groups:
   *
   * 1. The "!DOCTYPE" tag name, if a tag is a &lt;!DOCTYPE&gt; tag.
   * 2. If it is an end tag, this group will have the '/'.
   * 3. If it is a comment tag, this group will hold the comment text (i.e.
   *    the text inside the `&lt;!--` and `--&gt;`.
   * 4. The tag name for a tag without attributes (other than the &lt;!DOCTYPE&gt; tag)
   * 5. The tag name for a tag with attributes (other than the &lt;!DOCTYPE&gt; tag)
   */
		htmlRegex: function () {
			var commentTagRegex = /!--([\s\S]+?)--/,
			    tagNameRegex = /[0-9a-zA-Z][0-9a-zA-Z:]*/,
			    attrNameRegex = /[^\s"'>\/=\x00-\x1F\x7F]+/,
			    // the unicode range accounts for excluding control chars, and the delete char
			attrValueRegex = /(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,
			    // double quoted, single quoted, or unquoted attribute values
			nameEqualsValueRegex = attrNameRegex.source + '(?:\\s*=\\s*' + attrValueRegex.source + ')?'; // optional '=[value]'

			return new RegExp([
			// for <!DOCTYPE> tag. Ex: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">)
			'(?:', '<(!DOCTYPE)', // *** Capturing Group 1 - If it's a doctype tag

			// Zero or more attributes following the tag name
			'(?:', '\\s+', // one or more whitespace chars before an attribute

			// Either:
			// A. attr="value", or
			// B. "value" alone (To cover example doctype tag: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">)
			'(?:', nameEqualsValueRegex, '|', attrValueRegex.source + ')', ')*', '>', ')', '|',

			// All other HTML tags (i.e. tags that are not <!DOCTYPE>)
			'(?:', '<(/)?', // Beginning of a tag or comment. Either '<' for a start tag, or '</' for an end tag.
			// *** Capturing Group 2: The slash or an empty string. Slash ('/') for end tag, empty string for start or self-closing tag.

			'(?:', commentTagRegex.source, // *** Capturing Group 3 - A Comment Tag's Text

			'|',

			// Handle tag without attributes.
			// Doing this separately from a tag that has attributes
			// to fix a regex time complexity issue seen with the
			// example in https://github.com/gregjacobs/Autolinker.js/issues/172
			'(?:',
			// *** Capturing Group 4 - The tag name for a tag without attributes
			'(' + tagNameRegex.source + ')', '\\s*/?', // any trailing spaces and optional '/' before the closing '>'
			')', '|',

			// Handle tag with attributes
			// Doing this separately from a tag with no attributes
			// to fix a regex time complexity issue seen with the
			// example in https://github.com/gregjacobs/Autolinker.js/issues/172
			'(?:',
			// *** Capturing Group 5 - The tag name for a tag with attributes
			'(' + tagNameRegex.source + ')', '\\s+', // must have at least one space after the tag name to prevent ReDoS issue (issue #172)

			// Zero or more attributes following the tag name
			'(?:', '(?:\\s+|\\b)', // any number of whitespace chars before an attribute. NOTE: Using \s* here throws Chrome into an infinite loop for some reason, so using \s+|\b instead
			nameEqualsValueRegex, // attr="value" (with optional ="value" part)
			')*', '\\s*/?', // any trailing spaces and optional '/' before the closing '>'
			')', ')', '>', ')'].join(""), 'gi');
		}(),

		/**
   * @private
   * @property {RegExp} htmlCharacterEntitiesRegex
   *
   * The regular expression that matches common HTML character entities.
   *
   * Ignoring &amp; as it could be part of a query string -- handling it separately.
   */
		htmlCharacterEntitiesRegex: /(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,

		/**
   * Parses an HTML string and returns a simple array of {@link Autolinker.htmlParser.HtmlNode HtmlNodes}
   * to represent the HTML structure of the input string.
   *
   * @param {String} html The HTML to parse.
   * @return {Autolinker.htmlParser.HtmlNode[]}
   */
		parse: function parse(html) {
			var htmlRegex = this.htmlRegex,
			    currentResult,
			    lastIndex = 0,
			    textAndEntityNodes,
			    nodes = []; // will be the result of the method

			while ((currentResult = htmlRegex.exec(html)) !== null) {
				var tagText = currentResult[0],
				    commentText = currentResult[3],
				    // if we've matched a comment
				tagName = currentResult[1] || currentResult[4] || currentResult[5],
				    // The <!DOCTYPE> tag (ex: "!DOCTYPE"), or another tag (ex: "a" or "img")
				isClosingTag = !!currentResult[2],
				    offset = currentResult.index,
				    inBetweenTagsText = html.substring(lastIndex, offset);

				// Push TextNodes and EntityNodes for any text found between tags
				if (inBetweenTagsText) {
					textAndEntityNodes = this.parseTextAndEntityNodes(lastIndex, inBetweenTagsText);
					nodes.push.apply(nodes, textAndEntityNodes);
				}

				// Push the CommentNode or ElementNode
				if (commentText) {
					nodes.push(this.createCommentNode(offset, tagText, commentText));
				} else {
					nodes.push(this.createElementNode(offset, tagText, tagName, isClosingTag));
				}

				lastIndex = offset + tagText.length;
			}

			// Process any remaining text after the last HTML element. Will process all of the text if there were no HTML elements.
			if (lastIndex < html.length) {
				var text = html.substring(lastIndex);

				// Push TextNodes and EntityNodes for any text found between tags
				if (text) {
					textAndEntityNodes = this.parseTextAndEntityNodes(lastIndex, text);

					// Note: the following 3 lines were previously:
					//   nodes.push.apply( nodes, textAndEntityNodes );
					// but this was causing a "Maximum Call Stack Size Exceeded"
					// error on inputs with a large number of html entities.
					textAndEntityNodes.forEach(function (node) {
						nodes.push(node);
					});
				}
			}

			return nodes;
		},

		/**
   * Parses text and HTML entity nodes from a given string. The input string
   * should not have any HTML tags (elements) within it.
   *
   * @private
   * @param {Number} offset The offset of the text node match within the
   *   original HTML string.
   * @param {String} text The string of text to parse. This is from an HTML
   *   text node.
   * @return {Autolinker.htmlParser.HtmlNode[]} An array of HtmlNodes to
   *   represent the {@link Autolinker.htmlParser.TextNode TextNodes} and
   *   {@link Autolinker.htmlParser.EntityNode EntityNodes} found.
   */
		parseTextAndEntityNodes: function parseTextAndEntityNodes(offset, text) {
			var nodes = [],
			    textAndEntityTokens = Autolinker.Util.splitAndCapture(text, this.htmlCharacterEntitiesRegex); // split at HTML entities, but include the HTML entities in the results array

			// Every even numbered token is a TextNode, and every odd numbered token is an EntityNode
			// For example: an input `text` of "Test &quot;this&quot; today" would turn into the
			//   `textAndEntityTokens`: [ 'Test ', '&quot;', 'this', '&quot;', ' today' ]
			for (var i = 0, len = textAndEntityTokens.length; i < len; i += 2) {
				var textToken = textAndEntityTokens[i],
				    entityToken = textAndEntityTokens[i + 1];

				if (textToken) {
					nodes.push(this.createTextNode(offset, textToken));
					offset += textToken.length;
				}
				if (entityToken) {
					nodes.push(this.createEntityNode(offset, entityToken));
					offset += entityToken.length;
				}
			}
			return nodes;
		},

		/**
   * Factory method to create an {@link Autolinker.htmlParser.CommentNode CommentNode}.
   *
   * @private
   * @param {Number} offset The offset of the match within the original HTML
   *   string.
   * @param {String} tagText The full text of the tag (comment) that was
   *   matched, including its &lt;!-- and --&gt;.
   * @param {String} commentText The full text of the comment that was matched.
   */
		createCommentNode: function createCommentNode(offset, tagText, commentText) {
			return new Autolinker.htmlParser.CommentNode({
				offset: offset,
				text: tagText,
				comment: Autolinker.Util.trim(commentText)
			});
		},

		/**
   * Factory method to create an {@link Autolinker.htmlParser.ElementNode ElementNode}.
   *
   * @private
   * @param {Number} offset The offset of the match within the original HTML
   *   string.
   * @param {String} tagText The full text of the tag (element) that was
   *   matched, including its attributes.
   * @param {String} tagName The name of the tag. Ex: An &lt;img&gt; tag would
   *   be passed to this method as "img".
   * @param {Boolean} isClosingTag `true` if it's a closing tag, false
   *   otherwise.
   * @return {Autolinker.htmlParser.ElementNode}
   */
		createElementNode: function createElementNode(offset, tagText, tagName, isClosingTag) {
			return new Autolinker.htmlParser.ElementNode({
				offset: offset,
				text: tagText,
				tagName: tagName.toLowerCase(),
				closing: isClosingTag
			});
		},

		/**
   * Factory method to create a {@link Autolinker.htmlParser.EntityNode EntityNode}.
   *
   * @private
   * @param {Number} offset The offset of the match within the original HTML
   *   string.
   * @param {String} text The text that was matched for the HTML entity (such
   *   as '&amp;nbsp;').
   * @return {Autolinker.htmlParser.EntityNode}
   */
		createEntityNode: function createEntityNode(offset, text) {
			return new Autolinker.htmlParser.EntityNode({ offset: offset, text: text });
		},

		/**
   * Factory method to create a {@link Autolinker.htmlParser.TextNode TextNode}.
   *
   * @private
   * @param {Number} offset The offset of the match within the original HTML
   *   string.
   * @param {String} text The text that was matched.
   * @return {Autolinker.htmlParser.TextNode}
   */
		createTextNode: function createTextNode(offset, text) {
			return new Autolinker.htmlParser.TextNode({ offset: offset, text: text });
		}

	});

	/*global Autolinker */
	/**
  * @abstract
  * @class Autolinker.htmlParser.HtmlNode
  *
  * Represents an HTML node found in an input string. An HTML node is one of the
  * following:
  *
  * 1. An {@link Autolinker.htmlParser.ElementNode ElementNode}, which represents
  *    HTML tags.
  * 2. A {@link Autolinker.htmlParser.CommentNode CommentNode}, which represents
  *    HTML comments.
  * 3. A {@link Autolinker.htmlParser.TextNode TextNode}, which represents text
  *    outside or within HTML tags.
  * 4. A {@link Autolinker.htmlParser.EntityNode EntityNode}, which represents
  *    one of the known HTML entities that Autolinker looks for. This includes
  *    common ones such as &amp;quot; and &amp;nbsp;
  */
	Autolinker.htmlParser.HtmlNode = Autolinker.Util.extend(Object, {

		/**
   * @cfg {Number} offset (required)
   *
   * The offset of the HTML node in the original text that was parsed.
   */
		offset: undefined,

		/**
   * @cfg {String} text (required)
   *
   * The text that was matched for the HtmlNode.
   *
   * - In the case of an {@link Autolinker.htmlParser.ElementNode ElementNode},
   *   this will be the tag's text.
   * - In the case of an {@link Autolinker.htmlParser.CommentNode CommentNode},
   *   this will be the comment's text.
   * - In the case of a {@link Autolinker.htmlParser.TextNode TextNode}, this
   *   will be the text itself.
   * - In the case of a {@link Autolinker.htmlParser.EntityNode EntityNode},
   *   this will be the text of the HTML entity.
   */
		text: undefined,

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match instance,
   * specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.Util.assign(this, cfg);

			if (this.offset == null) throw new Error('`offset` cfg required');
			if (this.text == null) throw new Error('`text` cfg required');
		},

		/**
   * Returns a string name for the type of node that this class represents.
   *
   * @abstract
   * @return {String}
   */
		getType: Autolinker.Util.abstractMethod,

		/**
   * Retrieves the {@link #offset} of the HtmlNode. This is the offset of the
   * HTML node in the original string that was parsed.
   *
   * @return {Number}
   */
		getOffset: function getOffset() {
			return this.offset;
		},

		/**
   * Retrieves the {@link #text} for the HtmlNode.
   *
   * @return {String}
   */
		getText: function getText() {
			return this.text;
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.htmlParser.CommentNode
  * @extends Autolinker.htmlParser.HtmlNode
  *
  * Represents an HTML comment node that has been parsed by the
  * {@link Autolinker.htmlParser.HtmlParser}.
  *
  * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more
  * details.
  */
	Autolinker.htmlParser.CommentNode = Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode, {

		/**
   * @cfg {String} comment (required)
   *
   * The text inside the comment tag. This text is stripped of any leading or
   * trailing whitespace.
   */
		comment: '',

		/**
   * Returns a string name for the type of node that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'comment';
		},

		/**
   * Returns the comment inside the comment tag.
   *
   * @return {String}
   */
		getComment: function getComment() {
			return this.comment;
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.htmlParser.ElementNode
  * @extends Autolinker.htmlParser.HtmlNode
  *
  * Represents an HTML element node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.
  *
  * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more
  * details.
  */
	Autolinker.htmlParser.ElementNode = Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode, {

		/**
   * @cfg {String} tagName (required)
   *
   * The name of the tag that was matched.
   */
		tagName: '',

		/**
   * @cfg {Boolean} closing (required)
   *
   * `true` if the element (tag) is a closing tag, `false` if its an opening
   * tag.
   */
		closing: false,

		/**
   * Returns a string name for the type of node that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'element';
		},

		/**
   * Returns the HTML element's (tag's) name. Ex: for an &lt;img&gt; tag,
   * returns "img".
   *
   * @return {String}
   */
		getTagName: function getTagName() {
			return this.tagName;
		},

		/**
   * Determines if the HTML element (tag) is a closing tag. Ex: &lt;div&gt;
   * returns `false`, while &lt;/div&gt; returns `true`.
   *
   * @return {Boolean}
   */
		isClosing: function isClosing() {
			return this.closing;
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.htmlParser.EntityNode
  * @extends Autolinker.htmlParser.HtmlNode
  *
  * Represents a known HTML entity node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.
  * Ex: '&amp;nbsp;', or '&amp#160;' (which will be retrievable from the {@link #getText}
  * method.
  *
  * Note that this class will only be returned from the HtmlParser for the set of
  * checked HTML entity nodes  defined by the {@link Autolinker.htmlParser.HtmlParser#htmlCharacterEntitiesRegex}.
  *
  * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more
  * details.
  */
	Autolinker.htmlParser.EntityNode = Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode, {

		/**
   * Returns a string name for the type of node that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'entity';
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.htmlParser.TextNode
  * @extends Autolinker.htmlParser.HtmlNode
  *
  * Represents a text node that has been parsed by the {@link Autolinker.htmlParser.HtmlParser}.
  *
  * See this class's superclass ({@link Autolinker.htmlParser.HtmlNode}) for more
  * details.
  */
	Autolinker.htmlParser.TextNode = Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode, {

		/**
   * Returns a string name for the type of node that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'text';
		}

	});
	/*global Autolinker */
	/**
  * @abstract
  * @class Autolinker.match.Match
  *
  * Represents a match found in an input string which should be Autolinked. A Match object is what is provided in a
  * {@link Autolinker#replaceFn replaceFn}, and may be used to query for details about the match.
  *
  * For example:
  *
  *     var input = "...";  // string with URLs, Email Addresses, and Mentions (Twitter, Instagram)
  *
  *     var linkedText = Autolinker.link( input, {
  *         replaceFn : function( match ) {
  *             console.log( "href = ", match.getAnchorHref() );
  *             console.log( "text = ", match.getAnchorText() );
  *
  *             switch( match.getType() ) {
  *                 case 'url' :
  *                     console.log( "url: ", match.getUrl() );
  *
  *                 case 'email' :
  *                     console.log( "email: ", match.getEmail() );
  *
  *                 case 'mention' :
  *                     console.log( "mention: ", match.getMention() );
  *             }
  *         }
  *     } );
  *
  * See the {@link Autolinker} class for more details on using the {@link Autolinker#replaceFn replaceFn}.
  */
	Autolinker.match.Match = Autolinker.Util.extend(Object, {

		/**
   * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)
   *
   * Reference to the AnchorTagBuilder instance to use to generate an anchor
   * tag for the Match.
   */

		/**
   * @cfg {String} matchedText (required)
   *
   * The original text that was matched by the {@link Autolinker.matcher.Matcher}.
   */

		/**
   * @cfg {Number} offset (required)
   *
   * The offset of where the match was made in the input string.
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			if (cfg.tagBuilder == null) throw new Error('`tagBuilder` cfg required');
			if (cfg.matchedText == null) throw new Error('`matchedText` cfg required');
			if (cfg.offset == null) throw new Error('`offset` cfg required');

			this.tagBuilder = cfg.tagBuilder;
			this.matchedText = cfg.matchedText;
			this.offset = cfg.offset;
		},

		/**
   * Returns a string name for the type of match that this class represents.
   *
   * @abstract
   * @return {String}
   */
		getType: Autolinker.Util.abstractMethod,

		/**
   * Returns the original text that was matched.
   *
   * @return {String}
   */
		getMatchedText: function getMatchedText() {
			return this.matchedText;
		},

		/**
   * Sets the {@link #offset} of where the match was made in the input string.
   *
   * A {@link Autolinker.matcher.Matcher} will be fed only HTML text nodes,
   * and will therefore set an original offset that is relative to the HTML
   * text node itself. However, we want this offset to be relative to the full
   * HTML input string, and thus if using {@link Autolinker#parse} (rather
   * than calling a {@link Autolinker.matcher.Matcher} directly), then this
   * offset is corrected after the Matcher itself has done its job.
   *
   * @param {Number} offset
   */
		setOffset: function setOffset(offset) {
			this.offset = offset;
		},

		/**
   * Returns the offset of where the match was made in the input string. This
   * is the 0-based index of the match.
   *
   * @return {Number}
   */
		getOffset: function getOffset() {
			return this.offset;
		},

		/**
   * Returns the anchor href that should be generated for the match.
   *
   * @abstract
   * @return {String}
   */
		getAnchorHref: Autolinker.Util.abstractMethod,

		/**
   * Returns the anchor text that should be generated for the match.
   *
   * @abstract
   * @return {String}
   */
		getAnchorText: Autolinker.Util.abstractMethod,

		/**
   * Returns the CSS class suffix(es) for this match.
   *
   * A CSS class suffix is appended to the {@link Autolinker#className} in
   * the {@link Autolinker.AnchorTagBuilder} when a match is translated into
   * an anchor tag.
   *
   * For example, if {@link Autolinker#className} was configured as 'myLink',
   * and this method returns `[ 'url' ]`, the final class name of the element
   * will become: 'myLink myLink-url'.
   *
   * The match may provide multiple CSS class suffixes to be appended to the
   * {@link Autolinker#className} in order to facilitate better styling
   * options for different match criteria. See {@link Autolinker.match.Mention}
   * for an example.
   *
   * By default, this method returns a single array with the match's
   * {@link #getType type} name, but may be overridden by subclasses.
   *
   * @return {String[]}
   */
		getCssClassSuffixes: function getCssClassSuffixes() {
			return [this.getType()];
		},

		/**
   * Builds and returns an {@link Autolinker.HtmlTag} instance based on the
   * Match.
   *
   * This can be used to easily generate anchor tags from matches, and either
   * return their HTML string, or modify them before doing so.
   *
   * Example Usage:
   *
   *     var tag = match.buildTag();
   *     tag.addClass( 'cordova-link' );
   *     tag.setAttr( 'target', '_system' );
   *
   *     tag.toAnchorString();  // <a href="http://google.com" class="cordova-link" target="_system">Google</a>
   */
		buildTag: function buildTag() {
			return this.tagBuilder.build(this);
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.match.Email
  * @extends Autolinker.match.Match
  *
  * Represents a Email match found in an input string which should be Autolinked.
  *
  * See this class's superclass ({@link Autolinker.match.Match}) for more details.
  */
	Autolinker.match.Email = Autolinker.Util.extend(Autolinker.match.Match, {

		/**
   * @cfg {String} email (required)
   *
   * The email address that was matched.
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.match.Match.prototype.constructor.call(this, cfg);

			if (!cfg.email) throw new Error('`email` cfg required');

			this.email = cfg.email;
		},

		/**
   * Returns a string name for the type of match that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'email';
		},

		/**
   * Returns the email address that was matched.
   *
   * @return {String}
   */
		getEmail: function getEmail() {
			return this.email;
		},

		/**
   * Returns the anchor href that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorHref: function getAnchorHref() {
			return 'mailto:' + this.email;
		},

		/**
   * Returns the anchor text that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorText: function getAnchorText() {
			return this.email;
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.match.Hashtag
  * @extends Autolinker.match.Match
  *
  * Represents a Hashtag match found in an input string which should be
  * Autolinked.
  *
  * See this class's superclass ({@link Autolinker.match.Match}) for more
  * details.
  */
	Autolinker.match.Hashtag = Autolinker.Util.extend(Autolinker.match.Match, {

		/**
   * @cfg {String} serviceName
   *
   * The service to point hashtag matches to. See {@link Autolinker#hashtag}
   * for available values.
   */

		/**
   * @cfg {String} hashtag (required)
   *
   * The Hashtag that was matched, without the '#'.
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.match.Match.prototype.constructor.call(this, cfg);

			// TODO: if( !serviceName ) throw new Error( '`serviceName` cfg required' );
			if (!cfg.hashtag) throw new Error('`hashtag` cfg required');

			this.serviceName = cfg.serviceName;
			this.hashtag = cfg.hashtag;
		},

		/**
   * Returns the type of match that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'hashtag';
		},

		/**
   * Returns the configured {@link #serviceName} to point the Hashtag to.
   * Ex: 'facebook', 'twitter'.
   *
   * @return {String}
   */
		getServiceName: function getServiceName() {
			return this.serviceName;
		},

		/**
   * Returns the matched hashtag, without the '#' character.
   *
   * @return {String}
   */
		getHashtag: function getHashtag() {
			return this.hashtag;
		},

		/**
   * Returns the anchor href that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorHref: function getAnchorHref() {
			var serviceName = this.serviceName,
			    hashtag = this.hashtag;

			switch (serviceName) {
				case 'twitter':
					return 'https://twitter.com/hashtag/' + hashtag;
				case 'facebook':
					return 'https://www.facebook.com/hashtag/' + hashtag;
				case 'instagram':
					return 'https://instagram.com/explore/tags/' + hashtag;

				default:
					// Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.
					throw new Error('Unknown service name to point hashtag to: ', serviceName);
			}
		},

		/**
   * Returns the anchor text that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorText: function getAnchorText() {
			return '#' + this.hashtag;
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.match.Phone
  * @extends Autolinker.match.Match
  *
  * Represents a Phone number match found in an input string which should be
  * Autolinked.
  *
  * See this class's superclass ({@link Autolinker.match.Match}) for more
  * details.
  */
	Autolinker.match.Phone = Autolinker.Util.extend(Autolinker.match.Match, {

		/**
   * @protected
   * @property {String} number (required)
   *
   * The phone number that was matched, without any delimiter characters.
   *
   * Note: This is a string to allow for prefixed 0's.
   */

		/**
   * @protected
   * @property  {Boolean} plusSign (required)
   *
   * `true` if the matched phone number started with a '+' sign. We'll include
   * it in the `tel:` URL if so, as this is needed for international numbers.
   *
   * Ex: '+1 (123) 456 7879'
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.match.Match.prototype.constructor.call(this, cfg);

			if (!cfg.number) throw new Error('`number` cfg required');
			if (cfg.plusSign == null) throw new Error('`plusSign` cfg required');

			this.number = cfg.number;
			this.plusSign = cfg.plusSign;
		},

		/**
   * Returns a string name for the type of match that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'phone';
		},

		/**
   * Returns the phone number that was matched as a string, without any
   * delimiter characters.
   *
   * Note: This is a string to allow for prefixed 0's.
   *
   * @return {String}
   */
		getNumber: function getNumber() {
			return this.number;
		},

		/**
   * Returns the anchor href that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorHref: function getAnchorHref() {
			return 'tel:' + (this.plusSign ? '+' : '') + this.number;
		},

		/**
   * Returns the anchor text that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorText: function getAnchorText() {
			return this.matchedText;
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.match.Mention
  * @extends Autolinker.match.Match
  *
  * Represents a Mention match found in an input string which should be Autolinked.
  *
  * See this class's superclass ({@link Autolinker.match.Match}) for more details.
  */
	Autolinker.match.Mention = Autolinker.Util.extend(Autolinker.match.Match, {

		/**
   * @cfg {String} serviceName
   *
   * The service to point mention matches to. See {@link Autolinker#mention}
   * for available values.
   */

		/**
   * @cfg {String} mention (required)
   *
   * The Mention that was matched, without the '@' character.
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.match.Match.prototype.constructor.call(this, cfg);

			if (!cfg.serviceName) throw new Error('`serviceName` cfg required');
			if (!cfg.mention) throw new Error('`mention` cfg required');

			this.mention = cfg.mention;
			this.serviceName = cfg.serviceName;
		},

		/**
   * Returns the type of match that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'mention';
		},

		/**
   * Returns the mention, without the '@' character.
   *
   * @return {String}
   */
		getMention: function getMention() {
			return this.mention;
		},

		/**
   * Returns the configured {@link #serviceName} to point the mention to.
   * Ex: 'instagram', 'twitter'.
   *
   * @return {String}
   */
		getServiceName: function getServiceName() {
			return this.serviceName;
		},

		/**
   * Returns the anchor href that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorHref: function getAnchorHref() {
			switch (this.serviceName) {
				case 'twitter':
					return 'https://twitter.com/' + this.mention;
				case 'instagram':
					return 'https://instagram.com/' + this.mention;

				default:
					// Shouldn't happen because Autolinker's constructor should block any invalid values, but just in case.
					throw new Error('Unknown service name to point mention to: ', this.serviceName);
			}
		},

		/**
   * Returns the anchor text that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorText: function getAnchorText() {
			return '@' + this.mention;
		},

		/**
   * Returns the CSS class suffixes that should be used on a tag built with
   * the match. See {@link Autolinker.match.Match#getCssClassSuffixes} for
   * details.
   *
   * @return {String[]}
   */
		getCssClassSuffixes: function getCssClassSuffixes() {
			var cssClassSuffixes = Autolinker.match.Match.prototype.getCssClassSuffixes.call(this),
			    serviceName = this.getServiceName();

			if (serviceName) {
				cssClassSuffixes.push(serviceName);
			}
			return cssClassSuffixes;
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.match.Url
  * @extends Autolinker.match.Match
  *
  * Represents a Url match found in an input string which should be Autolinked.
  *
  * See this class's superclass ({@link Autolinker.match.Match}) for more details.
  */
	Autolinker.match.Url = Autolinker.Util.extend(Autolinker.match.Match, {

		/**
   * @cfg {String} url (required)
   *
   * The url that was matched.
   */

		/**
   * @cfg {"scheme"/"www"/"tld"} urlMatchType (required)
   *
   * The type of URL match that this class represents. This helps to determine
   * if the match was made in the original text with a prefixed scheme (ex:
   * 'http://www.google.com'), a prefixed 'www' (ex: 'www.google.com'), or
   * was matched by a known top-level domain (ex: 'google.com').
   */

		/**
   * @cfg {Boolean} protocolUrlMatch (required)
   *
   * `true` if the URL is a match which already has a protocol (i.e.
   * 'http://'), `false` if the match was from a 'www' or known TLD match.
   */

		/**
   * @cfg {Boolean} protocolRelativeMatch (required)
   *
   * `true` if the URL is a protocol-relative match. A protocol-relative match
   * is a URL that starts with '//', and will be either http:// or https://
   * based on the protocol that the site is loaded under.
   */

		/**
   * @cfg {Object} stripPrefix (required)
   *
   * The Object form of {@link Autolinker#cfg-stripPrefix}.
   */

		/**
   * @cfg {Boolean} stripTrailingSlash (required)
   * @inheritdoc Autolinker#cfg-stripTrailingSlash
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.match.Match.prototype.constructor.call(this, cfg);

			if (cfg.urlMatchType !== 'scheme' && cfg.urlMatchType !== 'www' && cfg.urlMatchType !== 'tld') throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');
			if (!cfg.url) throw new Error('`url` cfg required');
			if (cfg.protocolUrlMatch == null) throw new Error('`protocolUrlMatch` cfg required');
			if (cfg.protocolRelativeMatch == null) throw new Error('`protocolRelativeMatch` cfg required');
			if (cfg.stripPrefix == null) throw new Error('`stripPrefix` cfg required');
			if (cfg.stripTrailingSlash == null) throw new Error('`stripTrailingSlash` cfg required');

			this.urlMatchType = cfg.urlMatchType;
			this.url = cfg.url;
			this.protocolUrlMatch = cfg.protocolUrlMatch;
			this.protocolRelativeMatch = cfg.protocolRelativeMatch;
			this.stripPrefix = cfg.stripPrefix;
			this.stripTrailingSlash = cfg.stripTrailingSlash;
		},

		/**
   * @private
   * @property {RegExp} schemePrefixRegex
   *
   * A regular expression used to remove the 'http://' or 'https://' from
   * URLs.
   */
		schemePrefixRegex: /^(https?:\/\/)?/i,

		/**
   * @private
   * @property {RegExp} wwwPrefixRegex
   *
   * A regular expression used to remove the 'www.' from URLs.
   */
		wwwPrefixRegex: /^(https?:\/\/)?(www\.)?/i,

		/**
   * @private
   * @property {RegExp} protocolRelativeRegex
   *
   * The regular expression used to remove the protocol-relative '//' from the {@link #url} string, for purposes
   * of {@link #getAnchorText}. A protocol-relative URL is, for example, "//yahoo.com"
   */
		protocolRelativeRegex: /^\/\//,

		/**
   * @private
   * @property {Boolean} protocolPrepended
   *
   * Will be set to `true` if the 'http://' protocol has been prepended to the {@link #url} (because the
   * {@link #url} did not have a protocol)
   */
		protocolPrepended: false,

		/**
   * Returns a string name for the type of match that this class represents.
   *
   * @return {String}
   */
		getType: function getType() {
			return 'url';
		},

		/**
   * Returns a string name for the type of URL match that this class
   * represents.
   *
   * This helps to determine if the match was made in the original text with a
   * prefixed scheme (ex: 'http://www.google.com'), a prefixed 'www' (ex:
   * 'www.google.com'), or was matched by a known top-level domain (ex:
   * 'google.com').
   *
   * @return {"scheme"/"www"/"tld"}
   */
		getUrlMatchType: function getUrlMatchType() {
			return this.urlMatchType;
		},

		/**
   * Returns the url that was matched, assuming the protocol to be 'http://' if the original
   * match was missing a protocol.
   *
   * @return {String}
   */
		getUrl: function getUrl() {
			var url = this.url;

			// if the url string doesn't begin with a protocol, assume 'http://'
			if (!this.protocolRelativeMatch && !this.protocolUrlMatch && !this.protocolPrepended) {
				url = this.url = 'http://' + url;

				this.protocolPrepended = true;
			}

			return url;
		},

		/**
   * Returns the anchor href that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorHref: function getAnchorHref() {
			var url = this.getUrl();

			return url.replace(/&amp;/g, '&'); // any &amp;'s in the URL should be converted back to '&' if they were displayed as &amp; in the source html
		},

		/**
   * Returns the anchor text that should be generated for the match.
   *
   * @return {String}
   */
		getAnchorText: function getAnchorText() {
			var anchorText = this.getMatchedText();

			if (this.protocolRelativeMatch) {
				// Strip off any protocol-relative '//' from the anchor text
				anchorText = this.stripProtocolRelativePrefix(anchorText);
			}
			if (this.stripPrefix.scheme) {
				anchorText = this.stripSchemePrefix(anchorText);
			}
			if (this.stripPrefix.www) {
				anchorText = this.stripWwwPrefix(anchorText);
			}
			if (this.stripTrailingSlash) {
				anchorText = this.removeTrailingSlash(anchorText); // remove trailing slash, if there is one
			}

			return anchorText;
		},

		// ---------------------------------------

		// Utility Functionality

		/**
   * Strips the scheme prefix (such as "http://" or "https://") from the given
   * `url`.
   *
   * @private
   * @param {String} url The text of the anchor that is being generated, for
   *   which to strip off the url scheme.
   * @return {String} The `url`, with the scheme stripped.
   */
		stripSchemePrefix: function stripSchemePrefix(url) {
			return url.replace(this.schemePrefixRegex, '');
		},

		/**
   * Strips the 'www' prefix from the given `url`.
   *
   * @private
   * @param {String} url The text of the anchor that is being generated, for
   *   which to strip off the 'www' if it exists.
   * @return {String} The `url`, with the 'www' stripped.
   */
		stripWwwPrefix: function stripWwwPrefix(url) {
			return url.replace(this.wwwPrefixRegex, '$1'); // leave any scheme ($1), it one exists
		},

		/**
   * Strips any protocol-relative '//' from the anchor text.
   *
   * @private
   * @param {String} text The text of the anchor that is being generated, for which to strip off the
   *   protocol-relative prefix (such as stripping off "//")
   * @return {String} The `anchorText`, with the protocol-relative prefix stripped.
   */
		stripProtocolRelativePrefix: function stripProtocolRelativePrefix(text) {
			return text.replace(this.protocolRelativeRegex, '');
		},

		/**
   * Removes any trailing slash from the given `anchorText`, in preparation for the text to be displayed.
   *
   * @private
   * @param {String} anchorText The text of the anchor that is being generated, for which to remove any trailing
   *   slash ('/') that may exist.
   * @return {String} The `anchorText`, with the trailing slash removed.
   */
		removeTrailingSlash: function removeTrailingSlash(anchorText) {
			if (anchorText.charAt(anchorText.length - 1) === '/') {
				anchorText = anchorText.slice(0, -1);
			}
			return anchorText;
		}

	});
	// NOTE: THIS IS A GENERATED FILE
	// To update with the latest TLD list, run `gulp update-tld-list`

	/*global Autolinker */
	Autolinker.tldRegex = /(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|vermögensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|vermögensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|السعودية|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|католик|الجزائر|العليان|پاکستان|كاثوليك|موبايلي|இந்தியா|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|москва|онлайн|ابوظبي|ارامكو|الاردن|المغرب|امارات|فلسطين|مليسيا|இலங்கை|ファッション|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|ایران|بازار|بھارت|سودان|سورية|همراه|संगठन|বাংলা|భారత్|嘉里大酒店|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|дети|сайт|بيتك|تونس|شبكة|عراق|عمان|موقع|भारत|ভারত|ਭਾਰਤ|ભારત|ලංකා|グーグル|クラウド|ポイント|大众汽车|组织机构|電訊盈科|香格里拉|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|бел|ком|қаз|мкд|мон|орг|рус|срб|укр|հայ|קום|قطر|كوم|مصر|कॉम|नेट|คอม|ไทย|ストア|セール|みんな|中文网|天主教|我爱你|新加坡|淡马锡|诺基亚|飞利浦|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|ελ|бг|ею|рф|გე|닷넷|닷컴|삼성|한국|コム|世界|中信|中国|中國|企业|佛山|信息|健康|八卦|公司|公益|台湾|台灣|商城|商店|商标|嘉里|在线|大拿|娱乐|家電|工行|广东|微博|慈善|手机|手表|政务|政府|新闻|时尚|書籍|机构|游戏|澳門|点看|珠宝|移动|网址|网店|网站|网络|联通|谷歌|购物|通販|集团|食品|餐厅|香港)/;

	/*global Autolinker */
	/**
  * @abstract
  * @class Autolinker.matcher.Matcher
  *
  * An abstract class and interface for individual matchers to find matches in
  * an input string with linkified versions of them.
  *
  * Note that Matchers do not take HTML into account - they must be fed the text
  * nodes of any HTML string, which is handled by {@link Autolinker#parse}.
  */
	Autolinker.matcher.Matcher = Autolinker.Util.extend(Object, {

		/**
   * @cfg {Autolinker.AnchorTagBuilder} tagBuilder (required)
   *
   * Reference to the AnchorTagBuilder instance to use to generate HTML tags
   * for {@link Autolinker.match.Match Matches}.
   */

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Matcher
   *   instance, specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			if (!cfg.tagBuilder) throw new Error('`tagBuilder` cfg required');

			this.tagBuilder = cfg.tagBuilder;
		},

		/**
   * Parses the input `text` and returns the array of {@link Autolinker.match.Match Matches}
   * for the matcher.
   *
   * @abstract
   * @param {String} text The text to scan and replace matches in.
   * @return {Autolinker.match.Match[]}
   */
		parseMatches: Autolinker.Util.abstractMethod

	});
	/*global Autolinker */
	/**
  * @class Autolinker.matcher.Email
  * @extends Autolinker.matcher.Matcher
  *
  * Matcher to find email matches in an input string.
  *
  * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.
  */
	Autolinker.matcher.Email = Autolinker.Util.extend(Autolinker.matcher.Matcher, {

		/**
   * The regular expression to match email addresses. Example match:
   *
   *     person@place.com
   *
   * @private
   * @property {RegExp} matcherRegex
   */
		matcherRegex: function () {
			var alphaNumericChars = Autolinker.RegexLib.alphaNumericCharsStr,
			    emailRegex = new RegExp('[' + alphaNumericChars + '\\-_\';:&=+$.,]+@'),
			    // something@ for email addresses (a.k.a. local-part)
			domainNameRegex = Autolinker.RegexLib.domainNameRegex,
			    tldRegex = Autolinker.tldRegex; // match our known top level domains (TLDs)

			return new RegExp([emailRegex.source, domainNameRegex.source, '\\.', tldRegex.source // '.com', '.net', etc
			].join(""), 'gi');
		}(),

		/**
   * @inheritdoc
   */
		parseMatches: function parseMatches(text) {
			var matcherRegex = this.matcherRegex,
			    tagBuilder = this.tagBuilder,
			    matches = [],
			    match;

			while ((match = matcherRegex.exec(text)) !== null) {
				var matchedText = match[0];

				matches.push(new Autolinker.match.Email({
					tagBuilder: tagBuilder,
					matchedText: matchedText,
					offset: match.index,
					email: matchedText
				}));
			}

			return matches;
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.matcher.Hashtag
  * @extends Autolinker.matcher.Matcher
  *
  * Matcher to find Hashtag matches in an input string.
  */
	Autolinker.matcher.Hashtag = Autolinker.Util.extend(Autolinker.matcher.Matcher, {

		/**
   * @cfg {String} serviceName
   *
   * The service to point hashtag matches to. See {@link Autolinker#hashtag}
   * for available values.
   */

		/**
   * The regular expression to match Hashtags. Example match:
   *
   *     #asdf
   *
   * @private
   * @property {RegExp} matcherRegex
   */
		matcherRegex: new RegExp('#[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,139}', 'g'),

		/**
   * The regular expression to use to check the character before a username match to
   * make sure we didn't accidentally match an email address.
   *
   * For example, the string "asdf@asdf.com" should not match "@asdf" as a username.
   *
   * @private
   * @property {RegExp} nonWordCharRegex
   */
		nonWordCharRegex: new RegExp('[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']'),

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match instance,
   *   specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.matcher.Matcher.prototype.constructor.call(this, cfg);

			this.serviceName = cfg.serviceName;
		},

		/**
   * @inheritdoc
   */
		parseMatches: function parseMatches(text) {
			var matcherRegex = this.matcherRegex,
			    nonWordCharRegex = this.nonWordCharRegex,
			    serviceName = this.serviceName,
			    tagBuilder = this.tagBuilder,
			    matches = [],
			    match;

			while ((match = matcherRegex.exec(text)) !== null) {
				var offset = match.index,
				    prevChar = text.charAt(offset - 1);

				// If we found the match at the beginning of the string, or we found the match
				// and there is a whitespace char in front of it (meaning it is not a '#' char
				// in the middle of a word), then it is a hashtag match.
				if (offset === 0 || nonWordCharRegex.test(prevChar)) {
					var matchedText = match[0],
					    hashtag = match[0].slice(1); // strip off the '#' character at the beginning

					matches.push(new Autolinker.match.Hashtag({
						tagBuilder: tagBuilder,
						matchedText: matchedText,
						offset: offset,
						serviceName: serviceName,
						hashtag: hashtag
					}));
				}
			}

			return matches;
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.matcher.Phone
  * @extends Autolinker.matcher.Matcher
  *
  * Matcher to find Phone number matches in an input string.
  *
  * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more
  * details.
  */
	Autolinker.matcher.Phone = Autolinker.Util.extend(Autolinker.matcher.Matcher, {

		/**
   * The regular expression to match Phone numbers. Example match:
   *
   *     (123) 456-7890
   *
   * This regular expression has the following capturing groups:
   *
   * 1. The prefixed '+' sign, if there is one.
   *
   * @private
   * @property {RegExp} matcherRegex
   */
		matcherRegex: /(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,

		// ex: (123) 456-7890, 123 456 7890, 123-456-7890, +18004441234,,;,10226420346#, 
		// +1 (800) 444 1234, 10226420346#, 1-800-444-1234,1022,64,20346#

		/**
   * @inheritdoc
   */
		parseMatches: function parseMatches(text) {
			var matcherRegex = this.matcherRegex,
			    tagBuilder = this.tagBuilder,
			    matches = [],
			    match;

			while ((match = matcherRegex.exec(text)) !== null) {
				// Remove non-numeric values from phone number string
				var matchedText = match[0],
				    cleanNumber = matchedText.replace(/[^0-9,;#]/g, ''),
				    // strip out non-digit characters exclude comma semicolon and #
				plusSign = !!match[1]; // match[ 1 ] is the prefixed plus sign, if there is one
				if (/\D/.test(match[2]) && /\D/.test(matchedText)) {
					matches.push(new Autolinker.match.Phone({
						tagBuilder: tagBuilder,
						matchedText: matchedText,
						offset: match.index,
						number: cleanNumber,
						plusSign: plusSign
					}));
				}
			}

			return matches;
		}

	});
	/*global Autolinker */
	/**
  * @class Autolinker.matcher.Mention
  * @extends Autolinker.matcher.Matcher
  *
  * Matcher to find/replace username matches in an input string.
  */
	Autolinker.matcher.Mention = Autolinker.Util.extend(Autolinker.matcher.Matcher, {

		/**
   * Hash of regular expression to match username handles. Example match:
   *
   *     @asdf
   *
   * @private
   * @property {Object} matcherRegexes
   */
		matcherRegexes: {
			"twitter": new RegExp('@[_' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,20}', 'g'),
			"instagram": new RegExp('@[_.' + Autolinker.RegexLib.alphaNumericCharsStr + ']{1,50}', 'g')
		},

		/**
   * The regular expression to use to check the character before a username match to
   * make sure we didn't accidentally match an email address.
   *
   * For example, the string "asdf@asdf.com" should not match "@asdf" as a username.
   *
   * @private
   * @property {RegExp} nonWordCharRegex
   */
		nonWordCharRegex: new RegExp('[^' + Autolinker.RegexLib.alphaNumericCharsStr + ']'),

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match instance,
   *   specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.matcher.Matcher.prototype.constructor.call(this, cfg);

			this.serviceName = cfg.serviceName;
		},

		/**
   * @inheritdoc
   */
		parseMatches: function parseMatches(text) {
			var matcherRegex = this.matcherRegexes[this.serviceName],
			    nonWordCharRegex = this.nonWordCharRegex,
			    serviceName = this.serviceName,
			    tagBuilder = this.tagBuilder,
			    matches = [],
			    match;

			if (!matcherRegex) {
				return matches;
			}

			while ((match = matcherRegex.exec(text)) !== null) {
				var offset = match.index,
				    prevChar = text.charAt(offset - 1);

				// If we found the match at the beginning of the string, or we found the match
				// and there is a whitespace char in front of it (meaning it is not an email
				// address), then it is a username match.
				if (offset === 0 || nonWordCharRegex.test(prevChar)) {
					var matchedText = match[0].replace(/\.+$/g, ''),
					    // strip off trailing .
					mention = matchedText.slice(1); // strip off the '@' character at the beginning

					matches.push(new Autolinker.match.Mention({
						tagBuilder: tagBuilder,
						matchedText: matchedText,
						offset: offset,
						serviceName: serviceName,
						mention: mention
					}));
				}
			}

			return matches;
		}

	});

	/*global Autolinker */
	/**
  * @class Autolinker.matcher.Url
  * @extends Autolinker.matcher.Matcher
  *
  * Matcher to find URL matches in an input string.
  *
  * See this class's superclass ({@link Autolinker.matcher.Matcher}) for more details.
  */
	Autolinker.matcher.Url = Autolinker.Util.extend(Autolinker.matcher.Matcher, {

		/**
   * @cfg {Object} stripPrefix (required)
   *
   * The Object form of {@link Autolinker#cfg-stripPrefix}.
   */

		/**
   * @cfg {Boolean} stripTrailingSlash (required)
   * @inheritdoc Autolinker#stripTrailingSlash
   */

		/**
   * @private
   * @property {RegExp} matcherRegex
   *
   * The regular expression to match URLs with an optional scheme, port
   * number, path, query string, and hash anchor.
   *
   * Example matches:
   *
   *     http://google.com
   *     www.google.com
   *     google.com/path/to/file?q1=1&q2=2#myAnchor
   *
   *
   * This regular expression will have the following capturing groups:
   *
   * 1.  Group that matches a scheme-prefixed URL (i.e. 'http://google.com').
   *     This is used to match scheme URLs with just a single word, such as
   *     'http://localhost', where we won't double check that the domain name
   *     has at least one dot ('.') in it.
   * 2.  Group that matches a 'www.' prefixed URL. This is only matched if the
   *     'www.' text was not prefixed by a scheme (i.e.: not prefixed by
   *     'http://', 'ftp:', etc.)
   * 3.  A protocol-relative ('//') match for the case of a 'www.' prefixed
   *     URL. Will be an empty string if it is not a protocol-relative match.
   *     We need to know the character before the '//' in order to determine
   *     if it is a valid match or the // was in a string we don't want to
   *     auto-link.
   * 4.  Group that matches a known TLD (top level domain), when a scheme
   *     or 'www.'-prefixed domain is not matched.
   * 5.  A protocol-relative ('//') match for the case of a known TLD prefixed
   *     URL. Will be an empty string if it is not a protocol-relative match.
   *     See #3 for more info.
   */
		matcherRegex: function () {
			var schemeRegex = /(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,
			    // match protocol, allow in format "http://" or "mailto:". However, do not match the first part of something like 'link:http://www.google.com' (i.e. don't match "link:"). Also, make sure we don't interpret 'google.com:8000' as if 'google.com' was a protocol here (i.e. ignore a trailing port number in this regex)
			wwwRegex = /(?:www\.)/,
			    // starting with 'www.'
			domainNameRegex = Autolinker.RegexLib.domainNameRegex,
			    tldRegex = Autolinker.tldRegex,
			    // match our known top level domains (TLDs)
			alphaNumericCharsStr = Autolinker.RegexLib.alphaNumericCharsStr,


			// Allow optional path, query string, and hash anchor, not ending in the following characters: "?!:,.;"
			// http://blog.codinghorror.com/the-problem-with-urls/
			urlSuffixRegex = new RegExp('[/?#](?:[' + alphaNumericCharsStr + '\\-+&@#/%=~_()|\'$*\\[\\]?!:,.;\u2713]*[' + alphaNumericCharsStr + '\\-+&@#/%=~_()|\'$*\\[\\]\u2713])?');

			return new RegExp(['(?:', // parens to cover match for scheme (optional), and domain
			'(', // *** Capturing group $1, for a scheme-prefixed url (ex: http://google.com)
			schemeRegex.source, domainNameRegex.source, ')', '|', '(', // *** Capturing group $2, for a 'www.' prefixed url (ex: www.google.com)
			'(//)?', // *** Capturing group $3 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)
			wwwRegex.source, domainNameRegex.source, ')', '|', '(', // *** Capturing group $4, for known a TLD url (ex: google.com)
			'(//)?', // *** Capturing group $5 for an optional protocol-relative URL. Must be at the beginning of the string or start with a non-word character (handled later)
			domainNameRegex.source + '\\.', tldRegex.source, '(?![-' + alphaNumericCharsStr + '])', // TLD not followed by a letter, behaves like unicode-aware \b
			')', ')', '(?::[0-9]+)?', // port

			'(?:' + urlSuffixRegex.source + ')?' // match for path, query string, and/or hash anchor - optional
			].join(""), 'gi');
		}(),

		/**
   * A regular expression to use to check the character before a protocol-relative
   * URL match. We don't want to match a protocol-relative URL if it is part
   * of another word.
   *
   * For example, we want to match something like "Go to: //google.com",
   * but we don't want to match something like "abc//google.com"
   *
   * This regular expression is used to test the character before the '//'.
   *
   * @private
   * @type {RegExp} wordCharRegExp
   */
		wordCharRegExp: new RegExp('[' + Autolinker.RegexLib.alphaNumericCharsStr + ']'),

		/**
   * The regular expression to match opening parenthesis in a URL match.
   *
   * This is to determine if we have unbalanced parenthesis in the URL, and to
   * drop the final parenthesis that was matched if so.
   *
   * Ex: The text "(check out: wikipedia.com/something_(disambiguation))"
   * should only autolink the inner "wikipedia.com/something_(disambiguation)"
   * part, so if we find that we have unbalanced parenthesis, we will drop the
   * last one for the match.
   *
   * @private
   * @property {RegExp}
   */
		openParensRe: /\(/g,

		/**
   * The regular expression to match closing parenthesis in a URL match. See
   * {@link #openParensRe} for more information.
   *
   * @private
   * @property {RegExp}
   */
		closeParensRe: /\)/g,

		/**
   * @constructor
   * @param {Object} cfg The configuration properties for the Match instance,
   *   specified in an Object (map).
   */
		constructor: function constructor(cfg) {
			Autolinker.matcher.Matcher.prototype.constructor.call(this, cfg);

			if (cfg.stripPrefix == null) throw new Error('`stripPrefix` cfg required');
			if (cfg.stripTrailingSlash == null) throw new Error('`stripTrailingSlash` cfg required');

			this.stripPrefix = cfg.stripPrefix;
			this.stripTrailingSlash = cfg.stripTrailingSlash;
		},

		/**
   * @inheritdoc
   */
		parseMatches: function parseMatches(text) {
			var matcherRegex = this.matcherRegex,
			    stripPrefix = this.stripPrefix,
			    stripTrailingSlash = this.stripTrailingSlash,
			    tagBuilder = this.tagBuilder,
			    matches = [],
			    match;

			while ((match = matcherRegex.exec(text)) !== null) {
				var matchStr = match[0],
				    schemeUrlMatch = match[1],
				    wwwUrlMatch = match[2],
				    wwwProtocolRelativeMatch = match[3],

				//tldUrlMatch = match[ 4 ],  -- not needed at the moment
				tldProtocolRelativeMatch = match[5],
				    offset = match.index,
				    protocolRelativeMatch = wwwProtocolRelativeMatch || tldProtocolRelativeMatch,
				    prevChar = text.charAt(offset - 1);

				if (!Autolinker.matcher.UrlMatchValidator.isValid(matchStr, schemeUrlMatch)) {
					continue;
				}

				// If the match is preceded by an '@' character, then it is either
				// an email address or a username. Skip these types of matches.
				if (offset > 0 && prevChar === '@') {
					continue;
				}

				// If it's a protocol-relative '//' match, but the character before the '//'
				// was a word character (i.e. a letter/number), then we found the '//' in the
				// middle of another word (such as "asdf//asdf.com"). In this case, skip the
				// match.
				if (offset > 0 && protocolRelativeMatch && this.wordCharRegExp.test(prevChar)) {
					continue;
				}

				if (/\?$/.test(matchStr)) {
					matchStr = matchStr.substr(0, matchStr.length - 1);
				}

				// Handle a closing parenthesis at the end of the match, and exclude
				// it if there is not a matching open parenthesis in the match
				// itself.
				if (this.matchHasUnbalancedClosingParen(matchStr)) {
					matchStr = matchStr.substr(0, matchStr.length - 1); // remove the trailing ")"
				} else {
					// Handle an invalid character after the TLD
					var pos = this.matchHasInvalidCharAfterTld(matchStr, schemeUrlMatch);
					if (pos > -1) {
						matchStr = matchStr.substr(0, pos); // remove the trailing invalid chars
					}
				}

				var urlMatchType = schemeUrlMatch ? 'scheme' : wwwUrlMatch ? 'www' : 'tld',
				    protocolUrlMatch = !!schemeUrlMatch;

				matches.push(new Autolinker.match.Url({
					tagBuilder: tagBuilder,
					matchedText: matchStr,
					offset: offset,
					urlMatchType: urlMatchType,
					url: matchStr,
					protocolUrlMatch: protocolUrlMatch,
					protocolRelativeMatch: !!protocolRelativeMatch,
					stripPrefix: stripPrefix,
					stripTrailingSlash: stripTrailingSlash
				}));
			}

			return matches;
		},

		/**
   * Determines if a match found has an unmatched closing parenthesis. If so,
   * this parenthesis will be removed from the match itself, and appended
   * after the generated anchor tag.
   *
   * A match may have an extra closing parenthesis at the end of the match
   * because the regular expression must include parenthesis for URLs such as
   * "wikipedia.com/something_(disambiguation)", which should be auto-linked.
   *
   * However, an extra parenthesis *will* be included when the URL itself is
   * wrapped in parenthesis, such as in the case of "(wikipedia.com/something_(disambiguation))".
   * In this case, the last closing parenthesis should *not* be part of the
   * URL itself, and this method will return `true`.
   *
   * @private
   * @param {String} matchStr The full match string from the {@link #matcherRegex}.
   * @return {Boolean} `true` if there is an unbalanced closing parenthesis at
   *   the end of the `matchStr`, `false` otherwise.
   */
		matchHasUnbalancedClosingParen: function matchHasUnbalancedClosingParen(matchStr) {
			var lastChar = matchStr.charAt(matchStr.length - 1);

			if (lastChar === ')') {
				var openParensMatch = matchStr.match(this.openParensRe),
				    closeParensMatch = matchStr.match(this.closeParensRe),
				    numOpenParens = openParensMatch && openParensMatch.length || 0,
				    numCloseParens = closeParensMatch && closeParensMatch.length || 0;

				if (numOpenParens < numCloseParens) {
					return true;
				}
			}

			return false;
		},

		/**
   * Determine if there's an invalid character after the TLD in a URL. Valid
   * characters after TLD are ':/?#'. Exclude scheme matched URLs from this
   * check.
   *
   * @private
   * @param {String} urlMatch The matched URL, if there was one. Will be an
   *   empty string if the match is not a URL match.
   * @param {String} schemeUrlMatch The match URL string for a scheme
   *   match. Ex: 'http://yahoo.com'. This is used to match something like
   *   'http://localhost', where we won't double check that the domain name
   *   has at least one '.' in it.
   * @return {Number} the position where the invalid character was found. If
   *   no such character was found, returns -1
   */
		matchHasInvalidCharAfterTld: function matchHasInvalidCharAfterTld(urlMatch, schemeUrlMatch) {
			if (!urlMatch) {
				return -1;
			}

			var offset = 0;
			if (schemeUrlMatch) {
				offset = urlMatch.indexOf(':');
				urlMatch = urlMatch.slice(offset);
			}

			var alphaNumeric = Autolinker.RegexLib.alphaNumericCharsStr;

			var re = new RegExp("^((.?\/\/)?[-." + alphaNumeric + "]*[-" + alphaNumeric + "]\\.[-" + alphaNumeric + "]+)");
			var res = re.exec(urlMatch);
			if (res === null) {
				return -1;
			}

			offset += res[1].length;
			urlMatch = urlMatch.slice(res[1].length);
			if (/^[^-.A-Za-z0-9:\/?#]/.test(urlMatch)) {
				return offset;
			}

			return -1;
		}

	});

	/*global Autolinker */
	/*jshint scripturl:true */
	/**
  * @private
  * @class Autolinker.matcher.UrlMatchValidator
  * @singleton
  *
  * Used by Autolinker to filter out false URL positives from the
  * {@link Autolinker.matcher.Url UrlMatcher}.
  *
  * Due to the limitations of regular expressions (including the missing feature
  * of look-behinds in JS regular expressions), we cannot always determine the
  * validity of a given match. This class applies a bit of additional logic to
  * filter out any false positives that have been matched by the
  * {@link Autolinker.matcher.Url UrlMatcher}.
  */
	Autolinker.matcher.UrlMatchValidator = {

		/**
   * Regex to test for a full protocol, with the two trailing slashes. Ex: 'http://'
   *
   * @private
   * @property {RegExp} hasFullProtocolRegex
   */
		hasFullProtocolRegex: /^[A-Za-z][-.+A-Za-z0-9]*:\/\//,

		/**
   * Regex to find the URI scheme, such as 'mailto:'.
   *
   * This is used to filter out 'javascript:' and 'vbscript:' schemes.
   *
   * @private
   * @property {RegExp} uriSchemeRegex
   */
		uriSchemeRegex: /^[A-Za-z][-.+A-Za-z0-9]*:/,

		/**
   * Regex to determine if at least one word char exists after the protocol (i.e. after the ':')
   *
   * @private
   * @property {RegExp} hasWordCharAfterProtocolRegex
   */
		hasWordCharAfterProtocolRegex: new RegExp(":[^\\s]*?[" + Autolinker.RegexLib.alphaCharsStr + "]"),

		/**
   * Regex to determine if the string is a valid IP address
   *
   * @private
   * @property {RegExp} ipRegex
   */
		ipRegex: /[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,

		/**
   * Determines if a given URL match found by the {@link Autolinker.matcher.Url UrlMatcher}
   * is valid. Will return `false` for:
   *
   * 1) URL matches which do not have at least have one period ('.') in the
   *    domain name (effectively skipping over matches like "abc:def").
   *    However, URL matches with a protocol will be allowed (ex: 'http://localhost')
   * 2) URL matches which do not have at least one word character in the
   *    domain name (effectively skipping over matches like "git:1.0").
   * 3) A protocol-relative url match (a URL beginning with '//') whose
   *    previous character is a word character (effectively skipping over
   *    strings like "abc//google.com")
   *
   * Otherwise, returns `true`.
   *
   * @param {String} urlMatch The matched URL, if there was one. Will be an
   *   empty string if the match is not a URL match.
   * @param {String} protocolUrlMatch The match URL string for a protocol
   *   match. Ex: 'http://yahoo.com'. This is used to match something like
   *   'http://localhost', where we won't double check that the domain name
   *   has at least one '.' in it.
   * @return {Boolean} `true` if the match given is valid and should be
   *   processed, or `false` if the match is invalid and/or should just not be
   *   processed.
   */
		isValid: function isValid(urlMatch, protocolUrlMatch) {
			if (protocolUrlMatch && !this.isValidUriScheme(protocolUrlMatch) || this.urlMatchDoesNotHaveProtocolOrDot(urlMatch, protocolUrlMatch) || // At least one period ('.') must exist in the URL match for us to consider it an actual URL, *unless* it was a full protocol match (like 'http://localhost')
			this.urlMatchDoesNotHaveAtLeastOneWordChar(urlMatch, protocolUrlMatch) && // At least one letter character must exist in the domain name after a protocol match. Ex: skip over something like "git:1.0"
			!this.isValidIpAddress(urlMatch) || // Except if it's an IP address
			this.containsMultipleDots(urlMatch)) {
				return false;
			}

			return true;
		},

		isValidIpAddress: function isValidIpAddress(uriSchemeMatch) {
			var newRegex = new RegExp(this.hasFullProtocolRegex.source + this.ipRegex.source);
			var uriScheme = uriSchemeMatch.match(newRegex);

			return uriScheme !== null;
		},

		containsMultipleDots: function containsMultipleDots(urlMatch) {
			return urlMatch.indexOf("..") > -1;
		},

		/**
   * Determines if the URI scheme is a valid scheme to be autolinked. Returns
   * `false` if the scheme is 'javascript:' or 'vbscript:'
   *
   * @private
   * @param {String} uriSchemeMatch The match URL string for a full URI scheme
   *   match. Ex: 'http://yahoo.com' or 'mailto:a@a.com'.
   * @return {Boolean} `true` if the scheme is a valid one, `false` otherwise.
   */
		isValidUriScheme: function isValidUriScheme(uriSchemeMatch) {
			var uriScheme = uriSchemeMatch.match(this.uriSchemeRegex)[0].toLowerCase();

			return uriScheme !== 'javascript:' && uriScheme !== 'vbscript:';
		},

		/**
   * Determines if a URL match does not have either:
   *
   * a) a full protocol (i.e. 'http://'), or
   * b) at least one dot ('.') in the domain name (for a non-full-protocol
   *    match).
   *
   * Either situation is considered an invalid URL (ex: 'git:d' does not have
   * either the '://' part, or at least one dot in the domain name. If the
   * match was 'git:abc.com', we would consider this valid.)
   *
   * @private
   * @param {String} urlMatch The matched URL, if there was one. Will be an
   *   empty string if the match is not a URL match.
   * @param {String} protocolUrlMatch The match URL string for a protocol
   *   match. Ex: 'http://yahoo.com'. This is used to match something like
   *   'http://localhost', where we won't double check that the domain name
   *   has at least one '.' in it.
   * @return {Boolean} `true` if the URL match does not have a full protocol,
   *   or at least one dot ('.') in a non-full-protocol match.
   */
		urlMatchDoesNotHaveProtocolOrDot: function urlMatchDoesNotHaveProtocolOrDot(urlMatch, protocolUrlMatch) {
			return !!urlMatch && (!protocolUrlMatch || !this.hasFullProtocolRegex.test(protocolUrlMatch)) && urlMatch.indexOf('.') === -1;
		},

		/**
   * Determines if a URL match does not have at least one word character after
   * the protocol (i.e. in the domain name).
   *
   * At least one letter character must exist in the domain name after a
   * protocol match. Ex: skip over something like "git:1.0"
   *
   * @private
   * @param {String} urlMatch The matched URL, if there was one. Will be an
   *   empty string if the match is not a URL match.
   * @param {String} protocolUrlMatch The match URL string for a protocol
   *   match. Ex: 'http://yahoo.com'. This is used to know whether or not we
   *   have a protocol in the URL string, in order to check for a word
   *   character after the protocol separator (':').
   * @return {Boolean} `true` if the URL match does not have at least one word
   *   character in it after the protocol, `false` otherwise.
   */
		urlMatchDoesNotHaveAtLeastOneWordChar: function urlMatchDoesNotHaveAtLeastOneWordChar(urlMatch, protocolUrlMatch) {
			if (urlMatch && protocolUrlMatch) {
				return !this.hasWordCharAfterProtocolRegex.test(urlMatch);
			} else {
				return false;
			}
		}

	};

	/*global Autolinker */
	/**
  * A truncation feature where the ellipsis will be placed at the end of the URL.
  *
  * @param {String} anchorText
  * @param {Number} truncateLen The maximum length of the truncated output URL string.
  * @param {String} ellipsisChars The characters to place within the url, e.g. "..".
  * @return {String} The truncated URL.
  */
	Autolinker.truncate.TruncateEnd = function (anchorText, truncateLen, ellipsisChars) {
		return Autolinker.Util.ellipsis(anchorText, truncateLen, ellipsisChars);
	};

	/*global Autolinker */
	/**
  * Date: 2015-10-05
  * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)
  *
  * A truncation feature, where the ellipsis will be placed in the dead-center of the URL.
  *
  * @param {String} url             A URL.
  * @param {Number} truncateLen     The maximum length of the truncated output URL string.
  * @param {String} ellipsisChars   The characters to place within the url, e.g. "..".
  * @return {String} The truncated URL.
  */
	Autolinker.truncate.TruncateMiddle = function (url, truncateLen, ellipsisChars) {
		if (url.length <= truncateLen) {
			return url;
		}

		var ellipsisLengthBeforeParsing;
		var ellipsisLength;

		if (ellipsisChars == null) {
			ellipsisChars = '&hellip;';
			ellipsisLengthBeforeParsing = 8;
			ellipsisLength = 3;
		} else {
			ellipsisLengthBeforeParsing = ellipsisChars.length;
			ellipsisLength = ellipsisChars.length;
		}

		var availableLength = truncateLen - ellipsisLength;
		var end = "";
		if (availableLength > 0) {
			end = url.substr(-1 * Math.floor(availableLength / 2));
		}
		return (url.substr(0, Math.ceil(availableLength / 2)) + ellipsisChars + end).substr(0, availableLength + ellipsisLengthBeforeParsing);
	};

	/*global Autolinker */
	/**
  * Date: 2015-10-05
  * Author: Kasper Søfren <soefritz@gmail.com> (https://github.com/kafoso)
  *
  * A truncation feature, where the ellipsis will be placed at a section within
  * the URL making it still somewhat human readable.
  *
  * @param {String} url						 A URL.
  * @param {Number} truncateLen		 The maximum length of the truncated output URL string.
  * @param {String} ellipsisChars	 The characters to place within the url, e.g. "...".
  * @return {String} The truncated URL.
  */
	Autolinker.truncate.TruncateSmart = function (url, truncateLen, ellipsisChars) {

		var ellipsisLengthBeforeParsing;
		var ellipsisLength;

		if (ellipsisChars == null) {
			ellipsisChars = '&hellip;';
			ellipsisLength = 3;
			ellipsisLengthBeforeParsing = 8;
		} else {
			ellipsisLength = ellipsisChars.length;
			ellipsisLengthBeforeParsing = ellipsisChars.length;
		}

		var parse_url = function parse_url(url) {
			// Functionality inspired by PHP function of same name
			var urlObj = {};
			var urlSub = url;
			var match = urlSub.match(/^([a-z]+):\/\//i);
			if (match) {
				urlObj.scheme = match[1];
				urlSub = urlSub.substr(match[0].length);
			}
			match = urlSub.match(/^(.*?)(?=(\?|#|\/|$))/i);
			if (match) {
				urlObj.host = match[1];
				urlSub = urlSub.substr(match[0].length);
			}
			match = urlSub.match(/^\/(.*?)(?=(\?|#|$))/i);
			if (match) {
				urlObj.path = match[1];
				urlSub = urlSub.substr(match[0].length);
			}
			match = urlSub.match(/^\?(.*?)(?=(#|$))/i);
			if (match) {
				urlObj.query = match[1];
				urlSub = urlSub.substr(match[0].length);
			}
			match = urlSub.match(/^#(.*?)$/i);
			if (match) {
				urlObj.fragment = match[1];
				//urlSub = urlSub.substr(match[0].length);  -- not used. Uncomment if adding another block.
			}
			return urlObj;
		};

		var buildUrl = function buildUrl(urlObj) {
			var url = "";
			if (urlObj.scheme && urlObj.host) {
				url += urlObj.scheme + "://";
			}
			if (urlObj.host) {
				url += urlObj.host;
			}
			if (urlObj.path) {
				url += "/" + urlObj.path;
			}
			if (urlObj.query) {
				url += "?" + urlObj.query;
			}
			if (urlObj.fragment) {
				url += "#" + urlObj.fragment;
			}
			return url;
		};

		var buildSegment = function buildSegment(segment, remainingAvailableLength) {
			var remainingAvailableLengthHalf = remainingAvailableLength / 2,
			    startOffset = Math.ceil(remainingAvailableLengthHalf),
			    endOffset = -1 * Math.floor(remainingAvailableLengthHalf),
			    end = "";
			if (endOffset < 0) {
				end = segment.substr(endOffset);
			}
			return segment.substr(0, startOffset) + ellipsisChars + end;
		};
		if (url.length <= truncateLen) {
			return url;
		}
		var availableLength = truncateLen - ellipsisLength;
		var urlObj = parse_url(url);
		// Clean up the URL
		if (urlObj.query) {
			var matchQuery = urlObj.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);
			if (matchQuery) {
				// Malformed URL; two or more "?". Removed any content behind the 2nd.
				urlObj.query = urlObj.query.substr(0, matchQuery[1].length);
				url = buildUrl(urlObj);
			}
		}
		if (url.length <= truncateLen) {
			return url;
		}
		if (urlObj.host) {
			urlObj.host = urlObj.host.replace(/^www\./, "");
			url = buildUrl(urlObj);
		}
		if (url.length <= truncateLen) {
			return url;
		}
		// Process and build the URL
		var str = "";
		if (urlObj.host) {
			str += urlObj.host;
		}
		if (str.length >= availableLength) {
			if (urlObj.host.length == truncateLen) {
				return (urlObj.host.substr(0, truncateLen - ellipsisLength) + ellipsisChars).substr(0, availableLength + ellipsisLengthBeforeParsing);
			}
			return buildSegment(str, availableLength).substr(0, availableLength + ellipsisLengthBeforeParsing);
		}
		var pathAndQuery = "";
		if (urlObj.path) {
			pathAndQuery += "/" + urlObj.path;
		}
		if (urlObj.query) {
			pathAndQuery += "?" + urlObj.query;
		}
		if (pathAndQuery) {
			if ((str + pathAndQuery).length >= availableLength) {
				if ((str + pathAndQuery).length == truncateLen) {
					return (str + pathAndQuery).substr(0, truncateLen);
				}
				var remainingAvailableLength = availableLength - str.length;
				return (str + buildSegment(pathAndQuery, remainingAvailableLength)).substr(0, availableLength + ellipsisLengthBeforeParsing);
			} else {
				str += pathAndQuery;
			}
		}
		if (urlObj.fragment) {
			var fragment = "#" + urlObj.fragment;
			if ((str + fragment).length >= availableLength) {
				if ((str + fragment).length == truncateLen) {
					return (str + fragment).substr(0, truncateLen);
				}
				var remainingAvailableLength2 = availableLength - str.length;
				return (str + buildSegment(fragment, remainingAvailableLength2)).substr(0, availableLength + ellipsisLengthBeforeParsing);
			} else {
				str += fragment;
			}
		}
		if (urlObj.scheme && urlObj.host) {
			var scheme = urlObj.scheme + "://";
			if ((str + scheme).length < availableLength) {
				return (scheme + str).substr(0, truncateLen);
			}
		}
		if (str.length <= truncateLen) {
			return str;
		}
		var end = "";
		if (availableLength > 0) {
			end = str.substr(-1 * Math.floor(availableLength / 2));
		}
		return (str.substr(0, Math.ceil(availableLength / 2)) + ellipsisChars + end).substr(0, availableLength + ellipsisLengthBeforeParsing);
	};

	return Autolinker;
});

/***/ }),
/* 279 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(280);

/***/ }),
/* 280 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var utils = __webpack_require__(34);
var bind = __webpack_require__(174);
var Axios = __webpack_require__(282);
var defaults = __webpack_require__(119);

/**
 * Create an instance of Axios
 *
 * @param {Object} defaultConfig The default config for the instance
 * @return {Axios} A new instance of Axios
 */
function createInstance(defaultConfig) {
  var context = new Axios(defaultConfig);
  var instance = bind(Axios.prototype.request, context);

  // Copy axios.prototype to instance
  utils.extend(instance, Axios.prototype, context);

  // Copy context to instance
  utils.extend(instance, context);

  return instance;
}

// Create the default instance to be exported
var axios = createInstance(defaults);

// Expose Axios class to allow class inheritance
axios.Axios = Axios;

// Factory for creating new instances
axios.create = function create(instanceConfig) {
  return createInstance(utils.merge(defaults, instanceConfig));
};

// Expose Cancel & CancelToken
axios.Cancel = __webpack_require__(171);
axios.CancelToken = __webpack_require__(281);
axios.isCancel = __webpack_require__(172);

// Expose all/spread
axios.all = function all(promises) {
  return _promise2.default.all(promises);
};
axios.spread = __webpack_require__(296);

module.exports = axios;

// Allow use of default import syntax in TypeScript
module.exports.default = axios;

/***/ }),
/* 281 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Cancel = __webpack_require__(171);

/**
 * A `CancelToken` is an object that can be used to request cancellation of an operation.
 *
 * @class
 * @param {Function} executor The executor function.
 */
function CancelToken(executor) {
  if (typeof executor !== 'function') {
    throw new TypeError('executor must be a function.');
  }

  var resolvePromise;
  this.promise = new _promise2.default(function promiseExecutor(resolve) {
    resolvePromise = resolve;
  });

  var token = this;
  executor(function cancel(message) {
    if (token.reason) {
      // Cancellation has already been requested
      return;
    }

    token.reason = new Cancel(message);
    resolvePromise(token.reason);
  });
}

/**
 * Throws a `Cancel` if cancellation has been requested.
 */
CancelToken.prototype.throwIfRequested = function throwIfRequested() {
  if (this.reason) {
    throw this.reason;
  }
};

/**
 * Returns an object that contains a new `CancelToken` and a function that, when called,
 * cancels the `CancelToken`.
 */
CancelToken.source = function source() {
  var cancel;
  var token = new CancelToken(function executor(c) {
    cancel = c;
  });
  return {
    token: token,
    cancel: cancel
  };
};

module.exports = CancelToken;

/***/ }),
/* 282 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaults = __webpack_require__(119);
var utils = __webpack_require__(34);
var InterceptorManager = __webpack_require__(283);
var dispatchRequest = __webpack_require__(284);
var isAbsoluteURL = __webpack_require__(292);
var combineURLs = __webpack_require__(290);

/**
 * Create a new instance of Axios
 *
 * @param {Object} instanceConfig The default config for the instance
 */
function Axios(instanceConfig) {
  this.defaults = instanceConfig;
  this.interceptors = {
    request: new InterceptorManager(),
    response: new InterceptorManager()
  };
}

/**
 * Dispatch a request
 *
 * @param {Object} config The config specific for this request (merged with this.defaults)
 */
Axios.prototype.request = function request(config) {
  /*eslint no-param-reassign:0*/
  // Allow for axios('example/url'[, config]) a la fetch API
  if (typeof config === 'string') {
    config = utils.merge({
      url: arguments[0]
    }, arguments[1]);
  }

  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);

  // Support baseURL config
  if (config.baseURL && !isAbsoluteURL(config.url)) {
    config.url = combineURLs(config.baseURL, config.url);
  }

  // Hook up interceptors middleware
  var chain = [dispatchRequest, undefined];
  var promise = _promise2.default.resolve(config);

  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {
    chain.unshift(interceptor.fulfilled, interceptor.rejected);
  });

  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {
    chain.push(interceptor.fulfilled, interceptor.rejected);
  });

  while (chain.length) {
    promise = promise.then(chain.shift(), chain.shift());
  }

  return promise;
};

// Provide aliases for supported request methods
utils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function (url, config) {
    return this.request(utils.merge(config || {}, {
      method: method,
      url: url
    }));
  };
});

utils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {
  /*eslint func-names:0*/
  Axios.prototype[method] = function (url, data, config) {
    return this.request(utils.merge(config || {}, {
      method: method,
      url: url,
      data: data
    }));
  };
});

module.exports = Axios;

/***/ }),
/* 283 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(34);

function InterceptorManager() {
  this.handlers = [];
}

/**
 * Add a new interceptor to the stack
 *
 * @param {Function} fulfilled The function to handle `then` for a `Promise`
 * @param {Function} rejected The function to handle `reject` for a `Promise`
 *
 * @return {Number} An ID used to remove interceptor later
 */
InterceptorManager.prototype.use = function use(fulfilled, rejected) {
  this.handlers.push({
    fulfilled: fulfilled,
    rejected: rejected
  });
  return this.handlers.length - 1;
};

/**
 * Remove an interceptor from the stack
 *
 * @param {Number} id The ID that was returned by `use`
 */
InterceptorManager.prototype.eject = function eject(id) {
  if (this.handlers[id]) {
    this.handlers[id] = null;
  }
};

/**
 * Iterate over all the registered interceptors
 *
 * This method is particularly useful for skipping over any
 * interceptors that may have become `null` calling `eject`.
 *
 * @param {Function} fn The function to call for each interceptor
 */
InterceptorManager.prototype.forEach = function forEach(fn) {
  utils.forEach(this.handlers, function forEachHandler(h) {
    if (h !== null) {
      fn(h);
    }
  });
};

module.exports = InterceptorManager;

/***/ }),
/* 284 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var utils = __webpack_require__(34);
var transformData = __webpack_require__(287);
var isCancel = __webpack_require__(172);
var defaults = __webpack_require__(119);

/**
 * Throws a `Cancel` if cancellation has been requested.
 */
function throwIfCancellationRequested(config) {
  if (config.cancelToken) {
    config.cancelToken.throwIfRequested();
  }
}

/**
 * Dispatch a request to the server using the configured adapter.
 *
 * @param {object} config The config that is to be used for the request
 * @returns {Promise} The Promise to be fulfilled
 */
module.exports = function dispatchRequest(config) {
  throwIfCancellationRequested(config);

  // Ensure headers exist
  config.headers = config.headers || {};

  // Transform request data
  config.data = transformData(config.data, config.headers, config.transformRequest);

  // Flatten headers
  config.headers = utils.merge(config.headers.common || {}, config.headers[config.method] || {}, config.headers || {});

  utils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function cleanHeaderConfig(method) {
    delete config.headers[method];
  });

  var adapter = config.adapter || defaults.adapter;

  return adapter(config).then(function onAdapterResolution(response) {
    throwIfCancellationRequested(config);

    // Transform response data
    response.data = transformData(response.data, response.headers, config.transformResponse);

    return response;
  }, function onAdapterRejection(reason) {
    if (!isCancel(reason)) {
      throwIfCancellationRequested(config);

      // Transform response data
      if (reason && reason.response) {
        reason.response.data = transformData(reason.response.data, reason.response.headers, config.transformResponse);
      }
    }

    return _promise2.default.reject(reason);
  });
};

/***/ }),
/* 285 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Update an Error with the specified config, error code, and response.
 *
 * @param {Error} error The error to update.
 * @param {Object} config The config.
 * @param {string} [code] The error code (for example, 'ECONNABORTED').
 @ @param {Object} [response] The response.
 * @returns {Error} The error.
 */

module.exports = function enhanceError(error, config, code, response) {
  error.config = config;
  if (code) {
    error.code = code;
  }
  error.response = response;
  return error;
};

/***/ }),
/* 286 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var createError = __webpack_require__(173);

/**
 * Resolve or reject a Promise based on response status.
 *
 * @param {Function} resolve A function that resolves the promise.
 * @param {Function} reject A function that rejects the promise.
 * @param {object} response The response.
 */
module.exports = function settle(resolve, reject, response) {
  var validateStatus = response.config.validateStatus;
  // Note: status is not exposed by XDomainRequest
  if (!response.status || !validateStatus || validateStatus(response.status)) {
    resolve(response);
  } else {
    reject(createError('Request failed with status code ' + response.status, response.config, null, response));
  }
};

/***/ }),
/* 287 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(34);

/**
 * Transform the data for a request or a response
 *
 * @param {Object|String} data The data to be transformed
 * @param {Array} headers The headers for the request or response
 * @param {Array|Function} fns A single function or Array of functions
 * @returns {*} The resulting transformed data
 */
module.exports = function transformData(data, headers, fns) {
  /*eslint no-param-reassign:0*/
  utils.forEach(fns, function transform(fn) {
    data = fn(data, headers);
  });

  return data;
};

/***/ }),
/* 288 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js

var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

function E() {
  this.message = 'String contains an invalid character';
}
E.prototype = new Error();
E.prototype.code = 5;
E.prototype.name = 'InvalidCharacterError';

function btoa(input) {
  var str = String(input);
  var output = '';
  for (
  // initialize result and counter
  var block, charCode, idx = 0, map = chars;
  // if the next str index does not exist:
  //   change the mapping table to "="
  //   check if d has no fractional digits
  str.charAt(idx | 0) || (map = '=', idx % 1);
  // "8 - idx % 1 * 8" generates the sequence 2, 4, 6, 8
  output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {
    charCode = str.charCodeAt(idx += 3 / 4);
    if (charCode > 0xFF) {
      throw new E();
    }
    block = block << 8 | charCode;
  }
  return output;
}

module.exports = btoa;

/***/ }),
/* 289 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var utils = __webpack_require__(34);

function encode(val) {
  return encodeURIComponent(val).replace(/%40/gi, '@').replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']');
}

/**
 * Build a URL by appending params to the end
 *
 * @param {string} url The base of the url (e.g., http://www.google.com)
 * @param {object} [params] The params to be appended
 * @returns {string} The formatted url
 */
module.exports = function buildURL(url, params, paramsSerializer) {
  /*eslint no-param-reassign:0*/
  if (!params) {
    return url;
  }

  var serializedParams;
  if (paramsSerializer) {
    serializedParams = paramsSerializer(params);
  } else if (utils.isURLSearchParams(params)) {
    serializedParams = params.toString();
  } else {
    var parts = [];

    utils.forEach(params, function serialize(val, key) {
      if (val === null || typeof val === 'undefined') {
        return;
      }

      if (utils.isArray(val)) {
        key = key + '[]';
      }

      if (!utils.isArray(val)) {
        val = [val];
      }

      utils.forEach(val, function parseValue(v) {
        if (utils.isDate(v)) {
          v = v.toISOString();
        } else if (utils.isObject(v)) {
          v = (0, _stringify2.default)(v);
        }
        parts.push(encode(key) + '=' + encode(v));
      });
    });

    serializedParams = parts.join('&');
  }

  if (serializedParams) {
    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;
  }

  return url;
};

/***/ }),
/* 290 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Creates a new URL by combining the specified URLs
 *
 * @param {string} baseURL The base URL
 * @param {string} relativeURL The relative URL
 * @returns {string} The combined URL
 */

module.exports = function combineURLs(baseURL, relativeURL) {
  return baseURL.replace(/\/+$/, '') + '/' + relativeURL.replace(/^\/+/, '');
};

/***/ }),
/* 291 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(34);

module.exports = utils.isStandardBrowserEnv() ?

// Standard browser envs support document.cookie
function standardBrowserEnv() {
  return {
    write: function write(name, value, expires, path, domain, secure) {
      var cookie = [];
      cookie.push(name + '=' + encodeURIComponent(value));

      if (utils.isNumber(expires)) {
        cookie.push('expires=' + new Date(expires).toGMTString());
      }

      if (utils.isString(path)) {
        cookie.push('path=' + path);
      }

      if (utils.isString(domain)) {
        cookie.push('domain=' + domain);
      }

      if (secure === true) {
        cookie.push('secure');
      }

      document.cookie = cookie.join('; ');
    },

    read: function read(name) {
      var match = document.cookie.match(new RegExp('(^|;\\s*)(' + name + ')=([^;]*)'));
      return match ? decodeURIComponent(match[3]) : null;
    },

    remove: function remove(name) {
      this.write(name, '', Date.now() - 86400000);
    }
  };
}() :

// Non standard browser env (web workers, react-native) lack needed support.
function nonStandardBrowserEnv() {
  return {
    write: function write() {},
    read: function read() {
      return null;
    },
    remove: function remove() {}
  };
}();

/***/ }),
/* 292 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Determines whether the specified URL is absolute
 *
 * @param {string} url The URL to test
 * @returns {boolean} True if the specified URL is absolute, otherwise false
 */

module.exports = function isAbsoluteURL(url) {
  // A URL is considered absolute if it begins with "<scheme>://" or "//" (protocol-relative URL).
  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed
  // by any combination of letters, digits, plus, period, or hyphen.
  return (/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)
  );
};

/***/ }),
/* 293 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(34);

module.exports = utils.isStandardBrowserEnv() ?

// Standard browser envs have full support of the APIs needed to test
// whether the request URL is of the same origin as current location.
function standardBrowserEnv() {
  var msie = /(msie|trident)/i.test(navigator.userAgent);
  var urlParsingNode = document.createElement('a');
  var originURL;

  /**
  * Parse a URL to discover it's components
  *
  * @param {String} url The URL to be parsed
  * @returns {Object}
  */
  function resolveURL(url) {
    var href = url;

    if (msie) {
      // IE needs attribute set twice to normalize properties
      urlParsingNode.setAttribute('href', href);
      href = urlParsingNode.href;
    }

    urlParsingNode.setAttribute('href', href);

    // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils
    return {
      href: urlParsingNode.href,
      protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',
      host: urlParsingNode.host,
      search: urlParsingNode.search ? urlParsingNode.search.replace(/^\?/, '') : '',
      hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',
      hostname: urlParsingNode.hostname,
      port: urlParsingNode.port,
      pathname: urlParsingNode.pathname.charAt(0) === '/' ? urlParsingNode.pathname : '/' + urlParsingNode.pathname
    };
  }

  originURL = resolveURL(window.location.href);

  /**
  * Determine if a URL shares the same origin as the current location
  *
  * @param {String} requestURL The URL to test
  * @returns {boolean} True if URL shares the same origin, otherwise false
  */
  return function isURLSameOrigin(requestURL) {
    var parsed = utils.isString(requestURL) ? resolveURL(requestURL) : requestURL;
    return parsed.protocol === originURL.protocol && parsed.host === originURL.host;
  };
}() :

// Non standard browser envs (web workers, react-native) lack needed support.
function nonStandardBrowserEnv() {
  return function isURLSameOrigin() {
    return true;
  };
}();

/***/ }),
/* 294 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(34);

module.exports = function normalizeHeaderName(headers, normalizedName) {
  utils.forEach(headers, function processHeader(value, name) {
    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {
      headers[normalizedName] = value;
      delete headers[name];
    }
  });
};

/***/ }),
/* 295 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(34);

/**
 * Parse headers into an object
 *
 * ```
 * Date: Wed, 27 Aug 2014 08:58:49 GMT
 * Content-Type: application/json
 * Connection: keep-alive
 * Transfer-Encoding: chunked
 * ```
 *
 * @param {String} headers Headers needing to be parsed
 * @returns {Object} Headers parsed into an object
 */
module.exports = function parseHeaders(headers) {
  var parsed = {};
  var key;
  var val;
  var i;

  if (!headers) {
    return parsed;
  }

  utils.forEach(headers.split('\n'), function parser(line) {
    i = line.indexOf(':');
    key = utils.trim(line.substr(0, i)).toLowerCase();
    val = utils.trim(line.substr(i + 1));

    if (key) {
      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;
    }
  });

  return parsed;
};

/***/ }),
/* 296 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Syntactic sugar for invoking a function and expanding an array for arguments.
 *
 * Common use case would be to use `Function.prototype.apply`.
 *
 *  ```js
 *  function f(x, y, z) {}
 *  var args = [1, 2, 3];
 *  f.apply(null, args);
 *  ```
 *
 * With `spread` this example can be re-written.
 *
 *  ```js
 *  spread(function(x, y, z) {})([1, 2, 3]);
 *  ```
 *
 * @param {Function} callback
 * @returns {Function}
 */

module.exports = function spread(callback) {
  return function wrap(arr) {
    return callback.apply(null, arr);
  };
};

/***/ }),
/* 297 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = __webpack_require__(298);

module.exports = function batchProcessorMaker(options) {
    options = options || {};
    var reporter = options.reporter;
    var asyncProcess = utils.getOption(options, "async", true);
    var autoProcess = utils.getOption(options, "auto", true);

    if (autoProcess && !asyncProcess) {
        reporter && reporter.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true.");
        asyncProcess = true;
    }

    var batch = Batch();
    var asyncFrameHandler;
    var isProcessing = false;

    function addFunction(level, fn) {
        if (!isProcessing && autoProcess && asyncProcess && batch.size() === 0) {
            // Since this is async, it is guaranteed to be executed after that the fn is added to the batch.
            // This needs to be done before, since we're checking the size of the batch to be 0.
            processBatchAsync();
        }

        batch.add(level, fn);
    }

    function processBatch() {
        // Save the current batch, and create a new batch so that incoming functions are not added into the currently processing batch.
        // Continue processing until the top-level batch is empty (functions may be added to the new batch while processing, and so on).
        isProcessing = true;
        while (batch.size()) {
            var processingBatch = batch;
            batch = Batch();
            processingBatch.process();
        }
        isProcessing = false;
    }

    function forceProcessBatch(localAsyncProcess) {
        if (isProcessing) {
            return;
        }

        if (localAsyncProcess === undefined) {
            localAsyncProcess = asyncProcess;
        }

        if (asyncFrameHandler) {
            cancelFrame(asyncFrameHandler);
            asyncFrameHandler = null;
        }

        if (localAsyncProcess) {
            processBatchAsync();
        } else {
            processBatch();
        }
    }

    function processBatchAsync() {
        asyncFrameHandler = requestFrame(processBatch);
    }

    function clearBatch() {
        batch = {};
        batchSize = 0;
        topLevel = 0;
        bottomLevel = 0;
    }

    function cancelFrame(listener) {
        // var cancel = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.clearTimeout;
        var cancel = clearTimeout;
        return cancel(listener);
    }

    function requestFrame(callback) {
        // var raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function(fn) { return window.setTimeout(fn, 20); };
        var raf = function raf(fn) {
            return setTimeout(fn, 0);
        };
        return raf(callback);
    }

    return {
        add: addFunction,
        force: forceProcessBatch
    };
};

function Batch() {
    var batch = {};
    var size = 0;
    var topLevel = 0;
    var bottomLevel = 0;

    function add(level, fn) {
        if (!fn) {
            fn = level;
            level = 0;
        }

        if (level > topLevel) {
            topLevel = level;
        } else if (level < bottomLevel) {
            bottomLevel = level;
        }

        if (!batch[level]) {
            batch[level] = [];
        }

        batch[level].push(fn);
        size++;
    }

    function process() {
        for (var level = bottomLevel; level <= topLevel; level++) {
            var fns = batch[level];

            for (var i = 0; i < fns.length; i++) {
                var fn = fns[i];
                fn();
            }
        }
    }

    function getSize() {
        return size;
    }

    return {
        add: add,
        process: process,
        size: getSize
    };
}

/***/ }),
/* 298 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var utils = module.exports = {};

utils.getOption = getOption;

function getOption(options, name, defaultValue) {
    var value = options[name];

    if ((value === undefined || value === null) && defaultValue !== undefined) {
        return defaultValue;
    }

    return value;
}

/***/ }),
/* 299 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* MIT license */

module.exports = {
  rgb2hsl: rgb2hsl,
  rgb2hsv: rgb2hsv,
  rgb2hwb: rgb2hwb,
  rgb2cmyk: rgb2cmyk,
  rgb2keyword: rgb2keyword,
  rgb2xyz: rgb2xyz,
  rgb2lab: rgb2lab,
  rgb2lch: rgb2lch,

  hsl2rgb: hsl2rgb,
  hsl2hsv: hsl2hsv,
  hsl2hwb: hsl2hwb,
  hsl2cmyk: hsl2cmyk,
  hsl2keyword: hsl2keyword,

  hsv2rgb: hsv2rgb,
  hsv2hsl: hsv2hsl,
  hsv2hwb: hsv2hwb,
  hsv2cmyk: hsv2cmyk,
  hsv2keyword: hsv2keyword,

  hwb2rgb: hwb2rgb,
  hwb2hsl: hwb2hsl,
  hwb2hsv: hwb2hsv,
  hwb2cmyk: hwb2cmyk,
  hwb2keyword: hwb2keyword,

  cmyk2rgb: cmyk2rgb,
  cmyk2hsl: cmyk2hsl,
  cmyk2hsv: cmyk2hsv,
  cmyk2hwb: cmyk2hwb,
  cmyk2keyword: cmyk2keyword,

  keyword2rgb: keyword2rgb,
  keyword2hsl: keyword2hsl,
  keyword2hsv: keyword2hsv,
  keyword2hwb: keyword2hwb,
  keyword2cmyk: keyword2cmyk,
  keyword2lab: keyword2lab,
  keyword2xyz: keyword2xyz,

  xyz2rgb: xyz2rgb,
  xyz2lab: xyz2lab,
  xyz2lch: xyz2lch,

  lab2xyz: lab2xyz,
  lab2rgb: lab2rgb,
  lab2lch: lab2lch,

  lch2lab: lch2lab,
  lch2xyz: lch2xyz,
  lch2rgb: lch2rgb
};

function rgb2hsl(rgb) {
  var r = rgb[0] / 255,
      g = rgb[1] / 255,
      b = rgb[2] / 255,
      min = Math.min(r, g, b),
      max = Math.max(r, g, b),
      delta = max - min,
      h,
      s,
      l;

  if (max == min) h = 0;else if (r == max) h = (g - b) / delta;else if (g == max) h = 2 + (b - r) / delta;else if (b == max) h = 4 + (r - g) / delta;

  h = Math.min(h * 60, 360);

  if (h < 0) h += 360;

  l = (min + max) / 2;

  if (max == min) s = 0;else if (l <= 0.5) s = delta / (max + min);else s = delta / (2 - max - min);

  return [h, s * 100, l * 100];
}

function rgb2hsv(rgb) {
  var r = rgb[0],
      g = rgb[1],
      b = rgb[2],
      min = Math.min(r, g, b),
      max = Math.max(r, g, b),
      delta = max - min,
      h,
      s,
      v;

  if (max == 0) s = 0;else s = delta / max * 1000 / 10;

  if (max == min) h = 0;else if (r == max) h = (g - b) / delta;else if (g == max) h = 2 + (b - r) / delta;else if (b == max) h = 4 + (r - g) / delta;

  h = Math.min(h * 60, 360);

  if (h < 0) h += 360;

  v = max / 255 * 1000 / 10;

  return [h, s, v];
}

function rgb2hwb(rgb) {
  var r = rgb[0],
      g = rgb[1],
      b = rgb[2],
      h = rgb2hsl(rgb)[0],
      w = 1 / 255 * Math.min(r, Math.min(g, b)),
      b = 1 - 1 / 255 * Math.max(r, Math.max(g, b));

  return [h, w * 100, b * 100];
}

function rgb2cmyk(rgb) {
  var r = rgb[0] / 255,
      g = rgb[1] / 255,
      b = rgb[2] / 255,
      c,
      m,
      y,
      k;

  k = Math.min(1 - r, 1 - g, 1 - b);
  c = (1 - r - k) / (1 - k) || 0;
  m = (1 - g - k) / (1 - k) || 0;
  y = (1 - b - k) / (1 - k) || 0;
  return [c * 100, m * 100, y * 100, k * 100];
}

function rgb2keyword(rgb) {
  return reverseKeywords[(0, _stringify2.default)(rgb)];
}

function rgb2xyz(rgb) {
  var r = rgb[0] / 255,
      g = rgb[1] / 255,
      b = rgb[2] / 255;

  // assume sRGB
  r = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92;
  g = g > 0.04045 ? Math.pow((g + 0.055) / 1.055, 2.4) : g / 12.92;
  b = b > 0.04045 ? Math.pow((b + 0.055) / 1.055, 2.4) : b / 12.92;

  var x = r * 0.4124 + g * 0.3576 + b * 0.1805;
  var y = r * 0.2126 + g * 0.7152 + b * 0.0722;
  var z = r * 0.0193 + g * 0.1192 + b * 0.9505;

  return [x * 100, y * 100, z * 100];
}

function rgb2lab(rgb) {
  var xyz = rgb2xyz(rgb),
      x = xyz[0],
      y = xyz[1],
      z = xyz[2],
      l,
      a,
      b;

  x /= 95.047;
  y /= 100;
  z /= 108.883;

  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;
  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;
  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;

  l = 116 * y - 16;
  a = 500 * (x - y);
  b = 200 * (y - z);

  return [l, a, b];
}

function rgb2lch(args) {
  return lab2lch(rgb2lab(args));
}

function hsl2rgb(hsl) {
  var h = hsl[0] / 360,
      s = hsl[1] / 100,
      l = hsl[2] / 100,
      t1,
      t2,
      t3,
      rgb,
      val;

  if (s == 0) {
    val = l * 255;
    return [val, val, val];
  }

  if (l < 0.5) t2 = l * (1 + s);else t2 = l + s - l * s;
  t1 = 2 * l - t2;

  rgb = [0, 0, 0];
  for (var i = 0; i < 3; i++) {
    t3 = h + 1 / 3 * -(i - 1);
    t3 < 0 && t3++;
    t3 > 1 && t3--;

    if (6 * t3 < 1) val = t1 + (t2 - t1) * 6 * t3;else if (2 * t3 < 1) val = t2;else if (3 * t3 < 2) val = t1 + (t2 - t1) * (2 / 3 - t3) * 6;else val = t1;

    rgb[i] = val * 255;
  }

  return rgb;
}

function hsl2hsv(hsl) {
  var h = hsl[0],
      s = hsl[1] / 100,
      l = hsl[2] / 100,
      sv,
      v;

  if (l === 0) {
    // no need to do calc on black
    // also avoids divide by 0 error
    return [0, 0, 0];
  }

  l *= 2;
  s *= l <= 1 ? l : 2 - l;
  v = (l + s) / 2;
  sv = 2 * s / (l + s);
  return [h, sv * 100, v * 100];
}

function hsl2hwb(args) {
  return rgb2hwb(hsl2rgb(args));
}

function hsl2cmyk(args) {
  return rgb2cmyk(hsl2rgb(args));
}

function hsl2keyword(args) {
  return rgb2keyword(hsl2rgb(args));
}

function hsv2rgb(hsv) {
  var h = hsv[0] / 60,
      s = hsv[1] / 100,
      v = hsv[2] / 100,
      hi = Math.floor(h) % 6;

  var f = h - Math.floor(h),
      p = 255 * v * (1 - s),
      q = 255 * v * (1 - s * f),
      t = 255 * v * (1 - s * (1 - f)),
      v = 255 * v;

  switch (hi) {
    case 0:
      return [v, t, p];
    case 1:
      return [q, v, p];
    case 2:
      return [p, v, t];
    case 3:
      return [p, q, v];
    case 4:
      return [t, p, v];
    case 5:
      return [v, p, q];
  }
}

function hsv2hsl(hsv) {
  var h = hsv[0],
      s = hsv[1] / 100,
      v = hsv[2] / 100,
      sl,
      l;

  l = (2 - s) * v;
  sl = s * v;
  sl /= l <= 1 ? l : 2 - l;
  sl = sl || 0;
  l /= 2;
  return [h, sl * 100, l * 100];
}

function hsv2hwb(args) {
  return rgb2hwb(hsv2rgb(args));
}

function hsv2cmyk(args) {
  return rgb2cmyk(hsv2rgb(args));
}

function hsv2keyword(args) {
  return rgb2keyword(hsv2rgb(args));
}

// http://dev.w3.org/csswg/css-color/#hwb-to-rgb
function hwb2rgb(hwb) {
  var h = hwb[0] / 360,
      wh = hwb[1] / 100,
      bl = hwb[2] / 100,
      ratio = wh + bl,
      i,
      v,
      f,
      n;

  // wh + bl cant be > 1
  if (ratio > 1) {
    wh /= ratio;
    bl /= ratio;
  }

  i = Math.floor(6 * h);
  v = 1 - bl;
  f = 6 * h - i;
  if ((i & 0x01) != 0) {
    f = 1 - f;
  }
  n = wh + f * (v - wh); // linear interpolation

  switch (i) {
    default:
    case 6:
    case 0:
      r = v;g = n;b = wh;break;
    case 1:
      r = n;g = v;b = wh;break;
    case 2:
      r = wh;g = v;b = n;break;
    case 3:
      r = wh;g = n;b = v;break;
    case 4:
      r = n;g = wh;b = v;break;
    case 5:
      r = v;g = wh;b = n;break;
  }

  return [r * 255, g * 255, b * 255];
}

function hwb2hsl(args) {
  return rgb2hsl(hwb2rgb(args));
}

function hwb2hsv(args) {
  return rgb2hsv(hwb2rgb(args));
}

function hwb2cmyk(args) {
  return rgb2cmyk(hwb2rgb(args));
}

function hwb2keyword(args) {
  return rgb2keyword(hwb2rgb(args));
}

function cmyk2rgb(cmyk) {
  var c = cmyk[0] / 100,
      m = cmyk[1] / 100,
      y = cmyk[2] / 100,
      k = cmyk[3] / 100,
      r,
      g,
      b;

  r = 1 - Math.min(1, c * (1 - k) + k);
  g = 1 - Math.min(1, m * (1 - k) + k);
  b = 1 - Math.min(1, y * (1 - k) + k);
  return [r * 255, g * 255, b * 255];
}

function cmyk2hsl(args) {
  return rgb2hsl(cmyk2rgb(args));
}

function cmyk2hsv(args) {
  return rgb2hsv(cmyk2rgb(args));
}

function cmyk2hwb(args) {
  return rgb2hwb(cmyk2rgb(args));
}

function cmyk2keyword(args) {
  return rgb2keyword(cmyk2rgb(args));
}

function xyz2rgb(xyz) {
  var x = xyz[0] / 100,
      y = xyz[1] / 100,
      z = xyz[2] / 100,
      r,
      g,
      b;

  r = x * 3.2406 + y * -1.5372 + z * -0.4986;
  g = x * -0.9689 + y * 1.8758 + z * 0.0415;
  b = x * 0.0557 + y * -0.2040 + z * 1.0570;

  // assume sRGB
  r = r > 0.0031308 ? 1.055 * Math.pow(r, 1.0 / 2.4) - 0.055 : r = r * 12.92;

  g = g > 0.0031308 ? 1.055 * Math.pow(g, 1.0 / 2.4) - 0.055 : g = g * 12.92;

  b = b > 0.0031308 ? 1.055 * Math.pow(b, 1.0 / 2.4) - 0.055 : b = b * 12.92;

  r = Math.min(Math.max(0, r), 1);
  g = Math.min(Math.max(0, g), 1);
  b = Math.min(Math.max(0, b), 1);

  return [r * 255, g * 255, b * 255];
}

function xyz2lab(xyz) {
  var x = xyz[0],
      y = xyz[1],
      z = xyz[2],
      l,
      a,
      b;

  x /= 95.047;
  y /= 100;
  z /= 108.883;

  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;
  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;
  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;

  l = 116 * y - 16;
  a = 500 * (x - y);
  b = 200 * (y - z);

  return [l, a, b];
}

function xyz2lch(args) {
  return lab2lch(xyz2lab(args));
}

function lab2xyz(lab) {
  var l = lab[0],
      a = lab[1],
      b = lab[2],
      x,
      y,
      z,
      y2;

  if (l <= 8) {
    y = l * 100 / 903.3;
    y2 = 7.787 * (y / 100) + 16 / 116;
  } else {
    y = 100 * Math.pow((l + 16) / 116, 3);
    y2 = Math.pow(y / 100, 1 / 3);
  }

  x = x / 95.047 <= 0.008856 ? x = 95.047 * (a / 500 + y2 - 16 / 116) / 7.787 : 95.047 * Math.pow(a / 500 + y2, 3);

  z = z / 108.883 <= 0.008859 ? z = 108.883 * (y2 - b / 200 - 16 / 116) / 7.787 : 108.883 * Math.pow(y2 - b / 200, 3);

  return [x, y, z];
}

function lab2lch(lab) {
  var l = lab[0],
      a = lab[1],
      b = lab[2],
      hr,
      h,
      c;

  hr = Math.atan2(b, a);
  h = hr * 360 / 2 / Math.PI;
  if (h < 0) {
    h += 360;
  }
  c = Math.sqrt(a * a + b * b);
  return [l, c, h];
}

function lab2rgb(args) {
  return xyz2rgb(lab2xyz(args));
}

function lch2lab(lch) {
  var l = lch[0],
      c = lch[1],
      h = lch[2],
      a,
      b,
      hr;

  hr = h / 360 * 2 * Math.PI;
  a = c * Math.cos(hr);
  b = c * Math.sin(hr);
  return [l, a, b];
}

function lch2xyz(args) {
  return lab2xyz(lch2lab(args));
}

function lch2rgb(args) {
  return lab2rgb(lch2lab(args));
}

function keyword2rgb(keyword) {
  return cssKeywords[keyword];
}

function keyword2hsl(args) {
  return rgb2hsl(keyword2rgb(args));
}

function keyword2hsv(args) {
  return rgb2hsv(keyword2rgb(args));
}

function keyword2hwb(args) {
  return rgb2hwb(keyword2rgb(args));
}

function keyword2cmyk(args) {
  return rgb2cmyk(keyword2rgb(args));
}

function keyword2lab(args) {
  return rgb2lab(keyword2rgb(args));
}

function keyword2xyz(args) {
  return rgb2xyz(keyword2rgb(args));
}

var cssKeywords = {
  aliceblue: [240, 248, 255],
  antiquewhite: [250, 235, 215],
  aqua: [0, 255, 255],
  aquamarine: [127, 255, 212],
  azure: [240, 255, 255],
  beige: [245, 245, 220],
  bisque: [255, 228, 196],
  black: [0, 0, 0],
  blanchedalmond: [255, 235, 205],
  blue: [0, 0, 255],
  blueviolet: [138, 43, 226],
  brown: [165, 42, 42],
  burlywood: [222, 184, 135],
  cadetblue: [95, 158, 160],
  chartreuse: [127, 255, 0],
  chocolate: [210, 105, 30],
  coral: [255, 127, 80],
  cornflowerblue: [100, 149, 237],
  cornsilk: [255, 248, 220],
  crimson: [220, 20, 60],
  cyan: [0, 255, 255],
  darkblue: [0, 0, 139],
  darkcyan: [0, 139, 139],
  darkgoldenrod: [184, 134, 11],
  darkgray: [169, 169, 169],
  darkgreen: [0, 100, 0],
  darkgrey: [169, 169, 169],
  darkkhaki: [189, 183, 107],
  darkmagenta: [139, 0, 139],
  darkolivegreen: [85, 107, 47],
  darkorange: [255, 140, 0],
  darkorchid: [153, 50, 204],
  darkred: [139, 0, 0],
  darksalmon: [233, 150, 122],
  darkseagreen: [143, 188, 143],
  darkslateblue: [72, 61, 139],
  darkslategray: [47, 79, 79],
  darkslategrey: [47, 79, 79],
  darkturquoise: [0, 206, 209],
  darkviolet: [148, 0, 211],
  deeppink: [255, 20, 147],
  deepskyblue: [0, 191, 255],
  dimgray: [105, 105, 105],
  dimgrey: [105, 105, 105],
  dodgerblue: [30, 144, 255],
  firebrick: [178, 34, 34],
  floralwhite: [255, 250, 240],
  forestgreen: [34, 139, 34],
  fuchsia: [255, 0, 255],
  gainsboro: [220, 220, 220],
  ghostwhite: [248, 248, 255],
  gold: [255, 215, 0],
  goldenrod: [218, 165, 32],
  gray: [128, 128, 128],
  green: [0, 128, 0],
  greenyellow: [173, 255, 47],
  grey: [128, 128, 128],
  honeydew: [240, 255, 240],
  hotpink: [255, 105, 180],
  indianred: [205, 92, 92],
  indigo: [75, 0, 130],
  ivory: [255, 255, 240],
  khaki: [240, 230, 140],
  lavender: [230, 230, 250],
  lavenderblush: [255, 240, 245],
  lawngreen: [124, 252, 0],
  lemonchiffon: [255, 250, 205],
  lightblue: [173, 216, 230],
  lightcoral: [240, 128, 128],
  lightcyan: [224, 255, 255],
  lightgoldenrodyellow: [250, 250, 210],
  lightgray: [211, 211, 211],
  lightgreen: [144, 238, 144],
  lightgrey: [211, 211, 211],
  lightpink: [255, 182, 193],
  lightsalmon: [255, 160, 122],
  lightseagreen: [32, 178, 170],
  lightskyblue: [135, 206, 250],
  lightslategray: [119, 136, 153],
  lightslategrey: [119, 136, 153],
  lightsteelblue: [176, 196, 222],
  lightyellow: [255, 255, 224],
  lime: [0, 255, 0],
  limegreen: [50, 205, 50],
  linen: [250, 240, 230],
  magenta: [255, 0, 255],
  maroon: [128, 0, 0],
  mediumaquamarine: [102, 205, 170],
  mediumblue: [0, 0, 205],
  mediumorchid: [186, 85, 211],
  mediumpurple: [147, 112, 219],
  mediumseagreen: [60, 179, 113],
  mediumslateblue: [123, 104, 238],
  mediumspringgreen: [0, 250, 154],
  mediumturquoise: [72, 209, 204],
  mediumvioletred: [199, 21, 133],
  midnightblue: [25, 25, 112],
  mintcream: [245, 255, 250],
  mistyrose: [255, 228, 225],
  moccasin: [255, 228, 181],
  navajowhite: [255, 222, 173],
  navy: [0, 0, 128],
  oldlace: [253, 245, 230],
  olive: [128, 128, 0],
  olivedrab: [107, 142, 35],
  orange: [255, 165, 0],
  orangered: [255, 69, 0],
  orchid: [218, 112, 214],
  palegoldenrod: [238, 232, 170],
  palegreen: [152, 251, 152],
  paleturquoise: [175, 238, 238],
  palevioletred: [219, 112, 147],
  papayawhip: [255, 239, 213],
  peachpuff: [255, 218, 185],
  peru: [205, 133, 63],
  pink: [255, 192, 203],
  plum: [221, 160, 221],
  powderblue: [176, 224, 230],
  purple: [128, 0, 128],
  rebeccapurple: [102, 51, 153],
  red: [255, 0, 0],
  rosybrown: [188, 143, 143],
  royalblue: [65, 105, 225],
  saddlebrown: [139, 69, 19],
  salmon: [250, 128, 114],
  sandybrown: [244, 164, 96],
  seagreen: [46, 139, 87],
  seashell: [255, 245, 238],
  sienna: [160, 82, 45],
  silver: [192, 192, 192],
  skyblue: [135, 206, 235],
  slateblue: [106, 90, 205],
  slategray: [112, 128, 144],
  slategrey: [112, 128, 144],
  snow: [255, 250, 250],
  springgreen: [0, 255, 127],
  steelblue: [70, 130, 180],
  tan: [210, 180, 140],
  teal: [0, 128, 128],
  thistle: [216, 191, 216],
  tomato: [255, 99, 71],
  turquoise: [64, 224, 208],
  violet: [238, 130, 238],
  wheat: [245, 222, 179],
  white: [255, 255, 255],
  whitesmoke: [245, 245, 245],
  yellow: [255, 255, 0],
  yellowgreen: [154, 205, 50]
};

var reverseKeywords = {};
for (var key in cssKeywords) {
  reverseKeywords[(0, _stringify2.default)(cssKeywords[key])] = key;
}

/***/ }),
/* 300 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var conversions = __webpack_require__(299);

var convert = function convert() {
  return new Converter();
};

for (var func in conversions) {
  // export Raw versions
  convert[func + "Raw"] = function (func) {
    // accept array or plain args
    return function (arg) {
      if (typeof arg == "number") arg = Array.prototype.slice.call(arguments);
      return conversions[func](arg);
    };
  }(func);

  var pair = /(\w+)2(\w+)/.exec(func),
      from = pair[1],
      to = pair[2];

  // export rgb2hsl and ["rgb"]["hsl"]
  convert[from] = convert[from] || {};

  convert[from][to] = convert[func] = function (func) {
    return function (arg) {
      if (typeof arg == "number") arg = Array.prototype.slice.call(arguments);

      var val = conversions[func](arg);
      if (typeof val == "string" || val === undefined) return val; // keyword

      for (var i = 0; i < val.length; i++) {
        val[i] = Math.round(val[i]);
      }return val;
    };
  }(func);
}

/* Converter does lazy conversion and caching */
var Converter = function Converter() {
  this.convs = {};
};

/* Either get the values for a space or
  set the values for a space, depending on args */
Converter.prototype.routeSpace = function (space, args) {
  var values = args[0];
  if (values === undefined) {
    // color.rgb()
    return this.getValues(space);
  }
  // color.rgb(10, 10, 10)
  if (typeof values == "number") {
    values = Array.prototype.slice.call(args);
  }

  return this.setValues(space, values);
};

/* Set the values for a space, invalidating cache */
Converter.prototype.setValues = function (space, values) {
  this.space = space;
  this.convs = {};
  this.convs[space] = values;
  return this;
};

/* Get the values for a space. If there's already
  a conversion for the space, fetch it, otherwise
  compute it */
Converter.prototype.getValues = function (space) {
  var vals = this.convs[space];
  if (!vals) {
    var fspace = this.space,
        from = this.convs[fspace];
    vals = convert[fspace][space](from);

    this.convs[space] = vals;
  }
  return vals;
};

["rgb", "hsl", "hsv", "cmyk", "keyword"].forEach(function (space) {
  Converter.prototype[space] = function (vals) {
    return this.routeSpace(space, arguments);
  };
});

module.exports = convert;

/***/ }),
/* 301 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
	"aliceblue": [240, 248, 255],
	"antiquewhite": [250, 235, 215],
	"aqua": [0, 255, 255],
	"aquamarine": [127, 255, 212],
	"azure": [240, 255, 255],
	"beige": [245, 245, 220],
	"bisque": [255, 228, 196],
	"black": [0, 0, 0],
	"blanchedalmond": [255, 235, 205],
	"blue": [0, 0, 255],
	"blueviolet": [138, 43, 226],
	"brown": [165, 42, 42],
	"burlywood": [222, 184, 135],
	"cadetblue": [95, 158, 160],
	"chartreuse": [127, 255, 0],
	"chocolate": [210, 105, 30],
	"coral": [255, 127, 80],
	"cornflowerblue": [100, 149, 237],
	"cornsilk": [255, 248, 220],
	"crimson": [220, 20, 60],
	"cyan": [0, 255, 255],
	"darkblue": [0, 0, 139],
	"darkcyan": [0, 139, 139],
	"darkgoldenrod": [184, 134, 11],
	"darkgray": [169, 169, 169],
	"darkgreen": [0, 100, 0],
	"darkgrey": [169, 169, 169],
	"darkkhaki": [189, 183, 107],
	"darkmagenta": [139, 0, 139],
	"darkolivegreen": [85, 107, 47],
	"darkorange": [255, 140, 0],
	"darkorchid": [153, 50, 204],
	"darkred": [139, 0, 0],
	"darksalmon": [233, 150, 122],
	"darkseagreen": [143, 188, 143],
	"darkslateblue": [72, 61, 139],
	"darkslategray": [47, 79, 79],
	"darkslategrey": [47, 79, 79],
	"darkturquoise": [0, 206, 209],
	"darkviolet": [148, 0, 211],
	"deeppink": [255, 20, 147],
	"deepskyblue": [0, 191, 255],
	"dimgray": [105, 105, 105],
	"dimgrey": [105, 105, 105],
	"dodgerblue": [30, 144, 255],
	"firebrick": [178, 34, 34],
	"floralwhite": [255, 250, 240],
	"forestgreen": [34, 139, 34],
	"fuchsia": [255, 0, 255],
	"gainsboro": [220, 220, 220],
	"ghostwhite": [248, 248, 255],
	"gold": [255, 215, 0],
	"goldenrod": [218, 165, 32],
	"gray": [128, 128, 128],
	"green": [0, 128, 0],
	"greenyellow": [173, 255, 47],
	"grey": [128, 128, 128],
	"honeydew": [240, 255, 240],
	"hotpink": [255, 105, 180],
	"indianred": [205, 92, 92],
	"indigo": [75, 0, 130],
	"ivory": [255, 255, 240],
	"khaki": [240, 230, 140],
	"lavender": [230, 230, 250],
	"lavenderblush": [255, 240, 245],
	"lawngreen": [124, 252, 0],
	"lemonchiffon": [255, 250, 205],
	"lightblue": [173, 216, 230],
	"lightcoral": [240, 128, 128],
	"lightcyan": [224, 255, 255],
	"lightgoldenrodyellow": [250, 250, 210],
	"lightgray": [211, 211, 211],
	"lightgreen": [144, 238, 144],
	"lightgrey": [211, 211, 211],
	"lightpink": [255, 182, 193],
	"lightsalmon": [255, 160, 122],
	"lightseagreen": [32, 178, 170],
	"lightskyblue": [135, 206, 250],
	"lightslategray": [119, 136, 153],
	"lightslategrey": [119, 136, 153],
	"lightsteelblue": [176, 196, 222],
	"lightyellow": [255, 255, 224],
	"lime": [0, 255, 0],
	"limegreen": [50, 205, 50],
	"linen": [250, 240, 230],
	"magenta": [255, 0, 255],
	"maroon": [128, 0, 0],
	"mediumaquamarine": [102, 205, 170],
	"mediumblue": [0, 0, 205],
	"mediumorchid": [186, 85, 211],
	"mediumpurple": [147, 112, 219],
	"mediumseagreen": [60, 179, 113],
	"mediumslateblue": [123, 104, 238],
	"mediumspringgreen": [0, 250, 154],
	"mediumturquoise": [72, 209, 204],
	"mediumvioletred": [199, 21, 133],
	"midnightblue": [25, 25, 112],
	"mintcream": [245, 255, 250],
	"mistyrose": [255, 228, 225],
	"moccasin": [255, 228, 181],
	"navajowhite": [255, 222, 173],
	"navy": [0, 0, 128],
	"oldlace": [253, 245, 230],
	"olive": [128, 128, 0],
	"olivedrab": [107, 142, 35],
	"orange": [255, 165, 0],
	"orangered": [255, 69, 0],
	"orchid": [218, 112, 214],
	"palegoldenrod": [238, 232, 170],
	"palegreen": [152, 251, 152],
	"paleturquoise": [175, 238, 238],
	"palevioletred": [219, 112, 147],
	"papayawhip": [255, 239, 213],
	"peachpuff": [255, 218, 185],
	"peru": [205, 133, 63],
	"pink": [255, 192, 203],
	"plum": [221, 160, 221],
	"powderblue": [176, 224, 230],
	"purple": [128, 0, 128],
	"rebeccapurple": [102, 51, 153],
	"red": [255, 0, 0],
	"rosybrown": [188, 143, 143],
	"royalblue": [65, 105, 225],
	"saddlebrown": [139, 69, 19],
	"salmon": [250, 128, 114],
	"sandybrown": [244, 164, 96],
	"seagreen": [46, 139, 87],
	"seashell": [255, 245, 238],
	"sienna": [160, 82, 45],
	"silver": [192, 192, 192],
	"skyblue": [135, 206, 235],
	"slateblue": [106, 90, 205],
	"slategray": [112, 128, 144],
	"slategrey": [112, 128, 144],
	"snow": [255, 250, 250],
	"springgreen": [0, 255, 127],
	"steelblue": [70, 130, 180],
	"tan": [210, 180, 140],
	"teal": [0, 128, 128],
	"thistle": [216, 191, 216],
	"tomato": [255, 99, 71],
	"turquoise": [64, 224, 208],
	"violet": [238, 130, 238],
	"wheat": [245, 222, 179],
	"white": [255, 255, 255],
	"whitesmoke": [245, 245, 245],
	"yellow": [255, 255, 0],
	"yellowgreen": [154, 205, 50]
};

/***/ }),
/* 302 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/* MIT license */
var colorNames = __webpack_require__(301);

module.exports = {
   getRgba: getRgba,
   getHsla: getHsla,
   getRgb: getRgb,
   getHsl: getHsl,
   getHwb: getHwb,
   getAlpha: getAlpha,

   hexString: hexString,
   rgbString: rgbString,
   rgbaString: rgbaString,
   percentString: percentString,
   percentaString: percentaString,
   hslString: hslString,
   hslaString: hslaString,
   hwbString: hwbString,
   keyword: keyword
};

function getRgba(string) {
   if (!string) {
      return;
   }
   var abbr = /^#([a-fA-F0-9]{3})$/,
       hex = /^#([a-fA-F0-9]{6})$/,
       rgba = /^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
       per = /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
       keyword = /(\D+)/;

   var rgb = [0, 0, 0],
       a = 1,
       match = string.match(abbr);
   if (match) {
      match = match[1];
      for (var i = 0; i < rgb.length; i++) {
         rgb[i] = parseInt(match[i] + match[i], 16);
      }
   } else if (match = string.match(hex)) {
      match = match[1];
      for (var i = 0; i < rgb.length; i++) {
         rgb[i] = parseInt(match.slice(i * 2, i * 2 + 2), 16);
      }
   } else if (match = string.match(rgba)) {
      for (var i = 0; i < rgb.length; i++) {
         rgb[i] = parseInt(match[i + 1]);
      }
      a = parseFloat(match[4]);
   } else if (match = string.match(per)) {
      for (var i = 0; i < rgb.length; i++) {
         rgb[i] = Math.round(parseFloat(match[i + 1]) * 2.55);
      }
      a = parseFloat(match[4]);
   } else if (match = string.match(keyword)) {
      if (match[1] == "transparent") {
         return [0, 0, 0, 0];
      }
      rgb = colorNames[match[1]];
      if (!rgb) {
         return;
      }
   }

   for (var i = 0; i < rgb.length; i++) {
      rgb[i] = scale(rgb[i], 0, 255);
   }
   if (!a && a != 0) {
      a = 1;
   } else {
      a = scale(a, 0, 1);
   }
   rgb[3] = a;
   return rgb;
}

function getHsla(string) {
   if (!string) {
      return;
   }
   var hsl = /^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;
   var match = string.match(hsl);
   if (match) {
      var alpha = parseFloat(match[4]);
      var h = scale(parseInt(match[1]), 0, 360),
          s = scale(parseFloat(match[2]), 0, 100),
          l = scale(parseFloat(match[3]), 0, 100),
          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);
      return [h, s, l, a];
   }
}

function getHwb(string) {
   if (!string) {
      return;
   }
   var hwb = /^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;
   var match = string.match(hwb);
   if (match) {
      var alpha = parseFloat(match[4]);
      var h = scale(parseInt(match[1]), 0, 360),
          w = scale(parseFloat(match[2]), 0, 100),
          b = scale(parseFloat(match[3]), 0, 100),
          a = scale(isNaN(alpha) ? 1 : alpha, 0, 1);
      return [h, w, b, a];
   }
}

function getRgb(string) {
   var rgba = getRgba(string);
   return rgba && rgba.slice(0, 3);
}

function getHsl(string) {
   var hsla = getHsla(string);
   return hsla && hsla.slice(0, 3);
}

function getAlpha(string) {
   var vals = getRgba(string);
   if (vals) {
      return vals[3];
   } else if (vals = getHsla(string)) {
      return vals[3];
   } else if (vals = getHwb(string)) {
      return vals[3];
   }
}

// generators
function hexString(rgb) {
   return "#" + hexDouble(rgb[0]) + hexDouble(rgb[1]) + hexDouble(rgb[2]);
}

function rgbString(rgba, alpha) {
   if (alpha < 1 || rgba[3] && rgba[3] < 1) {
      return rgbaString(rgba, alpha);
   }
   return "rgb(" + rgba[0] + ", " + rgba[1] + ", " + rgba[2] + ")";
}

function rgbaString(rgba, alpha) {
   if (alpha === undefined) {
      alpha = rgba[3] !== undefined ? rgba[3] : 1;
   }
   return "rgba(" + rgba[0] + ", " + rgba[1] + ", " + rgba[2] + ", " + alpha + ")";
}

function percentString(rgba, alpha) {
   if (alpha < 1 || rgba[3] && rgba[3] < 1) {
      return percentaString(rgba, alpha);
   }
   var r = Math.round(rgba[0] / 255 * 100),
       g = Math.round(rgba[1] / 255 * 100),
       b = Math.round(rgba[2] / 255 * 100);

   return "rgb(" + r + "%, " + g + "%, " + b + "%)";
}

function percentaString(rgba, alpha) {
   var r = Math.round(rgba[0] / 255 * 100),
       g = Math.round(rgba[1] / 255 * 100),
       b = Math.round(rgba[2] / 255 * 100);
   return "rgba(" + r + "%, " + g + "%, " + b + "%, " + (alpha || rgba[3] || 1) + ")";
}

function hslString(hsla, alpha) {
   if (alpha < 1 || hsla[3] && hsla[3] < 1) {
      return hslaString(hsla, alpha);
   }
   return "hsl(" + hsla[0] + ", " + hsla[1] + "%, " + hsla[2] + "%)";
}

function hslaString(hsla, alpha) {
   if (alpha === undefined) {
      alpha = hsla[3] !== undefined ? hsla[3] : 1;
   }
   return "hsla(" + hsla[0] + ", " + hsla[1] + "%, " + hsla[2] + "%, " + alpha + ")";
}

// hwb is a bit different than rgb(a) & hsl(a) since there is no alpha specific syntax
// (hwb have alpha optional & 1 is default value)
function hwbString(hwb, alpha) {
   if (alpha === undefined) {
      alpha = hwb[3] !== undefined ? hwb[3] : 1;
   }
   return "hwb(" + hwb[0] + ", " + hwb[1] + "%, " + hwb[2] + "%" + (alpha !== undefined && alpha !== 1 ? ", " + alpha : "") + ")";
}

function keyword(rgb) {
   return reverseNames[rgb.slice(0, 3)];
}

// helpers
function scale(num, min, max) {
   return Math.min(Math.max(min, num), max);
}

function hexDouble(num) {
   var str = num.toString(16).toUpperCase();
   return str.length < 2 ? "0" + str : str;
}

//create a list of reverse color names
var reverseNames = {};
for (var name in colorNames) {
   reverseNames[colorNames[name]] = name;
}

/***/ }),
/* 303 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* MIT license */
var convert = __webpack_require__(300),
    string = __webpack_require__(302);

var Color = function Color(obj) {
   if (obj instanceof Color) return obj;
   if (!(this instanceof Color)) return new Color(obj);

   this.values = {
      rgb: [0, 0, 0],
      hsl: [0, 0, 0],
      hsv: [0, 0, 0],
      hwb: [0, 0, 0],
      cmyk: [0, 0, 0, 0],
      alpha: 1
   };

   // parse Color() argument
   if (typeof obj == "string") {
      var vals = string.getRgba(obj);
      if (vals) {
         this.setValues("rgb", vals);
      } else if (vals = string.getHsla(obj)) {
         this.setValues("hsl", vals);
      } else if (vals = string.getHwb(obj)) {
         this.setValues("hwb", vals);
      } else {
         throw new Error("Unable to parse color from string \"" + obj + "\"");
      }
   } else if ((typeof obj === "undefined" ? "undefined" : (0, _typeof3.default)(obj)) == "object") {
      var vals = obj;
      if (vals["r"] !== undefined || vals["red"] !== undefined) {
         this.setValues("rgb", vals);
      } else if (vals["l"] !== undefined || vals["lightness"] !== undefined) {
         this.setValues("hsl", vals);
      } else if (vals["v"] !== undefined || vals["value"] !== undefined) {
         this.setValues("hsv", vals);
      } else if (vals["w"] !== undefined || vals["whiteness"] !== undefined) {
         this.setValues("hwb", vals);
      } else if (vals["c"] !== undefined || vals["cyan"] !== undefined) {
         this.setValues("cmyk", vals);
      } else {
         throw new Error("Unable to parse color from object " + (0, _stringify2.default)(obj));
      }
   }
};

Color.prototype = {
   rgb: function rgb(vals) {
      return this.setSpace("rgb", arguments);
   },
   hsl: function hsl(vals) {
      return this.setSpace("hsl", arguments);
   },
   hsv: function hsv(vals) {
      return this.setSpace("hsv", arguments);
   },
   hwb: function hwb(vals) {
      return this.setSpace("hwb", arguments);
   },
   cmyk: function cmyk(vals) {
      return this.setSpace("cmyk", arguments);
   },

   rgbArray: function rgbArray() {
      return this.values.rgb;
   },
   hslArray: function hslArray() {
      return this.values.hsl;
   },
   hsvArray: function hsvArray() {
      return this.values.hsv;
   },
   hwbArray: function hwbArray() {
      if (this.values.alpha !== 1) {
         return this.values.hwb.concat([this.values.alpha]);
      }
      return this.values.hwb;
   },
   cmykArray: function cmykArray() {
      return this.values.cmyk;
   },
   rgbaArray: function rgbaArray() {
      var rgb = this.values.rgb;
      return rgb.concat([this.values.alpha]);
   },
   hslaArray: function hslaArray() {
      var hsl = this.values.hsl;
      return hsl.concat([this.values.alpha]);
   },
   alpha: function alpha(val) {
      if (val === undefined) {
         return this.values.alpha;
      }
      this.setValues("alpha", val);
      return this;
   },

   red: function red(val) {
      return this.setChannel("rgb", 0, val);
   },
   green: function green(val) {
      return this.setChannel("rgb", 1, val);
   },
   blue: function blue(val) {
      return this.setChannel("rgb", 2, val);
   },
   hue: function hue(val) {
      return this.setChannel("hsl", 0, val);
   },
   saturation: function saturation(val) {
      return this.setChannel("hsl", 1, val);
   },
   lightness: function lightness(val) {
      return this.setChannel("hsl", 2, val);
   },
   saturationv: function saturationv(val) {
      return this.setChannel("hsv", 1, val);
   },
   whiteness: function whiteness(val) {
      return this.setChannel("hwb", 1, val);
   },
   blackness: function blackness(val) {
      return this.setChannel("hwb", 2, val);
   },
   value: function value(val) {
      return this.setChannel("hsv", 2, val);
   },
   cyan: function cyan(val) {
      return this.setChannel("cmyk", 0, val);
   },
   magenta: function magenta(val) {
      return this.setChannel("cmyk", 1, val);
   },
   yellow: function yellow(val) {
      return this.setChannel("cmyk", 2, val);
   },
   black: function black(val) {
      return this.setChannel("cmyk", 3, val);
   },

   hexString: function hexString() {
      return string.hexString(this.values.rgb);
   },
   rgbString: function rgbString() {
      return string.rgbString(this.values.rgb, this.values.alpha);
   },
   rgbaString: function rgbaString() {
      return string.rgbaString(this.values.rgb, this.values.alpha);
   },
   percentString: function percentString() {
      return string.percentString(this.values.rgb, this.values.alpha);
   },
   hslString: function hslString() {
      return string.hslString(this.values.hsl, this.values.alpha);
   },
   hslaString: function hslaString() {
      return string.hslaString(this.values.hsl, this.values.alpha);
   },
   hwbString: function hwbString() {
      return string.hwbString(this.values.hwb, this.values.alpha);
   },
   keyword: function keyword() {
      return string.keyword(this.values.rgb, this.values.alpha);
   },

   rgbNumber: function rgbNumber() {
      return this.values.rgb[0] << 16 | this.values.rgb[1] << 8 | this.values.rgb[2];
   },

   luminosity: function luminosity() {
      // http://www.w3.org/TR/WCAG20/#relativeluminancedef
      var rgb = this.values.rgb;
      var lum = [];
      for (var i = 0; i < rgb.length; i++) {
         var chan = rgb[i] / 255;
         lum[i] = chan <= 0.03928 ? chan / 12.92 : Math.pow((chan + 0.055) / 1.055, 2.4);
      }
      return 0.2126 * lum[0] + 0.7152 * lum[1] + 0.0722 * lum[2];
   },

   contrast: function contrast(color2) {
      // http://www.w3.org/TR/WCAG20/#contrast-ratiodef
      var lum1 = this.luminosity();
      var lum2 = color2.luminosity();
      if (lum1 > lum2) {
         return (lum1 + 0.05) / (lum2 + 0.05);
      };
      return (lum2 + 0.05) / (lum1 + 0.05);
   },

   level: function level(color2) {
      var contrastRatio = this.contrast(color2);
      return contrastRatio >= 7.1 ? 'AAA' : contrastRatio >= 4.5 ? 'AA' : '';
   },

   dark: function dark() {
      // YIQ equation from http://24ways.org/2010/calculating-color-contrast
      var rgb = this.values.rgb,
          yiq = (rgb[0] * 299 + rgb[1] * 587 + rgb[2] * 114) / 1000;
      return yiq < 128;
   },

   light: function light() {
      return !this.dark();
   },

   negate: function negate() {
      var rgb = [];
      for (var i = 0; i < 3; i++) {
         rgb[i] = 255 - this.values.rgb[i];
      }
      this.setValues("rgb", rgb);
      return this;
   },

   lighten: function lighten(ratio) {
      this.values.hsl[2] += this.values.hsl[2] * ratio;
      this.setValues("hsl", this.values.hsl);
      return this;
   },

   darken: function darken(ratio) {
      this.values.hsl[2] -= this.values.hsl[2] * ratio;
      this.setValues("hsl", this.values.hsl);
      return this;
   },

   saturate: function saturate(ratio) {
      this.values.hsl[1] += this.values.hsl[1] * ratio;
      this.setValues("hsl", this.values.hsl);
      return this;
   },

   desaturate: function desaturate(ratio) {
      this.values.hsl[1] -= this.values.hsl[1] * ratio;
      this.setValues("hsl", this.values.hsl);
      return this;
   },

   whiten: function whiten(ratio) {
      this.values.hwb[1] += this.values.hwb[1] * ratio;
      this.setValues("hwb", this.values.hwb);
      return this;
   },

   blacken: function blacken(ratio) {
      this.values.hwb[2] += this.values.hwb[2] * ratio;
      this.setValues("hwb", this.values.hwb);
      return this;
   },

   greyscale: function greyscale() {
      var rgb = this.values.rgb;
      // http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale
      var val = rgb[0] * 0.3 + rgb[1] * 0.59 + rgb[2] * 0.11;
      this.setValues("rgb", [val, val, val]);
      return this;
   },

   clearer: function clearer(ratio) {
      this.setValues("alpha", this.values.alpha - this.values.alpha * ratio);
      return this;
   },

   opaquer: function opaquer(ratio) {
      this.setValues("alpha", this.values.alpha + this.values.alpha * ratio);
      return this;
   },

   rotate: function rotate(degrees) {
      var hue = this.values.hsl[0];
      hue = (hue + degrees) % 360;
      hue = hue < 0 ? 360 + hue : hue;
      this.values.hsl[0] = hue;
      this.setValues("hsl", this.values.hsl);
      return this;
   },

   mix: function mix(color2, weight) {
      weight = 1 - (weight == null ? 0.5 : weight);

      // algorithm from Sass's mix(). Ratio of first color in mix is
      // determined by the alphas of both colors and the weight
      var t1 = weight * 2 - 1,
          d = this.alpha() - color2.alpha();

      var weight1 = ((t1 * d == -1 ? t1 : (t1 + d) / (1 + t1 * d)) + 1) / 2;
      var weight2 = 1 - weight1;

      var rgb = this.rgbArray();
      var rgb2 = color2.rgbArray();

      for (var i = 0; i < rgb.length; i++) {
         rgb[i] = rgb[i] * weight1 + rgb2[i] * weight2;
      }
      this.setValues("rgb", rgb);

      var alpha = this.alpha() * weight + color2.alpha() * (1 - weight);
      this.setValues("alpha", alpha);

      return this;
   },

   toJSON: function toJSON() {
      return this.rgb();
   },

   clone: function clone() {
      return new Color(this.rgb());
   }
};

Color.prototype.getValues = function (space) {
   var vals = {};
   for (var i = 0; i < space.length; i++) {
      vals[space.charAt(i)] = this.values[space][i];
   }
   if (this.values.alpha != 1) {
      vals["a"] = this.values.alpha;
   }
   // {r: 255, g: 255, b: 255, a: 0.4}
   return vals;
};

Color.prototype.setValues = function (space, vals) {
   var spaces = {
      "rgb": ["red", "green", "blue"],
      "hsl": ["hue", "saturation", "lightness"],
      "hsv": ["hue", "saturation", "value"],
      "hwb": ["hue", "whiteness", "blackness"],
      "cmyk": ["cyan", "magenta", "yellow", "black"]
   };

   var maxes = {
      "rgb": [255, 255, 255],
      "hsl": [360, 100, 100],
      "hsv": [360, 100, 100],
      "hwb": [360, 100, 100],
      "cmyk": [100, 100, 100, 100]
   };

   var alpha = 1;
   if (space == "alpha") {
      alpha = vals;
   } else if (vals.length) {
      // [10, 10, 10]
      this.values[space] = vals.slice(0, space.length);
      alpha = vals[space.length];
   } else if (vals[space.charAt(0)] !== undefined) {
      // {r: 10, g: 10, b: 10}
      for (var i = 0; i < space.length; i++) {
         this.values[space][i] = vals[space.charAt(i)];
      }
      alpha = vals.a;
   } else if (vals[spaces[space][0]] !== undefined) {
      // {red: 10, green: 10, blue: 10}
      var chans = spaces[space];
      for (var i = 0; i < space.length; i++) {
         this.values[space][i] = vals[chans[i]];
      }
      alpha = vals.alpha;
   }
   this.values.alpha = Math.max(0, Math.min(1, alpha !== undefined ? alpha : this.values.alpha));
   if (space == "alpha") {
      return;
   }

   // cap values of the space prior converting all values
   for (var i = 0; i < space.length; i++) {
      var capped = Math.max(0, Math.min(maxes[space][i], this.values[space][i]));
      this.values[space][i] = Math.round(capped);
   }

   // convert to all the other color spaces
   for (var sname in spaces) {
      if (sname != space) {
         this.values[sname] = convert[space][sname](this.values[space]);
      }

      // cap values
      for (var i = 0; i < sname.length; i++) {
         var capped = Math.max(0, Math.min(maxes[sname][i], this.values[sname][i]));
         this.values[sname][i] = Math.round(capped);
      }
   }
   return true;
};

Color.prototype.setSpace = function (space, args) {
   var vals = args[0];
   if (vals === undefined) {
      // color.rgb()
      return this.getValues(space);
   }
   // color.rgb(10, 10, 10)
   if (typeof vals == "number") {
      vals = Array.prototype.slice.call(args);
   }
   this.setValues(space, vals);
   return this;
};

Color.prototype.setChannel = function (space, index, val) {
   if (val === undefined) {
      // color.red()
      return this.values[space][index];
   }
   // color.red(100)
   this.values[space][index] = val;
   this.setValues(space, this.values[space]);
   return this;
};

module.exports = Color;

/***/ }),
/* 304 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = applyDecorators;
var defineProperty = _defineProperty2.default;
var getOwnPropertyDescriptor = _getOwnPropertyDescriptor2.default;

function applyDecorators(Class, props) {
  var prototype = Class.prototype;

  for (var key in props) {
    var decorators = props[key];

    for (var i = 0, l = decorators.length; i < l; i++) {
      var decorator = decorators[i];

      defineProperty(prototype, key, decorator(prototype, key, getOwnPropertyDescriptor(prototype, key)));
    }
  }

  return Class;
}

module.exports = exports["default"];

/***/ }),
/* 305 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _weakMap = __webpack_require__(107);

var _weakMap2 = _interopRequireDefault(_weakMap);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = autobind;

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
}

var _privateUtils = __webpack_require__(23);

var defineProperty = _defineProperty2.default;
var getPrototypeOf = _getPrototypeOf2.default;

function bind(fn, context) {
  if (fn.bind) {
    return fn.bind(context);
  } else {
    return function __autobind__() {
      return fn.apply(context, arguments);
    };
  }
}

var mapStore = undefined;

function getBoundSuper(obj, fn) {
  if (typeof _weakMap2.default === 'undefined') {
    throw new Error('Using @autobind on ' + fn.name + '() requires WeakMap support due to its use of super.' + fn.name + '()\n      See https://github.com/jayphelps/core-decorators.js/issues/20');
  }

  if (!mapStore) {
    mapStore = new _weakMap2.default();
  }

  if (mapStore.has(obj) === false) {
    mapStore.set(obj, new _weakMap2.default());
  }

  var superStore = mapStore.get(obj);

  if (superStore.has(fn) === false) {
    superStore.set(fn, bind(fn, obj));
  }

  return superStore.get(fn);
}

function autobindClass(klass) {
  var descs = (0, _privateUtils.getOwnPropertyDescriptors)(klass.prototype);
  var keys = (0, _privateUtils.getOwnKeys)(descs);

  for (var i = 0, l = keys.length; i < l; i++) {
    var key = keys[i];
    var desc = descs[key];

    if (typeof desc.value !== 'function' || key === 'constructor') {
      continue;
    }

    defineProperty(klass.prototype, key, autobindMethod(klass.prototype, key, desc));
  }
}

function autobindMethod(target, key, _ref) {
  var fn = _ref.value;
  var configurable = _ref.configurable;
  var enumerable = _ref.enumerable;

  if (typeof fn !== 'function') {
    throw new SyntaxError('@autobind can only be used on functions, not: ' + fn);
  }

  var constructor = target.constructor;

  return {
    configurable: configurable,
    enumerable: enumerable,

    get: function get() {
      // Class.prototype.key lookup
      // Someone accesses the property directly on the prototype on which it is
      // actually defined on, i.e. Class.prototype.hasOwnProperty(key)
      if (this === target) {
        return fn;
      }

      // Class.prototype.key lookup
      // Someone accesses the property directly on a prototype but it was found
      // up the chain, not defined directly on it
      // i.e. Class.prototype.hasOwnProperty(key) == false && key in Class.prototype
      if (this.constructor !== constructor && getPrototypeOf(this).constructor === constructor) {
        return fn;
      }

      // Autobound method calling super.sameMethod() which is also autobound and so on.
      if (this.constructor !== constructor && key in this.constructor.prototype) {
        return getBoundSuper(this, fn);
      }

      var boundFn = bind(fn, this);

      defineProperty(this, key, {
        configurable: true,
        writable: true,
        // NOT enumerable when it's a bound method
        enumerable: false,
        value: boundFn
      });

      return boundFn;
    },
    set: (0, _privateUtils.createDefaultSetter)(key)
  };
}

function handle(args) {
  if (args.length === 1) {
    return autobindClass.apply(undefined, _toConsumableArray(args));
  } else {
    return autobindMethod.apply(undefined, _toConsumableArray(args));
  }
}

function autobind() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  if (args.length === 0) {
    return function () {
      return handle(arguments);
    };
  } else {
    return handle(args);
  }
}

module.exports = exports['default'];

/***/ }),
/* 306 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i['return']) _i['return']();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError('Invalid attempt to destructure non-iterable instance');
    }
  };
}();

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = debounce;

var _privateUtils = __webpack_require__(23);

var DEFAULT_TIMEOUT = 300;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2);

  var _ref2$0 = _ref2[0];
  var wait = _ref2$0 === undefined ? DEFAULT_TIMEOUT : _ref2$0;
  var _ref2$1 = _ref2[1];
  var immediate = _ref2$1 === undefined ? false : _ref2$1;

  var callback = descriptor.value;

  if (typeof callback !== 'function') {
    throw new SyntaxError('Only functions can be debounced');
  }

  return _extends({}, descriptor, {
    value: function value() {
      var _this = this;

      var _metaFor = (0, _privateUtils.metaFor)(this);

      var debounceTimeoutIds = _metaFor.debounceTimeoutIds;

      var timeout = debounceTimeoutIds[key];
      var callNow = immediate && !timeout;
      var args = arguments;

      clearTimeout(timeout);

      debounceTimeoutIds[key] = setTimeout(function () {
        delete debounceTimeoutIds[key];
        if (!immediate) {
          callback.apply(_this, args);
        }
      }, wait);

      if (callNow) {
        callback.apply(this, args);
      }
    }
  });
}

function debounce() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 307 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = decorate;

function _toConsumableArray(arr) {
  if (Array.isArray(arr)) {
    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }return arr2;
  } else {
    return (0, _from2.default)(arr);
  }
}

function _toArray(arr) {
  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);
}

var _privateUtils = __webpack_require__(23);

var defineProperty = _defineProperty2.default;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _toArray(_ref);

  var decorator = _ref2[0];

  var args = _ref2.slice(1);

  var configurable = descriptor.configurable;
  var enumerable = descriptor.enumerable;
  var writable = descriptor.writable;

  var originalGet = descriptor.get;
  var originalSet = descriptor.set;
  var originalValue = descriptor.value;
  var isGetter = !!originalGet;

  return {
    configurable: configurable,
    enumerable: enumerable,
    get: function get() {
      var fn = isGetter ? originalGet.call(this) : originalValue;
      var value = decorator.call.apply(decorator, [this, fn].concat(_toConsumableArray(args)));

      if (isGetter) {
        return value;
      } else {
        var desc = {
          configurable: configurable,
          enumerable: enumerable
        };

        desc.value = value;
        desc.writable = writable;

        defineProperty(this, key, desc);

        return value;
      }
    },
    set: isGetter ? originalSet : (0, _privateUtils.createDefaultSetter)()
  };
}

function decorate() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 308 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i['return']) _i['return']();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError('Invalid attempt to destructure non-iterable instance');
    }
  };
}();

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = deprecate;

var _privateUtils = __webpack_require__(23);

var DEFAULT_MSG = 'This function will be removed in future versions.';

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2);

  var _ref2$0 = _ref2[0];
  var msg = _ref2$0 === undefined ? DEFAULT_MSG : _ref2$0;
  var _ref2$1 = _ref2[1];
  var options = _ref2$1 === undefined ? {} : _ref2$1;

  if (typeof descriptor.value !== 'function') {
    throw new SyntaxError('Only functions can be marked as deprecated');
  }

  var methodSignature = target.constructor.name + '#' + key;

  if (options.url) {
    msg += '\n\n    See ' + options.url + ' for more details.\n\n';
  }

  return _extends({}, descriptor, {
    value: function deprecationWrapper() {
      console.warn('DEPRECATION ' + methodSignature + ': ' + msg);
      return descriptor.value.apply(this, arguments);
    }
  });
}

function deprecate() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 309 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = enumerable;

var _privateUtils = __webpack_require__(23);

function handleDescriptor(target, key, descriptor) {
  descriptor.enumerable = true;
  return descriptor;
}

function enumerable() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 310 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = extendDescriptor;

var _privateUtils = __webpack_require__(23);

var getPrototypeOf = _getPrototypeOf2.default;
var getOwnPropertyDescriptor = _getOwnPropertyDescriptor2.default;

function handleDescriptor(target, key, descriptor) {
  var superKlass = getPrototypeOf(target);
  var superDesc = getOwnPropertyDescriptor(superKlass, key);

  return _extends({}, superDesc, {
    value: descriptor.value,
    initializer: descriptor.initializer,
    get: descriptor.get || superDesc.get,
    set: descriptor.set || superDesc.set
  });
}

function extendDescriptor() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 311 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _weakMap = __webpack_require__(107);

var _weakMap2 = _interopRequireDefault(_weakMap);

var _defineProperty2 = __webpack_require__(17);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = memoize;

function _defineProperty(obj, key, value) {
  if (key in obj) {
    (0, _defineProperty3.default)(obj, key, { value: value, enumerable: true, configurable: true, writable: true });
  } else {
    obj[key] = value;
  }return obj;
}

var _privateUtils = __webpack_require__(23);

function toObject(cache, value) {
  if (value === Object(value)) {
    return value;
  }
  return cache[value] || (cache[value] = {});
}

function applyAndCache(context, fn, args, cache, signature) {
  var ret = fn.apply(context, args);
  cache[signature] = ret;
  return ret;
}

function metaForDescriptor(descriptor) {
  var fn = undefined,
      wrapKey = undefined;

  // This is ugly code, but way faster than other
  // ways I tried that *looked* pretty

  if (descriptor.value) {
    fn = descriptor.value;
    wrapKey = 'value';
  } else if (descriptor.get) {
    fn = descriptor.get;
    wrapKey = 'get';
  } else if (descriptor.set) {
    fn = descriptor.set;
    wrapKey = 'set';
  }

  return { fn: fn, wrapKey: wrapKey };
}

function handleDescriptor(target, key, descriptor) {
  console.warn('DEPRECATION: @memoize is deprecated and will be removed shortly. Use @decorate with lodash\'s memoize helper.\n\n  https://github.com/jayphelps/core-decorators.js#decorate');

  var _metaForDescriptor = metaForDescriptor(descriptor);

  var fn = _metaForDescriptor.fn;
  var wrapKey = _metaForDescriptor.wrapKey;

  var argumentCache = new _weakMap2.default();
  var signatureCache = (0, _create2.default)(null);
  var primativeRefCache = (0, _create2.default)(null);
  var argumentIdCounter = 0;

  return _extends({}, descriptor, _defineProperty({}, wrapKey, function memoizeWrapper() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var signature = '0';

    for (var i = 0, l = args.length; i < l; i++) {
      var arg = args[i];
      var argRef = toObject(primativeRefCache, arg);
      var argKey = argumentCache.get(argRef);

      if (argKey === undefined) {
        argKey = ++argumentIdCounter;
        argumentCache.set(argRef, argKey);
      }

      signature += argKey;
    }

    return signatureCache[signature] || applyAndCache(this, fn, arguments, signatureCache, signature);
  }));
}

function memoize() {
  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 312 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = mixin;

var _privateUtils = __webpack_require__(23);

var defineProperty = _defineProperty2.default;
var getPrototypeOf = _getPrototypeOf2.default;

function buggySymbol(symbol) {
  return Object.prototype.toString.call(symbol) === '[object Symbol]' && (typeof symbol === 'undefined' ? 'undefined' : (0, _typeof3.default)(symbol)) === 'object';
}

function hasProperty(prop, obj) {
  // We have to traverse manually prototypes' chain for polyfilled ES6 Symbols
  // like "in" operator does.
  // I.e.: Babel 5 Symbol polyfill stores every created symbol in Object.prototype.
  // That's why we cannot use construction like "prop in obj" to check, if needed
  // prop actually exists in given object/prototypes' chain.
  if (buggySymbol(prop)) {
    do {
      if (obj === Object.prototype) {
        // Polyfill assigns undefined as value for stored symbol key.
        // We can assume in this special case if there is nothing assigned it doesn't exist.
        return typeof obj[prop] !== 'undefined';
      }
      if (obj.hasOwnProperty(prop)) {
        return true;
      }
    } while (obj = getPrototypeOf(obj));
    return false;
  } else {
    return prop in obj;
  }
}

function handleClass(target, mixins) {
  if (!mixins.length) {
    throw new SyntaxError('@mixin() class ' + target.name + ' requires at least one mixin as an argument');
  }

  for (var i = 0, l = mixins.length; i < l; i++) {
    var descs = (0, _privateUtils.getOwnPropertyDescriptors)(mixins[i]);
    var keys = (0, _privateUtils.getOwnKeys)(descs);

    for (var j = 0, k = keys.length; j < k; j++) {
      var key = keys[j];

      if (!hasProperty(key, target.prototype)) {
        defineProperty(target.prototype, key, descs[key]);
      }
    }
  }
}

function mixin() {
  for (var _len = arguments.length, mixins = Array(_len), _key = 0; _key < _len; _key++) {
    mixins[_key] = arguments[_key];
  }

  if (typeof mixins[0] === 'function') {
    return handleClass(mixins[0], []);
  } else {
    return function (target) {
      return handleClass(target, mixins);
    };
  }
}

module.exports = exports['default'];

/***/ }),
/* 313 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = nonconfigurable;

var _privateUtils = __webpack_require__(23);

function handleDescriptor(target, key, descriptor) {
  descriptor.configurable = false;
  return descriptor;
}

function nonconfigurable() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 314 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = nonenumerable;

var _privateUtils = __webpack_require__(23);

function handleDescriptor(target, key, descriptor) {
  descriptor.enumerable = false;
  return descriptor;
}

function nonenumerable() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 315 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

exports['default'] = override;

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

var _privateUtils = __webpack_require__(23);

var GENERIC_FUNCTION_ERROR = '{child} does not properly override {parent}';
var FUNCTION_REGEXP = /^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;

var SyntaxErrorReporter = function () {
  _createClass(SyntaxErrorReporter, [{
    key: '_getTopic',
    value: function _getTopic(descriptor) {
      if (descriptor === undefined) {
        return null;
      }

      if ('value' in descriptor) {
        return descriptor.value;
      }

      if ('get' in descriptor) {
        return descriptor.get;
      }

      if ('set' in descriptor) {
        return descriptor.set;
      }
    }
  }, {
    key: '_extractTopicSignature',
    value: function _extractTopicSignature(topic) {
      switch (typeof topic === 'undefined' ? 'undefined' : (0, _typeof3.default)(topic)) {
        case 'function':
          return this._extractFunctionSignature(topic);
        default:
          return this.key;
      }
    }
  }, {
    key: '_extractFunctionSignature',
    value: function _extractFunctionSignature(fn) {
      var _this = this;

      return fn.toString().replace(FUNCTION_REGEXP, function (match, name, params) {
        if (name === undefined) name = _this.key;
        return name + params;
      });
    }
  }, {
    key: 'key',
    get: function get() {
      return this.childDescriptor.key;
    }
  }, {
    key: 'parentNotation',
    get: function get() {
      return this.parentKlass.constructor.name + '#' + this.parentPropertySignature;
    }
  }, {
    key: 'childNotation',
    get: function get() {
      return this.childKlass.constructor.name + '#' + this.childPropertySignature;
    }
  }, {
    key: 'parentTopic',
    get: function get() {
      return this._getTopic(this.parentDescriptor);
    }
  }, {
    key: 'childTopic',
    get: function get() {
      return this._getTopic(this.childDescriptor);
    }
  }, {
    key: 'parentPropertySignature',
    get: function get() {
      return this._extractTopicSignature(this.parentTopic);
    }
  }, {
    key: 'childPropertySignature',
    get: function get() {
      return this._extractTopicSignature(this.childTopic);
    }
  }]);

  function SyntaxErrorReporter(parentKlass, childKlass, parentDescriptor, childDescriptor) {
    _classCallCheck(this, SyntaxErrorReporter);

    this.parentKlass = parentKlass;
    this.childKlass = childKlass;
    this.parentDescriptor = parentDescriptor;
    this.childDescriptor = childDescriptor;
  }

  _createClass(SyntaxErrorReporter, [{
    key: 'assert',
    value: function assert(condition) {
      var msg = arguments.length <= 1 || arguments[1] === undefined ? '' : arguments[1];

      if (condition !== true) {
        this.error(GENERIC_FUNCTION_ERROR + msg);
      }
    }
  }, {
    key: 'error',
    value: function error(msg) {
      var _this2 = this;

      msg = msg
      // Replace lazily, because they actually might not
      // be available in all cases
      .replace('{parent}', function (m) {
        return _this2.parentNotation;
      }).replace('{child}', function (m) {
        return _this2.childNotation;
      });
      throw new SyntaxError(msg);
    }
  }]);

  return SyntaxErrorReporter;
}();

function getDescriptorType(descriptor) {
  if (descriptor.hasOwnProperty('value')) {
    return 'data';
  }

  if (descriptor.hasOwnProperty('get') || descriptor.hasOwnProperty('set')) {
    return 'accessor';
  }

  // If none of them exist, browsers treat it as
  // a data descriptor with a value of `undefined`
  return 'data';
}

function checkFunctionSignatures(parent, child, reporter) {
  reporter.assert(parent.length === child.length);
}

function checkDataDescriptors(parent, child, reporter) {
  var parentValueType = (0, _typeof3.default)(parent.value);
  var childValueType = (0, _typeof3.default)(child.value);

  if (parentValueType === 'undefined' && childValueType === 'undefined') {
    // class properties can be any expression, which isn't ran until the
    // the instance is created, so we can't reliably get type information
    // for them yet (per spec). Perhaps when Babel includes flow-type info
    // in runtime? Tried regex solutions, but super hacky and only feasible
    // on primitives, which is confusing for usage...
    reporter.error('descriptor values are both undefined. (class properties are are not currently supported)\'');
  }

  if (parentValueType !== childValueType) {
    var isFunctionOverUndefined = childValueType === 'function' && parentValueType === undefined;
    // Even though we don't support class properties, this
    // will still handle more than just functions, just in case.
    // Shadowing an undefined value is an error if the inherited
    // value was undefined (usually a class property, not a method)
    if (isFunctionOverUndefined || parentValueType !== undefined) {
      reporter.error('value types do not match. {parent} is "' + parentValueType + '", {child} is "' + childValueType + '"');
    }
  }

  // Switch, in preparation for supporting more types
  switch (childValueType) {
    case 'function':
      checkFunctionSignatures(parent.value, child.value, reporter);
      break;

    default:
      reporter.error('Unexpected error. Please file a bug with: {parent} is "' + parentValueType + '", {child} is "' + childValueType + '"');
      break;
  }
}

function checkAccessorDescriptors(parent, child, reporter) {
  var parentHasGetter = typeof parent.get === 'function';
  var childHasGetter = typeof child.get === 'function';
  var parentHasSetter = typeof parent.set === 'function';
  var childHasSetter = typeof child.set === 'function';

  if (parentHasGetter || childHasGetter) {
    if (!parentHasGetter && parentHasSetter) {
      reporter.error('{parent} is setter but {child} is getter');
    }

    if (!childHasGetter && childHasSetter) {
      reporter.error('{parent} is getter but {child} is setter');
    }

    checkFunctionSignatures(parent.get, child.get, reporter);
  }

  if (parentHasSetter || childHasSetter) {
    if (!parentHasSetter && parentHasGetter) {
      reporter.error('{parent} is getter but {child} is setter');
    }

    if (!childHasSetter && childHasGetter) {
      reporter.error('{parent} is setter but {child} is getter');
    }

    checkFunctionSignatures(parent.set, child.set, reporter);
  }
}

function checkDescriptors(parent, child, reporter) {
  var parentType = getDescriptorType(parent);
  var childType = getDescriptorType(child);

  if (parentType !== childType) {
    reporter.error('descriptor types do not match. {parent} is "' + parentType + '", {child} is "' + childType + '"');
  }

  switch (childType) {
    case 'data':
      checkDataDescriptors(parent, child, reporter);
      break;

    case 'accessor':
      checkAccessorDescriptors(parent, child, reporter);
      break;
  }
}

var suggestionTransforms = [function (key) {
  return key.toLowerCase();
}, function (key) {
  return key.toUpperCase();
}, function (key) {
  return key + 's';
}, function (key) {
  return key.slice(0, -1);
}, function (key) {
  return key.slice(1, key.length);
}];

function findPossibleAlternatives(superKlass, key) {
  for (var i = 0, l = suggestionTransforms.length; i < l; i++) {
    var fn = suggestionTransforms[i];
    var suggestion = fn(key);

    if (suggestion in superKlass) {
      return suggestion;
    }
  }

  return null;
}

function handleDescriptor(target, key, descriptor) {
  descriptor.key = key;
  var superKlass = (0, _getPrototypeOf2.default)(target);
  var superDescriptor = (0, _getOwnPropertyDescriptor2.default)(superKlass, key);
  var reporter = new SyntaxErrorReporter(superKlass, target, superDescriptor, descriptor);

  if (superDescriptor === undefined) {
    var suggestedKey = findPossibleAlternatives(superKlass, key);
    var suggestion = suggestedKey ? '\n\n  Did you mean "' + suggestedKey + '"?' : '';
    reporter.error('No descriptor matching {child} was found on the prototype chain.' + suggestion);
  }

  checkDescriptors(superDescriptor, descriptor, reporter);

  return descriptor;
}

function override() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 316 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, '__esModule', {
  value: true
});
exports['default'] = readonly;

var _privateUtils = __webpack_require__(23);

function handleDescriptor(target, key, descriptor) {
  descriptor.writable = false;
  return descriptor;
}

function readonly() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 317 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = suppressWarnings;

var _privateUtils = __webpack_require__(23);

function suppressedWarningNoop() {
  // Warnings are currently suppressed via @suppressWarnings
}

function applyWithoutWarnings(context, fn, args) {
  if ((typeof console === 'undefined' ? 'undefined' : (0, _typeof3.default)(console)) === 'object') {
    var nativeWarn = console.warn;
    console.warn = suppressedWarningNoop;
    var ret = fn.apply(context, args);
    console.warn = nativeWarn;
    return ret;
  } else {
    return fn.apply(context, args);
  }
}

function handleDescriptor(target, key, descriptor) {
  return _extends({}, descriptor, {
    value: function suppressWarningsWrapper() {
      return applyWithoutWarnings(this, descriptor.value, arguments);
    }
  });
}

function suppressWarnings() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 318 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i['return']) _i['return']();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError('Invalid attempt to destructure non-iterable instance');
    }
  };
}();

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = throttle;

var _privateUtils = __webpack_require__(23);

var DEFAULT_TIMEOUT = 300;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2);

  var _ref2$0 = _ref2[0];
  var wait = _ref2$0 === undefined ? DEFAULT_TIMEOUT : _ref2$0;
  var _ref2$1 = _ref2[1];
  var options = _ref2$1 === undefined ? {} : _ref2$1;

  var callback = descriptor.value;

  if (typeof callback !== 'function') {
    throw new SyntaxError('Only functions can be throttled');
  }

  if (options.leading !== false) {
    options.leading = true;
  }

  if (options.trailing !== false) {
    options.trailing = true;
  }

  return _extends({}, descriptor, {
    value: function value() {
      var _this = this;

      var meta = (0, _privateUtils.metaFor)(this);
      var throttleTimeoutIds = meta.throttleTimeoutIds;
      var throttlePreviousTimestamps = meta.throttlePreviousTimestamps;

      var timeout = throttleTimeoutIds[key];
      // last execute timestamp
      var previous = throttlePreviousTimestamps[key] || 0;
      var now = Date.now();

      if (options.trailing) {
        meta.throttleTrailingArgs = arguments;
      }

      // if first be called and disable the execution on the leading edge
      // set last execute timestamp to now
      if (!previous && options.leading === false) {
        previous = now;
      }

      var remaining = wait - (now - previous);

      if (remaining <= 0) {
        clearTimeout(timeout);
        delete throttleTimeoutIds[key];
        throttlePreviousTimestamps[key] = now;
        callback.apply(this, arguments);
      } else if (!timeout && options.trailing) {
        throttleTimeoutIds[key] = setTimeout(function () {
          throttlePreviousTimestamps[key] = options.leading === false ? 0 : Date.now();
          delete throttleTimeoutIds[key];
          callback.apply(_this, meta.throttleTrailingArgs);
          // don't leak memory!
          meta.throttleTrailingArgs = null;
        }, remaining);
      }
    }
  });
}

function throttle() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

module.exports = exports['default'];

/***/ }),
/* 319 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i['return']) _i['return']();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError('Invalid attempt to destructure non-iterable instance');
    }
  };
}();

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = time;

var _privateUtils = __webpack_require__(23);

var labels = {};

// Exported for mocking in tests
var defaultConsole = {
  time: console.time ? console.time.bind(console) : function (label) {
    labels[label] = new Date();
  },
  timeEnd: console.timeEnd ? console.timeEnd.bind(console) : function (label) {
    var timeNow = new Date();
    var timeTaken = timeNow - labels[label];
    delete labels[label];
    console.log(label + ': ' + timeTaken + 'ms');
  }
};

exports.defaultConsole = defaultConsole;
var count = 0;

function handleDescriptor(target, key, descriptor, _ref) {
  var _ref2 = _slicedToArray(_ref, 2);

  var _ref2$0 = _ref2[0];
  var prefix = _ref2$0 === undefined ? null : _ref2$0;
  var _ref2$1 = _ref2[1];
  var console = _ref2$1 === undefined ? defaultConsole : _ref2$1;

  var fn = descriptor.value;

  if (prefix === null) {
    prefix = target.constructor.name + '.' + key;
  }

  if (typeof fn !== 'function') {
    throw new SyntaxError('@time can only be used on functions, not: ' + fn);
  }

  return _extends({}, descriptor, {
    value: function value() {
      var label = prefix + '-' + count;
      count++;
      console.time(label);

      try {
        return fn.apply(this, arguments);
      } finally {
        console.timeEnd(label);
      }
    }
  });
}

function time() {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }

  return (0, _privateUtils.decorate)(handleDescriptor, args);
}

/***/ }),
/* 320 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var parse = __webpack_require__(177);

/**
 * @category Millisecond Helpers
 * @summary Get the number of milliseconds between the given dates.
 *
 * @description
 * Get the number of milliseconds between the given dates.
 *
 * @param {Date|String|Number} dateLeft - the later date
 * @param {Date|String|Number} dateRight - the earlier date
 * @returns {Number} the number of milliseconds
 *
 * @example
 * // How many milliseconds are between
 * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?
 * var result = differenceInMilliseconds(
 *   new Date(2014, 6, 2, 12, 30, 21, 700),
 *   new Date(2014, 6, 2, 12, 30, 20, 600)
 * )
 * //=> 1100
 */
function differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) {
  var dateLeft = parse(dirtyDateLeft);
  var dateRight = parse(dirtyDateRight);
  return dateLeft.getTime() - dateRight.getTime();
}

module.exports = differenceInMilliseconds;

/***/ }),
/* 321 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var differenceInMilliseconds = __webpack_require__(320);

var MILLISECONDS_IN_MINUTE = 60000;

/**
 * @category Minute Helpers
 * @summary Get the number of minutes between the given dates.
 *
 * @description
 * Get the number of minutes between the given dates.
 *
 * @param {Date|String|Number} dateLeft - the later date
 * @param {Date|String|Number} dateRight - the earlier date
 * @returns {Number} the number of minutes
 *
 * @example
 * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?
 * var result = differenceInMinutes(
 *   new Date(2014, 6, 2, 12, 20, 0),
 *   new Date(2014, 6, 2, 12, 7, 59)
 * )
 * //=> 12
 */
function differenceInMinutes(dirtyDateLeft, dirtyDateRight) {
  var diff = differenceInMilliseconds(dirtyDateLeft, dirtyDateRight) / MILLISECONDS_IN_MINUTE;
  return diff > 0 ? Math.floor(diff) : Math.ceil(diff);
}

module.exports = differenceInMinutes;

/***/ }),
/* 322 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var parse = __webpack_require__(177);

/**
 * @category Common Helpers
 * @summary Is the first date after the second one?
 *
 * @description
 * Is the first date after the second one?
 *
 * @param {Date|String|Number} date - the date that should be after the other one to return true
 * @param {Date|String|Number} dateToCompare - the date to compare with
 * @returns {Boolean} the first date is after the second date
 *
 * @example
 * // Is 10 July 1989 after 11 February 1987?
 * var result = isAfter(new Date(1989, 6, 10), new Date(1987, 1, 11))
 * //=> true
 */
function isAfter(dirtyDate, dirtyDateToCompare) {
  var date = parse(dirtyDate);
  var dateToCompare = parse(dirtyDateToCompare);
  return date.getTime() > dateToCompare.getTime();
}

module.exports = isAfter;

/***/ }),
/* 323 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * @category Common Helpers
 * @summary Is the given argument an instance of Date?
 *
 * @description
 * Is the given argument an instance of Date?
 *
 * @param {*} argument - the argument to check
 * @returns {Boolean} the given argument is an instance of Date
 *
 * @example
 * // Is 'mayonnaise' a Date?
 * var result = isDate('mayonnaise')
 * //=> false
 */
function isDate(argument) {
  return argument instanceof Date;
}

module.exports = isDate;

/***/ }),
/* 324 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Resize detection strategy that injects objects to elements in order to detect resize events.
 * Heavily inspired by: http://www.backalleycoder.com/2013/03/18/cross-browser-event-based-element-resize-detection/
 */



var browserDetector = __webpack_require__(178);

module.exports = function (options) {
    options = options || {};
    var reporter = options.reporter;
    var batchProcessor = options.batchProcessor;
    var getState = options.stateHandler.getState;

    if (!reporter) {
        throw new Error("Missing required dependency: reporter.");
    }

    /**
     * Adds a resize event listener to the element.
     * @public
     * @param {element} element The element that should have the listener added.
     * @param {function} listener The listener callback to be called for each resize event of the element. The element will be given as a parameter to the listener callback.
     */
    function addListener(element, listener) {
        if (!getObject(element)) {
            throw new Error("Element is not detectable by this strategy.");
        }

        function listenerProxy() {
            listener(element);
        }

        if (browserDetector.isIE(8)) {
            //IE 8 does not support object, but supports the resize event directly on elements.
            getState(element).object = {
                proxy: listenerProxy
            };
            element.attachEvent("onresize", listenerProxy);
        } else {
            var object = getObject(element);
            object.contentDocument.defaultView.addEventListener("resize", listenerProxy);
        }
    }

    /**
     * Makes an element detectable and ready to be listened for resize events. Will call the callback when the element is ready to be listened for resize changes.
     * @private
     * @param {object} options Optional options object.
     * @param {element} element The element to make detectable
     * @param {function} callback The callback to be called when the element is ready to be listened for resize changes. Will be called with the element as first parameter.
     */
    function makeDetectable(options, element, callback) {
        if (!callback) {
            callback = element;
            element = options;
            options = null;
        }

        options = options || {};
        var debug = options.debug;

        function injectObject(element, callback) {
            var OBJECT_STYLE = "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;";

            //The target element needs to be positioned (everything except static) so the absolute positioned object will be positioned relative to the target element.

            // Position altering may be performed directly or on object load, depending on if style resolution is possible directly or not.
            var positionCheckPerformed = false;

            // The element may not yet be attached to the DOM, and therefore the style object may be empty in some browsers.
            // Since the style object is a reference, it will be updated as soon as the element is attached to the DOM.
            var style = window.getComputedStyle(element);
            var width = element.offsetWidth;
            var height = element.offsetHeight;

            getState(element).startSize = {
                width: width,
                height: height
            };

            function mutateDom() {
                function alterPositionStyles() {
                    if (style.position === "static") {
                        element.style.position = "relative";

                        var removeRelativeStyles = function removeRelativeStyles(reporter, element, style, property) {
                            function getNumericalValue(value) {
                                return value.replace(/[^-\d\.]/g, "");
                            }

                            var value = style[property];

                            if (value !== "auto" && getNumericalValue(value) !== "0") {
                                reporter.warn("An element that is positioned static has style." + property + "=" + value + " which is ignored due to the static positioning. The element will need to be positioned relative, so the style." + property + " will be set to 0. Element: ", element);
                                element.style[property] = 0;
                            }
                        };

                        //Check so that there are no accidental styles that will make the element styled differently now that is is relative.
                        //If there are any, set them to 0 (this should be okay with the user since the style properties did nothing before [since the element was positioned static] anyway).
                        removeRelativeStyles(reporter, element, style, "top");
                        removeRelativeStyles(reporter, element, style, "right");
                        removeRelativeStyles(reporter, element, style, "bottom");
                        removeRelativeStyles(reporter, element, style, "left");
                    }
                }

                function onObjectLoad() {
                    // The object has been loaded, which means that the element now is guaranteed to be attached to the DOM.
                    if (!positionCheckPerformed) {
                        alterPositionStyles();
                    }

                    /*jshint validthis: true */

                    function getDocument(element, callback) {
                        //Opera 12 seem to call the object.onload before the actual document has been created.
                        //So if it is not present, poll it with an timeout until it is present.
                        //TODO: Could maybe be handled better with object.onreadystatechange or similar.
                        if (!element.contentDocument) {
                            setTimeout(function checkForObjectDocument() {
                                getDocument(element, callback);
                            }, 100);

                            return;
                        }

                        callback(element.contentDocument);
                    }

                    //Mutating the object element here seems to fire another load event.
                    //Mutating the inner document of the object element is fine though.
                    var objectElement = this;

                    //Create the style element to be added to the object.
                    getDocument(objectElement, function onObjectDocumentReady(objectDocument) {
                        //Notify that the element is ready to be listened to.
                        callback(element);
                    });
                }

                // The element may be detached from the DOM, and some browsers does not support style resolving of detached elements.
                // The alterPositionStyles needs to be delayed until we know the element has been attached to the DOM (which we are sure of when the onObjectLoad has been fired), if style resolution is not possible.
                if (style.position !== "") {
                    alterPositionStyles(style);
                    positionCheckPerformed = true;
                }

                //Add an object element as a child to the target element that will be listened to for resize events.
                var object = document.createElement("object");
                object.style.cssText = OBJECT_STYLE;
                object.tabIndex = -1;
                object.type = "text/html";
                object.onload = onObjectLoad;

                //Safari: This must occur before adding the object to the DOM.
                //IE: Does not like that this happens before, even if it is also added after.
                if (!browserDetector.isIE()) {
                    object.data = "about:blank";
                }

                element.appendChild(object);
                getState(element).object = object;

                //IE: This must occur after adding the object to the DOM.
                if (browserDetector.isIE()) {
                    object.data = "about:blank";
                }
            }

            if (batchProcessor) {
                batchProcessor.add(mutateDom);
            } else {
                mutateDom();
            }
        }

        if (browserDetector.isIE(8)) {
            //IE 8 does not support objects properly. Luckily they do support the resize event.
            //So do not inject the object and notify that the element is already ready to be listened to.
            //The event handler for the resize event is attached in the utils.addListener instead.
            callback(element);
        } else {
            injectObject(element, callback);
        }
    }

    /**
     * Returns the child object of the target element.
     * @private
     * @param {element} element The target element.
     * @returns The object element of the target.
     */
    function getObject(element) {
        return getState(element).object;
    }

    function uninstall(element) {
        if (browserDetector.isIE(8)) {
            element.detachEvent("onresize", getState(element).object.proxy);
        } else {
            element.removeChild(getObject(element));
        }
        delete getState(element).object;
    }

    return {
        makeDetectable: makeDetectable,
        addListener: addListener,
        uninstall: uninstall
    };
};

/***/ }),
/* 325 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Resize detection strategy that injects divs to elements in order to detect resize events on scroll events.
 * Heavily inspired by: https://github.com/marcj/css-element-queries/blob/master/src/ResizeSensor.js
 */



var forEach = __webpack_require__(179).forEach;

module.exports = function (options) {
    options = options || {};
    var reporter = options.reporter;
    var batchProcessor = options.batchProcessor;
    var getState = options.stateHandler.getState;
    var hasState = options.stateHandler.hasState;
    var idHandler = options.idHandler;

    if (!batchProcessor) {
        throw new Error("Missing required dependency: batchProcessor");
    }

    if (!reporter) {
        throw new Error("Missing required dependency: reporter.");
    }

    //TODO: Could this perhaps be done at installation time?
    var scrollbarSizes = getScrollbarSizes();

    // Inject the scrollbar styling that prevents them from appearing sometimes in Chrome.
    // The injected container needs to have a class, so that it may be styled with CSS (pseudo elements).
    var styleId = "erd_scroll_detection_scrollbar_style";
    var detectionContainerClass = "erd_scroll_detection_container";
    injectScrollStyle(styleId, detectionContainerClass);

    function getScrollbarSizes() {
        var width = 500;
        var height = 500;

        var child = document.createElement("div");
        child.style.cssText = "position: absolute; width: " + width * 2 + "px; height: " + height * 2 + "px; visibility: hidden; margin: 0; padding: 0;";

        var container = document.createElement("div");
        container.style.cssText = "position: absolute; width: " + width + "px; height: " + height + "px; overflow: scroll; visibility: none; top: " + -width * 3 + "px; left: " + -height * 3 + "px; visibility: hidden; margin: 0; padding: 0;";

        container.appendChild(child);

        document.body.insertBefore(container, document.body.firstChild);

        var widthSize = width - container.clientWidth;
        var heightSize = height - container.clientHeight;

        document.body.removeChild(container);

        return {
            width: widthSize,
            height: heightSize
        };
    }

    function injectScrollStyle(styleId, containerClass) {
        function injectStyle(style, method) {
            method = method || function (element) {
                document.head.appendChild(element);
            };

            var styleElement = document.createElement("style");
            styleElement.innerHTML = style;
            styleElement.id = styleId;
            method(styleElement);
            return styleElement;
        }

        if (!document.getElementById(styleId)) {
            var containerAnimationClass = containerClass + "_animation";
            var containerAnimationActiveClass = containerClass + "_animation_active";
            var style = "/* Created by the element-resize-detector library. */\n";
            style += "." + containerClass + " > div::-webkit-scrollbar { display: none; }\n\n";
            style += "." + containerAnimationActiveClass + " { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: " + containerAnimationClass + "; animation-name: " + containerAnimationClass + "; }\n";
            style += "@-webkit-keyframes " + containerAnimationClass + " { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n";
            style += "@keyframes " + containerAnimationClass + " { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }";
            injectStyle(style);
        }
    }

    function addAnimationClass(element) {
        element.className += " " + detectionContainerClass + "_animation_active";
    }

    function addEvent(el, name, cb) {
        if (el.addEventListener) {
            el.addEventListener(name, cb);
        } else if (el.attachEvent) {
            el.attachEvent("on" + name, cb);
        } else {
            return reporter.error("[scroll] Don't know how to add event listeners.");
        }
    }

    function removeEvent(el, name, cb) {
        if (el.removeEventListener) {
            el.removeEventListener(name, cb);
        } else if (el.detachEvent) {
            el.detachEvent("on" + name, cb);
        } else {
            return reporter.error("[scroll] Don't know how to remove event listeners.");
        }
    }

    function getExpandElement(element) {
        return getState(element).container.childNodes[0].childNodes[0].childNodes[0];
    }

    function getShrinkElement(element) {
        return getState(element).container.childNodes[0].childNodes[0].childNodes[1];
    }

    /**
     * Adds a resize event listener to the element.
     * @public
     * @param {element} element The element that should have the listener added.
     * @param {function} listener The listener callback to be called for each resize event of the element. The element will be given as a parameter to the listener callback.
     */
    function addListener(element, listener) {
        var listeners = getState(element).listeners;

        if (!listeners.push) {
            throw new Error("Cannot add listener to an element that is not detectable.");
        }

        getState(element).listeners.push(listener);
    }

    /**
     * Makes an element detectable and ready to be listened for resize events. Will call the callback when the element is ready to be listened for resize changes.
     * @private
     * @param {object} options Optional options object.
     * @param {element} element The element to make detectable
     * @param {function} callback The callback to be called when the element is ready to be listened for resize changes. Will be called with the element as first parameter.
     */
    function makeDetectable(options, element, callback) {
        if (!callback) {
            callback = element;
            element = options;
            options = null;
        }

        options = options || {};

        function debug() {
            if (options.debug) {
                var args = Array.prototype.slice.call(arguments);
                args.unshift(idHandler.get(element), "Scroll: ");
                if (reporter.log.apply) {
                    reporter.log.apply(null, args);
                } else {
                    for (var i = 0; i < args.length; i++) {
                        reporter.log(args[i]);
                    }
                }
            }
        }

        function isDetached(element) {
            function isInDocument(element) {
                return element === element.ownerDocument.body || element.ownerDocument.body.contains(element);
            }
            return !isInDocument(element);
        }

        function isUnrendered(element) {
            // Check the absolute positioned container since the top level container is display: inline.
            var container = getState(element).container.childNodes[0];
            return getComputedStyle(container).width.indexOf("px") === -1; //Can only compute pixel value when rendered.
        }

        function getStyle() {
            // Some browsers only force layouts when actually reading the style properties of the style object, so make sure that they are all read here,
            // so that the user of the function can be sure that it will perform the layout here, instead of later (important for batching).
            var elementStyle = getComputedStyle(element);
            var style = {};
            style.position = elementStyle.position;
            style.width = element.offsetWidth;
            style.height = element.offsetHeight;
            style.top = elementStyle.top;
            style.right = elementStyle.right;
            style.bottom = elementStyle.bottom;
            style.left = elementStyle.left;
            style.widthCSS = elementStyle.width;
            style.heightCSS = elementStyle.height;
            return style;
        }

        function storeStartSize() {
            var style = getStyle();
            getState(element).startSize = {
                width: style.width,
                height: style.height
            };
            debug("Element start size", getState(element).startSize);
        }

        function initListeners() {
            getState(element).listeners = [];
        }

        function storeStyle() {
            debug("storeStyle invoked.");
            if (!getState(element)) {
                debug("Aborting because element has been uninstalled");
                return;
            }

            var style = getStyle();
            getState(element).style = style;
        }

        function storeCurrentSize(element, width, height) {
            getState(element).lastWidth = width;
            getState(element).lastHeight = height;
        }

        function getExpandChildElement(element) {
            return getExpandElement(element).childNodes[0];
        }

        function getWidthOffset() {
            return 2 * scrollbarSizes.width + 1;
        }

        function getHeightOffset() {
            return 2 * scrollbarSizes.height + 1;
        }

        function getExpandWidth(width) {
            return width + 10 + getWidthOffset();
        }

        function getExpandHeight(height) {
            return height + 10 + getHeightOffset();
        }

        function getShrinkWidth(width) {
            return width * 2 + getWidthOffset();
        }

        function getShrinkHeight(height) {
            return height * 2 + getHeightOffset();
        }

        function positionScrollbars(element, width, height) {
            var expand = getExpandElement(element);
            var shrink = getShrinkElement(element);
            var expandWidth = getExpandWidth(width);
            var expandHeight = getExpandHeight(height);
            var shrinkWidth = getShrinkWidth(width);
            var shrinkHeight = getShrinkHeight(height);
            expand.scrollLeft = expandWidth;
            expand.scrollTop = expandHeight;
            shrink.scrollLeft = shrinkWidth;
            shrink.scrollTop = shrinkHeight;
        }

        function injectContainerElement() {
            var container = getState(element).container;

            if (!container) {
                container = document.createElement("div");
                container.className = detectionContainerClass;
                container.style.cssText = "visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;";
                getState(element).container = container;
                addAnimationClass(container);
                element.appendChild(container);

                var onAnimationStart = function onAnimationStart() {
                    getState(element).onRendered && getState(element).onRendered();
                };

                addEvent(container, "animationstart", onAnimationStart);

                // Store the event handler here so that they may be removed when uninstall is called.
                // See uninstall function for an explanation why it is needed.
                getState(element).onAnimationStart = onAnimationStart;
            }

            return container;
        }

        function injectScrollElements() {
            function alterPositionStyles() {
                var style = getState(element).style;

                if (style.position === "static") {
                    element.style.position = "relative";

                    var removeRelativeStyles = function removeRelativeStyles(reporter, element, style, property) {
                        function getNumericalValue(value) {
                            return value.replace(/[^-\d\.]/g, "");
                        }

                        var value = style[property];

                        if (value !== "auto" && getNumericalValue(value) !== "0") {
                            reporter.warn("An element that is positioned static has style." + property + "=" + value + " which is ignored due to the static positioning. The element will need to be positioned relative, so the style." + property + " will be set to 0. Element: ", element);
                            element.style[property] = 0;
                        }
                    };

                    //Check so that there are no accidental styles that will make the element styled differently now that is is relative.
                    //If there are any, set them to 0 (this should be okay with the user since the style properties did nothing before [since the element was positioned static] anyway).
                    removeRelativeStyles(reporter, element, style, "top");
                    removeRelativeStyles(reporter, element, style, "right");
                    removeRelativeStyles(reporter, element, style, "bottom");
                    removeRelativeStyles(reporter, element, style, "left");
                }
            }

            function getLeftTopBottomRightCssText(left, top, bottom, right) {
                left = !left ? "0" : left + "px";
                top = !top ? "0" : top + "px";
                bottom = !bottom ? "0" : bottom + "px";
                right = !right ? "0" : right + "px";

                return "left: " + left + "; top: " + top + "; right: " + right + "; bottom: " + bottom + ";";
            }

            debug("Injecting elements");

            if (!getState(element)) {
                debug("Aborting because element has been uninstalled");
                return;
            }

            alterPositionStyles();

            var rootContainer = getState(element).container;

            if (!rootContainer) {
                rootContainer = injectContainerElement();
            }

            // Due to this WebKit bug https://bugs.webkit.org/show_bug.cgi?id=80808 (currently fixed in Blink, but still present in WebKit browsers such as Safari),
            // we need to inject two containers, one that is width/height 100% and another that is left/top -1px so that the final container always is 1x1 pixels bigger than
            // the targeted element.
            // When the bug is resolved, "containerContainer" may be removed.

            // The outer container can occasionally be less wide than the targeted when inside inline elements element in WebKit (see https://bugs.webkit.org/show_bug.cgi?id=152980).
            // This should be no problem since the inner container either way makes sure the injected scroll elements are at least 1x1 px.

            var scrollbarWidth = scrollbarSizes.width;
            var scrollbarHeight = scrollbarSizes.height;
            var containerContainerStyle = "position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;";
            var containerStyle = "position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; " + getLeftTopBottomRightCssText(-(1 + scrollbarWidth), -(1 + scrollbarHeight), -scrollbarHeight, -scrollbarWidth);
            var expandStyle = "position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;";
            var shrinkStyle = "position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;";
            var expandChildStyle = "position: absolute; left: 0; top: 0;";
            var shrinkChildStyle = "position: absolute; width: 200%; height: 200%;";

            var containerContainer = document.createElement("div");
            var container = document.createElement("div");
            var expand = document.createElement("div");
            var expandChild = document.createElement("div");
            var shrink = document.createElement("div");
            var shrinkChild = document.createElement("div");

            // Some browsers choke on the resize system being rtl, so force it to ltr. https://github.com/wnr/element-resize-detector/issues/56
            // However, dir should not be set on the top level container as it alters the dimensions of the target element in some browsers.
            containerContainer.dir = "ltr";

            containerContainer.style.cssText = containerContainerStyle;
            containerContainer.className = detectionContainerClass;
            container.className = detectionContainerClass;
            container.style.cssText = containerStyle;
            expand.style.cssText = expandStyle;
            expandChild.style.cssText = expandChildStyle;
            shrink.style.cssText = shrinkStyle;
            shrinkChild.style.cssText = shrinkChildStyle;

            expand.appendChild(expandChild);
            shrink.appendChild(shrinkChild);
            container.appendChild(expand);
            container.appendChild(shrink);
            containerContainer.appendChild(container);
            rootContainer.appendChild(containerContainer);

            function onExpandScroll() {
                getState(element).onExpand && getState(element).onExpand();
            }

            function onShrinkScroll() {
                getState(element).onShrink && getState(element).onShrink();
            }

            addEvent(expand, "scroll", onExpandScroll);
            addEvent(shrink, "scroll", onShrinkScroll);

            // Store the event handlers here so that they may be removed when uninstall is called.
            // See uninstall function for an explanation why it is needed.
            getState(element).onExpandScroll = onExpandScroll;
            getState(element).onShrinkScroll = onShrinkScroll;
        }

        function registerListenersAndPositionElements() {
            function updateChildSizes(element, width, height) {
                var expandChild = getExpandChildElement(element);
                var expandWidth = getExpandWidth(width);
                var expandHeight = getExpandHeight(height);
                expandChild.style.width = expandWidth + "px";
                expandChild.style.height = expandHeight + "px";
            }

            function updateDetectorElements(done) {
                var width = element.offsetWidth;
                var height = element.offsetHeight;

                debug("Storing current size", width, height);

                // Store the size of the element sync here, so that multiple scroll events may be ignored in the event listeners.
                // Otherwise the if-check in handleScroll is useless.
                storeCurrentSize(element, width, height);

                // Since we delay the processing of the batch, there is a risk that uninstall has been called before the batch gets to execute.
                // Since there is no way to cancel the fn executions, we need to add an uninstall guard to all fns of the batch.

                batchProcessor.add(0, function performUpdateChildSizes() {
                    if (!getState(element)) {
                        debug("Aborting because element has been uninstalled");
                        return;
                    }

                    if (options.debug) {
                        var w = element.offsetWidth;
                        var h = element.offsetHeight;

                        if (w !== width || h !== height) {
                            reporter.warn(idHandler.get(element), "Scroll: Size changed before updating detector elements.");
                        }
                    }

                    updateChildSizes(element, width, height);
                });

                batchProcessor.add(1, function updateScrollbars() {
                    if (!getState(element)) {
                        debug("Aborting because element has been uninstalled");
                        return;
                    }

                    positionScrollbars(element, width, height);
                });

                if (done) {
                    batchProcessor.add(2, function () {
                        if (!getState(element)) {
                            debug("Aborting because element has been uninstalled");
                            return;
                        }

                        done();
                    });
                }
            }

            function areElementsInjected() {
                return !!getState(element).container;
            }

            function notifyListenersIfNeeded() {
                function isFirstNotify() {
                    return getState(element).lastNotifiedWidth === undefined;
                }

                debug("notifyListenersIfNeeded invoked");

                var state = getState(element);

                // Don't notify the if the current size is the start size, and this is the first notification.
                if (isFirstNotify() && state.lastWidth === state.startSize.width && state.lastHeight === state.startSize.height) {
                    return debug("Not notifying: Size is the same as the start size, and there has been no notification yet.");
                }

                // Don't notify if the size already has been notified.
                if (state.lastWidth === state.lastNotifiedWidth && state.lastHeight === state.lastNotifiedHeight) {
                    return debug("Not notifying: Size already notified");
                }

                debug("Current size not notified, notifying...");
                state.lastNotifiedWidth = state.lastWidth;
                state.lastNotifiedHeight = state.lastHeight;
                forEach(getState(element).listeners, function (listener) {
                    listener(element);
                });
            }

            function handleRender() {
                debug("startanimation triggered.");

                if (isUnrendered(element)) {
                    debug("Ignoring since element is still unrendered...");
                    return;
                }

                debug("Element rendered.");
                var expand = getExpandElement(element);
                var shrink = getShrinkElement(element);
                if (expand.scrollLeft === 0 || expand.scrollTop === 0 || shrink.scrollLeft === 0 || shrink.scrollTop === 0) {
                    debug("Scrollbars out of sync. Updating detector elements...");
                    updateDetectorElements(notifyListenersIfNeeded);
                }
            }

            function handleScroll() {
                debug("Scroll detected.");

                if (isUnrendered(element)) {
                    // Element is still unrendered. Skip this scroll event.
                    debug("Scroll event fired while unrendered. Ignoring...");
                    return;
                }

                var width = element.offsetWidth;
                var height = element.offsetHeight;

                if (width !== element.lastWidth || height !== element.lastHeight) {
                    debug("Element size changed.");
                    updateDetectorElements(notifyListenersIfNeeded);
                } else {
                    debug("Element size has not changed (" + width + "x" + height + ").");
                }
            }

            debug("registerListenersAndPositionElements invoked.");

            if (!getState(element)) {
                debug("Aborting because element has been uninstalled");
                return;
            }

            getState(element).onRendered = handleRender;
            getState(element).onExpand = handleScroll;
            getState(element).onShrink = handleScroll;

            var style = getState(element).style;
            updateChildSizes(element, style.width, style.height);
        }

        function finalizeDomMutation() {
            debug("finalizeDomMutation invoked.");

            if (!getState(element)) {
                debug("Aborting because element has been uninstalled");
                return;
            }

            var style = getState(element).style;
            storeCurrentSize(element, style.width, style.height);
            positionScrollbars(element, style.width, style.height);
        }

        function ready() {
            callback(element);
        }

        function install() {
            debug("Installing...");
            initListeners();
            storeStartSize();

            batchProcessor.add(0, storeStyle);
            batchProcessor.add(1, injectScrollElements);
            batchProcessor.add(2, registerListenersAndPositionElements);
            batchProcessor.add(3, finalizeDomMutation);
            batchProcessor.add(4, ready);
        }

        debug("Making detectable...");

        if (isDetached(element)) {
            debug("Element is detached");

            injectContainerElement();

            debug("Waiting until element is attached...");

            getState(element).onRendered = function () {
                debug("Element is now attached");
                install();
            };
        } else {
            install();
        }
    }

    function uninstall(element) {
        var state = getState(element);

        if (!state) {
            // Uninstall has been called on a non-erd element.
            return;
        }

        // Uninstall may have been called in the following scenarios:
        // (1) Right between the sync code and async batch (here state.busy = true, but nothing have been registered or injected).
        // (2) In the ready callback of the last level of the batch by another element (here, state.busy = true, but all the stuff has been injected).
        // (3) After the installation process (here, state.busy = false and all the stuff has been injected).
        // So to be on the safe side, let's check for each thing before removing.

        // We need to remove the event listeners, because otherwise the event might fire on an uninstall element which results in an error when trying to get the state of the element.
        state.onExpandScroll && removeEvent(getExpandElement(element), "scroll", state.onExpandScroll);
        state.onShrinkScroll && removeEvent(getShrinkElement(element), "scroll", state.onShrinkScroll);
        state.onAnimationStart && removeEvent(state.container, "animationstart", state.onAnimationStart);

        state.container && element.removeChild(state.container);
    }

    return {
        makeDetectable: makeDetectable,
        addListener: addListener,
        uninstall: uninstall
    };
};

/***/ }),
/* 326 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (options) {
    var getState = options.stateHandler.getState;

    /**
     * Tells if the element has been made detectable and ready to be listened for resize events.
     * @public
     * @param {element} The element to check.
     * @returns {boolean} True or false depending on if the element is detectable or not.
     */
    function isDetectable(element) {
        var state = getState(element);
        return state && !!state.isDetectable;
    }

    /**
     * Marks the element that it has been made detectable and ready to be listened for resize events.
     * @public
     * @param {element} The element to mark.
     */
    function markAsDetectable(element) {
        getState(element).isDetectable = true;
    }

    /**
     * Tells if the element is busy or not.
     * @public
     * @param {element} The element to check.
     * @returns {boolean} True or false depending on if the element is busy or not.
     */
    function isBusy(element) {
        return !!getState(element).busy;
    }

    /**
     * Marks the object is busy and should not be made detectable.
     * @public
     * @param {element} element The element to mark.
     * @param {boolean} busy If the element is busy or not.
     */
    function markBusy(element, busy) {
        getState(element).busy = !!busy;
    }

    return {
        isDetectable: isDetectable,
        markAsDetectable: markAsDetectable,
        isBusy: isBusy,
        markBusy: markBusy
    };
};

/***/ }),
/* 327 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function () {
    var idCount = 1;

    /**
     * Generates a new unique id in the context.
     * @public
     * @returns {number} A unique id in the context.
     */
    function generate() {
        return idCount++;
    }

    return {
        generate: generate
    };
};

/***/ }),
/* 328 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (options) {
    var idGenerator = options.idGenerator;
    var getState = options.stateHandler.getState;

    /**
     * Gets the resize detector id of the element.
     * @public
     * @param {element} element The target element to get the id of.
     * @returns {string|number|null} The id of the element. Null if it has no id.
     */
    function getId(element) {
        var state = getState(element);

        if (state && state.id !== undefined) {
            return state.id;
        }

        return null;
    }

    /**
     * Sets the resize detector id of the element. Requires the element to have a resize detector state initialized.
     * @public
     * @param {element} element The target element to set the id of.
     * @returns {string|number|null} The id of the element.
     */
    function setId(element) {
        var state = getState(element);

        if (!state) {
            throw new Error("setId required the element to have a resize detection state.");
        }

        var id = idGenerator.generate();

        state.id = id;

        return id;
    }

    return {
        get: getId,
        set: setId
    };
};

/***/ }),
/* 329 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (idHandler) {
    var eventListeners = {};

    /**
     * Gets all listeners for the given element.
     * @public
     * @param {element} element The element to get all listeners for.
     * @returns All listeners for the given element.
     */
    function getListeners(element) {
        var id = idHandler.get(element);

        if (id === undefined) {
            return [];
        }

        return eventListeners[id] || [];
    }

    /**
     * Stores the given listener for the given element. Will not actually add the listener to the element.
     * @public
     * @param {element} element The element that should have the listener added.
     * @param {function} listener The callback that the element has added.
     */
    function addListener(element, listener) {
        var id = idHandler.get(element);

        if (!eventListeners[id]) {
            eventListeners[id] = [];
        }

        eventListeners[id].push(listener);
    }

    function removeListener(element, listener) {
        var listeners = getListeners(element);
        for (var i = 0, len = listeners.length; i < len; ++i) {
            if (listeners[i] === listener) {
                listeners.splice(i, 1);
                break;
            }
        }
    }

    function removeAllListeners(element) {
        var listeners = getListeners(element);
        if (!listeners) {
            return;
        }
        listeners.length = 0;
    }

    return {
        get: getListeners,
        add: addListener,
        removeListener: removeListener,
        removeAllListeners: removeAllListeners
    };
};

/***/ }),
/* 330 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/* global console: false */

/**
 * Reporter that handles the reporting of logs, warnings and errors.
 * @public
 * @param {boolean} quiet Tells if the reporter should be quiet or not.
 */

module.exports = function (quiet) {
    function noop() {
        //Does nothing.
    }

    var reporter = {
        log: noop,
        warn: noop,
        error: noop
    };

    if (!quiet && window.console) {
        var attachFunction = function attachFunction(reporter, name) {
            //The proxy is needed to be able to call the method with the console context,
            //since we cannot use bind.
            reporter[name] = function reporterProxy() {
                var f = console[name];
                if (f.apply) {
                    //IE9 does not support console.log.apply :)
                    f.apply(console, arguments);
                } else {
                    for (var i = 0; i < arguments.length; i++) {
                        f(arguments[i]);
                    }
                }
            };
        };

        attachFunction(reporter, "log");
        attachFunction(reporter, "warn");
        attachFunction(reporter, "error");
    }

    return reporter;
};

/***/ }),
/* 331 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var prop = "_erd";

function initState(element) {
    element[prop] = {};
    return getState(element);
}

function getState(element) {
    return element[prop];
}

function cleanState(element) {
    delete element[prop];
}

module.exports = {
    initState: initState,
    getState: getState,
    cleanState: cleanState
};

/***/ }),
/* 332 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function (global, factory) {
  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, module], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {
    factory(exports, module);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, mod);
    global.fetchJsonp = mod.exports;
  }
})(undefined, function (exports, module) {
  'use strict';

  var defaultOptions = {
    timeout: 5000,
    jsonpCallback: 'callback',
    jsonpCallbackFunction: null
  };

  function generateCallbackFunction() {
    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);
  }

  // Known issue: Will throw 'Uncaught ReferenceError: callback_*** is not defined'
  // error if request timeout
  function clearFunction(functionName) {
    // IE8 throws an exception when you try to delete a property on window
    // http://stackoverflow.com/a/1824228/751089
    try {
      delete window[functionName];
    } catch (e) {
      window[functionName] = undefined;
    }
  }

  function removeScript(scriptId) {
    var script = document.getElementById(scriptId);
    document.getElementsByTagName('head')[0].removeChild(script);
  }

  function fetchJsonp(_url) {
    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    // to avoid param reassign
    var url = _url;
    var timeout = options.timeout || defaultOptions.timeout;
    var jsonpCallback = options.jsonpCallback || defaultOptions.jsonpCallback;

    var timeoutId = undefined;

    return new _promise2.default(function (resolve, reject) {
      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();
      var scriptId = jsonpCallback + '_' + callbackFunction;

      window[callbackFunction] = function (response) {
        resolve({
          ok: true,
          // keep consistent with fetch API
          json: function json() {
            return _promise2.default.resolve(response);
          }
        });

        if (timeoutId) clearTimeout(timeoutId);

        removeScript(scriptId);

        clearFunction(callbackFunction);
      };

      // Check if the user set their own params, and if not add a ? to start a list of params
      url += url.indexOf('?') === -1 ? '?' : '&';

      var jsonpScript = document.createElement('script');
      jsonpScript.setAttribute('src', '' + url + jsonpCallback + '=' + callbackFunction);
      jsonpScript.id = scriptId;
      document.getElementsByTagName('head')[0].appendChild(jsonpScript);

      timeoutId = setTimeout(function () {
        reject(new Error('JSONP request to ' + _url + ' timed out'));

        clearFunction(callbackFunction);
        removeScript(scriptId);
      }, timeout);
    });
  }

  // export as global function
  /*
  let local;
  if (typeof global !== 'undefined') {
    local = global;
  } else if (typeof self !== 'undefined') {
    local = self;
  } else {
    try {
      local = Function('return this')();
    } catch (e) {
      throw new Error('polyfill failed because global object is unavailable in this environment');
    }
  }
  local.fetchJsonp = fetchJsonp;
  */

  module.exports = fetchJsonp;
});

/***/ }),
/* 333 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */


var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _getOwnPropertySymbols = __webpack_require__(80);

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var REACT_STATICS = {
    childContextTypes: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    mixins: true,
    propTypes: true,
    type: true
};

var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    arguments: true,
    arity: true
};

var isGetOwnPropertySymbolsAvailable = typeof _getOwnPropertySymbols2.default === 'function';

module.exports = function hoistNonReactStatics(targetComponent, sourceComponent, customStatics) {
    if (typeof sourceComponent !== 'string') {
        // don't hoist over string (html) components
        var keys = (0, _getOwnPropertyNames2.default)(sourceComponent);

        /* istanbul ignore else */
        if (isGetOwnPropertySymbolsAvailable) {
            keys = keys.concat((0, _getOwnPropertySymbols2.default)(sourceComponent));
        }

        for (var i = 0; i < keys.length; ++i) {
            if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]] && (!customStatics || !customStatics[keys[i]])) {
                try {
                    targetComponent[keys[i]] = sourceComponent[keys[i]];
                } catch (error) {}
            }
        }
    }

    return targetComponent;
};

/***/ }),
/* 334 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault(_iterator);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault(_symbol);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*!
 * inferno-compat v1.2.2
 * (c) 2017 Dominic Gannaway
 * Released under the MIT License.
 */
(function (global, factory) {
  ( false ? 'undefined' : (0, _typeof3.default)(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports, __webpack_require__(183), __webpack_require__(51)) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports, __webpack_require__(183), __webpack_require__(51)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : factory(global.Inferno = global.Inferno || {}, global.Inferno.Component, global.Inferno);
})(undefined, function (exports, Component, inferno) {
  'use strict';

  Component = 'default' in Component ? Component['default'] : Component;

  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

  function createCommonjsModule(fn, module) {
    return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var index$1 = createCommonjsModule(function (module, exports) {
    (function (global, factory) {
      if (false) {
        undefined('PropTypes', ['exports', 'module'], factory);
      } else {
        factory(exports, module);
      }
    })(commonjsGlobal, function (exports, module) {

      'use strict';

      var REACT_ELEMENT_TYPE = typeof _symbol2.default === 'function' && _symbol2.default['for'] && _symbol2.default['for']('react.element') || 0xeac7;

      var ReactElement = {};

      ReactElement.isValidElement = function (object) {
        return (typeof object === 'undefined' ? 'undefined' : (0, _typeof3.default)(object)) === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
      };

      var ReactPropTypeLocationNames = {
        prop: 'prop',
        context: 'context',
        childContext: 'child context'
      };

      var emptyFunction = {
        thatReturns: function thatReturns(what) {
          return function () {
            return what;
          };
        }
      };

      var ITERATOR_SYMBOL = typeof _symbol2.default === 'function' && _iterator2.default;
      var FAUX_ITERATOR_SYMBOL = '@@iterator';
      function getIteratorFn(maybeIterable) {
        var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
        if (typeof iteratorFn === 'function') {
          return iteratorFn;
        }
      }

      var ANONYMOUS = '<<anonymous>>';

      var ReactPropTypes = {
        array: createPrimitiveTypeChecker('array'),
        bool: createPrimitiveTypeChecker('boolean'),
        func: createPrimitiveTypeChecker('function'),
        number: createPrimitiveTypeChecker('number'),
        object: createPrimitiveTypeChecker('object'),
        string: createPrimitiveTypeChecker('string'),

        any: createAnyTypeChecker(),
        arrayOf: createArrayOfTypeChecker,
        element: createElementTypeChecker(),
        instanceOf: createInstanceTypeChecker,
        node: createNodeChecker(),
        objectOf: createObjectOfTypeChecker,
        oneOf: createEnumTypeChecker,
        oneOfType: createUnionTypeChecker,
        shape: createShapeTypeChecker
      };

      function createChainableTypeChecker(validate) {
        function checkType(isRequired, props, propName, componentName, location, propFullName) {
          componentName = componentName || ANONYMOUS;
          propFullName = propFullName || propName;
          if (props[propName] == null) {
            var locationName = ReactPropTypeLocationNames[location];
            if (isRequired) {
              return new Error('Required ' + locationName + ' `' + propFullName + '` was not specified in ' + ('`' + componentName + '`.'));
            }
            return null;
          } else {
            return validate(props, propName, componentName, location, propFullName);
          }
        }

        var chainedCheckType = checkType.bind(null, false);
        chainedCheckType.isRequired = checkType.bind(null, true);

        return chainedCheckType;
      }

      function createPrimitiveTypeChecker(expectedType) {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== expectedType) {
            var locationName = ReactPropTypeLocationNames[location];

            var preciseType = getPreciseType(propValue);

            return new Error('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function createAnyTypeChecker() {
        return createChainableTypeChecker(emptyFunction.thatReturns(null));
      }

      function createArrayOfTypeChecker(typeChecker) {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          if (!Array.isArray(propValue)) {
            var locationName = ReactPropTypeLocationNames[location];
            var propType = getPropType(propValue);
            return new Error('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
          }
          for (var i = 0; i < propValue.length; i++) {
            var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']');
            if (error instanceof Error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function createElementTypeChecker() {
        function validate(props, propName, componentName, location, propFullName) {
          if (!ReactElement.isValidElement(props[propName])) {
            var locationName = ReactPropTypeLocationNames[location];
            return new Error('Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a single ReactElement.'));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function createInstanceTypeChecker(expectedClass) {
        function validate(props, propName, componentName, location, propFullName) {
          if (!(props[propName] instanceof expectedClass)) {
            var locationName = ReactPropTypeLocationNames[location];
            var expectedClassName = expectedClass.name || ANONYMOUS;
            var actualClassName = getClassName(props[propName]);
            return new Error('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function createEnumTypeChecker(expectedValues) {
        if (!Array.isArray(expectedValues)) {
          return createChainableTypeChecker(function () {
            return new Error('Invalid argument supplied to oneOf, expected an instance of array.');
          });
        }

        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          for (var i = 0; i < expectedValues.length; i++) {
            if (propValue === expectedValues[i]) {
              return null;
            }
          }

          var locationName = ReactPropTypeLocationNames[location];
          var valuesString = (0, _stringify2.default)(expectedValues);
          return new Error('Invalid ' + locationName + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
        }
        return createChainableTypeChecker(validate);
      }

      function createObjectOfTypeChecker(typeChecker) {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== 'object') {
            var locationName = ReactPropTypeLocationNames[location];
            return new Error('Invalid ' + locationName + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
          }
          for (var key in propValue) {
            if (propValue.hasOwnProperty(key)) {
              var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key);
              if (error instanceof Error) {
                return error;
              }
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function createUnionTypeChecker(arrayOfTypeCheckers) {
        if (!Array.isArray(arrayOfTypeCheckers)) {
          return createChainableTypeChecker(function () {
            return new Error('Invalid argument supplied to oneOfType, expected an instance of array.');
          });
        }

        function validate(props, propName, componentName, location, propFullName) {
          for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
            var checker = arrayOfTypeCheckers[i];
            if (checker(props, propName, componentName, location, propFullName) == null) {
              return null;
            }
          }

          var locationName = ReactPropTypeLocationNames[location];
          return new Error('Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
        }
        return createChainableTypeChecker(validate);
      }

      function createNodeChecker() {
        function validate(props, propName, componentName, location, propFullName) {
          if (!isNode(props[propName])) {
            var locationName = ReactPropTypeLocationNames[location];
            return new Error('Invalid ' + locationName + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function createShapeTypeChecker(shapeTypes) {
        function validate(props, propName, componentName, location, propFullName) {
          var propValue = props[propName];
          var propType = getPropType(propValue);
          if (propType !== 'object') {
            var locationName = ReactPropTypeLocationNames[location];
            return new Error('Invalid ' + locationName + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
          }
          for (var key in shapeTypes) {
            var checker = shapeTypes[key];
            if (!checker) {
              continue;
            }
            var error = checker(propValue, key, componentName, location, propFullName + '.' + key);
            if (error) {
              return error;
            }
          }
          return null;
        }
        return createChainableTypeChecker(validate);
      }

      function isNode(propValue) {
        switch (typeof propValue === 'undefined' ? 'undefined' : (0, _typeof3.default)(propValue)) {
          case 'number':
          case 'string':
          case 'undefined':
            return true;
          case 'boolean':
            return !propValue;
          case 'object':
            if (Array.isArray(propValue)) {
              return propValue.every(isNode);
            }
            if (propValue === null || ReactElement.isValidElement(propValue)) {
              return true;
            }

            var iteratorFn = getIteratorFn(propValue);
            if (iteratorFn) {
              var iterator = iteratorFn.call(propValue);
              var step;
              if (iteratorFn !== propValue.entries) {
                while (!(step = iterator.next()).done) {
                  if (!isNode(step.value)) {
                    return false;
                  }
                }
              } else {
                while (!(step = iterator.next()).done) {
                  var entry = step.value;
                  if (entry) {
                    if (!isNode(entry[1])) {
                      return false;
                    }
                  }
                }
              }
            } else {
              return false;
            }

            return true;
          default:
            return false;
        }
      }

      function getPropType(propValue) {
        var propType = typeof propValue === 'undefined' ? 'undefined' : (0, _typeof3.default)(propValue);
        if (Array.isArray(propValue)) {
          return 'array';
        }
        if (propValue instanceof RegExp) {
          return 'object';
        }
        return propType;
      }

      function getPreciseType(propValue) {
        var propType = getPropType(propValue);
        if (propType === 'object') {
          if (propValue instanceof Date) {
            return 'date';
          } else if (propValue instanceof RegExp) {
            return 'regexp';
          }
        }
        return propType;
      }

      function getClassName(propValue) {
        if (!propValue.constructor || !propValue.constructor.name) {
          return ANONYMOUS;
        }
        return propValue.constructor.name;
      }

      module.exports = ReactPropTypes;
    });
  });

  // this is MUCH faster than .constructor === Array and instanceof Array
  // in Node 7 and the later versions of V8, slower in older versions though

  function isStatefulComponent(o) {
    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);
  }

  function isNullOrUndef$1(obj) {
    return isUndefined(obj) || isNull(obj);
  }
  function isInvalid(obj) {
    return isNull(obj) || obj === false || isTrue(obj) || isUndefined(obj);
  }
  function isFunction(obj) {
    return typeof obj === 'function';
  }
  function isAttrAnEvent(attr) {
    return attr[0] === 'o' && attr[1] === 'n' && attr.length > 3;
  }
  function isString(obj) {
    return typeof obj === 'string';
  }

  function isNull(obj) {
    return obj === null;
  }
  function isTrue(obj) {
    return obj === true;
  }
  function isUndefined(obj) {
    return obj === undefined;
  }
  function isObject(o) {
    return (typeof o === 'undefined' ? 'undefined' : (0, _typeof3.default)(o)) === 'object';
  }

  function isValidElement(obj) {
    var isNotANullObject = isObject(obj) && isNull(obj) === false;
    if (isNotANullObject === false) {
      return false;
    }
    var flags = obj.flags;
    return !!(flags & (28 /* Component */ | 3970 /* Element */));
  }

  // don't autobind these methods since they already have guaranteed context.
  var AUTOBIND_BLACKLIST = {
    constructor: 1,
    render: 1,
    shouldComponentUpdate: 1,
    componentWillReceiveProps: 1,
    componentWillUpdate: 1,
    componentDidUpdate: 1,
    componentWillMount: 1,
    componentDidMount: 1,
    componentWillUnmount: 1,
    componentDidUnmount: 1
  };
  function extend(base, props, all) {
    for (var key in props) {
      if (all === true || !isNullOrUndef$1(props[key])) {
        base[key] = props[key];
      }
    }
    return base;
  }
  function bindAll(ctx) {
    for (var i in ctx) {
      var v = ctx[i];
      if (typeof v === 'function' && !v.__bound && !AUTOBIND_BLACKLIST[i]) {
        (ctx[i] = v.bind(ctx)).__bound = true;
      }
    }
  }
  function collateMixins(mixins, keyed) {
    if (keyed === void 0) keyed = {};

    for (var i = 0; i < mixins.length; i++) {
      var mixin = mixins[i];
      // Surprise: Mixins can have mixins
      if (mixin.mixins) {
        // Recursively collate sub-mixins
        collateMixins(mixin.mixins, keyed);
      }
      for (var key in mixin) {
        if (mixin.hasOwnProperty(key) && typeof mixin[key] === 'function') {
          (keyed[key] || (keyed[key] = [])).push(mixin[key]);
        }
      }
    }
    return keyed;
  }
  function applyMixin(key, inst, mixin) {
    var original = inst[key];
    inst[key] = function () {
      var arguments$1 = arguments;

      var ret;
      for (var i = 0; i < mixin.length; i++) {
        var method = mixin[i];
        var _ret = method.apply(inst, arguments$1);
        if (!isUndefined(_ret)) {
          ret = _ret;
        }
      }
      if (original) {
        var _ret$1 = original.call(inst);
        if (!isUndefined(_ret$1)) {
          ret = _ret$1;
        }
      }
      return ret;
    };
  }
  function applyMixins(inst, mixins) {
    for (var key in mixins) {
      if (mixins.hasOwnProperty(key)) {
        var mixin = mixins[key];
        if (isFunction(mixin[0])) {
          applyMixin(key, inst, mixin);
        } else {
          inst[key] = mixin;
        }
      }
    }
  }
  function createClass(obj) {
    var Cl = function (Component$$1) {
      function Cl(props, context) {
        Component$$1.call(this, props, context);
        this.isMounted = function () {
          return !this._unmounted;
        };
        extend(this, obj);
        if (Cl.mixins) {
          applyMixins(this, Cl.mixins);
        }
        bindAll(this);
        if (obj.getInitialState) {
          this.state = obj.getInitialState.call(this);
        }
      }

      if (Component$$1) Cl.__proto__ = Component$$1;
      Cl.prototype = (0, _create2.default)(Component$$1 && Component$$1.prototype);
      Cl.prototype.constructor = Cl;

      return Cl;
    }(Component);
    Cl.displayName = obj.displayName || 'Component';
    Cl.propTypes = obj.propTypes;
    Cl.defaultProps = obj.getDefaultProps ? obj.getDefaultProps() : undefined;
    Cl.mixins = obj.mixins && collateMixins(obj.mixins);
    if (obj.statics) {
      extend(Cl, obj.statics);
    }
    return Cl;
  }

  var componentHooks = {
    onComponentWillMount: true,
    onComponentDidMount: true,
    onComponentWillUnmount: true,
    onComponentShouldUpdate: true,
    onComponentWillUpdate: true,
    onComponentDidUpdate: true
  };
  function createElement$1(name, props) {
    var _children = [],
        len = arguments.length - 2;
    while (len-- > 0) {
      _children[len] = arguments[len + 2];
    }if (isInvalid(name) || isObject(name)) {
      throw new Error('Inferno Error: createElement() name parameter cannot be undefined, null, false or true, It must be a string, class or function.');
    }
    var children = _children;
    var ref = null;
    var key = null;
    var events = null;
    var flags = 0;
    if (_children) {
      if (_children.length === 1) {
        children = _children[0];
      } else if (_children.length === 0) {
        children = undefined;
      }
    }
    if (isString(name)) {
      flags = 2 /* HtmlElement */;
      switch (name) {
        case 'svg':
          flags = 128 /* SvgElement */;
          break;
        case 'input':
          flags = 512 /* InputElement */;
          break;
        case 'textarea':
          flags = 1024 /* TextareaElement */;
          break;
        case 'select':
          flags = 2048 /* SelectElement */;
          break;
        default:
      }
      /*
       This fixes de-optimisation:
       uses object Keys for looping props to avoid deleting props of looped object
       */
      if (!isNullOrUndef$1(props)) {
        var propKeys = (0, _keys2.default)(props);
        for (var i = 0; i < propKeys.length; i++) {
          var propKey = propKeys[i];
          if (propKey === 'key') {
            key = props.key;
            delete props.key;
          } else if (propKey === 'children' && isUndefined(children)) {
            children = props.children; // always favour children args, default to props
          } else if (propKey === 'ref') {
            ref = props.ref;
          } else if (isAttrAnEvent(propKey)) {
            if (!events) {
              events = {};
            }
            events[propKey] = props[propKey];
            delete props[propKey];
          }
        }
      }
    } else {
      flags = isStatefulComponent(name) ? 4 /* ComponentClass */ : 8 /* ComponentFunction */;
      if (!isUndefined(children)) {
        if (!props) {
          props = {};
        }
        props.children = children;
        children = null;
      }
      if (!isNullOrUndef$1(props)) {
        /*
         This fixes de-optimisation:
         uses object Keys for looping props to avoid deleting props of looped object
         */
        var propKeys$1 = (0, _keys2.default)(props);
        for (var i$1 = 0; i$1 < propKeys$1.length; i$1++) {
          var propKey$1 = propKeys$1[i$1];
          if (componentHooks[propKey$1]) {
            if (!ref) {
              ref = {};
            }
            ref[propKey$1] = props[propKey$1];
          } else if (propKey$1 === 'key') {
            key = props.key;
            delete props.key;
          }
        }
      }
    }
    return inferno.createVNode(flags, name, props, children, events, key, ref);
  }

  inferno.options.findDOMNodeEnabled = true;

  function unmountComponentAtNode(container) {
    inferno.render(null, container);
    return true;
  }

  function isNullOrUndef(children) {
    return children === null || children === undefined;
  }

  var ARR = [];

  var Children = {
    map: function map(children, fn, ctx) {
      if (isNullOrUndef(children)) {
        return children;
      }
      children = Children.toArray(children);
      if (ctx && ctx !== children) {
        fn = fn.bind(ctx);
      }
      return children.map(fn);
    },
    forEach: function forEach(children, fn, ctx) {
      if (isNullOrUndef(children)) {
        return children;
      }
      children = Children.toArray(children);
      if (ctx && ctx !== children) {
        fn = fn.bind(ctx);
      }
      children.forEach(fn);
    },
    count: function count(children) {
      children = Children.toArray(children);
      return children.length;
    },
    only: function only(children) {
      children = Children.toArray(children);
      if (children.length !== 1) {
        throw new Error('Children.only() expects only one child.');
      }
      return children[0];
    },
    toArray: function toArray(children) {
      if (isNullOrUndef(children)) {
        return [];
      }
      return Array.isArray && Array.isArray(children) ? children : ARR.concat(children);
    }
  };

  var currentComponent = null;

  Component.prototype.isReactComponent = {};
  inferno.options.beforeRender = function (component) {
    currentComponent = component;
  };
  inferno.options.afterRender = function () {
    currentComponent = null;
  };

  var version = '15.4.1';

  var xlinkAttrs = {
    xlinkActuate: 'xlink:actuate',
    xlinkArcrole: 'xlink:arcrole',
    xlinkHref: 'xlink:href',
    xlinkRole: 'xlink:role',
    xlinkShow: 'xlink:show',
    xlinkTitle: 'xlink:title',
    xlinkType: 'xlink:type'
  };

  function normalizeProps(name, props) {
    if ((name === 'input' || name === 'textarea') && props.onChange) {
      var type = props.type;
      var eventName;

      if (type === 'checkbox') {
        eventName = 'onclick';
      } else if (type === 'file') {
        eventName = 'onchange';
      } else {
        eventName = 'oninput';
      }
      if (!props[eventName]) {
        props[eventName] = props.onChange;
        delete props.onChange;
      }
    }
    for (var prop in props) {
      if (prop === 'onDoubleClick') {
        props.onDblClick = props[prop];
        delete props[prop];
      }
      if (xlinkAttrs[prop]) {
        props[xlinkAttrs[prop]] = props[prop];
        delete props[prop];
      }
    }
  }

  // we need to add persist() to Event (as React has it for synthetic events)
  // this is a hack and we really shouldn't be modifying a global object this way,
  // but there isn't a performant way of doing this apart from trying to proxy
  // every prop event that starts with "on", i.e. onClick or onKeyPress
  // but in reality devs use onSomething for many things, not only for
  // input events
  if (typeof Event !== 'undefined' && !Event.prototype.persist) {
    Event.prototype.persist = function () {};
  }

  var injectStringRefs = function injectStringRefs(originalFunction) {
    return function (name, _props) {
      var children = [],
          len = arguments.length - 2;
      while (len-- > 0) {
        children[len] = arguments[len + 2];
      }var props = _props || {};
      var ref = props.ref;

      if (typeof ref === 'string') {
        props.ref = function (val) {
          if (this && this.refs) {
            this.refs[ref] = val;
          }
        }.bind(currentComponent || null);
      }
      if (typeof name === 'string') {
        normalizeProps(name, props);
      }
      return originalFunction.apply(void 0, [name, props].concat(children));
    };
  };

  var createElement = injectStringRefs(createElement$1);
  var cloneElement = injectStringRefs(inferno.cloneVNode);

  var oldCreateVNode = inferno.options.createVNode;

  inferno.options.createVNode = function (vNode) {
    var children = vNode.children;
    var props = vNode.props;

    if (isNullOrUndef(vNode.props)) {
      props = vNode.props = {};
    }
    if (!isNullOrUndef(children) && isNullOrUndef(props.children)) {
      props.children = children;
    }
    if (oldCreateVNode) {
      oldCreateVNode(vNode);
    }
  };

  // Credit: preact-compat - https://github.com/developit/preact-compat :)
  function shallowDiffers(a, b) {
    for (var i in a) {
      if (!(i in b)) {
        return true;
      }
    }
    for (var i$1 in b) {
      if (a[i$1] !== b[i$1]) {
        return true;
      }
    }
    return false;
  }

  function PureComponent(props, context) {
    Component.call(this, props, context);
  }

  PureComponent.prototype = new Component({}, {});
  PureComponent.prototype.shouldComponentUpdate = function (props, state) {
    return shallowDiffers(this.props, props) || shallowDiffers(this.state, state);
  };

  var WrapperComponent = function (Component$$1) {
    function WrapperComponent() {
      Component$$1.apply(this, arguments);
    }

    if (Component$$1) WrapperComponent.__proto__ = Component$$1;
    WrapperComponent.prototype = (0, _create2.default)(Component$$1 && Component$$1.prototype);
    WrapperComponent.prototype.constructor = WrapperComponent;

    WrapperComponent.prototype.getChildContext = function getChildContext() {
      return this.props.context;
    };
    WrapperComponent.prototype.render = function render$$1(props) {
      return props.children;
    };

    return WrapperComponent;
  }(Component);

  function unstable_renderSubtreeIntoContainer(parentComponent, vNode, container, callback) {
    var wrapperVNode = inferno.createVNode(4, WrapperComponent, { context: parentComponent.context, children: vNode });
    var component = inferno.render(wrapperVNode, container);

    if (callback) {
      // callback gets the component as context, no other argument.
      callback.call(component);
    }
    return component;
  }

  // Credit: preact-compat - https://github.com/developit/preact-compat
  var ELEMENTS = 'a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan'.split(' ');

  function createFactory(type) {
    return createElement.bind(null, type);
  }

  var DOM = {};
  for (var i = ELEMENTS.length; i--;) {
    DOM[ELEMENTS[i]] = createFactory(ELEMENTS[i]);
  }

  var index = {
    createVNode: inferno.createVNode,
    render: inferno.render,
    isValidElement: isValidElement,
    createElement: createElement,
    Component: Component,
    PureComponent: PureComponent,
    unmountComponentAtNode: unmountComponentAtNode,
    cloneElement: cloneElement,
    PropTypes: index$1,
    createClass: createClass,
    findDOMNode: inferno.findDOMNode,
    Children: Children,
    cloneVNode: inferno.cloneVNode,
    NO_OP: inferno.NO_OP,
    version: version,
    unstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,
    createFactory: createFactory,
    DOM: DOM
  };

  exports.createVNode = inferno.createVNode;
  exports.render = inferno.render;
  exports.isValidElement = isValidElement;
  exports.createElement = createElement;
  exports.Component = Component;
  exports.PureComponent = PureComponent;
  exports.unmountComponentAtNode = unmountComponentAtNode;
  exports.cloneElement = cloneElement;
  exports.PropTypes = index$1;
  exports.createClass = createClass;
  exports.findDOMNode = inferno.findDOMNode;
  exports.Children = Children;
  exports.cloneVNode = inferno.cloneVNode;
  exports.NO_OP = inferno.NO_OP;
  exports.version = version;
  exports.unstable_renderSubtreeIntoContainer = unstable_renderSubtreeIntoContainer;
  exports.createFactory = createFactory;
  exports.DOM = DOM;
  exports['default'] = index;

  Object.defineProperty(exports, '__esModule', { value: true });
});
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 335 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault(_promise);

var _map = __webpack_require__(149);

var _map2 = _interopRequireDefault(_map);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*!
 * inferno-component v1.2.2
 * (c) 2017 Dominic Gannaway
 * Released under the MIT License.
 */
(function (global, factory) {
    ( false ? 'undefined' : (0, _typeof3.default)(exports)) === 'object' && typeof module !== 'undefined' ? module.exports = factory(__webpack_require__(51)) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(51)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : (global.Inferno = global.Inferno || {}, global.Inferno.Component = factory(global.Inferno));
})(undefined, function (inferno) {
    'use strict';

    var ERROR_MSG = 'a runtime error occured! Use Inferno in development environment to find the error.';
    var isBrowser = typeof window !== 'undefined' && window.document;

    // this is MUCH faster than .constructor === Array and instanceof Array
    // in Node 7 and the later versions of V8, slower in older versions though
    var isArray = Array.isArray;

    function isStringOrNumber(obj) {
        var type = typeof obj === 'undefined' ? 'undefined' : (0, _typeof3.default)(obj);
        return type === 'string' || type === 'number';
    }
    function isNullOrUndef(obj) {
        return isUndefined(obj) || isNull(obj);
    }
    function isInvalid(obj) {
        return isNull(obj) || obj === false || isTrue(obj) || isUndefined(obj);
    }
    function isFunction(obj) {
        return typeof obj === 'function';
    }

    function isNull(obj) {
        return obj === null;
    }
    function isTrue(obj) {
        return obj === true;
    }
    function isUndefined(obj) {
        return obj === undefined;
    }

    function throwError(message) {
        if (!message) {
            message = ERROR_MSG;
        }
        throw new Error("Inferno Error: " + message);
    }

    var Lifecycle = function Lifecycle() {
        this.listeners = [];
        this.fastUnmount = true;
    };
    Lifecycle.prototype.addListener = function addListener(callback) {
        this.listeners.push(callback);
    };
    Lifecycle.prototype.trigger = function trigger() {
        var this$1 = this;

        for (var i = 0; i < this.listeners.length; i++) {
            this$1.listeners[i]();
        }
    };

    var noOp = ERROR_MSG;
    if (false) {
        noOp = 'Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.';
    }
    var componentCallbackQueue = new _map2.default();
    // when a components root VNode is also a component, we can run into issues
    // this will recursively look for vNode.parentNode if the VNode is a component
    function updateParentComponentVNodes(vNode, dom) {
        if (vNode.flags & 28 /* Component */) {
                var parentVNode = vNode.parentVNode;
                if (parentVNode) {
                    parentVNode.dom = dom;
                    updateParentComponentVNodes(parentVNode, dom);
                }
            }
    }
    // this is in shapes too, but we don't want to import from shapes as it will pull in a duplicate of createVNode
    function createVoidVNode() {
        return inferno.createVNode(4096 /* Void */);
    }
    function createTextVNode(text) {
        return inferno.createVNode(1 /* Text */, null, null, text);
    }
    function addToQueue(component, force, callback) {
        // TODO this function needs to be revised and improved on
        var queue = componentCallbackQueue.get(component);
        if (!queue) {
            queue = [];
            componentCallbackQueue.set(component, queue);
            _promise2.default.resolve().then(function () {
                componentCallbackQueue.delete(component);
                applyState(component, force, function () {
                    for (var i = 0; i < queue.length; i++) {
                        queue[i]();
                    }
                });
            });
        }
        if (callback) {
            queue.push(callback);
        }
    }
    function queueStateChanges(component, newState, callback, sync) {
        if (isFunction(newState)) {
            newState = newState(component.state, component.props, component.context);
        }
        for (var stateKey in newState) {
            component._pendingState[stateKey] = newState[stateKey];
        }
        if (!component._pendingSetState && isBrowser) {
            if (sync || component._blockRender) {
                component._pendingSetState = true;
                applyState(component, false, callback);
            } else {
                addToQueue(component, false, callback);
            }
        } else {
            component.state = (0, _assign2.default)({}, component.state, component._pendingState);
            component._pendingState = {};
        }
    }
    function applyState(component, force, callback) {
        if ((!component._deferSetState || force) && !component._blockRender && !component._unmounted) {
            component._pendingSetState = false;
            var pendingState = component._pendingState;
            var prevState = component.state;
            var nextState = (0, _assign2.default)({}, prevState, pendingState);
            var props = component.props;
            var context = component.context;
            component._pendingState = {};
            var nextInput = component._updateComponent(prevState, nextState, props, props, context, force, true);
            var didUpdate = true;
            if (isInvalid(nextInput)) {
                nextInput = createVoidVNode();
            } else if (nextInput === inferno.NO_OP) {
                nextInput = component._lastInput;
                didUpdate = false;
            } else if (isStringOrNumber(nextInput)) {
                nextInput = createTextVNode(nextInput);
            } else if (isArray(nextInput)) {
                if (false) {
                    throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');
                }
                throwError();
            }
            var lastInput = component._lastInput;
            var vNode = component._vNode;
            var parentDom = lastInput.dom && lastInput.dom.parentNode || (lastInput.dom = vNode.dom);
            component._lastInput = nextInput;
            if (didUpdate) {
                var subLifecycle = component._lifecycle;
                if (!subLifecycle) {
                    subLifecycle = new Lifecycle();
                } else {
                    subLifecycle.listeners = [];
                }
                component._lifecycle = subLifecycle;
                var childContext = component.getChildContext();
                if (!isNullOrUndef(childContext)) {
                    childContext = (0, _assign2.default)({}, context, component._childContext, childContext);
                } else {
                    childContext = (0, _assign2.default)({}, context, component._childContext);
                }
                component._patch(lastInput, nextInput, parentDom, subLifecycle, childContext, component._isSVG, false);
                subLifecycle.trigger();
                component.componentDidUpdate(props, prevState);
                inferno.options.afterUpdate && inferno.options.afterUpdate(vNode);
            }
            var dom = vNode.dom = nextInput.dom;
            var componentToDOMNodeMap = component._componentToDOMNodeMap;
            componentToDOMNodeMap && componentToDOMNodeMap.set(component, nextInput.dom);
            updateParentComponentVNodes(vNode, dom);
            if (!isNullOrUndef(callback)) {
                callback();
            }
        } else if (!isNullOrUndef(callback)) {
            callback();
        }
    }
    var Component$1 = function Component(props, context) {
        this.state = {};
        this.refs = {};
        this._blockRender = false;
        this._ignoreSetState = false;
        this._blockSetState = false;
        this._deferSetState = false;
        this._pendingSetState = false;
        this._pendingState = {};
        this._lastInput = null;
        this._vNode = null;
        this._unmounted = true;
        this._lifecycle = null;
        this._childContext = null;
        this._patch = null;
        this._isSVG = false;
        this._componentToDOMNodeMap = null;
        /** @type {object} */
        this.props = props || inferno.EMPTY_OBJ;
        /** @type {object} */
        this.context = context || {};
    };
    Component$1.prototype.render = function render(nextProps, nextState, nextContext) {};
    Component$1.prototype.forceUpdate = function forceUpdate(callback) {
        if (this._unmounted) {
            return;
        }
        isBrowser && applyState(this, true, callback);
    };
    Component$1.prototype.setState = function setState(newState, callback) {
        if (this._unmounted) {
            return;
        }
        if (!this._blockSetState) {
            if (!this._ignoreSetState) {
                queueStateChanges(this, newState, callback, false);
            }
        } else {
            if (false) {
                throwError('cannot update state via setState() in componentWillUpdate().');
            }
            throwError();
        }
    };
    Component$1.prototype.setStateSync = function setStateSync(newState) {
        if (this._unmounted) {
            return;
        }
        if (!this._blockSetState) {
            if (!this._ignoreSetState) {
                queueStateChanges(this, newState, null, true);
            }
        } else {
            if (false) {
                throwError('cannot update state via setState() in componentWillUpdate().');
            }
            throwError();
        }
    };
    Component$1.prototype.componentWillMount = function componentWillMount() {};
    Component$1.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState, prevContext) {};
    Component$1.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState, context) {
        return true;
    };
    Component$1.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps, context) {};
    Component$1.prototype.componentWillUpdate = function componentWillUpdate(nextProps, nextState, nextContext) {};
    Component$1.prototype.getChildContext = function getChildContext() {};
    Component$1.prototype._updateComponent = function _updateComponent(prevState, nextState, prevProps, nextProps, context, force, fromSetState) {
        if (this._unmounted === true) {
            if (false) {
                throwError(noOp);
            }
            throwError();
        }
        if (prevProps !== nextProps || nextProps === inferno.EMPTY_OBJ || prevState !== nextState || force) {
            if (prevProps !== nextProps || nextProps === inferno.EMPTY_OBJ) {
                if (!fromSetState) {
                    this._blockRender = true;
                    this.componentWillReceiveProps(nextProps, context);
                    this._blockRender = false;
                }
                if (this._pendingSetState) {
                    nextState = (0, _assign2.default)({}, nextState, this._pendingState);
                    this._pendingSetState = false;
                    this._pendingState = {};
                }
            }
            var shouldUpdate = this.shouldComponentUpdate(nextProps, nextState, context);
            if (shouldUpdate !== false || force) {
                this._blockSetState = true;
                this.componentWillUpdate(nextProps, nextState, context);
                this._blockSetState = false;
                this.props = nextProps;
                var state = this.state = nextState;
                this.context = context;
                inferno.options.beforeRender && inferno.options.beforeRender(this);
                var render = this.render(nextProps, state, context);
                inferno.options.afterRender && inferno.options.afterRender(this);
                return render;
            }
        }
        return inferno.NO_OP;
    };

    return Component$1;
});

/***/ }),
/* 336 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _freeze = __webpack_require__(780);

var _freeze2 = _interopRequireDefault(_freeze);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _weakMap = __webpack_require__(107);

var _weakMap2 = _interopRequireDefault(_weakMap);

var _map = __webpack_require__(149);

var _map2 = _interopRequireDefault(_map);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*!
 * inferno v1.2.2
 * (c) 2017 Dominic Gannaway
 * Released under the MIT License.
 */
(function (global, factory) {
    ( false ? 'undefined' : (0, _typeof3.default)(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : factory(global.Inferno = global.Inferno || {});
})(undefined, function (exports) {
    'use strict';

    var NO_OP = '$NO_OP';
    var ERROR_MSG = 'a runtime error occured! Use Inferno in development environment to find the error.';
    var isBrowser = typeof window !== 'undefined' && window.document;

    // this is MUCH faster than .constructor === Array and instanceof Array
    // in Node 7 and the later versions of V8, slower in older versions though
    var isArray = Array.isArray;
    function isStatefulComponent(o) {
        return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);
    }
    function isStringOrNumber(obj) {
        var type = typeof obj === 'undefined' ? 'undefined' : (0, _typeof3.default)(obj);
        return type === 'string' || type === 'number';
    }
    function isNullOrUndef(obj) {
        return isUndefined(obj) || isNull(obj);
    }
    function isInvalid(obj) {
        return isNull(obj) || obj === false || isTrue(obj) || isUndefined(obj);
    }
    function isFunction(obj) {
        return typeof obj === 'function';
    }
    function isAttrAnEvent(attr) {
        return attr[0] === 'o' && attr[1] === 'n' && attr.length > 3;
    }
    function isString(obj) {
        return typeof obj === 'string';
    }
    function isNumber(obj) {
        return typeof obj === 'number';
    }
    function isNull(obj) {
        return obj === null;
    }
    function isTrue(obj) {
        return obj === true;
    }
    function isUndefined(obj) {
        return obj === undefined;
    }
    function isObject(o) {
        return (typeof o === 'undefined' ? 'undefined' : (0, _typeof3.default)(o)) === 'object';
    }
    function throwError(message) {
        if (!message) {
            message = ERROR_MSG;
        }
        throw new Error("Inferno Error: " + message);
    }
    function warning(message) {
        console.warn(message);
    }
    var EMPTY_OBJ = {};

    function applyKey(key, vNode) {
        vNode.key = key;
        return vNode;
    }
    function applyKeyIfMissing(key, vNode) {
        if (isNumber(key)) {
            key = "." + key;
        }
        if (isNull(vNode.key) || vNode.key[0] === '.') {
            return applyKey(key, vNode);
        }
        return vNode;
    }
    function applyKeyPrefix(key, vNode) {
        vNode.key = key + vNode.key;
        return vNode;
    }
    function _normalizeVNodes(nodes, result, index, currentKey) {
        for (; index < nodes.length; index++) {
            var n = nodes[index];
            var key = currentKey + "." + index;
            if (!isInvalid(n)) {
                if (isArray(n)) {
                    _normalizeVNodes(n, result, 0, key);
                } else {
                    if (isStringOrNumber(n)) {
                        n = createTextVNode(n);
                    } else if (isVNode(n) && n.dom || n.key && n.key[0] === '.') {
                        n = cloneVNode(n);
                    }
                    if (isNull(n.key) || n.key[0] === '.') {
                        n = applyKey(key, n);
                    } else {
                        n = applyKeyPrefix(currentKey, n);
                    }
                    result.push(n);
                }
            }
        }
    }
    function normalizeVNodes(nodes) {
        var newNodes;
        // we assign $ which basically means we've flagged this array for future note
        // if it comes back again, we need to clone it, as people are using it
        // in an immutable way
        // tslint:disable
        if (nodes['$']) {
            nodes = nodes.slice();
        } else {
            nodes['$'] = true;
        }
        // tslint:enable
        for (var i = 0; i < nodes.length; i++) {
            var n = nodes[i];
            if (isInvalid(n) || isArray(n)) {
                var result = (newNodes || nodes).slice(0, i);
                _normalizeVNodes(nodes, result, i, "");
                return result;
            } else if (isStringOrNumber(n)) {
                if (!newNodes) {
                    newNodes = nodes.slice(0, i);
                }
                newNodes.push(applyKeyIfMissing(i, createTextVNode(n)));
            } else if (isVNode(n) && n.dom || isNull(n.key) && !(n.flags & 64 /* HasNonKeyedChildren */)) {
                if (!newNodes) {
                    newNodes = nodes.slice(0, i);
                }
                newNodes.push(applyKeyIfMissing(i, cloneVNode(n)));
            } else if (newNodes) {
                newNodes.push(applyKeyIfMissing(i, cloneVNode(n)));
            }
        }
        return newNodes || nodes;
    }
    function normalizeChildren(children) {
        if (isArray(children)) {
            return normalizeVNodes(children);
        } else if (isVNode(children) && children.dom) {
            return cloneVNode(children);
        }
        return children;
    }
    function normalizeProps(vNode, props, children) {
        if (!(vNode.flags & 28 /* Component */) && isNullOrUndef(children) && !isNullOrUndef(props.children)) {
            vNode.children = props.children;
        }
        if (props.ref) {
            vNode.ref = props.ref;
            delete props.ref;
        }
        if (props.events) {
            vNode.events = props.events;
        }
        if (!isNullOrUndef(props.key)) {
            vNode.key = props.key;
            delete props.key;
        }
    }
    function copyPropsTo(copyFrom, copyTo) {
        for (var prop in copyFrom) {
            if (isUndefined(copyTo[prop])) {
                copyTo[prop] = copyFrom[prop];
            }
        }
    }
    function normalizeElement(type, vNode) {
        if (type === 'svg') {
            vNode.flags = 128 /* SvgElement */;
        } else if (type === 'input') {
            vNode.flags = 512 /* InputElement */;
        } else if (type === 'select') {
            vNode.flags = 2048 /* SelectElement */;
        } else if (type === 'textarea') {
            vNode.flags = 1024 /* TextareaElement */;
        } else if (type === 'media') {
            vNode.flags = 256 /* MediaElement */;
        } else {
            vNode.flags = 2 /* HtmlElement */;
        }
    }
    function normalize(vNode) {
        var props = vNode.props;
        var hasProps = !isNull(props);
        var type = vNode.type;
        var children = vNode.children;
        // convert a wrongly created type back to element
        if (isString(type) && vNode.flags & 28 /* Component */) {
            normalizeElement(type, vNode);
            if (hasProps && props.children) {
                vNode.children = props.children;
                children = props.children;
            }
        }
        if (hasProps) {
            normalizeProps(vNode, props, children);
        }
        if (!isInvalid(children)) {
            vNode.children = normalizeChildren(children);
        }
        if (hasProps && !isInvalid(props.children)) {
            props.children = normalizeChildren(props.children);
        }
        if (false) {
            // This code will be stripped out from production CODE
            // It will help users to track errors in their applications.
            var verifyKeys = function verifyKeys(vNodes) {
                var keyValues = vNodes.map(function (vnode) {
                    return vnode.key;
                });
                keyValues.some(function (item, idx) {
                    var hasDuplicate = keyValues.indexOf(item) !== idx;
                    if (hasDuplicate) {
                        warning('Inferno normalisation(...): Encountered two children with same key, all keys must be unique within its siblings. Duplicated key is:' + item);
                    }
                    return hasDuplicate;
                });
            };
            if (vNode.children && Array.isArray(vNode.children)) {
                verifyKeys(vNode.children);
            }
        }
    }

    var options = {
        recyclingEnabled: true,
        findDOMNodeEnabled: false,
        roots: null,
        createVNode: null,
        beforeRender: null,
        afterRender: null,
        afterMount: null,
        afterUpdate: null,
        beforeUnmount: null
    };

    function createVNode(flags, type, props, children, events, key, ref, noNormalise) {
        if (flags & 16 /* ComponentUnknown */) {
                flags = isStatefulComponent(type) ? 4 /* ComponentClass */ : 8 /* ComponentFunction */;
            }
        var vNode = {
            children: isUndefined(children) ? null : children,
            dom: null,
            events: events || null,
            flags: flags,
            key: isUndefined(key) ? null : key,
            props: props || null,
            ref: ref || null,
            type: type
        };
        if (!noNormalise) {
            normalize(vNode);
        }
        if (options.createVNode) {
            options.createVNode(vNode);
        }
        return vNode;
    }
    function cloneVNode(vNodeToClone, props) {
        var _children = [],
            len = arguments.length - 2;
        while (len-- > 0) {
            _children[len] = arguments[len + 2];
        }var children = _children;
        if (_children.length > 0 && !isNull(_children[0])) {
            if (!props) {
                props = {};
            }
            if (_children.length === 1) {
                children = _children[0];
            }
            if (isUndefined(props.children)) {
                props.children = children;
            } else {
                if (isArray(children)) {
                    if (isArray(props.children)) {
                        props.children = props.children.concat(children);
                    } else {
                        props.children = [props.children].concat(children);
                    }
                } else {
                    if (isArray(props.children)) {
                        props.children.push(children);
                    } else {
                        props.children = [props.children];
                        props.children.push(children);
                    }
                }
            }
        }
        children = null;
        var newVNode;
        if (isArray(vNodeToClone)) {
            var tmpArray = [];
            for (var i = 0; i < vNodeToClone.length; i++) {
                tmpArray.push(cloneVNode(vNodeToClone[i]));
            }
            newVNode = tmpArray;
        } else {
            var flags = vNodeToClone.flags;
            var events = vNodeToClone.events || props && props.events || null;
            var key = !isNullOrUndef(vNodeToClone.key) ? vNodeToClone.key : props ? props.key : null;
            var ref = vNodeToClone.ref || (props ? props.ref : null);
            if (flags & 28 /* Component */) {
                    newVNode = createVNode(flags, vNodeToClone.type, (0, _assign2.default)({}, vNodeToClone.props, props), null, events, key, ref, true);
                    var newProps = newVNode.props;
                    if (newProps) {
                        var newChildren = newProps.children;
                        // we need to also clone component children that are in props
                        // as the children may also have been hoisted
                        if (newChildren) {
                            if (isArray(newChildren)) {
                                for (var i$1 = 0; i$1 < newChildren.length; i$1++) {
                                    var child = newChildren[i$1];
                                    if (!isInvalid(child) && isVNode(child)) {
                                        newProps.children[i$1] = cloneVNode(child);
                                    }
                                }
                            } else if (isVNode(newChildren)) {
                                newProps.children = cloneVNode(newChildren);
                            }
                        }
                    }
                    newVNode.children = null;
                } else if (flags & 3970 /* Element */) {
                    children = props && props.children || vNodeToClone.children;
                    newVNode = createVNode(flags, vNodeToClone.type, (0, _assign2.default)({}, vNodeToClone.props, props), children, events, key, ref, !children);
                } else if (flags & 1 /* Text */) {
                    newVNode = createTextVNode(vNodeToClone.children);
                }
        }
        return newVNode;
    }
    function createVoidVNode() {
        return createVNode(4096 /* Void */);
    }
    function createTextVNode(text) {
        return createVNode(1 /* Text */, null, null, text, null, null, null, true);
    }
    function isVNode(o) {
        return !!o.flags;
    }

    function constructDefaults(string, object, value) {
        /* eslint no-return-assign: 0 */
        string.split(',').forEach(function (i) {
            return object[i] = value;
        });
    }
    var xlinkNS = 'http://www.w3.org/1999/xlink';
    var xmlNS = 'http://www.w3.org/XML/1998/namespace';
    var svgNS = 'http://www.w3.org/2000/svg';
    var strictProps = {};
    var booleanProps = {};
    var namespaces = {};
    var isUnitlessNumber = {};
    var skipProps = {};
    var dehyphenProps = {
        httpEquiv: 'http-equiv',
        acceptCharset: 'accept-charset'
    };
    var probablyKebabProps = /^(accentH|arabicF|capH|font[FSVW]|glyph[NO]|horiz[AO]|panose1|renderingI|strikethrough[PT]|underline[PT]|v[AHIM]|vert[AO]|xH|alignmentB|baselineS|clip[PR]|color[IPR]|dominantB|enableB|fill[OR]|flood[COF]|imageR|letterS|lightingC|marker[EMS]|pointerE|shapeR|stop[CO]|stroke[DLMOW]|text[ADR]|unicodeB|wordS|writingM).*/;
    function kebabize(str, smallLetter, largeLetter) {
        return smallLetter + "-" + largeLetter.toLowerCase();
    }
    var delegatedProps = {};
    constructDefaults('xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type', namespaces, xlinkNS);
    constructDefaults('xml:base,xml:lang,xml:space', namespaces, xmlNS);
    constructDefaults('volume,defaultValue,defaultChecked', strictProps, true);
    constructDefaults('children,childrenType,ref,key,selected,checked,multiple', skipProps, true);
    constructDefaults('onClick,onMouseDown,onMouseUp,onMouseMove,onSubmit,onDblClick,onKeyDown,onKeyUp,onKeyPress', delegatedProps, true);
    constructDefaults('muted,scoped,loop,open,checked,default,capture,disabled,readOnly,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate,hidden', booleanProps, true);
    constructDefaults('animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,', isUnitlessNumber, true);

    var Lifecycle = function Lifecycle() {
        this.listeners = [];
        this.fastUnmount = true;
    };
    Lifecycle.prototype.addListener = function addListener(callback) {
        this.listeners.push(callback);
    };
    Lifecycle.prototype.trigger = function trigger() {
        var this$1 = this;

        for (var i = 0; i < this.listeners.length; i++) {
            this$1.listeners[i]();
        }
    };

    var isiOS = isBrowser && !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);
    var delegatedEvents = new _map2.default();
    function handleEvent(name, lastEvent, nextEvent, dom) {
        var delegatedRoots = delegatedEvents.get(name);
        if (nextEvent) {
            if (!delegatedRoots) {
                delegatedRoots = { items: new _map2.default(), count: 0, docEvent: null };
                var docEvent = attachEventToDocument(name, delegatedRoots);
                delegatedRoots.docEvent = docEvent;
                delegatedEvents.set(name, delegatedRoots);
            }
            if (!lastEvent) {
                delegatedRoots.count++;
                if (isiOS && name === 'onClick') {
                    trapClickOnNonInteractiveElement(dom);
                }
            }
            delegatedRoots.items.set(dom, nextEvent);
        } else if (delegatedRoots) {
            if (delegatedRoots.items.has(dom)) {
                delegatedRoots.count--;
                delegatedRoots.items.delete(dom);
                if (delegatedRoots.count === 0) {
                    document.removeEventListener(normalizeEventName(name), delegatedRoots.docEvent);
                    delegatedEvents.delete(name);
                }
            }
        }
    }
    function dispatchEvent(event, dom, items, count, eventData) {
        var eventsToTrigger = items.get(dom);
        if (eventsToTrigger) {
            count--;
            // linkEvent object
            eventData.dom = dom;
            if (eventsToTrigger.event) {
                eventsToTrigger.event(eventsToTrigger.data, event);
            } else {
                eventsToTrigger(event);
            }
            if (eventData.stopPropagation) {
                return;
            }
        }
        if (count > 0) {
            var parentDom = dom.parentNode;
            if (parentDom || parentDom === document.body) {
                dispatchEvent(event, parentDom, items, count, eventData);
            }
        }
    }
    function normalizeEventName(name) {
        return name.substr(2).toLowerCase();
    }
    function attachEventToDocument(name, delegatedRoots) {
        var docEvent = function docEvent(event) {
            var eventData = {
                stopPropagation: false,
                dom: document
            };
            // we have to do this as some browsers recycle the same Event between calls
            // so we need to make the property configurable
            Object.defineProperty(event, 'currentTarget', {
                configurable: true,
                get: function get() {
                    return eventData.dom;
                }
            });
            event.stopPropagation = function () {
                eventData.stopPropagation = true;
            };
            var count = delegatedRoots.count;
            if (count > 0) {
                dispatchEvent(event, event.target, delegatedRoots.items, count, eventData);
            }
        };
        document.addEventListener(normalizeEventName(name), docEvent);
        return docEvent;
    }
    function emptyFn() {}
    function trapClickOnNonInteractiveElement(dom) {
        // Mobile Safari does not fire properly bubble click events on
        // non-interactive elements, which means delegated click listeners do not
        // fire. The workaround for this bug involves attaching an empty click
        // listener on the target node.
        // http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html
        // Just set it using the onclick property so that we don't have to manage any
        // bookkeeping for it. Not sure if we need to clear it when the listener is
        // removed.
        // TODO: Only do this for the relevant Safaris maybe?
        dom.onclick = emptyFn;
    }

    var componentPools = new _map2.default();
    var elementPools = new _map2.default();
    function recycleElement(vNode, lifecycle, context, isSVG) {
        var tag = vNode.type;
        var key = vNode.key;
        var pools = elementPools.get(tag);
        if (!isUndefined(pools)) {
            var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);
            if (!isUndefined(pool)) {
                var recycledVNode = pool.pop();
                if (!isUndefined(recycledVNode)) {
                    patchElement(recycledVNode, vNode, null, lifecycle, context, isSVG, true);
                    return vNode.dom;
                }
            }
        }
        return null;
    }
    function poolElement(vNode) {
        var tag = vNode.type;
        var key = vNode.key;
        var pools = elementPools.get(tag);
        if (isUndefined(pools)) {
            pools = {
                nonKeyed: [],
                keyed: new _map2.default()
            };
            elementPools.set(tag, pools);
        }
        if (isNull(key)) {
            pools.nonKeyed.push(vNode);
        } else {
            var pool = pools.keyed.get(key);
            if (isUndefined(pool)) {
                pool = [];
                pools.keyed.set(key, pool);
            }
            pool.push(vNode);
        }
    }
    function recycleComponent(vNode, lifecycle, context, isSVG) {
        var type = vNode.type;
        var key = vNode.key;
        var pools = componentPools.get(type);
        if (!isUndefined(pools)) {
            var pool = key === null ? pools.nonKeyed : pools.keyed.get(key);
            if (!isUndefined(pool)) {
                var recycledVNode = pool.pop();
                if (!isUndefined(recycledVNode)) {
                    var flags = vNode.flags;
                    var failed = patchComponent(recycledVNode, vNode, null, lifecycle, context, isSVG, flags & 4 /* ComponentClass */, true);
                    if (!failed) {
                        return vNode.dom;
                    }
                }
            }
        }
        return null;
    }
    function poolComponent(vNode) {
        var type = vNode.type;
        var key = vNode.key;
        var hooks = vNode.ref;
        var nonRecycleHooks = hooks && (hooks.onComponentWillMount || hooks.onComponentWillUnmount || hooks.onComponentDidMount || hooks.onComponentWillUpdate || hooks.onComponentDidUpdate);
        if (nonRecycleHooks) {
            return;
        }
        var pools = componentPools.get(type);
        if (isUndefined(pools)) {
            pools = {
                nonKeyed: [],
                keyed: new _map2.default()
            };
            componentPools.set(type, pools);
        }
        if (isNull(key)) {
            pools.nonKeyed.push(vNode);
        } else {
            var pool = pools.keyed.get(key);
            if (isUndefined(pool)) {
                pool = [];
                pools.keyed.set(key, pool);
            }
            pool.push(vNode);
        }
    }

    function unmount(vNode, parentDom, lifecycle, canRecycle, isRecycling) {
        var flags = vNode.flags;
        if (flags & 28 /* Component */) {
                unmountComponent(vNode, parentDom, lifecycle, canRecycle, isRecycling);
            } else if (flags & 3970 /* Element */) {
                unmountElement(vNode, parentDom, lifecycle, canRecycle, isRecycling);
            } else if (flags & (1 /* Text */ | 4096 /* Void */)) {
            unmountVoidOrText(vNode, parentDom);
        }
    }
    function unmountVoidOrText(vNode, parentDom) {
        if (parentDom) {
            removeChild(parentDom, vNode.dom);
        }
    }
    var alreadyUnmounted = new _weakMap2.default();
    function unmountComponent(vNode, parentDom, lifecycle, canRecycle, isRecycling) {
        var instance = vNode.children;
        var flags = vNode.flags;
        var isStatefulComponent$$1 = flags & 4;
        var ref = vNode.ref;
        var dom = vNode.dom;
        if (alreadyUnmounted.has(vNode) && !isRecycling && !parentDom) {
            return;
        }
        alreadyUnmounted.set(vNode);
        if (!isRecycling) {
            if (isStatefulComponent$$1) {
                if (!instance._unmounted) {
                    instance._ignoreSetState = true;
                    options.beforeUnmount && options.beforeUnmount(vNode);
                    instance.componentWillUnmount && instance.componentWillUnmount();
                    if (ref && !isRecycling) {
                        ref(null);
                    }
                    instance._unmounted = true;
                    options.findDOMNodeEnabled && componentToDOMNodeMap.delete(instance);
                    var subLifecycle = instance._lifecycle;
                    if (!subLifecycle.fastUnmount) {
                        unmount(instance._lastInput, null, subLifecycle, false, isRecycling);
                    }
                }
            } else {
                if (!isNullOrUndef(ref)) {
                    if (!isNullOrUndef(ref.onComponentWillUnmount)) {
                        ref.onComponentWillUnmount(dom);
                    }
                }
                if (!lifecycle.fastUnmount) {
                    unmount(instance, null, lifecycle, false, isRecycling);
                }
            }
        }
        if (parentDom) {
            var lastInput = instance._lastInput;
            if (isNullOrUndef(lastInput)) {
                lastInput = instance;
            }
            removeChild(parentDom, dom);
        }
        if (options.recyclingEnabled && !isStatefulComponent$$1 && (parentDom || canRecycle)) {
            poolComponent(vNode);
        }
    }
    function unmountElement(vNode, parentDom, lifecycle, canRecycle, isRecycling) {
        var dom = vNode.dom;
        var ref = vNode.ref;
        var events = vNode.events;
        if (alreadyUnmounted.has(vNode) && !isRecycling && !parentDom) {
            return;
        }
        alreadyUnmounted.set(vNode);
        if (!lifecycle.fastUnmount) {
            if (ref && !isRecycling) {
                unmountRef(ref);
            }
            var children = vNode.children;
            if (!isNullOrUndef(children)) {
                unmountChildren$1(children, lifecycle, isRecycling);
            }
        }
        if (!isNull(events)) {
            for (var name in events) {
                // do not add a hasOwnProperty check here, it affects performance
                patchEvent(name, events[name], null, dom);
                events[name] = null;
            }
        }
        if (parentDom) {
            removeChild(parentDom, dom);
        }
        if (options.recyclingEnabled && (parentDom || canRecycle)) {
            poolElement(vNode);
        }
    }
    function unmountChildren$1(children, lifecycle, isRecycling) {
        if (isArray(children)) {
            for (var i = 0; i < children.length; i++) {
                var child = children[i];
                if (!isInvalid(child) && isObject(child)) {
                    unmount(child, null, lifecycle, false, isRecycling);
                }
            }
        } else if (isObject(children)) {
            unmount(children, null, lifecycle, false, isRecycling);
        }
    }
    function unmountRef(ref) {
        if (isFunction(ref)) {
            ref(null);
        } else {
            if (isInvalid(ref)) {
                return;
            }
            if (false) {
                throwError('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.');
            }
            throwError();
        }
    }

    function createClassComponentInstance(vNode, Component, props, context, isSVG) {
        if (isUndefined(context)) {
            context = {};
        }
        var instance = new Component(props, context);
        instance.context = context;
        if (instance.props === EMPTY_OBJ) {
            instance.props = props;
        }
        instance._patch = patch;
        if (options.findDOMNodeEnabled) {
            instance._componentToDOMNodeMap = componentToDOMNodeMap;
        }
        instance._unmounted = false;
        instance._pendingSetState = true;
        instance._isSVG = isSVG;
        if (isFunction(instance.componentWillMount)) {
            instance.componentWillMount();
        }
        var childContext = instance.getChildContext();
        if (!isNullOrUndef(childContext)) {
            instance._childContext = (0, _assign2.default)({}, context, childContext);
        } else {
            instance._childContext = context;
        }
        options.beforeRender && options.beforeRender(instance);
        var input = instance.render(props, instance.state, context);
        options.afterRender && options.afterRender(instance);
        if (isArray(input)) {
            if (false) {
                throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');
            }
            throwError();
        } else if (isInvalid(input)) {
            input = createVoidVNode();
        } else if (isStringOrNumber(input)) {
            input = createTextVNode(input);
        } else {
            if (input.dom) {
                input = cloneVNode(input);
            }
            if (input.flags & 28 /* Component */) {
                    // if we have an input that is also a component, we run into a tricky situation
                    // where the root vNode needs to always have the correct DOM entry
                    // so we break monomorphism on our input and supply it our vNode as parentVNode
                    // we can optimise this in the future, but this gets us out of a lot of issues
                    input.parentVNode = vNode;
                }
        }
        instance._pendingSetState = false;
        instance._lastInput = input;
        return instance;
    }
    function replaceLastChildAndUnmount(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling) {
        replaceVNode(parentDom, mount(nextInput, null, lifecycle, context, isSVG), lastInput, lifecycle, isRecycling);
    }
    function replaceVNode(parentDom, dom, vNode, lifecycle, isRecycling) {
        var shallowUnmount = false;
        // we cannot cache nodeType here as vNode might be re-assigned below
        if (vNode.flags & 28 /* Component */) {
                // if we are accessing a stateful or stateless component, we want to access their last rendered input
                // accessing their DOM node is not useful to us here
                unmount(vNode, null, lifecycle, false, isRecycling);
                vNode = vNode.children._lastInput || vNode.children;
                shallowUnmount = true;
            }
        replaceChild(parentDom, dom, vNode.dom);
        unmount(vNode, null, lifecycle, false, isRecycling);
    }
    function createFunctionalComponentInput(vNode, component, props, context) {
        var input = component(props, context);
        if (isArray(input)) {
            if (false) {
                throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');
            }
            throwError();
        } else if (isInvalid(input)) {
            input = createVoidVNode();
        } else if (isStringOrNumber(input)) {
            input = createTextVNode(input);
        } else {
            if (input.dom) {
                input = cloneVNode(input);
            }
            if (input.flags & 28 /* Component */) {
                    // if we have an input that is also a component, we run into a tricky situation
                    // where the root vNode needs to always have the correct DOM entry
                    // so we break monomorphism on our input and supply it our vNode as parentVNode
                    // we can optimise this in the future, but this gets us out of a lot of issues
                    input.parentVNode = vNode;
                }
        }
        return input;
    }
    function setTextContent(dom, text) {
        if (text !== '') {
            dom.textContent = text;
        } else {
            dom.appendChild(document.createTextNode(''));
        }
    }
    function updateTextContent(dom, text) {
        dom.firstChild.nodeValue = text;
    }
    function appendChild(parentDom, dom) {
        parentDom.appendChild(dom);
    }
    function insertOrAppend(parentDom, newNode, nextNode) {
        if (isNullOrUndef(nextNode)) {
            appendChild(parentDom, newNode);
        } else {
            parentDom.insertBefore(newNode, nextNode);
        }
    }
    function documentCreateElement(tag, isSVG) {
        if (isSVG === true) {
            return document.createElementNS(svgNS, tag);
        } else {
            return document.createElement(tag);
        }
    }
    function replaceWithNewNode(lastNode, nextNode, parentDom, lifecycle, context, isSVG, isRecycling) {
        unmount(lastNode, null, lifecycle, false, isRecycling);
        var dom = mount(nextNode, null, lifecycle, context, isSVG);
        nextNode.dom = dom;
        replaceChild(parentDom, dom, lastNode.dom);
    }
    function replaceChild(parentDom, nextDom, lastDom) {
        if (!parentDom) {
            parentDom = lastDom.parentNode;
        }
        parentDom.replaceChild(nextDom, lastDom);
    }
    function removeChild(parentDom, dom) {
        parentDom.removeChild(dom);
    }
    function removeAllChildren(dom, children, lifecycle, isRecycling) {
        dom.textContent = '';
        if (!lifecycle.fastUnmount || lifecycle.fastUnmount && options.recyclingEnabled && !isRecycling) {
            removeChildren(null, children, lifecycle, isRecycling);
        }
    }
    function removeChildren(dom, children, lifecycle, isRecycling) {
        for (var i = 0; i < children.length; i++) {
            var child = children[i];
            if (!isInvalid(child)) {
                unmount(child, dom, lifecycle, true, isRecycling);
            }
        }
    }
    function isKeyed(lastChildren, nextChildren) {
        return nextChildren.length && !isNullOrUndef(nextChildren[0]) && !isNullOrUndef(nextChildren[0].key) && lastChildren.length && !isNullOrUndef(lastChildren[0]) && !isNullOrUndef(lastChildren[0].key);
    }

    function isCheckedType(type) {
        return type === 'checkbox' || type === 'radio';
    }
    function isControlled(props) {
        var usesChecked = isCheckedType(props.type);
        return usesChecked ? !isNullOrUndef(props.checked) : !isNullOrUndef(props.value);
    }
    function onTextInputChange(e) {
        var vNode = this.vNode;
        var events = vNode.events || EMPTY_OBJ;
        var dom = vNode.dom;
        if (events.onInput) {
            var event = events.onInput;
            if (event.event) {
                event.event(event.data, e);
            } else {
                event(e);
            }
        } else if (events.oninput) {
            events.oninput(e);
        }
        // the user may have updated the vNode from the above onInput events
        // so we need to get it from the context of `this` again
        applyValue(this.vNode, dom);
    }
    function wrappedOnChange(e) {
        var vNode = this.vNode;
        var events = vNode.events || EMPTY_OBJ;
        var event = events.onChange;
        if (event.event) {
            event.event(event.data, e);
        } else {
            event(e);
        }
    }
    function onCheckboxChange(e) {
        var vNode = this.vNode;
        var events = vNode.events || EMPTY_OBJ;
        var dom = vNode.dom;
        if (events.onClick) {
            var event = events.onClick;
            if (event.event) {
                event.event(event.data, e);
            } else {
                event(e);
            }
        } else if (events.onclick) {
            events.onclick(e);
        }
        // the user may have updated the vNode from the above onClick events
        // so we need to get it from the context of `this` again
        applyValue(this.vNode, dom);
    }
    function handleAssociatedRadioInputs(name) {
        var inputs = document.querySelectorAll("input[type=\"radio\"][name=\"" + name + "\"]");
        [].forEach.call(inputs, function (dom) {
            var inputWrapper = wrappers.get(dom);
            if (inputWrapper) {
                var props = inputWrapper.vNode.props;
                if (props) {
                    dom.checked = inputWrapper.vNode.props.checked;
                }
            }
        });
    }
    function processInput(vNode, dom) {
        var props = vNode.props || EMPTY_OBJ;
        applyValue(vNode, dom);
        if (isControlled(props)) {
            var inputWrapper = wrappers.get(dom);
            if (!inputWrapper) {
                inputWrapper = {
                    vNode: vNode
                };
                if (isCheckedType(props.type)) {
                    dom.onclick = onCheckboxChange.bind(inputWrapper);
                    dom.onclick.wrapped = true;
                } else {
                    dom.oninput = onTextInputChange.bind(inputWrapper);
                    dom.oninput.wrapped = true;
                }
                if (props.onChange) {
                    dom.onchange = wrappedOnChange.bind(inputWrapper);
                    dom.onchange.wrapped = true;
                }
                wrappers.set(dom, inputWrapper);
            }
            inputWrapper.vNode = vNode;
            return true;
        }
        return false;
    }
    function applyValue(vNode, dom) {
        var props = vNode.props || EMPTY_OBJ;
        var type = props.type;
        var value = props.value;
        var checked = props.checked;
        var multiple = props.multiple;
        if (type && type !== dom.type) {
            dom.type = type;
        }
        if (multiple && multiple !== dom.multiple) {
            dom.multiple = multiple;
        }
        if (isCheckedType(type)) {
            if (!isNullOrUndef(value)) {
                dom.value = value;
            }
            dom.checked = checked;
            if (type === 'radio' && props.name) {
                handleAssociatedRadioInputs(props.name);
            }
        } else {
            if (!isNullOrUndef(value) && dom.value !== value) {
                dom.value = value;
            } else if (!isNullOrUndef(checked)) {
                dom.checked = checked;
            }
        }
    }

    function isControlled$1(props) {
        return !isNullOrUndef(props.value);
    }
    function updateChildOptionGroup(vNode, value) {
        var type = vNode.type;
        if (type === 'optgroup') {
            var children = vNode.children;
            if (isArray(children)) {
                for (var i = 0; i < children.length; i++) {
                    updateChildOption(children[i], value);
                }
            } else if (isVNode(children)) {
                updateChildOption(children, value);
            }
        } else {
            updateChildOption(vNode, value);
        }
    }
    function updateChildOption(vNode, value) {
        var props = vNode.props || EMPTY_OBJ;
        var dom = vNode.dom;
        // we do this as multiple may have changed
        dom.value = props.value;
        if (isArray(value) && value.indexOf(props.value) !== -1 || props.value === value) {
            dom.selected = true;
        } else {
            dom.selected = props.selected || false;
        }
    }
    function onSelectChange(e) {
        var vNode = this.vNode;
        var events = vNode.events || EMPTY_OBJ;
        var dom = vNode.dom;
        if (events.onChange) {
            var event = events.onChange;
            if (event.event) {
                event.event(event.data, e);
            } else {
                event(e);
            }
        } else if (events.onchange) {
            events.onchange(e);
        }
        // the user may have updated the vNode from the above onChange events
        // so we need to get it from the context of `this` again
        applyValue$1(this.vNode, dom);
    }
    function processSelect(vNode, dom) {
        var props = vNode.props || EMPTY_OBJ;
        applyValue$1(vNode, dom);
        if (isControlled$1(props)) {
            var selectWrapper = wrappers.get(dom);
            if (!selectWrapper) {
                selectWrapper = {
                    vNode: vNode
                };
                dom.onchange = onSelectChange.bind(selectWrapper);
                dom.onchange.wrapped = true;
                wrappers.set(dom, selectWrapper);
            }
            selectWrapper.vNode = vNode;
            return true;
        }
        return false;
    }
    function applyValue$1(vNode, dom) {
        var props = vNode.props || EMPTY_OBJ;
        if (props.multiple !== dom.multiple) {
            dom.multiple = props.multiple;
        }
        var children = vNode.children;
        if (!isInvalid(children)) {
            var value = props.value;
            if (isArray(children)) {
                for (var i = 0; i < children.length; i++) {
                    updateChildOptionGroup(children[i], value);
                }
            } else if (isVNode(children)) {
                updateChildOptionGroup(children, value);
            }
        }
    }

    function isControlled$2(props) {
        return !isNullOrUndef(props.value);
    }
    function wrappedOnChange$1(e) {
        var vNode = this.vNode;
        var events = vNode.events || EMPTY_OBJ;
        var event = events.onChange;
        if (event.event) {
            event.event(event.data, e);
        } else {
            event(e);
        }
    }
    function onTextareaInputChange(e) {
        var vNode = this.vNode;
        var events = vNode.events || EMPTY_OBJ;
        var dom = vNode.dom;
        if (events.onInput) {
            var event = events.onInput;
            if (event.event) {
                event.event(event.data, e);
            } else {
                event(e);
            }
        } else if (events.oninput) {
            events.oninput(e);
        }
        // the user may have updated the vNode from the above onInput events
        // so we need to get it from the context of `this` again
        applyValue$2(this.vNode, dom);
    }
    function processTextarea(vNode, dom) {
        var props = vNode.props || EMPTY_OBJ;
        applyValue$2(vNode, dom);
        var textareaWrapper = wrappers.get(dom);
        if (isControlled$2(props)) {
            if (!textareaWrapper) {
                textareaWrapper = {
                    vNode: vNode
                };
                dom.oninput = onTextareaInputChange.bind(textareaWrapper);
                dom.oninput.wrapped = true;
                if (props.onChange) {
                    dom.onchange = wrappedOnChange$1.bind(textareaWrapper);
                    dom.onchange.wrapped = true;
                }
                wrappers.set(dom, textareaWrapper);
            }
            textareaWrapper.vNode = vNode;
            return true;
        }
        return false;
    }
    function applyValue$2(vNode, dom) {
        var props = vNode.props || EMPTY_OBJ;
        var value = props.value;
        var domValue = dom.value;
        if (domValue !== value) {
            if (!isNullOrUndef(value)) {
                dom.value = value;
            } else if (domValue !== '') {
                dom.value = '';
            }
        }
    }

    var wrappers = new _map2.default();
    function processElement(flags, vNode, dom) {
        if (flags & 512 /* InputElement */) {
                return processInput(vNode, dom);
            }
        if (flags & 2048 /* SelectElement */) {
                return processSelect(vNode, dom);
            }
        if (flags & 1024 /* TextareaElement */) {
                return processTextarea(vNode, dom);
            }
        return false;
    }

    function patch(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {
        if (lastVNode !== nextVNode) {
            var lastFlags = lastVNode.flags;
            var nextFlags = nextVNode.flags;
            if (nextFlags & 28 /* Component */) {
                    if (lastFlags & 28 /* Component */) {
                            patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, nextFlags & 4 /* ComponentClass */, isRecycling);
                        } else {
                        replaceVNode(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, nextFlags & 4 /* ComponentClass */), lastVNode, lifecycle, isRecycling);
                    }
                } else if (nextFlags & 3970 /* Element */) {
                    if (lastFlags & 3970 /* Element */) {
                            patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);
                        } else {
                        replaceVNode(parentDom, mountElement(nextVNode, null, lifecycle, context, isSVG), lastVNode, lifecycle, isRecycling);
                    }
                } else if (nextFlags & 1 /* Text */) {
                    if (lastFlags & 1 /* Text */) {
                            patchText(lastVNode, nextVNode);
                        } else {
                        replaceVNode(parentDom, mountText(nextVNode, null), lastVNode, lifecycle, isRecycling);
                    }
                } else if (nextFlags & 4096 /* Void */) {
                    if (lastFlags & 4096 /* Void */) {
                            patchVoid(lastVNode, nextVNode);
                        } else {
                        replaceVNode(parentDom, mountVoid(nextVNode, null), lastVNode, lifecycle, isRecycling);
                    }
                } else {
                // Error case: mount new one replacing old one
                replaceLastChildAndUnmount(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);
            }
        }
    }
    function unmountChildren(children, dom, lifecycle, isRecycling) {
        if (isVNode(children)) {
            unmount(children, dom, lifecycle, true, isRecycling);
        } else if (isArray(children)) {
            removeAllChildren(dom, children, lifecycle, isRecycling);
        } else {
            dom.textContent = '';
        }
    }
    function patchElement(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling) {
        var nextTag = nextVNode.type;
        var lastTag = lastVNode.type;
        if (lastTag !== nextTag) {
            replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);
        } else {
            var dom = lastVNode.dom;
            var lastProps = lastVNode.props;
            var nextProps = nextVNode.props;
            var lastChildren = lastVNode.children;
            var nextChildren = nextVNode.children;
            var lastFlags = lastVNode.flags;
            var nextFlags = nextVNode.flags;
            var lastRef = lastVNode.ref;
            var nextRef = nextVNode.ref;
            var lastEvents = lastVNode.events;
            var nextEvents = nextVNode.events;
            nextVNode.dom = dom;
            if (isSVG || nextFlags & 128 /* SvgElement */) {
                isSVG = true;
            }
            if (lastChildren !== nextChildren) {
                patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);
            }
            var hasControlledValue = false;
            if (!(nextFlags & 2 /* HtmlElement */)) {
                hasControlledValue = processElement(nextFlags, nextVNode, dom);
            }
            // inlined patchProps  -- starts --
            if (lastProps !== nextProps) {
                var lastPropsOrEmpty = lastProps || EMPTY_OBJ;
                var nextPropsOrEmpty = nextProps || EMPTY_OBJ;
                if (nextPropsOrEmpty !== EMPTY_OBJ) {
                    for (var prop in nextPropsOrEmpty) {
                        // do not add a hasOwnProperty check here, it affects performance
                        var nextValue = nextPropsOrEmpty[prop];
                        var lastValue = lastPropsOrEmpty[prop];
                        if (isNullOrUndef(nextValue)) {
                            removeProp(prop, nextValue, dom);
                        } else {
                            patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue);
                        }
                    }
                }
                if (lastPropsOrEmpty !== EMPTY_OBJ) {
                    for (var prop$1 in lastPropsOrEmpty) {
                        // do not add a hasOwnProperty check here, it affects performance
                        if (isNullOrUndef(nextPropsOrEmpty[prop$1])) {
                            removeProp(prop$1, lastPropsOrEmpty[prop$1], dom);
                        }
                    }
                }
            }
            // inlined patchProps  -- ends --
            if (lastEvents !== nextEvents) {
                patchEvents(lastEvents, nextEvents, dom);
            }
            if (nextRef) {
                if (lastRef !== nextRef || isRecycling) {
                    mountRef(dom, nextRef, lifecycle);
                }
            }
        }
    }
    function patchChildren(lastFlags, nextFlags, lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {
        var patchArray = false;
        var patchKeyed = false;
        if (nextFlags & 64 /* HasNonKeyedChildren */) {
                patchArray = true;
            } else if (lastFlags & 32 /* HasKeyedChildren */ && nextFlags & 32 /* HasKeyedChildren */) {
            patchKeyed = true;
            patchArray = true;
        } else if (isInvalid(nextChildren)) {
            unmountChildren(lastChildren, dom, lifecycle, isRecycling);
        } else if (isInvalid(lastChildren)) {
            if (isStringOrNumber(nextChildren)) {
                setTextContent(dom, nextChildren);
            } else {
                if (isArray(nextChildren)) {
                    mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);
                } else {
                    mount(nextChildren, dom, lifecycle, context, isSVG);
                }
            }
        } else if (isStringOrNumber(nextChildren)) {
            if (isStringOrNumber(lastChildren)) {
                updateTextContent(dom, nextChildren);
            } else {
                unmountChildren(lastChildren, dom, lifecycle, isRecycling);
                setTextContent(dom, nextChildren);
            }
        } else if (isArray(nextChildren)) {
            if (isArray(lastChildren)) {
                patchArray = true;
                if (isKeyed(lastChildren, nextChildren)) {
                    patchKeyed = true;
                }
            } else {
                unmountChildren(lastChildren, dom, lifecycle, isRecycling);
                mountArrayChildren(nextChildren, dom, lifecycle, context, isSVG);
            }
        } else if (isArray(lastChildren)) {
            removeAllChildren(dom, lastChildren, lifecycle, isRecycling);
            mount(nextChildren, dom, lifecycle, context, isSVG);
        } else if (isVNode(nextChildren)) {
            if (isVNode(lastChildren)) {
                patch(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);
            } else {
                unmountChildren(lastChildren, dom, lifecycle, isRecycling);
                mount(nextChildren, dom, lifecycle, context, isSVG);
            }
        }
        if (patchArray) {
            if (patchKeyed) {
                patchKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);
            } else {
                patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling);
            }
        }
    }
    function patchComponent(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isClass, isRecycling) {
        var lastType = lastVNode.type;
        var nextType = nextVNode.type;
        var nextProps = nextVNode.props || EMPTY_OBJ;
        var lastKey = lastVNode.key;
        var nextKey = nextVNode.key;
        var defaultProps = nextType.defaultProps;
        if (!isUndefined(defaultProps)) {
            copyPropsTo(defaultProps, nextProps);
            nextVNode.props = nextProps;
        }
        if (lastType !== nextType) {
            if (isClass) {
                replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);
            } else {
                var lastInput = lastVNode.children._lastInput || lastVNode.children;
                var nextInput = createFunctionalComponentInput(nextVNode, nextType, nextProps, context);
                unmount(lastVNode, null, lifecycle, false, isRecycling);
                patch(lastInput, nextInput, parentDom, lifecycle, context, isSVG, isRecycling);
                var dom = nextVNode.dom = nextInput.dom;
                nextVNode.children = nextInput;
                mountFunctionalComponentCallbacks(nextVNode.ref, dom, lifecycle);
            }
        } else {
            if (isClass) {
                if (lastKey !== nextKey) {
                    replaceWithNewNode(lastVNode, nextVNode, parentDom, lifecycle, context, isSVG, isRecycling);
                    return false;
                }
                var instance = lastVNode.children;
                if (instance._unmounted) {
                    if (isNull(parentDom)) {
                        return true;
                    }
                    replaceChild(parentDom, mountComponent(nextVNode, null, lifecycle, context, isSVG, nextVNode.flags & 4 /* ComponentClass */), lastVNode.dom);
                } else {
                    var lastState = instance.state;
                    var nextState = instance.state;
                    var lastProps = instance.props;
                    var childContext = instance.getChildContext();
                    nextVNode.children = instance;
                    instance._isSVG = isSVG;
                    if (!isNullOrUndef(childContext)) {
                        childContext = (0, _assign2.default)({}, context, childContext);
                    } else {
                        childContext = context;
                    }
                    var lastInput$1 = instance._lastInput;
                    var nextInput$1 = instance._updateComponent(lastState, nextState, lastProps, nextProps, context, false, false);
                    var didUpdate = true;
                    instance._childContext = childContext;
                    if (isInvalid(nextInput$1)) {
                        nextInput$1 = createVoidVNode();
                    } else if (nextInput$1 === NO_OP) {
                        nextInput$1 = lastInput$1;
                        didUpdate = false;
                    } else if (isStringOrNumber(nextInput$1)) {
                        nextInput$1 = createTextVNode(nextInput$1);
                    } else if (isArray(nextInput$1)) {
                        if (false) {
                            throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');
                        }
                        throwError();
                    } else if (isObject(nextInput$1) && nextInput$1.dom) {
                        nextInput$1 = cloneVNode(nextInput$1);
                    }
                    if (nextInput$1.flags & 28 /* Component */) {
                            nextInput$1.parentVNode = nextVNode;
                        } else if (lastInput$1.flags & 28 /* Component */) {
                            lastInput$1.parentVNode = nextVNode;
                        }
                    instance._lastInput = nextInput$1;
                    instance._vNode = nextVNode;
                    if (didUpdate) {
                        var fastUnmount = lifecycle.fastUnmount;
                        var subLifecycle = instance._lifecycle;
                        lifecycle.fastUnmount = subLifecycle.fastUnmount;
                        patch(lastInput$1, nextInput$1, parentDom, lifecycle, childContext, isSVG, isRecycling);
                        subLifecycle.fastUnmount = lifecycle.fastUnmount;
                        lifecycle.fastUnmount = fastUnmount;
                        instance.componentDidUpdate(lastProps, lastState);
                        options.afterUpdate && options.afterUpdate(nextVNode);
                        options.findDOMNodeEnabled && componentToDOMNodeMap.set(instance, nextInput$1.dom);
                    }
                    nextVNode.dom = nextInput$1.dom;
                }
            } else {
                var shouldUpdate = true;
                var lastProps$1 = lastVNode.props;
                var nextHooks = nextVNode.ref;
                var nextHooksDefined = !isNullOrUndef(nextHooks);
                var lastInput$2 = lastVNode.children;
                var nextInput$2 = lastInput$2;
                nextVNode.dom = lastVNode.dom;
                nextVNode.children = lastInput$2;
                if (lastKey !== nextKey) {
                    shouldUpdate = true;
                } else {
                    if (nextHooksDefined && !isNullOrUndef(nextHooks.onComponentShouldUpdate)) {
                        shouldUpdate = nextHooks.onComponentShouldUpdate(lastProps$1, nextProps);
                    }
                }
                if (shouldUpdate !== false) {
                    if (nextHooksDefined && !isNullOrUndef(nextHooks.onComponentWillUpdate)) {
                        nextHooks.onComponentWillUpdate(lastProps$1, nextProps);
                    }
                    nextInput$2 = nextType(nextProps, context);
                    if (isInvalid(nextInput$2)) {
                        nextInput$2 = createVoidVNode();
                    } else if (isStringOrNumber(nextInput$2) && nextInput$2 !== NO_OP) {
                        nextInput$2 = createTextVNode(nextInput$2);
                    } else if (isArray(nextInput$2)) {
                        if (false) {
                            throwError('a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');
                        }
                        throwError();
                    } else if (isObject(nextInput$2) && nextInput$2.dom) {
                        nextInput$2 = cloneVNode(nextInput$2);
                    }
                    if (nextInput$2 !== NO_OP) {
                        patch(lastInput$2, nextInput$2, parentDom, lifecycle, context, isSVG, isRecycling);
                        nextVNode.children = nextInput$2;
                        if (nextHooksDefined && !isNullOrUndef(nextHooks.onComponentDidUpdate)) {
                            nextHooks.onComponentDidUpdate(lastProps$1, nextProps);
                        }
                        nextVNode.dom = nextInput$2.dom;
                    }
                }
                if (nextInput$2.flags & 28 /* Component */) {
                        nextInput$2.parentVNode = nextVNode;
                    } else if (lastInput$2.flags & 28 /* Component */) {
                        lastInput$2.parentVNode = nextVNode;
                    }
            }
        }
        return false;
    }
    function patchText(lastVNode, nextVNode) {
        var nextText = nextVNode.children;
        var dom = lastVNode.dom;
        nextVNode.dom = dom;
        if (lastVNode.children !== nextText) {
            dom.nodeValue = nextText;
        }
    }
    function patchVoid(lastVNode, nextVNode) {
        nextVNode.dom = lastVNode.dom;
    }
    function patchNonKeyedChildren(lastChildren, nextChildren, dom, lifecycle, context, isSVG, isRecycling) {
        var lastChildrenLength = lastChildren.length;
        var nextChildrenLength = nextChildren.length;
        var commonLength = lastChildrenLength > nextChildrenLength ? nextChildrenLength : lastChildrenLength;
        var i = 0;
        for (; i < commonLength; i++) {
            var nextChild = nextChildren[i];
            if (nextChild.dom) {
                nextChild = nextChildren[i] = cloneVNode(nextChild);
            }
            patch(lastChildren[i], nextChild, dom, lifecycle, context, isSVG, isRecycling);
        }
        if (lastChildrenLength < nextChildrenLength) {
            for (i = commonLength; i < nextChildrenLength; i++) {
                var nextChild$1 = nextChildren[i];
                if (nextChild$1.dom) {
                    nextChild$1 = nextChildren[i] = cloneVNode(nextChild$1);
                }
                appendChild(dom, mount(nextChild$1, null, lifecycle, context, isSVG));
            }
        } else if (nextChildrenLength === 0) {
            removeAllChildren(dom, lastChildren, lifecycle, isRecycling);
        } else if (lastChildrenLength > nextChildrenLength) {
            for (i = commonLength; i < lastChildrenLength; i++) {
                unmount(lastChildren[i], dom, lifecycle, false, isRecycling);
            }
        }
    }
    function patchKeyedChildren(a, b, dom, lifecycle, context, isSVG, isRecycling) {
        var aLength = a.length;
        var bLength = b.length;
        var aEnd = aLength - 1;
        var bEnd = bLength - 1;
        var aStart = 0;
        var bStart = 0;
        var i;
        var j;
        var aNode;
        var bNode;
        var nextNode;
        var nextPos;
        var node;
        if (aLength === 0) {
            if (bLength !== 0) {
                mountArrayChildren(b, dom, lifecycle, context, isSVG);
            }
            return;
        } else if (bLength === 0) {
            removeAllChildren(dom, a, lifecycle, isRecycling);
            return;
        }
        var aStartNode = a[aStart];
        var bStartNode = b[bStart];
        var aEndNode = a[aEnd];
        var bEndNode = b[bEnd];
        if (bStartNode.dom) {
            b[bStart] = bStartNode = cloneVNode(bStartNode);
        }
        if (bEndNode.dom) {
            b[bEnd] = bEndNode = cloneVNode(bEndNode);
        }
        // Step 1
        /* eslint no-constant-condition: 0 */
        outer: while (true) {
            // Sync nodes with the same key at the beginning.
            while (aStartNode.key === bStartNode.key) {
                patch(aStartNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);
                aStart++;
                bStart++;
                if (aStart > aEnd || bStart > bEnd) {
                    break outer;
                }
                aStartNode = a[aStart];
                bStartNode = b[bStart];
                if (bStartNode.dom) {
                    b[bStart] = bStartNode = cloneVNode(bStartNode);
                }
            }
            // Sync nodes with the same key at the end.
            while (aEndNode.key === bEndNode.key) {
                patch(aEndNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);
                aEnd--;
                bEnd--;
                if (aStart > aEnd || bStart > bEnd) {
                    break outer;
                }
                aEndNode = a[aEnd];
                bEndNode = b[bEnd];
                if (bEndNode.dom) {
                    b[bEnd] = bEndNode = cloneVNode(bEndNode);
                }
            }
            // Move and sync nodes from right to left.
            if (aEndNode.key === bStartNode.key) {
                patch(aEndNode, bStartNode, dom, lifecycle, context, isSVG, isRecycling);
                insertOrAppend(dom, bStartNode.dom, aStartNode.dom);
                aEnd--;
                bStart++;
                aEndNode = a[aEnd];
                bStartNode = b[bStart];
                if (bStartNode.dom) {
                    b[bStart] = bStartNode = cloneVNode(bStartNode);
                }
                continue;
            }
            // Move and sync nodes from left to right.
            if (aStartNode.key === bEndNode.key) {
                patch(aStartNode, bEndNode, dom, lifecycle, context, isSVG, isRecycling);
                nextPos = bEnd + 1;
                nextNode = nextPos < b.length ? b[nextPos].dom : null;
                insertOrAppend(dom, bEndNode.dom, nextNode);
                aStart++;
                bEnd--;
                aStartNode = a[aStart];
                bEndNode = b[bEnd];
                if (bEndNode.dom) {
                    b[bEnd] = bEndNode = cloneVNode(bEndNode);
                }
                continue;
            }
            break;
        }
        if (aStart > aEnd) {
            if (bStart <= bEnd) {
                nextPos = bEnd + 1;
                nextNode = nextPos < b.length ? b[nextPos].dom : null;
                while (bStart <= bEnd) {
                    node = b[bStart];
                    if (node.dom) {
                        b[bStart] = node = cloneVNode(node);
                    }
                    bStart++;
                    insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);
                }
            }
        } else if (bStart > bEnd) {
            while (aStart <= aEnd) {
                unmount(a[aStart++], dom, lifecycle, false, isRecycling);
            }
        } else {
            aLength = aEnd - aStart + 1;
            bLength = bEnd - bStart + 1;
            var aNullable = a;
            var sources = new Array(bLength);
            // Mark all nodes as inserted.
            for (i = 0; i < bLength; i++) {
                sources[i] = -1;
            }
            var moved = false;
            var pos = 0;
            var patched = 0;
            if (bLength <= 4 || aLength * bLength <= 16) {
                for (i = aStart; i <= aEnd; i++) {
                    aNode = a[i];
                    if (patched < bLength) {
                        for (j = bStart; j <= bEnd; j++) {
                            bNode = b[j];
                            if (aNode.key === bNode.key) {
                                sources[j - bStart] = i;
                                if (pos > j) {
                                    moved = true;
                                } else {
                                    pos = j;
                                }
                                if (bNode.dom) {
                                    b[j] = bNode = cloneVNode(bNode);
                                }
                                patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);
                                patched++;
                                aNullable[i] = null;
                                break;
                            }
                        }
                    }
                }
            } else {
                var keyIndex = new _map2.default();
                for (i = bStart; i <= bEnd; i++) {
                    node = b[i];
                    keyIndex.set(node.key, i);
                }
                for (i = aStart; i <= aEnd; i++) {
                    aNode = a[i];
                    if (patched < bLength) {
                        j = keyIndex.get(aNode.key);
                        if (!isUndefined(j)) {
                            bNode = b[j];
                            sources[j - bStart] = i;
                            if (pos > j) {
                                moved = true;
                            } else {
                                pos = j;
                            }
                            if (bNode.dom) {
                                b[j] = bNode = cloneVNode(bNode);
                            }
                            patch(aNode, bNode, dom, lifecycle, context, isSVG, isRecycling);
                            patched++;
                            aNullable[i] = null;
                        }
                    }
                }
            }
            if (aLength === a.length && patched === 0) {
                removeAllChildren(dom, a, lifecycle, isRecycling);
                while (bStart < bLength) {
                    node = b[bStart];
                    if (node.dom) {
                        b[bStart] = node = cloneVNode(node);
                    }
                    bStart++;
                    insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), null);
                }
            } else {
                i = aLength - patched;
                while (i > 0) {
                    aNode = aNullable[aStart++];
                    if (!isNull(aNode)) {
                        unmount(aNode, dom, lifecycle, true, isRecycling);
                        i--;
                    }
                }
                if (moved) {
                    var seq = lis_algorithm(sources);
                    j = seq.length - 1;
                    for (i = bLength - 1; i >= 0; i--) {
                        if (sources[i] === -1) {
                            pos = i + bStart;
                            node = b[pos];
                            if (node.dom) {
                                b[pos] = node = cloneVNode(node);
                            }
                            nextPos = pos + 1;
                            nextNode = nextPos < b.length ? b[nextPos].dom : null;
                            insertOrAppend(dom, mount(node, dom, lifecycle, context, isSVG), nextNode);
                        } else {
                            if (j < 0 || i !== seq[j]) {
                                pos = i + bStart;
                                node = b[pos];
                                nextPos = pos + 1;
                                nextNode = nextPos < b.length ? b[nextPos].dom : null;
                                insertOrAppend(dom, node.dom, nextNode);
                            } else {
                                j--;
                            }
                        }
                    }
                } else if (patched !== bLength) {
                    for (i = bLength - 1; i >= 0; i--) {
                        if (sources[i] === -1) {
                            pos = i + bStart;
                            node = b[pos];
                            if (node.dom) {
                                b[pos] = node = cloneVNode(node);
                            }
                            nextPos = pos + 1;
                            nextNode = nextPos < b.length ? b[nextPos].dom : null;
                            insertOrAppend(dom, mount(node, null, lifecycle, context, isSVG), nextNode);
                        }
                    }
                }
            }
        }
    }
    // // https://en.wikipedia.org/wiki/Longest_increasing_subsequence
    function lis_algorithm(a) {
        var p = a.slice(0);
        var result = [0];
        var i;
        var j;
        var u;
        var v;
        var c;
        for (i = 0; i < a.length; i++) {
            if (a[i] === -1) {
                continue;
            }
            j = result[result.length - 1];
            if (a[j] < a[i]) {
                p[i] = j;
                result.push(i);
                continue;
            }
            u = 0;
            v = result.length - 1;
            while (u < v) {
                c = (u + v) / 2 | 0;
                if (a[result[c]] < a[i]) {
                    u = c + 1;
                } else {
                    v = c;
                }
            }
            if (a[i] < a[result[u]]) {
                if (u > 0) {
                    p[i] = result[u - 1];
                }
                result[u] = i;
            }
        }
        u = result.length;
        v = result[u - 1];
        while (u-- > 0) {
            result[u] = v;
            v = p[v];
        }
        return result;
    }
    function patchProp(prop, lastValue, nextValue, dom, isSVG, hasControlledValue) {
        if (skipProps[prop] || hasControlledValue && prop === 'value') {
            return;
        }
        if (booleanProps[prop]) {
            dom[prop] = !!nextValue;
        } else if (strictProps[prop]) {
            var value = isNullOrUndef(nextValue) ? '' : nextValue;
            if (dom[prop] !== value) {
                dom[prop] = value;
            }
        } else if (lastValue !== nextValue) {
            if (isAttrAnEvent(prop)) {
                patchEvent(prop, lastValue, nextValue, dom);
            } else if (isNullOrUndef(nextValue)) {
                dom.removeAttribute(prop);
            } else if (prop === 'className') {
                if (isSVG) {
                    dom.setAttribute('class', nextValue);
                } else {
                    dom.className = nextValue;
                }
            } else if (prop === 'style') {
                patchStyle(lastValue, nextValue, dom);
            } else if (prop === 'dangerouslySetInnerHTML') {
                var lastHtml = lastValue && lastValue.__html;
                var nextHtml = nextValue && nextValue.__html;
                if (lastHtml !== nextHtml) {
                    if (!isNullOrUndef(nextHtml)) {
                        dom.innerHTML = nextHtml;
                    }
                }
            } else {
                var dehyphenProp;
                if (dehyphenProps[prop]) {
                    dehyphenProp = dehyphenProps[prop];
                } else if (isSVG && prop.match(probablyKebabProps)) {
                    dehyphenProp = prop.replace(/([a-z])([A-Z]|1)/g, kebabize);
                    dehyphenProps[prop] = dehyphenProp;
                } else {
                    dehyphenProp = prop;
                }
                var ns = namespaces[prop];
                if (ns) {
                    dom.setAttributeNS(ns, dehyphenProp, nextValue);
                } else {
                    dom.setAttribute(dehyphenProp, nextValue);
                }
            }
        }
    }
    function patchEvents(lastEvents, nextEvents, dom) {
        lastEvents = lastEvents || EMPTY_OBJ;
        nextEvents = nextEvents || EMPTY_OBJ;
        if (nextEvents !== EMPTY_OBJ) {
            for (var name in nextEvents) {
                // do not add a hasOwnProperty check here, it affects performance
                patchEvent(name, lastEvents[name], nextEvents[name], dom);
            }
        }
        if (lastEvents !== EMPTY_OBJ) {
            for (var name$1 in lastEvents) {
                // do not add a hasOwnProperty check here, it affects performance
                if (isNullOrUndef(nextEvents[name$1])) {
                    patchEvent(name$1, lastEvents[name$1], null, dom);
                }
            }
        }
    }
    function patchEvent(name, lastValue, nextValue, dom) {
        if (lastValue !== nextValue) {
            var nameLowerCase = name.toLowerCase();
            var domEvent = dom[nameLowerCase];
            // if the function is wrapped, that means it's been controlled by a wrapper
            if (domEvent && domEvent.wrapped) {
                return;
            }
            if (delegatedProps[name]) {
                handleEvent(name, lastValue, nextValue, dom);
            } else {
                if (lastValue !== nextValue) {
                    if (!isFunction(nextValue) && !isNullOrUndef(nextValue)) {
                        var linkEvent = nextValue.event;
                        if (linkEvent && isFunction(linkEvent)) {
                            if (!dom._data) {
                                dom[nameLowerCase] = function (e) {
                                    linkEvent(e.currentTarget._data, e);
                                };
                            }
                            dom._data = nextValue.data;
                        } else {
                            if (false) {
                                throwError("an event on a VNode \"" + name + "\". was not a function or a valid linkEvent.");
                            }
                            throwError();
                        }
                    } else {
                        dom[nameLowerCase] = nextValue;
                    }
                }
            }
        }
    }
    // We are assuming here that we come from patchProp routine
    // -nextAttrValue cannot be null or undefined
    function patchStyle(lastAttrValue, nextAttrValue, dom) {
        if (isString(nextAttrValue)) {
            dom.style.cssText = nextAttrValue;
            return;
        }
        for (var style in nextAttrValue) {
            // do not add a hasOwnProperty check here, it affects performance
            var value = nextAttrValue[style];
            if (isNumber(value) && !isUnitlessNumber[style]) {
                dom.style[style] = value + 'px';
            } else {
                dom.style[style] = value;
            }
        }
        if (!isNullOrUndef(lastAttrValue)) {
            for (var style$1 in lastAttrValue) {
                if (isNullOrUndef(nextAttrValue[style$1])) {
                    dom.style[style$1] = '';
                }
            }
        }
    }
    function removeProp(prop, lastValue, dom) {
        if (prop === 'className') {
            dom.removeAttribute('class');
        } else if (prop === 'value') {
            dom.value = '';
        } else if (prop === 'style') {
            dom.removeAttribute('style');
        } else if (isAttrAnEvent(prop)) {
            handleEvent(name, lastValue, null, dom);
        } else {
            dom.removeAttribute(prop);
        }
    }

    function mount(vNode, parentDom, lifecycle, context, isSVG) {
        var flags = vNode.flags;
        if (flags & 3970 /* Element */) {
                return mountElement(vNode, parentDom, lifecycle, context, isSVG);
            } else if (flags & 28 /* Component */) {
                return mountComponent(vNode, parentDom, lifecycle, context, isSVG, flags & 4 /* ComponentClass */);
            } else if (flags & 4096 /* Void */) {
                return mountVoid(vNode, parentDom);
            } else if (flags & 1 /* Text */) {
                return mountText(vNode, parentDom);
            } else {
            if (false) {
                if ((typeof vNode === 'undefined' ? 'undefined' : (0, _typeof3.default)(vNode)) === 'object') {
                    throwError("mount() received an object that's not a valid VNode, you should stringify it first. Object: \"" + (0, _stringify2.default)(vNode) + "\".");
                } else {
                    throwError("mount() expects a valid VNode, instead it received an object with the type \"" + (typeof vNode === 'undefined' ? 'undefined' : (0, _typeof3.default)(vNode)) + "\".");
                }
            }
            throwError();
        }
    }
    function mountText(vNode, parentDom) {
        var dom = document.createTextNode(vNode.children);
        vNode.dom = dom;
        if (parentDom) {
            appendChild(parentDom, dom);
        }
        return dom;
    }
    function mountVoid(vNode, parentDom) {
        var dom = document.createTextNode('');
        vNode.dom = dom;
        if (parentDom) {
            appendChild(parentDom, dom);
        }
        return dom;
    }
    function mountElement(vNode, parentDom, lifecycle, context, isSVG) {
        if (options.recyclingEnabled) {
            var dom$1 = recycleElement(vNode, lifecycle, context, isSVG);
            if (!isNull(dom$1)) {
                if (!isNull(parentDom)) {
                    appendChild(parentDom, dom$1);
                }
                return dom$1;
            }
        }
        var tag = vNode.type;
        var flags = vNode.flags;
        if (isSVG || flags & 128 /* SvgElement */) {
            isSVG = true;
        }
        var dom = documentCreateElement(tag, isSVG);
        var children = vNode.children;
        var props = vNode.props;
        var events = vNode.events;
        var ref = vNode.ref;
        vNode.dom = dom;
        if (!isNull(children)) {
            if (isStringOrNumber(children)) {
                setTextContent(dom, children);
            } else if (isArray(children)) {
                mountArrayChildren(children, dom, lifecycle, context, isSVG);
            } else if (isVNode(children)) {
                mount(children, dom, lifecycle, context, isSVG);
            }
        }
        var hasControlledValue = false;
        if (!(flags & 2 /* HtmlElement */)) {
            hasControlledValue = processElement(flags, vNode, dom);
        }
        if (!isNull(props)) {
            for (var prop in props) {
                // do not add a hasOwnProperty check here, it affects performance
                patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);
            }
        }
        if (!isNull(events)) {
            for (var name in events) {
                // do not add a hasOwnProperty check here, it affects performance
                patchEvent(name, null, events[name], dom);
            }
        }
        if (!isNull(ref)) {
            mountRef(dom, ref, lifecycle);
        }
        if (!isNull(parentDom)) {
            appendChild(parentDom, dom);
        }
        return dom;
    }
    function mountArrayChildren(children, dom, lifecycle, context, isSVG) {
        for (var i = 0; i < children.length; i++) {
            var child = children[i];
            // TODO: Verify can string/number be here. might cause de-opt
            if (!isInvalid(child)) {
                if (child.dom) {
                    children[i] = child = cloneVNode(child);
                }
                mount(children[i], dom, lifecycle, context, isSVG);
            }
        }
    }
    function mountComponent(vNode, parentDom, lifecycle, context, isSVG, isClass) {
        if (options.recyclingEnabled) {
            var dom$1 = recycleComponent(vNode, lifecycle, context, isSVG);
            if (!isNull(dom$1)) {
                if (!isNull(parentDom)) {
                    appendChild(parentDom, dom$1);
                }
                return dom$1;
            }
        }
        var type = vNode.type;
        var props = vNode.props || EMPTY_OBJ;
        var defaultProps = type.defaultProps;
        var ref = vNode.ref;
        var dom;
        if (!isUndefined(defaultProps)) {
            copyPropsTo(defaultProps, props);
            vNode.props = props;
        }
        if (isClass) {
            var instance = createClassComponentInstance(vNode, type, props, context, isSVG);
            // If instance does not have componentWillUnmount specified we can enable fastUnmount
            var input = instance._lastInput;
            var prevFastUnmount = lifecycle.fastUnmount;
            // we store the fastUnmount value, but we set it back to true on the lifecycle
            // we do this so we can determine if the component render has a fastUnmount or not
            lifecycle.fastUnmount = true;
            instance._vNode = vNode;
            vNode.dom = dom = mount(input, null, lifecycle, instance._childContext, isSVG);
            // we now create a lifecycle for this component and store the fastUnmount value
            var subLifecycle = instance._lifecycle = new Lifecycle();
            // children lifecycle can fastUnmount if itself does need unmount callback and within its cycle there was none
            subLifecycle.fastUnmount = isUndefined(instance.componentWillUnmount) && lifecycle.fastUnmount;
            // higher lifecycle can fastUnmount only if previously it was able to and this children doesnt have any
            lifecycle.fastUnmount = prevFastUnmount && subLifecycle.fastUnmount;
            if (!isNull(parentDom)) {
                appendChild(parentDom, dom);
            }
            mountClassComponentCallbacks(vNode, ref, instance, lifecycle);
            options.findDOMNodeEnabled && componentToDOMNodeMap.set(instance, dom);
            vNode.children = instance;
        } else {
            var input$1 = createFunctionalComponentInput(vNode, type, props, context);
            vNode.dom = dom = mount(input$1, null, lifecycle, context, isSVG);
            vNode.children = input$1;
            mountFunctionalComponentCallbacks(ref, dom, lifecycle);
            if (!isNull(parentDom)) {
                appendChild(parentDom, dom);
            }
        }
        return dom;
    }
    function mountClassComponentCallbacks(vNode, ref, instance, lifecycle) {
        if (ref) {
            if (isFunction(ref)) {
                ref(instance);
            } else {
                if (false) {
                    if (isStringOrNumber(ref)) {
                        throwError('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.');
                    } else if (isObject(ref) && vNode.flags & 4 /* ComponentClass */) {
                        throwError('functional component lifecycle events are not supported on ES2015 class components.');
                    } else {
                        throwError("a bad value for \"ref\" was used on component: \"" + (0, _stringify2.default)(ref) + "\"");
                    }
                }
                throwError();
            }
        }
        var cDM = instance.componentDidMount;
        var afterMount = options.afterMount;
        if (!isUndefined(cDM) || !isNull(afterMount)) {
            lifecycle.addListener(function () {
                afterMount && afterMount(vNode);
                cDM && instance.componentDidMount();
            });
        }
    }
    function mountFunctionalComponentCallbacks(ref, dom, lifecycle) {
        if (ref) {
            if (!isNullOrUndef(ref.onComponentWillMount)) {
                ref.onComponentWillMount();
            }
            if (!isNullOrUndef(ref.onComponentDidMount)) {
                lifecycle.addListener(function () {
                    return ref.onComponentDidMount(dom);
                });
            }
            if (!isNullOrUndef(ref.onComponentWillUnmount)) {
                lifecycle.fastUnmount = false;
            }
        }
    }
    function mountRef(dom, value, lifecycle) {
        if (isFunction(value)) {
            lifecycle.fastUnmount = false;
            lifecycle.addListener(function () {
                return value(dom);
            });
        } else {
            if (isInvalid(value)) {
                return;
            }
            if (false) {
                throwError('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.');
            }
            throwError();
        }
    }

    function normalizeChildNodes(parentDom) {
        var dom = parentDom.firstChild;
        while (dom) {
            if (dom.nodeType === 8) {
                if (dom.data === '!') {
                    var placeholder = document.createTextNode('');
                    parentDom.replaceChild(placeholder, dom);
                    dom = dom.nextSibling;
                } else {
                    var lastDom = dom.previousSibling;
                    parentDom.removeChild(dom);
                    dom = lastDom || parentDom.firstChild;
                }
            } else {
                dom = dom.nextSibling;
            }
        }
    }
    function hydrateComponent(vNode, dom, lifecycle, context, isSVG, isClass) {
        var type = vNode.type;
        var props = vNode.props || EMPTY_OBJ;
        var ref = vNode.ref;
        vNode.dom = dom;
        if (isClass) {
            var _isSVG = dom.namespaceURI === svgNS;
            var defaultProps = type.defaultProps;
            if (!isUndefined(defaultProps)) {
                copyPropsTo(defaultProps, props);
                vNode.props = props;
            }
            var instance = createClassComponentInstance(vNode, type, props, context, _isSVG);
            // If instance does not have componentWillUnmount specified we can enable fastUnmount
            var prevFastUnmount = lifecycle.fastUnmount;
            var input = instance._lastInput;
            // we store the fastUnmount value, but we set it back to true on the lifecycle
            // we do this so we can determine if the component render has a fastUnmount or not
            lifecycle.fastUnmount = true;
            instance._vComponent = vNode;
            instance._vNode = vNode;
            hydrate(input, dom, lifecycle, instance._childContext, _isSVG);
            // we now create a lifecycle for this component and store the fastUnmount value
            var subLifecycle = instance._lifecycle = new Lifecycle();
            // children lifecycle can fastUnmount if itself does need unmount callback and within its cycle there was none
            subLifecycle.fastUnmount = isUndefined(instance.componentWillUnmount) && lifecycle.fastUnmount;
            // higher lifecycle can fastUnmount only if previously it was able to and this children doesnt have any
            lifecycle.fastUnmount = prevFastUnmount && subLifecycle.fastUnmount;
            mountClassComponentCallbacks(vNode, ref, instance, lifecycle);
            options.findDOMNodeEnabled && componentToDOMNodeMap.set(instance, dom);
            vNode.children = instance;
        } else {
            var input$1 = createFunctionalComponentInput(vNode, type, props, context);
            hydrate(input$1, dom, lifecycle, context, isSVG);
            vNode.children = input$1;
            vNode.dom = input$1.dom;
            mountFunctionalComponentCallbacks(ref, dom, lifecycle);
        }
        return dom;
    }
    function hydrateElement(vNode, dom, lifecycle, context, isSVG) {
        var tag = vNode.type;
        var children = vNode.children;
        var props = vNode.props;
        var events = vNode.events;
        var flags = vNode.flags;
        var ref = vNode.ref;
        if (isSVG || flags & 128 /* SvgElement */) {
            isSVG = true;
        }
        if (dom.nodeType !== 1 || dom.tagName.toLowerCase() !== tag) {
            if (false) {
                warning('Inferno hydration: Server-side markup doesn\'t match client-side markup or Initial render target is not empty');
            }
            var newDom = mountElement(vNode, null, lifecycle, context, isSVG);
            vNode.dom = newDom;
            replaceChild(dom.parentNode, newDom, dom);
            return newDom;
        }
        vNode.dom = dom;
        if (children) {
            hydrateChildren(children, dom, lifecycle, context, isSVG);
        }
        var hasControlledValue = false;
        if (!(flags & 2 /* HtmlElement */)) {
            hasControlledValue = processElement(flags, vNode, dom);
        }
        if (props) {
            for (var prop in props) {
                patchProp(prop, null, props[prop], dom, isSVG, hasControlledValue);
            }
        }
        if (events) {
            for (var name in events) {
                patchEvent(name, null, events[name], dom);
            }
        }
        if (ref) {
            mountRef(dom, ref, lifecycle);
        }
        return dom;
    }
    function hydrateChildren(children, parentDom, lifecycle, context, isSVG) {
        normalizeChildNodes(parentDom);
        var dom = parentDom.firstChild;
        if (isArray(children)) {
            for (var i = 0; i < children.length; i++) {
                var child = children[i];
                if (!isNull(child) && isObject(child)) {
                    if (dom) {
                        dom = hydrate(child, dom, lifecycle, context, isSVG);
                        dom = dom.nextSibling;
                    } else {
                        mount(child, parentDom, lifecycle, context, isSVG);
                    }
                }
            }
        } else if (isStringOrNumber(children)) {
            if (dom && dom.nodeType === 3) {
                if (dom.nodeValue !== children) {
                    dom.nodeValue = children;
                }
            } else if (children) {
                parentDom.textContent = children;
            }
            dom = dom.nextSibling;
        } else if (isObject(children)) {
            hydrate(children, dom, lifecycle, context, isSVG);
            dom = dom.nextSibling;
        }
        // clear any other DOM nodes, there should be only a single entry for the root
        while (dom) {
            var nextSibling = dom.nextSibling;
            parentDom.removeChild(dom);
            dom = nextSibling;
        }
    }
    function hydrateText(vNode, dom) {
        if (dom.nodeType !== 3) {
            var newDom = mountText(vNode, null);
            vNode.dom = newDom;
            replaceChild(dom.parentNode, newDom, dom);
            return newDom;
        }
        var text = vNode.children;
        if (dom.nodeValue !== text) {
            dom.nodeValue = text;
        }
        vNode.dom = dom;
        return dom;
    }
    function hydrateVoid(vNode, dom) {
        vNode.dom = dom;
        return dom;
    }
    function hydrate(vNode, dom, lifecycle, context, isSVG) {
        var flags = vNode.flags;
        if (flags & 28 /* Component */) {
                return hydrateComponent(vNode, dom, lifecycle, context, isSVG, flags & 4 /* ComponentClass */);
            } else if (flags & 3970 /* Element */) {
                return hydrateElement(vNode, dom, lifecycle, context, isSVG);
            } else if (flags & 1 /* Text */) {
                return hydrateText(vNode, dom);
            } else if (flags & 4096 /* Void */) {
                return hydrateVoid(vNode, dom);
            } else {
            if (false) {
                throwError("hydrate() expects a valid VNode, instead it received an object with the type \"" + (typeof vNode === 'undefined' ? 'undefined' : (0, _typeof3.default)(vNode)) + "\".");
            }
            throwError();
        }
    }
    function hydrateRoot(input, parentDom, lifecycle) {
        var dom = parentDom && parentDom.firstChild;
        if (dom) {
            hydrate(input, dom, lifecycle, {}, false);
            dom = parentDom.firstChild;
            // clear any other DOM nodes, there should be only a single entry for the root
            while (dom = dom.nextSibling) {
                parentDom.removeChild(dom);
            }
            return true;
        }
        return false;
    }

    // rather than use a Map, like we did before, we can use an array here
    // given there shouldn't be THAT many roots on the page, the difference
    // in performance is huge: https://esbench.com/bench/5802a691330ab09900a1a2da
    var roots = [];
    var componentToDOMNodeMap = new _map2.default();
    options.roots = roots;
    function findDOMNode(ref) {
        if (!options.findDOMNodeEnabled) {
            if (false) {
                throwError('findDOMNode() has been disabled, use Inferno.options.findDOMNodeEnabled = true; enabled findDOMNode(). Warning this can significantly impact performance!');
            }
            throwError();
        }
        var dom = ref && ref.nodeType ? ref : null;
        return componentToDOMNodeMap.get(ref) || dom;
    }
    function getRoot(dom) {
        for (var i = 0; i < roots.length; i++) {
            var root = roots[i];
            if (root.dom === dom) {
                return root;
            }
        }
        return null;
    }
    function setRoot(dom, input, lifecycle) {
        var root = {
            dom: dom,
            input: input,
            lifecycle: lifecycle
        };
        roots.push(root);
        return root;
    }
    function removeRoot(root) {
        for (var i = 0; i < roots.length; i++) {
            if (roots[i] === root) {
                roots.splice(i, 1);
                return;
            }
        }
    }
    if (false) {
        if (isBrowser && document.body === null) {
            warning('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');
        }
    }
    var documentBody = isBrowser ? document.body : null;
    function render(input, parentDom) {
        if (documentBody === parentDom) {
            if (false) {
                throwError('you cannot render() to the "document.body". Use an empty element as a container instead.');
            }
            throwError();
        }
        if (input === NO_OP) {
            return;
        }
        var root = getRoot(parentDom);
        if (isNull(root)) {
            var lifecycle = new Lifecycle();
            if (!isInvalid(input)) {
                if (input.dom) {
                    input = cloneVNode(input);
                }
                if (!hydrateRoot(input, parentDom, lifecycle)) {
                    mount(input, parentDom, lifecycle, {}, false);
                }
                root = setRoot(parentDom, input, lifecycle);
                lifecycle.trigger();
            }
        } else {
            var lifecycle$1 = root.lifecycle;
            lifecycle$1.listeners = [];
            if (isNullOrUndef(input)) {
                unmount(root.input, parentDom, lifecycle$1, false, false);
                removeRoot(root);
            } else {
                if (input.dom) {
                    input = cloneVNode(input);
                }
                patch(root.input, input, parentDom, lifecycle$1, {}, false, false);
            }
            lifecycle$1.trigger();
            root.input = input;
        }
        if (root) {
            var rootInput = root.input;
            if (rootInput && rootInput.flags & 28 /* Component */) {
                return rootInput.children;
            }
        }
    }
    function createRenderer(_parentDom) {
        var parentDom = _parentDom || null;
        return function renderer(lastInput, nextInput) {
            if (!parentDom) {
                parentDom = lastInput;
            }
            render(nextInput, parentDom);
        };
    }

    function linkEvent(data, event) {
        return { data: data, event: event };
    }

    if (false) {
        (0, _freeze2.default)(EMPTY_OBJ);
        var testFunc = function testFn() {};
        if ((testFunc.name || testFunc.toString()).indexOf('testFn') === -1) {
            warning('It looks like you\'re using a minified copy of the development build ' + 'of Inferno. When deploying Inferno apps to production, make sure to use ' + 'the production build which skips development warnings and is faster. ' + 'See http://infernojs.org for more details.');
        }
    }

    // This will be replaced by rollup
    var version = '1.2.2';

    // we duplicate it so it plays nicely with different module loading systems
    var index = {
        linkEvent: linkEvent,
        // core shapes
        createVNode: createVNode,

        // cloning
        cloneVNode: cloneVNode,

        // used to shared common items between Inferno libs
        NO_OP: NO_OP,
        EMPTY_OBJ: EMPTY_OBJ,

        // DOM
        render: render,
        findDOMNode: findDOMNode,
        createRenderer: createRenderer,
        options: options,
        version: version
    };

    exports['default'] = index;
    exports.linkEvent = linkEvent;
    exports.createVNode = createVNode;
    exports.cloneVNode = cloneVNode;
    exports.NO_OP = NO_OP;
    exports.EMPTY_OBJ = EMPTY_OBJ;
    exports.render = render;
    exports.findDOMNode = findDOMNode;
    exports.createRenderer = createRenderer;
    exports.options = options;
    exports.version = version;

    Object.defineProperty(exports, '__esModule', { value: true });
});

/***/ }),
/* 337 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */



var merge = __webpack_require__(186),
    Row = __webpack_require__(338),
    layoutConfig = {},
    layoutData = {};

/**
* Create a new, empty row.
*
* @method createNewRow
* @return A new, empty row of the type specified by this layout.
*/
function createNewRow() {

	var isBreakoutRow;

	// Work out if this is a full width breakout row
	if (layoutConfig.fullWidthBreakoutRowCadence !== false) {
		if ((layoutData._rows.length + 1) % layoutConfig.fullWidthBreakoutRowCadence === 0) {
			isBreakoutRow = true;
		}
	}

	return new Row({
		top: layoutData._containerHeight,
		left: layoutConfig.containerPadding.left,
		width: layoutConfig.containerWidth - layoutConfig.containerPadding.left - layoutConfig.containerPadding.right,
		spacing: layoutConfig.boxSpacing.horizontal,
		targetRowHeight: layoutConfig.targetRowHeight,
		targetRowHeightTolerance: layoutConfig.targetRowHeightTolerance,
		edgeCaseMinRowHeight: 0.5 * layoutConfig.targetRowHeight,
		edgeCaseMaxRowHeight: 2 * layoutConfig.targetRowHeight,
		rightToLeft: false,
		isBreakoutRow: isBreakoutRow,
		widowLayoutStyle: layoutConfig.widowLayoutStyle
	});
}

/**
 * Add a completed row to the layout.
 * Note: the row must have already been completed.
 *
 * @method addRow
 * @param row {Row} The row to add.
 * @return {Array} Each item added to the row.
 */
function addRow(row) {

	layoutData._rows.push(row);
	layoutData._layoutItems = layoutData._layoutItems.concat(row.getItems());

	// Increment the container height
	layoutData._containerHeight += row.height + layoutConfig.boxSpacing.vertical;

	return row.items;
}

/**
* Calculate the current layout for all items in the list that require layout.
* "Layout" means geometry: position within container and size
*
* @method computeLayout
* @param itemLayoutData {Array} Array of items to lay out, with data required to lay out each item
* @return {Object} The newly-calculated layout, containing the new container height, and lists of layout items
*/
function computeLayout(itemLayoutData) {

	var laidOutItems = [],
	    itemAdded,
	    currentRow,
	    nextToLastRowHeight;

	// Apply forced aspect ratio if specified, and set a flag.
	if (layoutConfig.forceAspectRatio) {
		itemLayoutData.forEach(function (itemData) {
			itemData.forcedAspectRatio = true;
			itemData.aspectRatio = layoutConfig.forceAspectRatio;
		});
	}

	// Loop through the items
	itemLayoutData.some(function (itemData, i) {

		if (isNaN(itemData.aspectRatio)) {
			throw new Error("Item " + i + " has an invalid aspect ratio");
		}

		// If not currently building up a row, make a new one.
		if (!currentRow) {
			currentRow = createNewRow();
		}

		// Attempt to add item to the current row.
		itemAdded = currentRow.addItem(itemData);

		if (currentRow.isLayoutComplete()) {

			// Row is filled; add it and start a new one
			laidOutItems = laidOutItems.concat(addRow(currentRow));

			if (layoutData._rows.length >= layoutConfig.maxNumRows) {
				currentRow = null;
				return true;
			}

			currentRow = createNewRow();

			// Item was rejected; add it to its own row
			if (!itemAdded) {

				itemAdded = currentRow.addItem(itemData);

				if (currentRow.isLayoutComplete()) {

					// If the rejected item fills a row on its own, add the row and start another new one
					laidOutItems = laidOutItems.concat(addRow(currentRow));
					if (layoutData._rows.length >= layoutConfig.maxNumRows) {
						currentRow = null;
						return true;
					}
					currentRow = createNewRow();
				}
			}
		}
	});

	// Handle any leftover content (orphans) depending on where they lie
	// in this layout update, and in the total content set.
	if (currentRow && currentRow.getItems().length && layoutConfig.showWidows) {

		// Last page of all content or orphan suppression is suppressed; lay out orphans.
		if (layoutData._rows.length) {

			// Only Match previous row's height if it exists and it isn't a breakout row
			if (layoutData._rows[layoutData._rows.length - 1].isBreakoutRow) {
				nextToLastRowHeight = layoutData._rows[layoutData._rows.length - 1].targetRowHeight;
			} else {
				nextToLastRowHeight = layoutData._rows[layoutData._rows.length - 1].height;
			}

			currentRow.forceComplete(false, nextToLastRowHeight);
		} else {

			// ...else use target height if there is no other row height to reference.
			currentRow.forceComplete(false);
		}

		laidOutItems = laidOutItems.concat(addRow(currentRow));
		layoutConfig._widowCount = currentRow.getItems().length;
	}

	// We need to clean up the bottom container padding
	// First remove the height added for box spacing
	layoutData._containerHeight = layoutData._containerHeight - layoutConfig.boxSpacing.vertical;
	// Then add our bottom container padding
	layoutData._containerHeight = layoutData._containerHeight + layoutConfig.containerPadding.bottom;

	return {
		containerHeight: layoutData._containerHeight,
		widowCount: layoutConfig._widowCount,
		boxes: layoutData._layoutItems
	};
}

/**
* Takes in a bunch of box data and config. Returns
* geometry to lay them out in a justified view.
*
* @method covertSizesToAspectRatios
* @param sizes {Array} Array of objects with widths and heights
* @return {Array} A list of aspect ratios
**/
module.exports = function (input, config) {

	// Defaults
	var defaults = {
		containerWidth: 1060,
		containerPadding: 10,
		boxSpacing: 10,
		targetRowHeight: 320,
		targetRowHeightTolerance: 0.25,
		maxNumRows: Number.POSITIVE_INFINITY,
		forceAspectRatio: false,
		showWidows: true,
		fullWidthBreakoutRowCadence: false,
		widowLayoutStyle: 'left'
	};

	var containerPadding = {};
	var boxSpacing = {};

	config = config || {};

	// Merge defaults and config passed in
	layoutConfig = merge(defaults, config);

	// Sort out padding and spacing values
	containerPadding.top = !isNaN(parseFloat(layoutConfig.containerPadding.top)) ? layoutConfig.containerPadding.top : layoutConfig.containerPadding;
	containerPadding.right = !isNaN(parseFloat(layoutConfig.containerPadding.right)) ? layoutConfig.containerPadding.right : layoutConfig.containerPadding;
	containerPadding.bottom = !isNaN(parseFloat(layoutConfig.containerPadding.bottom)) ? layoutConfig.containerPadding.bottom : layoutConfig.containerPadding;
	containerPadding.left = !isNaN(parseFloat(layoutConfig.containerPadding.left)) ? layoutConfig.containerPadding.left : layoutConfig.containerPadding;
	boxSpacing.horizontal = !isNaN(parseFloat(layoutConfig.boxSpacing.horizontal)) ? layoutConfig.boxSpacing.horizontal : layoutConfig.boxSpacing;
	boxSpacing.vertical = !isNaN(parseFloat(layoutConfig.boxSpacing.vertical)) ? layoutConfig.boxSpacing.vertical : layoutConfig.boxSpacing;

	layoutConfig.containerPadding = containerPadding;
	layoutConfig.boxSpacing = boxSpacing;

	// Local
	layoutData._layoutItems = [];
	layoutData._awakeItems = [];
	layoutData._inViewportItems = [];
	layoutData._leadingOrphans = [];
	layoutData._trailingOrphans = [];
	layoutData._containerHeight = layoutConfig.containerPadding.top;
	layoutData._rows = [];
	layoutData._orphans = [];
	layoutConfig._widowCount = 0;

	// Convert widths and heights to aspect ratios if we need to
	return computeLayout(input.map(function (item) {
		if (item.width && item.height) {
			return { aspectRatio: item.width / item.height };
		} else {
			return { aspectRatio: item };
		}
	}));
};

/***/ }),
/* 338 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */

var merge = __webpack_require__(186);

/**
* Row
* Wrapper for each row in a justified layout.
* Stores relevant values and provides methods for calculating layout of individual rows.
*
* @param {Object} layoutConfig - The same as that passed
* @param {Object} Initialization parameters. The following are all required:
* @param params.top {Number} Top of row, relative to container
* @param params.left {Number} Left side of row relative to container (equal to container left padding)
* @param params.width {Number} Width of row, not including container padding
* @param params.spacing {Number} Horizontal spacing between items
* @param params.targetRowHeight {Number} Layout algorithm will aim for this row height
* @param params.targetRowHeightTolerance {Number} Row heights may vary +/- (`targetRowHeight` x `targetRowHeightTolerance`)
* @param params.edgeCaseMinRowHeight {Number} Absolute minimum row height for edge cases that cannot be resolved within tolerance.
* @param params.edgeCaseMaxRowHeight {Number} Absolute maximum row height for edge cases that cannot be resolved within tolerance.
* @param params.isBreakoutRow {Boolean} Is this row in particular one of those breakout rows? Always false if it's not that kind of photo list
* @param params.widowLayoutStyle {String} If widows are visible, how should they be laid out?
* @constructor
*/
var Row = module.exports = function (params) {

	// Top of row, relative to container
	this.top = params.top;

	// Left side of row relative to container (equal to container left padding)
	this.left = params.left;

	// Width of row, not including container padding
	this.width = params.width;

	// Horizontal spacing between items
	this.spacing = params.spacing;

	// Row height calculation values
	this.targetRowHeight = params.targetRowHeight;
	this.targetRowHeightTolerance = params.targetRowHeightTolerance;
	this.minAspectRatio = this.width / params.targetRowHeight * (1 - params.targetRowHeightTolerance);
	this.maxAspectRatio = this.width / params.targetRowHeight * (1 + params.targetRowHeightTolerance);

	// Edge case row height minimum/maximum
	this.edgeCaseMinRowHeight = params.edgeCaseMinRowHeight;
	this.edgeCaseMaxRowHeight = params.edgeCaseMaxRowHeight;

	// Widow layout direction
	this.widowLayoutStyle = params.widowLayoutStyle;

	// Full width breakout rows
	this.isBreakoutRow = params.isBreakoutRow;

	// Store layout data for each item in row
	this.items = [];

	// Height remains at 0 until it's been calculated
	this.height = 0;
};

Row.prototype = {

	/**
 * Attempt to add a single item to the row.
 * This is the heart of the justified algorithm.
 * This method is direction-agnostic; it deals only with sizes, not positions.
 *
 * If the item fits in the row, without pushing row height beyond min/max tolerance,
 * the item is added and the method returns true.
 *
 * If the item leaves row height too high, there may be room to scale it down and add another item.
 * In this case, the item is added and the method returns true, but the row is incomplete.
 *
 * If the item leaves row height too short, there are too many items to fit within tolerance.
 * The method will either accept or reject the new item, favoring the resulting row height closest to within tolerance.
 * If the item is rejected, left/right padding will be required to fit the row height within tolerance;
 * if the item is accepted, top/bottom cropping will be required to fit the row height within tolerance.
 *
 * @method addItem
 * @param itemData {Object} Item layout data, containing item aspect ratio.
 * @return {Boolean} True if successfully added; false if rejected.
 */
	addItem: function addItem(itemData) {

		var newItems = this.items.concat(itemData),

		// Calculate aspect ratios for items only; exclude spacing
		rowWidthWithoutSpacing = this.width - (newItems.length - 1) * this.spacing,
		    newAspectRatio = newItems.reduce(function (sum, item) {
			return sum + item.aspectRatio;
		}, 0),
		    targetAspectRatio = rowWidthWithoutSpacing / this.targetRowHeight,
		    previousRowWidthWithoutSpacing,
		    previousAspectRatio,
		    previousTargetAspectRatio;

		// Handle big full-width breakout photos if we're doing them
		if (this.isBreakoutRow) {
			// Only do it if there's no other items in this row
			if (this.items.length === 0) {
				// Only go full width if this photo is a square or landscape
				if (itemData.aspectRatio >= 1) {
					// Close out the row with a full width photo
					this.items.push(itemData);
					this.completeLayout(rowWidthWithoutSpacing / itemData.aspectRatio, this.widowLayoutStyle);
					return true;
				}
			}
		}

		if (newAspectRatio < this.minAspectRatio) {

			// New aspect ratio is too narrow / scaled row height is too tall.
			// Accept this item and leave row open for more items.

			this.items.push(merge(itemData));
			return true;
		} else if (newAspectRatio > this.maxAspectRatio) {

			// New aspect ratio is too wide / scaled row height will be too short.
			// Accept item if the resulting aspect ratio is closer to target than it would be without the item.
			// NOTE: Any row that falls into this block will require cropping/padding on individual items.

			if (this.items.length === 0) {

				// When there are no existing items, force acceptance of the new item and complete the layout.
				// This is the pano special case.
				this.items.push(merge(itemData));
				this.completeLayout(rowWidthWithoutSpacing / newAspectRatio, this.widowLayoutStyle);
				return true;
			}

			// Calculate width/aspect ratio for row before adding new item
			previousRowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing;
			previousAspectRatio = this.items.reduce(function (sum, item) {
				return sum + item.aspectRatio;
			}, 0);
			previousTargetAspectRatio = previousRowWidthWithoutSpacing / this.targetRowHeight;

			if (Math.abs(newAspectRatio - targetAspectRatio) > Math.abs(previousAspectRatio - previousTargetAspectRatio)) {

				// Row with new item is us farther away from target than row without; complete layout and reject item.
				this.completeLayout(previousRowWidthWithoutSpacing / previousAspectRatio, this.widowLayoutStyle);
				return false;
			} else {

				// Row with new item is us closer to target than row without;
				// accept the new item and complete the row layout.
				this.items.push(merge(itemData));
				this.completeLayout(rowWidthWithoutSpacing / newAspectRatio, this.widowLayoutStyle);
				return true;
			}
		} else {

			// New aspect ratio / scaled row height is within tolerance;
			// accept the new item and complete the row layout.
			this.items.push(merge(itemData));
			this.completeLayout(rowWidthWithoutSpacing / newAspectRatio, this.widowLayoutStyle);
			return true;
		}
	},

	/**
 * Check if a row has completed its layout.
 *
 * @method isLayoutComplete
 * @return {Boolean} True if complete; false if not.
 */
	isLayoutComplete: function isLayoutComplete() {
		return this.height > 0;
	},

	/**
 * Set row height and compute item geometry from that height.
 * Will justify items within the row unless instructed not to.
 *
 * @method completeLayout
 * @param newHeight {Number} Set row height to this value.
 * @param widowLayoutStyle {String} How should widows display? Supported: justify | center
 */
	completeLayout: function completeLayout(newHeight, widowLayoutStyle) {

		var itemWidthSum = this.left,
		    rowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing,
		    clampedToNativeRatio,
		    roundedHeight,
		    clampedHeight,
		    errorWidthPerItem,
		    roundedCumulativeErrors,
		    singleItemGeometry,
		    centerOffset;

		// Justify unless explicitly specified otherwise.
		if (typeof widowLayoutStyle === 'undefined' || ['justify', 'center', 'left'].indexOf(widowLayoutStyle) < 0) {
			widowLayoutStyle = 'left';
		}

		// Don't set fractional values in the layout.
		roundedHeight = Math.round(newHeight);

		// Clamp row height to edge case minimum/maximum.
		clampedHeight = Math.max(this.edgeCaseMinRowHeight, Math.min(roundedHeight, this.edgeCaseMaxRowHeight));

		if (roundedHeight !== clampedHeight) {

			// If row height was clamped, the resulting row/item aspect ratio will be off,
			// so force it to fit the width (recalculate aspectRatio to match clamped height).
			// NOTE: this will result in cropping/padding commensurate to the amount of clamping.
			this.height = clampedHeight;
			clampedToNativeRatio = rowWidthWithoutSpacing / clampedHeight / (rowWidthWithoutSpacing / roundedHeight);
		} else {

			// If not clamped, leave ratio at 1.0.
			this.height = roundedHeight;
			clampedToNativeRatio = 1.0;
		}

		// Compute item geometry based on newHeight.
		this.items.forEach(function (item) {

			item.top = this.top;
			item.width = Math.round(item.aspectRatio * this.height * clampedToNativeRatio);
			item.height = this.height;

			// Left-to-right.
			// TODO right to left
			// item.left = this.width - itemWidthSum - item.width;
			item.left = itemWidthSum;

			// Increment width.
			itemWidthSum += item.width + this.spacing;
		}, this);

		// If specified, ensure items fill row and distribute error
		// caused by rounding width and height across all items.
		if (widowLayoutStyle === 'justify') {

			itemWidthSum -= this.spacing + this.left;

			errorWidthPerItem = (itemWidthSum - this.width) / this.items.length;
			roundedCumulativeErrors = this.items.map(function (item, i) {
				return Math.round((i + 1) * errorWidthPerItem);
			});

			if (this.items.length === 1) {

				// For rows with only one item, adjust item width to fill row.
				singleItemGeometry = this.items[0];
				singleItemGeometry.width -= Math.round(errorWidthPerItem);
			} else {

				// For rows with multiple items, adjust item width and shift items to fill the row,
				// while maintaining equal spacing between items in the row.
				this.items.forEach(function (item, i) {
					if (i > 0) {
						item.left -= roundedCumulativeErrors[i - 1];
						item.width -= roundedCumulativeErrors[i] - roundedCumulativeErrors[i - 1];
					} else {
						item.width -= roundedCumulativeErrors[i];
					}
				});
			}
		} else if (widowLayoutStyle === 'center') {

			// Center widows
			centerOffset = (this.width - itemWidthSum) / 2;

			this.items.forEach(function (item) {
				item.left += centerOffset + this.spacing;
			}, this);
		}
	},

	/**
 * Force completion of row layout with current items.
 *
 * @method forceComplete
 * @param fitToWidth {Boolean} Stretch current items to fill the row width.
 *                             This will likely result in padding.
 * @param fitToWidth {Number}
 */
	forceComplete: function forceComplete(fitToWidth, rowHeight) {

		// TODO Handle fitting to width
		// var rowWidthWithoutSpacing = this.width - (this.items.length - 1) * this.spacing,
		// 	currentAspectRatio = this.items.reduce(function (sum, item) {
		// 		return sum + item.aspectRatio;
		// 	}, 0);

		if (typeof rowHeight === 'number') {

			this.completeLayout(rowHeight, this.widowLayoutStyle);
		} else {

			// Complete using target row height.
			this.completeLayout(this.targetRowHeight, this.widowLayoutStyle);
		}
	},

	/**
 * Return layout data for items within row.
 * Note: returns actual list, not a copy.
 *
 * @method getItems
 * @return Layout data for items within row.
 */
	getItems: function getItems() {
		return this.items;
	}

};

/***/ }),
/* 339 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash 3.0.3 (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */

/** `Object#toString` result references. */
var numberTag = '[object Number]';

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Number` primitive or object.
 *
 * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified
 * as numbers, use the `_.isFinite` method.
 *
 * @static
 * @memberOf _
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.
 * @example
 *
 * _.isNumber(3);
 * // => true
 *
 * _.isNumber(Number.MIN_VALUE);
 * // => true
 *
 * _.isNumber(Infinity);
 * // => true
 *
 * _.isNumber('3');
 * // => false
 */
function isNumber(value) {
  return typeof value == 'number' || isObjectLike(value) && objectToString.call(value) == numberTag;
}

module.exports = isNumber;

/***/ }),
/* 340 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global, module) {

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to compose bitmasks for comparison styles. */
var UNORDERED_COMPARE_FLAG = 1,
    PARTIAL_COMPARE_FLAG = 2;

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    objectTag = '[object Object]',
    promiseTag = '[object Promise]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    symbolTag = '[object Symbol]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = (typeof self === 'undefined' ? 'undefined' : (0, _typeof3.default)(self)) == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports = ( false ? 'undefined' : (0, _typeof3.default)(exports)) == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && ( false ? 'undefined' : (0, _typeof3.default)(module)) == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = function () {
  try {
    return freeProcess && freeProcess.binding('util');
  } catch (e) {}
}();

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * A specialized version of `_.some` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {boolean} Returns `true` if any element passes the predicate check,
 *  else `false`.
 */
function arraySome(array, predicate) {
  var index = -1,
      length = array ? array.length : 0;

  while (++index < length) {
    if (predicate(array[index], index, array)) {
      return true;
    }
  }
  return false;
}

/**
 * The base implementation of `_.property` without support for deep paths.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function baseProperty(key) {
  return function (object) {
    return object == null ? undefined : object[key];
  };
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function (value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Converts `map` to its key-value pairs.
 *
 * @private
 * @param {Object} map The map to convert.
 * @returns {Array} Returns the key-value pairs.
 */
function mapToArray(map) {
  var index = -1,
      result = Array(map.size);

  map.forEach(function (value, key) {
    result[++index] = [key, value];
  });
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function (arg) {
    return func(transform(arg));
  };
}

/**
 * Converts `set` to an array of its values.
 *
 * @private
 * @param {Object} set The set to convert.
 * @returns {Array} Returns the values.
 */
function setToArray(set) {
  var index = -1,
      result = Array(set.size);

  set.forEach(function (value) {
    result[++index] = value;
  });
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = function () {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? 'Symbol(src)_1.' + uid : '';
}();

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$');

/** Built-in value references. */
var _Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeKeys = overArg(_keys2.default, Object);

/* Built-in method references that are verified to be native. */
var DataView = getNative(root, 'DataView'),
    Map = getNative(root, 'Map'),
    Promise = getNative(root, 'Promise'),
    Set = getNative(root, 'Set'),
    WeakMap = getNative(root, 'WeakMap'),
    nativeCreate = getNative(Object, 'create');

/** Used to detect maps, sets, and weakmaps. */
var dataViewCtorString = toSource(DataView),
    mapCtorString = toSource(Map),
    promiseCtorString = toSource(Promise),
    setCtorString = toSource(Set),
    weakMapCtorString = toSource(WeakMap);

/** Used to convert symbols to primitives and strings. */
var symbolProto = _Symbol ? _Symbol.prototype : undefined,
    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash(),
    'map': new (Map || ListCache)(),
    'string': new Hash()
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values ? values.length : 0;

  this.__data__ = new MapCache();
  while (++index < length) {
    this.add(values[index]);
  }
}

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  this.__data__ = new ListCache(entries);
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache();
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  return this.__data__['delete'](key);
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var cache = this.__data__;
  if (cache instanceof ListCache) {
    var pairs = cache.__data__;
    if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
      pairs.push([key, value]);
      return this;
    }
    cache = this.__data__ = new MapCache(pairs);
  }
  cache.set(key, value);
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  // Safari 9 makes `arguments.length` enumerable in strict mode.
  var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];

  var length = result.length,
      skipIndexes = !!length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.forEach` without support for iteratee shorthands.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array|Object} Returns `collection`.
 */
var baseEach = createBaseEach(baseForOwn);

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `_.forOwn` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Object} Returns `object`.
 */
function baseForOwn(object, iteratee) {
  return object && baseFor(object, iteratee, keys);
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return index && index == length ? object : undefined;
}

/**
 * The base implementation of `getTag`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  return objectToString.call(value);
}

/**
 * The base implementation of `_.hasIn` without support for deep paths.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {Array|string} key The key to check.
 * @returns {boolean} Returns `true` if `key` exists, else `false`.
 */
function baseHasIn(object, key) {
  return object != null && key in Object(object);
}

/**
 * The base implementation of `_.isEqual` which supports partial comparisons
 * and tracks traversed objects.
 *
 * @private
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @param {Function} [customizer] The function to customize comparisons.
 * @param {boolean} [bitmask] The bitmask of comparison flags.
 *  The bitmask may be composed of the following flags:
 *     1 - Unordered comparison
 *     2 - Partial comparison
 * @param {Object} [stack] Tracks traversed `value` and `other` objects.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 */
function baseIsEqual(value, other, customizer, bitmask, stack) {
  if (value === other) {
    return true;
  }
  if (value == null || other == null || !isObject(value) && !isObjectLike(other)) {
    return value !== value && other !== other;
  }
  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);
}

/**
 * A specialized version of `baseIsEqual` for arrays and objects which performs
 * deep comparisons and tracks traversed objects enabling objects with circular
 * references to be compared.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} [customizer] The function to customize comparisons.
 * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} [stack] Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {
  var objIsArr = isArray(object),
      othIsArr = isArray(other),
      objTag = arrayTag,
      othTag = arrayTag;

  if (!objIsArr) {
    objTag = getTag(object);
    objTag = objTag == argsTag ? objectTag : objTag;
  }
  if (!othIsArr) {
    othTag = getTag(other);
    othTag = othTag == argsTag ? objectTag : othTag;
  }
  var objIsObj = objTag == objectTag && !isHostObject(object),
      othIsObj = othTag == objectTag && !isHostObject(other),
      isSameTag = objTag == othTag;

  if (isSameTag && !objIsObj) {
    stack || (stack = new Stack());
    return objIsArr || isTypedArray(object) ? equalArrays(object, other, equalFunc, customizer, bitmask, stack) : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);
  }
  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {
    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

    if (objIsWrapped || othIsWrapped) {
      var objUnwrapped = objIsWrapped ? object.value() : object,
          othUnwrapped = othIsWrapped ? other.value() : other;

      stack || (stack = new Stack());
      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);
    }
  }
  if (!isSameTag) {
    return false;
  }
  stack || (stack = new Stack());
  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);
}

/**
 * The base implementation of `_.isMatch` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to inspect.
 * @param {Object} source The object of property values to match.
 * @param {Array} matchData The property names, values, and compare flags to match.
 * @param {Function} [customizer] The function to customize comparisons.
 * @returns {boolean} Returns `true` if `object` is a match, else `false`.
 */
function baseIsMatch(object, source, matchData, customizer) {
  var index = matchData.length,
      length = index,
      noCustomizer = !customizer;

  if (object == null) {
    return !length;
  }
  object = Object(object);
  while (index--) {
    var data = matchData[index];
    if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {
      return false;
    }
  }
  while (++index < length) {
    data = matchData[index];
    var key = data[0],
        objValue = object[key],
        srcValue = data[1];

    if (noCustomizer && data[2]) {
      if (objValue === undefined && !(key in object)) {
        return false;
      }
    } else {
      var stack = new Stack();
      if (customizer) {
        var result = customizer(objValue, srcValue, key, object, source, stack);
      }
      if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack) : result)) {
        return false;
      }
    }
  }
  return true;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objectToString.call(value)];
}

/**
 * The base implementation of `_.iteratee`.
 *
 * @private
 * @param {*} [value=_.identity] The value to convert to an iteratee.
 * @returns {Function} Returns the iteratee.
 */
function baseIteratee(value) {
  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
  if (typeof value == 'function') {
    return value;
  }
  if (value == null) {
    return identity;
  }
  if ((typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object') {
    return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);
  }
  return property(value);
}

/**
 * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeys(object) {
  if (!isPrototype(object)) {
    return nativeKeys(object);
  }
  var result = [];
  for (var key in Object(object)) {
    if (hasOwnProperty.call(object, key) && key != 'constructor') {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.map` without support for iteratee shorthands.
 *
 * @private
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function baseMap(collection, iteratee) {
  var index = -1,
      result = isArrayLike(collection) ? Array(collection.length) : [];

  baseEach(collection, function (value, key, collection) {
    result[++index] = iteratee(value, key, collection);
  });
  return result;
}

/**
 * The base implementation of `_.matches` which doesn't clone `source`.
 *
 * @private
 * @param {Object} source The object of property values to match.
 * @returns {Function} Returns the new spec function.
 */
function baseMatches(source) {
  var matchData = getMatchData(source);
  if (matchData.length == 1 && matchData[0][2]) {
    return matchesStrictComparable(matchData[0][0], matchData[0][1]);
  }
  return function (object) {
    return object === source || baseIsMatch(object, source, matchData);
  };
}

/**
 * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
 *
 * @private
 * @param {string} path The path of the property to get.
 * @param {*} srcValue The value to match.
 * @returns {Function} Returns the new spec function.
 */
function baseMatchesProperty(path, srcValue) {
  if (isKey(path) && isStrictComparable(srcValue)) {
    return matchesStrictComparable(toKey(path), srcValue);
  }
  return function (object) {
    var objValue = get(object, path);
    return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);
  };
}

/**
 * A specialized version of `baseProperty` which supports deep paths.
 *
 * @private
 * @param {Array|string} path The path of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyDeep(path) {
  return function (object) {
    return baseGet(object, path);
  };
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Creates a `baseEach` or `baseEachRight` function.
 *
 * @private
 * @param {Function} eachFunc The function to iterate over a collection.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseEach(eachFunc, fromRight) {
  return function (collection, iteratee) {
    if (collection == null) {
      return collection;
    }
    if (!isArrayLike(collection)) {
      return eachFunc(collection, iteratee);
    }
    var length = collection.length,
        index = fromRight ? length : -1,
        iterable = Object(collection);

    while (fromRight ? index-- : ++index < length) {
      if (iteratee(iterable[index], index, iterable) === false) {
        break;
      }
    }
    return collection;
  };
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function (object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * A specialized version of `baseIsEqualDeep` for arrays with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Array} array The array to compare.
 * @param {Array} other The other array to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} customizer The function to customize comparisons.
 * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} stack Tracks traversed `array` and `other` objects.
 * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
 */
function equalArrays(array, other, equalFunc, customizer, bitmask, stack) {
  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,
      arrLength = array.length,
      othLength = other.length;

  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
    return false;
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(array);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var index = -1,
      result = true,
      seen = bitmask & UNORDERED_COMPARE_FLAG ? new SetCache() : undefined;

  stack.set(array, other);
  stack.set(other, array);

  // Ignore non-index properties.
  while (++index < arrLength) {
    var arrValue = array[index],
        othValue = other[index];

    if (customizer) {
      var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);
    }
    if (compared !== undefined) {
      if (compared) {
        continue;
      }
      result = false;
      break;
    }
    // Recursively compare arrays (susceptible to call stack limits).
    if (seen) {
      if (!arraySome(other, function (othValue, othIndex) {
        if (!seen.has(othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {
          return seen.add(othIndex);
        }
      })) {
        result = false;
        break;
      }
    } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {
      result = false;
      break;
    }
  }
  stack['delete'](array);
  stack['delete'](other);
  return result;
}

/**
 * A specialized version of `baseIsEqualDeep` for comparing objects of
 * the same `toStringTag`.
 *
 * **Note:** This function only supports comparing values with tags of
 * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {string} tag The `toStringTag` of the objects to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} customizer The function to customize comparisons.
 * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {
  switch (tag) {
    case dataViewTag:
      if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
        return false;
      }
      object = object.buffer;
      other = other.buffer;

    case arrayBufferTag:
      if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
        return false;
      }
      return true;

    case boolTag:
    case dateTag:
    case numberTag:
      // Coerce booleans to `1` or `0` and dates to milliseconds.
      // Invalid dates are coerced to `NaN`.
      return eq(+object, +other);

    case errorTag:
      return object.name == other.name && object.message == other.message;

    case regexpTag:
    case stringTag:
      // Coerce regexes to strings and treat strings, primitives and objects,
      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
      // for more details.
      return object == other + '';

    case mapTag:
      var convert = mapToArray;

    case setTag:
      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;
      convert || (convert = setToArray);

      if (object.size != other.size && !isPartial) {
        return false;
      }
      // Assume cyclic values are equal.
      var stacked = stack.get(object);
      if (stacked) {
        return stacked == other;
      }
      bitmask |= UNORDERED_COMPARE_FLAG;

      // Recursively compare objects (susceptible to call stack limits).
      stack.set(object, other);
      var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);
      stack['delete'](object);
      return result;

    case symbolTag:
      if (symbolValueOf) {
        return symbolValueOf.call(object) == symbolValueOf.call(other);
      }
  }
  return false;
}

/**
 * A specialized version of `baseIsEqualDeep` for objects with support for
 * partial deep comparisons.
 *
 * @private
 * @param {Object} object The object to compare.
 * @param {Object} other The other object to compare.
 * @param {Function} equalFunc The function to determine equivalents of values.
 * @param {Function} customizer The function to customize comparisons.
 * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`
 *  for more details.
 * @param {Object} stack Tracks traversed `object` and `other` objects.
 * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
 */
function equalObjects(object, other, equalFunc, customizer, bitmask, stack) {
  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,
      objProps = keys(object),
      objLength = objProps.length,
      othProps = keys(other),
      othLength = othProps.length;

  if (objLength != othLength && !isPartial) {
    return false;
  }
  var index = objLength;
  while (index--) {
    var key = objProps[index];
    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
      return false;
    }
  }
  // Assume cyclic values are equal.
  var stacked = stack.get(object);
  if (stacked && stack.get(other)) {
    return stacked == other;
  }
  var result = true;
  stack.set(object, other);
  stack.set(other, object);

  var skipCtor = isPartial;
  while (++index < objLength) {
    key = objProps[index];
    var objValue = object[key],
        othValue = other[key];

    if (customizer) {
      var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);
    }
    // Recursively compare objects (susceptible to call stack limits).
    if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack) : compared)) {
      result = false;
      break;
    }
    skipCtor || (skipCtor = key == 'constructor');
  }
  if (result && !skipCtor) {
    var objCtor = object.constructor,
        othCtor = other.constructor;

    // Non `Object` object instances with different constructors are not equal.
    if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {
      result = false;
    }
  }
  stack['delete'](object);
  stack['delete'](other);
  return result;
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;
}

/**
 * Gets the property names, values, and compare flags of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the match data of `object`.
 */
function getMatchData(object) {
  var result = keys(object),
      length = result.length;

  while (length--) {
    var key = result[length],
        value = object[key];

    result[length] = [key, value, isStrictComparable(value)];
  }
  return result;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Gets the `toStringTag` of `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
var getTag = baseGetTag;

// Fallback for data views, maps, sets, and weak maps in IE 11,
// for data views in Edge < 14, and promises in Node.js.
if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {
  getTag = function getTag(value) {
    var result = objectToString.call(value),
        Ctor = result == objectTag ? value.constructor : undefined,
        ctorString = Ctor ? toSource(Ctor) : undefined;

    if (ctorString) {
      switch (ctorString) {
        case dataViewCtorString:
          return dataViewTag;
        case mapCtorString:
          return mapTag;
        case promiseCtorString:
          return promiseTag;
        case setCtorString:
          return setTag;
        case weakMapCtorString:
          return weakMapTag;
      }
    }
    return result;
  };
}

/**
 * Checks if `path` exists on `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path to check.
 * @param {Function} hasFunc The function to check properties.
 * @returns {boolean} Returns `true` if `path` exists, else `false`.
 */
function hasPath(object, path, hasFunc) {
  path = isKey(path, object) ? [path] : castPath(path);

  var result,
      index = -1,
      length = path.length;

  while (++index < length) {
    var key = toKey(path[index]);
    if (!(result = object != null && hasFunc(object, key))) {
      break;
    }
    object = object[key];
  }
  if (result) {
    return result;
  }
  var length = object ? object.length : 0;
  return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && maskSrcKey in func;
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;

  return value === proto;
}

/**
 * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` if suitable for strict
 *  equality comparisons, else `false`.
 */
function isStrictComparable(value) {
  return value === value && !isObject(value);
}

/**
 * A specialized version of `matchesProperty` for source values suitable
 * for strict equality comparisons, i.e. `===`.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @param {*} srcValue The value to match.
 * @returns {Function} Returns the new spec function.
 */
function matchesStrictComparable(key, srcValue) {
  return function (object) {
    if (object == null) {
      return false;
    }
    return object[key] === srcValue && (srcValue !== undefined || key in Object(object));
  };
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function (string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function (match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : number || match);
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return func + '';
    } catch (e) {}
  }
  return '';
}

/**
 * Creates an array of values by running each element in `collection` thru
 * `iteratee`. The iteratee is invoked with three arguments:
 * (value, index|key, collection).
 *
 * Many lodash methods are guarded to work as iteratees for methods like
 * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.
 *
 * The guarded methods are:
 * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,
 * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,
 * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,
 * `template`, `trim`, `trimEnd`, `trimStart`, and `words`
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Collection
 * @param {Array|Object} collection The collection to iterate over.
 * @param {Function} [iteratee=_.identity] The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 * @example
 *
 * function square(n) {
 *   return n * n;
 * }
 *
 * _.map([4, 8], square);
 * // => [16, 64]
 *
 * _.map({ 'a': 4, 'b': 8 }, square);
 * // => [16, 64] (iteration order is not guaranteed)
 *
 * var users = [
 *   { 'user': 'barney' },
 *   { 'user': 'fred' }
 * ];
 *
 * // The `_.property` iteratee shorthand.
 * _.map(users, 'user');
 * // => ['barney', 'fred']
 */
function map(collection, iteratee) {
  var func = isArray(collection) ? arrayMap : baseMap;
  return func(collection, baseIteratee(iteratee, 3));
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || resolver && typeof resolver != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function memoized() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache)();
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || value !== value && other !== other;
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

/**
 * Checks if `path` is a direct or inherited property of `object`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path to check.
 * @returns {boolean} Returns `true` if `path` exists, else `false`.
 * @example
 *
 * var object = _.create({ 'a': _.create({ 'b': 2 }) });
 *
 * _.hasIn(object, 'a');
 * // => true
 *
 * _.hasIn(object, 'a.b');
 * // => true
 *
 * _.hasIn(object, ['a', 'b']);
 * // => true
 *
 * _.hasIn(object, 'b');
 * // => false
 */
function hasIn(object, path) {
  return object != null && hasPath(object, path, baseHasIn);
}

/**
 * Creates an array of the own enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects. See the
 * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * for more details.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keys(new Foo);
 * // => ['a', 'b'] (iteration order is not guaranteed)
 *
 * _.keys('hi');
 * // => ['0', '1']
 */
function keys(object) {
  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * Creates a function that returns the value at `path` of a given object.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {Array|string} path The path of the property to get.
 * @returns {Function} Returns the new accessor function.
 * @example
 *
 * var objects = [
 *   { 'a': { 'b': 2 } },
 *   { 'a': { 'b': 1 } }
 * ];
 *
 * _.map(objects, _.property('a.b'));
 * // => [2, 1]
 *
 * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
 * // => [1, 2]
 */
function property(path) {
  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
}

module.exports = map;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22), __webpack_require__(76)(module)))

/***/ }),
/* 341 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = (typeof self === 'undefined' ? 'undefined' : (0, _typeof3.default)(self)) == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = function () {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? 'Symbol(src)_1.' + uid : '';
}();

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$');

/** Built-in value references. */
var _Symbol = root.Symbol,
    splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = _Symbol ? _Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash(),
    'map': new (Map || ListCache)(),
    'string': new Hash()
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) || value === undefined && !(key in object)) {
    object[key] = value;
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.set`.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @param {Function} [customizer] The function to customize path creation.
 * @returns {Object} Returns `object`.
 */
function baseSet(object, path, value, customizer) {
  if (!isObject(object)) {
    return object;
  }
  path = isKey(path, object) ? [path] : castPath(path);

  var index = -1,
      length = path.length,
      lastIndex = length - 1,
      nested = object;

  while (nested != null && ++index < length) {
    var key = toKey(path[index]),
        newValue = value;

    if (index != lastIndex) {
      var objValue = nested[key];
      newValue = customizer ? customizer(objValue, key, nested) : undefined;
      if (newValue === undefined) {
        newValue = isObject(objValue) ? objValue : isIndex(path[index + 1]) ? [] : {};
      }
    }
    assignValue(nested, key, newValue);
    nested = nested[key];
  }
  return object;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && maskSrcKey in func;
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function (string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function (match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : number || match);
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = value + '';
  return result == '0' && 1 / value == -INFINITY ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return func + '';
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || resolver && typeof resolver != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function memoized() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache)();
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || value !== value && other !== other;
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
 * it's created. Arrays are created for missing index properties while objects
 * are created for all other missing properties. Use `_.setWith` to customize
 * `path` creation.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.set(object, 'a[0].b.c', 4);
 * console.log(object.a[0].b.c);
 * // => 4
 *
 * _.set(object, ['x', '0', 'y', 'z'], 5);
 * console.log(object.x[0].y.z);
 * // => 5
 */
function set(object, path, value) {
  return object == null ? object : baseSet(object, path, value);
}

module.exports = set;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 342 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_INTEGER = 1.7976931348623157e+308,
    NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/**
 * The base implementation of `_.slice` without an iteratee call guard.
 *
 * @private
 * @param {Array} array The array to slice.
 * @param {number} [start=0] The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the slice of `array`.
 */
function baseSlice(array, start, end) {
  var index = -1,
      length = array.length;

  if (start < 0) {
    start = -start > length ? 0 : length + start;
  }
  end = end > length ? length : end;
  if (end < 0) {
    end += length;
  }
  length = start > end ? 0 : end - start >>> 0;
  start >>>= 0;

  var result = Array(length);
  while (++index < length) {
    result[index] = array[index + start];
  }
  return result;
}

/**
 * Creates a slice of `array` with `n` elements taken from the beginning.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {Array} array The array to query.
 * @param {number} [n=1] The number of elements to take.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the slice of `array`.
 * @example
 *
 * _.take([1, 2, 3]);
 * // => [1]
 *
 * _.take([1, 2, 3], 2);
 * // => [1, 2]
 *
 * _.take([1, 2, 3], 5);
 * // => [1, 2, 3]
 *
 * _.take([1, 2, 3], 0);
 * // => []
 */
function take(array, n, guard) {
  if (!(array && array.length)) {
    return [];
  }
  n = guard || n === undefined ? 1 : toInteger(n);
  return baseSlice(array, 0, n < 0 ? 0 : n);
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Converts `value` to a finite number.
 *
 * @static
 * @memberOf _
 * @since 4.12.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted number.
 * @example
 *
 * _.toFinite(3.2);
 * // => 3.2
 *
 * _.toFinite(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toFinite(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toFinite('3.2');
 * // => 3.2
 */
function toFinite(value) {
  if (!value) {
    return value === 0 ? value : 0;
  }
  value = toNumber(value);
  if (value === INFINITY || value === -INFINITY) {
    var sign = value < 0 ? -1 : 1;
    return sign * MAX_INTEGER;
  }
  return value === value ? value : 0;
}

/**
 * Converts `value` to an integer.
 *
 * **Note:** This method is loosely based on
 * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {number} Returns the converted integer.
 * @example
 *
 * _.toInteger(3.2);
 * // => 3
 *
 * _.toInteger(Number.MIN_VALUE);
 * // => 0
 *
 * _.toInteger(Infinity);
 * // => 1.7976931348623157e+308
 *
 * _.toInteger('3.2');
 * // => 3
 */
function toInteger(value) {
  var result = toFinite(value),
      remainder = result % 1;

  return result === result ? remainder ? result - remainder : result : 0;
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? other + '' : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
}

module.exports = take;

/***/ }),
/* 343 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/** Detect free variable `global` from Node.js. */
var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = (typeof self === 'undefined' ? 'undefined' : (0, _typeof3.default)(self)) == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function now() {
  return root.Date.now();
};

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        result = wait - timeSinceLastCall;

    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;
}

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? other + '' : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;
}

module.exports = throttle;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 344 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]';

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0:
      return func.call(thisArg);
    case 1:
      return func.call(thisArg, args[0]);
    case 2:
      return func.call(thisArg, args[0], args[1]);
    case 3:
      return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.filter` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} predicate The function invoked per iteration.
 * @returns {Array} Returns the new filtered array.
 */
function arrayFilter(array, predicate) {
  var index = -1,
      length = array ? array.length : 0,
      resIndex = 0,
      result = [];

  while (++index < length) {
    var value = array[index];
    if (predicate(value, index, array)) {
      result[resIndex++] = value;
    }
  }
  return result;
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * The base implementation of `_.property` without support for deep paths.
 *
 * @private
 * @param {string} key The key of the property to get.
 * @returns {Function} Returns the new accessor function.
 */
function baseProperty(key) {
  return function (object) {
    return object == null ? undefined : object[key];
  };
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max;

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? func.length - 1 : start, 0);
  return function () {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * This method is like `_.zip` except that it accepts an array of grouped
 * elements and creates an array regrouping the elements to their pre-zip
 * configuration.
 *
 * @static
 * @memberOf _
 * @since 1.2.0
 * @category Array
 * @param {Array} array The array of grouped elements to process.
 * @returns {Array} Returns the new array of regrouped elements.
 * @example
 *
 * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);
 * // => [['a', 1, true], ['b', 2, false]]
 *
 * _.unzip(zipped);
 * // => [['a', 'b'], [1, 2], [true, false]]
 */
function unzip(array) {
  if (!(array && array.length)) {
    return [];
  }
  var length = 0;
  array = arrayFilter(array, function (group) {
    if (isArrayLikeObject(group)) {
      length = nativeMax(group.length, length);
      return true;
    }
  });
  return baseTimes(length, function (index) {
    return arrayMap(array, baseProperty(index));
  });
}

/**
 * Creates an array of grouped elements, the first of which contains the
 * first elements of the given arrays, the second of which contains the
 * second elements of the given arrays, and so on.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Array
 * @param {...Array} [arrays] The arrays to process.
 * @returns {Array} Returns the new array of grouped elements.
 * @example
 *
 * _.zip(['a', 'b'], [1, 2], [true, false]);
 * // => [['a', 1, true], ['b', 2, false]]
 */
var zip = baseRest(unzip);

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value);
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && (typeof value === 'undefined' ? 'undefined' : (0, _typeof3.default)(value)) == 'object';
}

module.exports = zip;

/***/ }),
/* 345 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getOwnPropertySymbols = __webpack_require__(80);

var _getOwnPropertySymbols2 = _interopRequireDefault(_getOwnPropertySymbols);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getOwnPropertySymbols = _getOwnPropertySymbols2.default;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!_assign2.default) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc'); // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if ((0, _getOwnPropertyNames2.default)(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = (0, _getOwnPropertyNames2.default)(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if ((0, _keys2.default)((0, _assign2.default)({}, test3)).join('') !== 'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? _assign2.default : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};

/***/ }),
/* 346 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var wrappy = __webpack_require__(433);
module.exports = wrappy(once);
module.exports.strict = wrappy(onceStrict);

once.proto = once(function () {
  Object.defineProperty(Function.prototype, 'once', {
    value: function value() {
      return once(this);
    },
    configurable: true
  });

  Object.defineProperty(Function.prototype, 'onceStrict', {
    value: function value() {
      return onceStrict(this);
    },
    configurable: true
  });
});

function once(fn) {
  var f = function f() {
    if (f.called) return f.value;
    f.called = true;
    return f.value = fn.apply(this, arguments);
  };
  f.called = false;
  return f;
}

function onceStrict(fn) {
  var f = function f() {
    if (f.called) throw new Error(f.onceError);
    f.called = true;
    return f.value = fn.apply(this, arguments);
  };
  var name = fn.name || 'Function wrapped with `once`';
  f.onceError = name + " shouldn't be called more than once";
  f.called = false;
  return f;
}

/***/ }),
/* 347 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
License: MIT - http://mrgnrdrck.mit-license.org

https://github.com/mroderick/PubSubJS
*/
(function (root, factory) {
	'use strict';

	if (true) {
		// AMD. Register as an anonymous module.
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else if ((typeof exports === 'undefined' ? 'undefined' : (0, _typeof3.default)(exports)) === 'object') {
		// CommonJS
		factory(exports);
	}

	// Browser globals
	var PubSub = {};
	root.PubSub = PubSub;
	factory(PubSub);
})((typeof window === 'undefined' ? 'undefined' : (0, _typeof3.default)(window)) === 'object' && window || undefined, function (PubSub) {
	'use strict';

	var messages = {},
	    lastUid = -1;

	function hasKeys(obj) {
		var key;

		for (key in obj) {
			if (obj.hasOwnProperty(key)) {
				return true;
			}
		}
		return false;
	}

	/**
  *	Returns a function that throws the passed exception, for use as argument for setTimeout
  *	@param { Object } ex An Error object
  */
	function throwException(ex) {
		return function reThrowException() {
			throw ex;
		};
	}

	function callSubscriberWithDelayedExceptions(subscriber, message, data) {
		try {
			subscriber(message, data);
		} catch (ex) {
			setTimeout(throwException(ex), 0);
		}
	}

	function callSubscriberWithImmediateExceptions(subscriber, message, data) {
		subscriber(message, data);
	}

	function deliverMessage(originalMessage, matchedMessage, data, immediateExceptions) {
		var subscribers = messages[matchedMessage],
		    callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,
		    s;

		if (!messages.hasOwnProperty(matchedMessage)) {
			return;
		}

		for (s in subscribers) {
			if (subscribers.hasOwnProperty(s)) {
				callSubscriber(subscribers[s], originalMessage, data);
			}
		}
	}

	function createDeliveryFunction(message, data, immediateExceptions) {
		return function deliverNamespaced() {
			var topic = String(message),
			    position = topic.lastIndexOf('.');

			// deliver the message as it is now
			deliverMessage(message, message, data, immediateExceptions);

			// trim the hierarchy and deliver message to each level
			while (position !== -1) {
				topic = topic.substr(0, position);
				position = topic.lastIndexOf('.');
				deliverMessage(message, topic, data, immediateExceptions);
			}
		};
	}

	function messageHasSubscribers(message) {
		var topic = String(message),
		    found = Boolean(messages.hasOwnProperty(topic) && hasKeys(messages[topic])),
		    position = topic.lastIndexOf('.');

		while (!found && position !== -1) {
			topic = topic.substr(0, position);
			position = topic.lastIndexOf('.');
			found = Boolean(messages.hasOwnProperty(topic) && hasKeys(messages[topic]));
		}

		return found;
	}

	function publish(message, data, sync, immediateExceptions) {
		var deliver = createDeliveryFunction(message, data, immediateExceptions),
		    hasSubscribers = messageHasSubscribers(message);

		if (!hasSubscribers) {
			return false;
		}

		if (sync === true) {
			deliver();
		} else {
			setTimeout(deliver, 0);
		}
		return true;
	}

	/**
  *	PubSub.publish( message[, data] ) -> Boolean
  *	- message (String): The message to publish
  *	- data: The data to pass to subscribers
  *	Publishes the the message, passing the data to it's subscribers
 **/
	PubSub.publish = function (message, data) {
		return publish(message, data, false, PubSub.immediateExceptions);
	};

	/**
  *	PubSub.publishSync( message[, data] ) -> Boolean
  *	- message (String): The message to publish
  *	- data: The data to pass to subscribers
  *	Publishes the the message synchronously, passing the data to it's subscribers
 **/
	PubSub.publishSync = function (message, data) {
		return publish(message, data, true, PubSub.immediateExceptions);
	};

	/**
  *	PubSub.subscribe( message, func ) -> String
  *	- message (String): The message to subscribe to
  *	- func (Function): The function to call when a new message is published
  *	Subscribes the passed function to the passed message. Every returned token is unique and should be stored if
  *	you need to unsubscribe
 **/
	PubSub.subscribe = function (message, func) {
		if (typeof func !== 'function') {
			return false;
		}

		// message is not registered yet
		if (!messages.hasOwnProperty(message)) {
			messages[message] = {};
		}

		// forcing token as String, to allow for future expansions without breaking usage
		// and allow for easy use as key names for the 'messages' object
		var token = 'uid_' + String(++lastUid);
		messages[message][token] = func;

		// return token for unsubscribing
		return token;
	};

	/* Public: Clears all subscriptions
  */
	PubSub.clearAllSubscriptions = function clearAllSubscriptions() {
		messages = {};
	};

	/*Public: Clear subscriptions by the topic
 */
	PubSub.clearSubscriptions = function clearSubscriptions(topic) {
		var m;
		for (m in messages) {
			if (messages.hasOwnProperty(m) && m.indexOf(topic) === 0) {
				delete messages[m];
			}
		}
	};

	/* Public: removes subscriptions.
  * When passed a token, removes a specific subscription.
  * When passed a function, removes all subscriptions for that function
  * When passed a topic, removes all subscriptions for that topic (hierarchy)
  *
  * value - A token, function or topic to unsubscribe.
  *
  * Examples
  *
  *		// Example 1 - unsubscribing with a token
  *		var token = PubSub.subscribe('mytopic', myFunc);
  *		PubSub.unsubscribe(token);
  *
  *		// Example 2 - unsubscribing with a function
  *		PubSub.unsubscribe(myFunc);
  *
  *		// Example 3 - unsubscribing a topic
  *		PubSub.unsubscribe('mytopic');
  */
	PubSub.unsubscribe = function (value) {
		var descendantTopicExists = function descendantTopicExists(topic) {
			var m;
			for (m in messages) {
				if (messages.hasOwnProperty(m) && m.indexOf(topic) === 0) {
					// a descendant of the topic exists:
					return true;
				}
			}

			return false;
		},
		    isTopic = typeof value === 'string' && (messages.hasOwnProperty(value) || descendantTopicExists(value)),
		    isToken = !isTopic && typeof value === 'string',
		    isFunction = typeof value === 'function',
		    result = false,
		    m,
		    message,
		    t;

		if (isTopic) {
			PubSub.clearSubscriptions(value);
			return;
		}

		for (m in messages) {
			if (messages.hasOwnProperty(m)) {
				message = messages[m];

				if (isToken && message[value]) {
					delete message[value];
					result = value;
					// tokens are unique, so we can just stop here
					break;
				}

				if (isFunction) {
					for (t in message) {
						if (message.hasOwnProperty(t) && message[t] === value) {
							delete message[t];
							result = true;
						}
					}
				}
			}
		}

		return result;
	};
});

/***/ }),
/* 348 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module, global) {var __WEBPACK_AMD_DEFINE_RESULT__;

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*! https://mths.be/punycode v1.3.2 by @mathias */
;(function (root) {

	/** Detect free variables */
	var freeExports = ( false ? 'undefined' : (0, _typeof3.default)(exports)) == 'object' && exports && !exports.nodeType && exports;
	var freeModule = ( false ? 'undefined' : (0, _typeof3.default)(module)) == 'object' && module && !module.nodeType && module;
	var freeGlobal = (typeof global === 'undefined' ? 'undefined' : (0, _typeof3.default)(global)) == 'object' && global;
	if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal) {
		root = freeGlobal;
	}

	/**
  * The `punycode` object.
  * @name punycode
  * @type Object
  */
	var punycode,


	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647,
	    // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	    tMin = 1,
	    tMax = 26,
	    skew = 38,
	    damp = 700,
	    initialBias = 72,
	    initialN = 128,
	    // 0x80
	delimiter = '-',
	    // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	    regexNonASCII = /[^\x20-\x7E]/,
	    // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g,
	    // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},


	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	    floor = Math.floor,
	    stringFromCharCode = String.fromCharCode,


	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
  * A generic error utility function.
  * @private
  * @param {String} type The error type.
  * @returns {Error} Throws a `RangeError` with the applicable error message.
  */
	function error(type) {
		throw RangeError(errors[type]);
	}

	/**
  * A generic `Array#map` utility function.
  * @private
  * @param {Array} array The array to iterate over.
  * @param {Function} callback The function that gets called for every array
  * item.
  * @returns {Array} A new array of values returned by the callback function.
  */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
  * A simple `Array#map`-like wrapper to work with domain name strings or email
  * addresses.
  * @private
  * @param {String} domain The domain name or email address.
  * @param {Function} callback The function that gets called for every
  * character.
  * @returns {Array} A new string of characters returned by the callback
  * function.
  */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
  * Creates an array containing the numeric code points of each Unicode
  * character in the string. While JavaScript uses UCS-2 internally,
  * this function will convert a pair of surrogate halves (each of which
  * UCS-2 exposes as separate characters) into a single code point,
  * matching UTF-16.
  * @see `punycode.ucs2.encode`
  * @see <https://mathiasbynens.be/notes/javascript-encoding>
  * @memberOf punycode.ucs2
  * @name decode
  * @param {String} string The Unicode input string (UCS-2).
  * @returns {Array} The new array of code points.
  */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) {
					// low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
  * Creates a string based on an array of numeric code points.
  * @see `punycode.ucs2.decode`
  * @memberOf punycode.ucs2
  * @name encode
  * @param {Array} codePoints The array of numeric code points.
  * @returns {String} The new Unicode string (UCS-2).
  */
	function ucs2encode(array) {
		return map(array, function (value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
  * Converts a basic code point into a digit/integer.
  * @see `digitToBasic()`
  * @private
  * @param {Number} codePoint The basic numeric code point value.
  * @returns {Number} The numeric value of a basic code point (for use in
  * representing integers) in the range `0` to `base - 1`, or `base` if
  * the code point does not represent a value.
  */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
  * Converts a digit/integer into a basic code point.
  * @see `basicToDigit()`
  * @private
  * @param {Number} digit The numeric value of a basic code point.
  * @returns {Number} The basic code point whose value (when used for
  * representing integers) is `digit`, which needs to be in the range
  * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
  * used; else, the lowercase form is used. The behavior is undefined
  * if `flag` is non-zero and `digit` has no uppercase form.
  */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
  * Bias adaptation function as per section 3.4 of RFC 3492.
  * http://tools.ietf.org/html/rfc3492#section-3.4
  * @private
  */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
  * Converts a Punycode string of ASCII-only symbols to a string of Unicode
  * symbols.
  * @memberOf punycode
  * @param {String} input The Punycode string of ASCII-only symbols.
  * @returns {String} The resulting string of Unicode symbols.
  */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,

		/** Cached calculation results */
		baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base;; /* no condition */k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;
			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);
		}

		return ucs2encode(output);
	}

	/**
  * Converts a string of Unicode symbols (e.g. a domain name label) to a
  * Punycode string of ASCII-only symbols.
  * @memberOf punycode
  * @param {String} input The string of Unicode symbols.
  * @returns {String} The resulting Punycode string of ASCII-only symbols.
  */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],

		/** `inputLength` will hold the number of code points in `input`. */
		inputLength,

		/** Cached calculation results */
		handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base;; /* no condition */k += base) {
						t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;
		}
		return output.join('');
	}

	/**
  * Converts a Punycode string representing a domain name or an email address
  * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
  * it doesn't matter if you call it on a string that has already been
  * converted to Unicode.
  * @memberOf punycode
  * @param {String} input The Punycoded domain name or email address to
  * convert to Unicode.
  * @returns {String} The Unicode representation of the given Punycode
  * string.
  */
	function toUnicode(input) {
		return mapDomain(input, function (string) {
			return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
		});
	}

	/**
  * Converts a Unicode string representing a domain name or an email address to
  * Punycode. Only the non-ASCII parts of the domain name will be converted,
  * i.e. it doesn't matter if you call it with a domain that's already in
  * ASCII.
  * @memberOf punycode
  * @param {String} input The domain name or email address to convert, as a
  * Unicode string.
  * @returns {String} The Punycode representation of the given domain name or
  * email address.
  */
	function toASCII(input) {
		return mapDomain(input, function (string) {
			return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
   * A string representing the current Punycode.js version number.
   * @memberOf punycode
   * @type String
   */
		'version': '1.3.2',
		/**
   * An object of methods to convert from JavaScript's internal character
   * representation (UCS-2) to Unicode code points, and back.
   * @see <https://mathiasbynens.be/notes/javascript-encoding>
   * @memberOf punycode
   * @type Object
   */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if ("function" == 'function' && (0, _typeof3.default)(__webpack_require__(118)) == 'object' && __webpack_require__(118)) {
		!(__WEBPACK_AMD_DEFINE_RESULT__ = function () {
			return punycode;
		}.call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else if (freeExports && freeModule) {
		if (module.exports == freeExports) {
			// in Node.js or RingoJS v0.8.0+
			freeModule.exports = punycode;
		} else {
			// in Narwhal or RingoJS v0.7.0-
			for (key in punycode) {
				punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);
			}
		}
	} else {
		// in Rhino or a web browser
		root.punycode = punycode;
	}
})(undefined);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(76)(module), __webpack_require__(22)))

/***/ }),
/* 349 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var strictUriEncode = __webpack_require__(415);
var objectAssign = __webpack_require__(345);

function encoderForArrayFormat(opts) {
	switch (opts.arrayFormat) {
		case 'index':
			return function (key, value, index) {
				return value === null ? [encode(key, opts), '[', index, ']'].join('') : [encode(key, opts), '[', encode(index, opts), ']=', encode(value, opts)].join('');
			};

		case 'bracket':
			return function (key, value) {
				return value === null ? encode(key, opts) : [encode(key, opts), '[]=', encode(value, opts)].join('');
			};

		default:
			return function (key, value) {
				return value === null ? encode(key, opts) : [encode(key, opts), '=', encode(value, opts)].join('');
			};
	}
}

function parserForArrayFormat(opts) {
	var result;

	switch (opts.arrayFormat) {
		case 'index':
			return function (key, value, accumulator) {
				result = /\[(\d*)\]$/.exec(key);

				key = key.replace(/\[\d*\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				}

				if (accumulator[key] === undefined) {
					accumulator[key] = {};
				}

				accumulator[key][result[1]] = value;
			};

		case 'bracket':
			return function (key, value, accumulator) {
				result = /(\[\])$/.exec(key);

				key = key.replace(/\[\]$/, '');

				if (!result || accumulator[key] === undefined) {
					accumulator[key] = value;
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};

		default:
			return function (key, value, accumulator) {
				if (accumulator[key] === undefined) {
					accumulator[key] = value;
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};
	}
}

function encode(value, opts) {
	if (opts.encode) {
		return opts.strict ? strictUriEncode(value) : encodeURIComponent(value);
	}

	return value;
}

function keysSorter(input) {
	if (Array.isArray(input)) {
		return input.sort();
	} else if ((typeof input === 'undefined' ? 'undefined' : (0, _typeof3.default)(input)) === 'object') {
		return keysSorter((0, _keys2.default)(input)).sort(function (a, b) {
			return Number(a) - Number(b);
		}).map(function (key) {
			return input[key];
		});
	}

	return input;
}

exports.extract = function (str) {
	return str.split('?')[1] || '';
};

exports.parse = function (str, opts) {
	opts = objectAssign({ arrayFormat: 'none' }, opts);

	var formatter = parserForArrayFormat(opts);

	// Create an object with no prototype
	// https://github.com/sindresorhus/query-string/issues/47
	var ret = (0, _create2.default)(null);

	if (typeof str !== 'string') {
		return ret;
	}

	str = str.trim().replace(/^(\?|#|&)/, '');

	if (!str) {
		return ret;
	}

	str.split('&').forEach(function (param) {
		var parts = param.replace(/\+/g, ' ').split('=');
		// Firefox (pre 40) decodes `%3D` to `=`
		// https://github.com/sindresorhus/query-string/pull/37
		var key = parts.shift();
		var val = parts.length > 0 ? parts.join('=') : undefined;

		// missing `=` should be `null`:
		// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
		val = val === undefined ? null : decodeURIComponent(val);

		formatter(decodeURIComponent(key), val, ret);
	});

	return (0, _keys2.default)(ret).sort().reduce(function (result, key) {
		var val = ret[key];
		if (Boolean(val) && (typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val)) === 'object' && !Array.isArray(val)) {
			// Sort object keys, not values
			result[key] = keysSorter(val);
		} else {
			result[key] = val;
		}

		return result;
	}, (0, _create2.default)(null));
};

exports.stringify = function (obj, opts) {
	var defaults = {
		encode: true,
		strict: true,
		arrayFormat: 'none'
	};

	opts = objectAssign(defaults, opts);

	var formatter = encoderForArrayFormat(opts);

	return obj ? (0, _keys2.default)(obj).sort().map(function (key) {
		var val = obj[key];

		if (val === undefined) {
			return '';
		}

		if (val === null) {
			return encode(key, opts);
		}

		if (Array.isArray(val)) {
			var result = [];

			val.slice().forEach(function (val2) {
				if (val2 === undefined) {
					return;
				}

				result.push(formatter(key, val2, result.length));
			});

			return result.join('&');
		}

		return encode(key, opts) + '=' + encode(val, opts);
	}).filter(function (x) {
		return x.length > 0;
	}).join('&') : '';
};

/***/ }),
/* 350 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function (qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr,
        vstr,
        k,
        v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

/***/ }),
/* 351 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.



var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var stringifyPrimitive = function stringifyPrimitive(v) {
  switch (typeof v === 'undefined' ? 'undefined' : (0, _typeof3.default)(v)) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function (obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if ((typeof obj === 'undefined' ? 'undefined' : (0, _typeof3.default)(obj)) === 'object') {
    return map(objectKeys(obj), function (k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function (v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);
  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map(xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = _keys2.default || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};

/***/ }),
/* 352 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 Radio.js - Chainable, Dependency Free Publish/Subscribe for Javascript
 http://radio.uxder.com
 Author: Scott Murphy 2011
 twitter: @hellocreation, github: uxder
 
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:
 
 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.
 
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 */
(function (name, global, definition) {
	if (true) module.exports = definition(name, global);else if (typeof define === 'function' && (0, _typeof3.default)(define.amd) === 'object') define(definition);else global[name] = definition(name, global);
})('radio', undefined, function (name, global) {

	"use strict";

	/**
  * Main Wrapper for radio.$ and create a function radio to accept the channelName
  * @param {String} channelName topic of event
  */

	function radio(channelName) {
		radio.$.channel(channelName);
		return radio.$;
	}

	radio.$ = {
		version: '0.2',
		channelName: "",
		channels: [],
		/**
   * Broadcast (publish)
   * Iterate through all listeners (callbacks) in current channel and pass arguments to subscribers
   * @param arguments data to be sent to listeners
   * @example
   *    //basic usage
   *    radio('channel1').broadcast('my message'); 
   *    //send an unlimited number of parameters
   *    radio('channel2').broadcast(param1, param2, param3 ... );
   */
		broadcast: function broadcast() {
			var i,
			    c = this.channels[this.channelName],
			    l = c.length,
			    subscriber,
			    callback,
			    context;
			//iterate through current channel and run each subscriber
			for (i = 0; i < l; i++) {
				subscriber = c[i];
				//if subscriber was an array, set the callback and context.
				if ((typeof subscriber === 'undefined' ? 'undefined' : (0, _typeof3.default)(subscriber)) === 'object' && subscriber.length) {
					callback = subscriber[0];
					//if user set the context, set it to the context otherwise, it is a globally scoped function
					context = subscriber[1] || global;
				}
				callback.apply(context, arguments);
			}
			return this;
		},

		/**
   * Create the channel if it doesn't exist and set the current channel/event name
   * @param {String} name the name of the channel
   * @example
   *    radio('channel1');
   */
		channel: function channel(name) {
			var c = this.channels;
			//create a new channel if it doesn't exists
			if (!c[name]) c[name] = [];
			this.channelName = name;
			return this;
		},

		/**
   * Add Subscriber to channel
   * Take the arguments and add it to the this.channels array.
   * @param {Function|Array} arguments list of callbacks or arrays[callback, context] separated by commas
   * @example
   *      //basic usage
   *      var callback = function() {};
   *      radio('channel1').subscribe(callback); 
   *
   *      //subscribe an endless amount of callbacks
   *      radio('channel1').subscribe(callback, callback2, callback3 ...);
   *
   *      //adding callbacks with context
   *      radio('channel1').subscribe([callback, context],[callback1, context], callback3);
   *     
   *      //subscribe by chaining
   *      radio('channel1').subscribe(callback).radio('channel2').subscribe(callback).subscribe(callback2);
   */
		subscribe: function subscribe() {
			var a = arguments,
			    c = this.channels[this.channelName],
			    i,
			    l = a.length,
			    p,
			    ai = [];

			//run through each arguments and subscribe it to the channel
			for (i = 0; i < l; i++) {
				ai = a[i];
				//if the user sent just a function, wrap the fucntion in an array [function]
				p = typeof ai === "function" ? [ai] : ai;
				if ((typeof p === 'undefined' ? 'undefined' : (0, _typeof3.default)(p)) === 'object' && p.length) c.push(p);
			}
			return this;
		},

		/**
   * Remove subscriber from channel
   * Take arguments with functions and unsubscribe it if there is a match against existing subscribers.
   * @param {Function} arguments callbacks separated by commas
   * @example
   *      //basic usage
   *      radio('channel1').unsubscribe(callback); 
   *      //you can unsubscribe as many callbacks as you want
   *      radio('channel1').unsubscribe(callback, callback2, callback3 ...);
   *       //removing callbacks with context is the same
   *      radio('channel1').subscribe([callback, context]).unsubscribe(callback);
   */
		unsubscribe: function unsubscribe() {
			var a = arguments,
			    i,
			    j,
			    c = this.channels[this.channelName],
			    l = a.length,
			    cl = c.length,
			    offset = 0,
			    jo;
			//loop through each argument
			for (i = 0; i < l; i++) {
				//need to reset vars that change as the channel array items are removed
				offset = 0;
				cl = c.length;
				//loop through the channel
				for (j = 0; j < cl; j++) {
					jo = j - offset;
					//if there is a match with the argument and the channel function, unsubscribe it from the channel array
					if (c[jo][0] === a[i]) {
						//unsubscribe matched item from the channel array
						c.splice(jo, 1);
						offset++;
					}
				}
			}
			return this;
		}
	};

	return radio;
});

/***/ }),
/* 353 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module componentWrapper
 *
 */


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ('value' in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _get = function get(_x2, _x3, _x4) {
  var _again = true;_function: while (_again) {
    var object = _x2,
        property = _x3,
        receiver = _x4;_again = false;if (object === null) object = Function.prototype;var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);if (desc === undefined) {
      var parent = (0, _getPrototypeOf2.default)(object);if (parent === null) {
        return undefined;
      } else {
        _x2 = parent;_x3 = property;_x4 = receiver;_again = true;desc = parent = undefined;continue _function;
      }
    } else if ('value' in desc) {
      return desc.value;
    } else {
      var getter = desc.get;if (getter === undefined) {
        return undefined;
      }return getter.call(receiver);
    }
  }
};

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError('Cannot call a class as a function');
  }
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== 'function' && superClass !== null) {
    throw new TypeError('Super expression must either be null or a function, not ' + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _store = __webpack_require__(92);

var _store2 = _interopRequireDefault(_store);

var _event_handlers = __webpack_require__(188);

/**
 * componentWrapper
 *
 * @access public
 * @param {object} WrappedComponent React component class to be wrapped
 * @param {array} [keys] The key(s) bound to the class
 * @return {object} The higher-order function that wraps the decorated class
 */
function componentWrapper(WrappedComponent) {
  var keys = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];

  var KeyBoardHelper = function (_React$Component) {
    _inherits(KeyBoardHelper, _React$Component);

    function KeyBoardHelper(props) {
      _classCallCheck(this, KeyBoardHelper);

      _get((0, _getPrototypeOf2.default)(KeyBoardHelper.prototype), 'constructor', this).call(this, props);
      this.state = {
        event: null
      };
    }

    _createClass(KeyBoardHelper, [{
      key: 'componentDidMount',
      value: function componentDidMount() {
        (0, _event_handlers.onMount)(this);
      }
    }, {
      key: 'componentWillUnmount',
      value: function componentWillUnmount() {
        (0, _event_handlers.onUnmount)(this);
      }
    }, {
      key: 'handleKeyDown',
      value: function handleKeyDown(event) {
        var _this = this;

        // to simulate a keypress, set the event and then clear it in the callback
        this.setState({ event: event }, function () {
          return _this.setState({ event: null });
        });
      }
    }, {
      key: 'render',
      value: function render() {
        return _react2['default'].createElement(WrappedComponent, _extends({}, this.props, { keydown: this.state }));
      }
    }]);

    return KeyBoardHelper;
  }(_react2['default'].Component);

  _store2['default'].setBinding({ keys: keys, fn: KeyBoardHelper.prototype.handleKeyDown, target: KeyBoardHelper.prototype });

  return KeyBoardHelper;
}

exports['default'] = componentWrapper;
module.exports = exports['default'];

/***/ }),
/* 354 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module decorators
 *
 */


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _class_decorator = __webpack_require__(353);

var _class_decorator2 = _interopRequireDefault(_class_decorator);

var _method_decorator = __webpack_require__(355);

var _method_decorator2 = _interopRequireDefault(_method_decorator);

var _method_decorator_scoped = __webpack_require__(356);

var _method_decorator_scoped2 = _interopRequireDefault(_method_decorator_scoped);

/**
 * _decorator
 *
 * @access private
 * @param {Function} methodFn The method wrapper to delegate to, based on whether user has specified a scoped decorator or not
 * @param {Array} ...args Remainder of arguments passed in
 * @return {Function} The decorated class or method
 */
function _decorator(methodFn) {
  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    args[_key - 1] = arguments[_key];
  }

  // check the first argument to see if it's a user-supplied keycode or array
  // of keycodes, or if it's the wrapped class or method
  var testArg = args[0];
  var isArray = Array.isArray(testArg);

  // if the test argument is not an object or function, it is user-supplied
  // keycodes. else there are no arguments and it's just the wrapped class
  // (method decorators must have keycode arguments).
  if (isArray || ~['string', 'number'].indexOf(typeof testArg === 'undefined' ? 'undefined' : (0, _typeof3.default)(testArg))) {
    var _ret = function () {
      var keys = isArray ? testArg : args;

      // return the decorator function, which on the next call will look for
      // the presence of a method name to determine if this is a wrapped method
      // or component
      return {
        v: function v(target, methodName, descriptor) {
          return methodName ? methodFn({ target: target, descriptor: descriptor, keys: keys }) : (0, _class_decorator2['default'])(target, keys);
        }
      };
    }();

    if ((typeof _ret === 'undefined' ? 'undefined' : (0, _typeof3.default)(_ret)) === 'object') return _ret.v;
  } else {
    var methodName = args[1];

    // method decorators without keycode (which) arguments are not allowed.
    if (!methodName) {
      return _class_decorator2['default'].apply(undefined, args);
    } else {
      console.warn(methodName + ': Method decorators must have keycode arguments, so the decorator for this method will not do anything');
    }
  }
}

/**
 * keydownScoped
 *
 * Method decorator that will look for changes to its targeted component's
 * `keydown` props to decide when to trigger, rather than responding directly
 * to keydown events. This lets you specify a @keydown decorated class higher
 * up in the view hierarchy for larger scoping of keydown events, or for
 * programmatically sending keydown events as props into the components in order
 * to trigger decorated methods with matching keys.
 *
 * @access public
 * @param {Array} ...args  All (or no) arguments passed in from decoration
 * @return {Function} The decorated class or method
 */
function keydownScoped() {
  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  return _decorator.apply(undefined, [_method_decorator_scoped2['default']].concat(args));
}

/**
 * keydown
 *
 * The main decorator and default export, handles both classes and methods.
 *
 * @access public
 * @param {Array} ...args  All (or no) arguments passed in from decoration
 * @return {Function} The decorated class or method
 */
function keydown() {
  for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    args[_key3] = arguments[_key3];
  }

  return _decorator.apply(undefined, [_method_decorator2['default']].concat(args));
}

exports['default'] = keydown;
exports.keydownScoped = keydownScoped;

/***/ }),
/* 355 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module methodWrapper
 *
 */


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _store = __webpack_require__(92);

var _store2 = _interopRequireDefault(_store);

var _event_handlers = __webpack_require__(188);

/**
 * _isReactKeyDown
 *
 * @access private
 * @param {object} event The possibly synthetic event passed as an argument with
 * the method invocation.
 * @return {boolean}
 */
function _isReactKeyDown(event) {
  return event && (typeof event === 'undefined' ? 'undefined' : (0, _typeof3.default)(event)) === 'object' && event.nativeEvent instanceof window.KeyboardEvent && event.type === 'keydown';
}

/**
 * methodWrapper
 *
 * @access public
 * @param {object} args All arguments necessary for wrapping method
 * @param {object} args.target The decorated class
 * @param {object} args.descriptor Method descriptor
 * @param {array} args.keys The array of keys bound to the given method
 * @return {object} The method descriptor
 */
function methodWrapper(_ref) {
  var target = _ref.target;
  var descriptor = _ref.descriptor;
  var keys = _ref.keys;

  var fn = descriptor.value;

  // if we haven't already created a binding for this class (via another
  // decorated method), wrap these lifecycle methods.
  if (!_store2['default'].getBinding(target)) {
    (function () {
      var componentDidMount = target.componentDidMount;
      var componentWillUnmount = target.componentWillUnmount;

      target.componentDidMount = function () {
        (0, _event_handlers.onMount)(this);
        if (componentDidMount) return componentDidMount.call(this);
      };

      target.componentWillUnmount = function () {
        (0, _event_handlers.onUnmount)(this);
        if (componentWillUnmount) return componentWillUnmount.call(this);
      };
    })();
  }

  // add this binding of keys and method to the target's bindings
  _store2['default'].setBinding({ keys: keys, target: target, fn: fn });

  descriptor.value = function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var maybeEvent = args[0];

    if (_isReactKeyDown(maybeEvent)) {
      // proxy method in order to use @keydown as filter for keydown events coming
      // from an actual onKeyDown binding (as identified by react's addition of
      // 'nativeEvent' + type === 'keydown')
      return (0, _event_handlers._onKeyDown)(maybeEvent, true);
    } else if (!maybeEvent || !(maybeEvent instanceof window.KeyboardEvent) || maybeEvent.type !== 'keydown') {
      // if our first argument is a keydown event it is being handled by our
      // binding system. if it's anything else, just pass through.
      return fn.call.apply(fn, [this].concat(args));
    }
  };

  return descriptor;
}

exports['default'] = methodWrapper;
module.exports = exports['default'];

/***/ }),
/* 356 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module methodWrapperScoped
 *
 */


Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _libMatch_keys = __webpack_require__(189);

var _libMatch_keys2 = _interopRequireDefault(_libMatch_keys);

var _libParse_keys = __webpack_require__(190);

var _libParse_keys2 = _interopRequireDefault(_libParse_keys);

/**
 * _shouldTrigger
 *
 * @access private
 * @param {object} thisProps Exsting props from the wrapped component
 * @param {object} thisProps.keydown The namespaced state from the higher-order
 * component (class_decorator)
 * @param {object} nextProps The incoming props from the wrapped component
 * @param {object} nextProps.keydown The namescaped state from the higher-order
 * component (class_decorator)
 * @param {array} keys The keys bound to the decorated method
 * @return {boolean} Whether all tests have passed
 */
function _shouldTrigger(_ref, keydownNext) {
  var keydownThis = _ref.keydown;

  return keydownNext && keydownNext.event && !keydownThis.event;
}

/**
 * methodWrapperScoped
 *
 * @access public
 * @param {object} args All args necessary for decorating the method
 * @param {object} args.target The decorated method's class object
 * @param {object} args.descriptor The method's descriptor object
 * @param {array} args.keys The key codes bound to the decorated method
 * @return {object} The method's descriptor object
 */
function methodWrapperScoped(_ref2) {
  var target = _ref2.target;
  var descriptor = _ref2.descriptor;
  var keys = _ref2.keys;
  var componentWillReceiveProps = target.componentWillReceiveProps;

  var fn = descriptor.value;
  if (!keys) {
    console.warn(fn + ': keydownScoped requires one or more keys');
  } else {
    (function () {
      var keySets = (0, _libParse_keys2['default'])(keys);

      // wrap the component's lifecycle method to intercept key codes coming down
      // from the wrapped/scoped component up the view hierarchy. if new keydown
      // event has arrived and the key codes match what was specified in the
      // decorator, call the wrapped method.
      target.componentWillReceiveProps = function (nextProps) {
        var keydown = nextProps.keydown;

        if (_shouldTrigger(this.props, keydown)) {
          if (keySets.some(function (keySet) {
            return (0, _libMatch_keys2['default'])({ keySet: keySet, event: keydown.event });
          })) {
            return fn.call(this, keydown.event);
          }
        }

        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        if (componentWillReceiveProps) return componentWillReceiveProps.call.apply(componentWillReceiveProps, [this, nextProps].concat(args));
      };
    })();
  }

  return descriptor;
}

exports['default'] = methodWrapperScoped;
module.exports = exports['default'];

/***/ }),
/* 357 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Production steps of ECMA-262, Edition 6, 22.1.2.1
// See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from


var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (!_from2.default) {
  Array.from = function () {
    var toStr = Object.prototype.toString;
    var isCallable = function isCallable(fn) {
      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';
    };
    var toInteger = function toInteger(value) {
      var number = Number(value);
      if (isNaN(number)) {
        return 0;
      }
      if (number === 0 || !isFinite(number)) {
        return number;
      }
      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));
    };
    var maxSafeInteger = Math.pow(2, 53) - 1;
    var toLength = function toLength(value) {
      var len = toInteger(value);
      return Math.min(Math.max(len, 0), maxSafeInteger);
    };

    // The length property of the from method is 1.
    return function from(arrayLike /*, mapFn, thisArg */) {
      // 1. Let C be the this value.
      var C = this;

      // 2. Let items be ToObject(arrayLike).
      var items = Object(arrayLike);

      // 3. ReturnIfAbrupt(items).
      if (arrayLike == null) {
        throw new TypeError("Array.from requires an array-like object - not null or undefined");
      }

      // 4. If mapfn is undefined, then let mapping be false.
      var mapFn = arguments.length > 1 ? arguments[1] : void undefined;
      var T;
      if (typeof mapFn !== 'undefined') {
        // 5. else
        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.
        if (!isCallable(mapFn)) {
          throw new TypeError('Array.from: when provided, the second argument must be a function');
        }

        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.
        if (arguments.length > 2) {
          T = arguments[2];
        }
      }

      // 10. Let lenValue be Get(items, "length").
      // 11. Let len be ToLength(lenValue).
      var len = toLength(items.length);

      // 13. If IsConstructor(C) is true, then
      // 13. a. Let A be the result of calling the [[Construct]] internal method
      // of C with an argument list containing the single item len.
      // 14. a. Else, Let A be ArrayCreate(len).
      var A = isCallable(C) ? Object(new C(len)) : new Array(len);

      // 16. Let k be 0.
      var k = 0;
      // 17. Repeat, while k < len… (also steps a - h)
      var kValue;
      while (k < len) {
        kValue = items[k];
        if (mapFn) {
          A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);
        } else {
          A[k] = kValue;
        }
        k += 1;
      }
      // 18. Let putStatus be Put(A, "length", len, true).
      A.length = len;
      // 20. Return A.
      return A;
    };
  }();
}

/***/ }),
/* 358 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module domHelpers
 *
 */


Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _reactDom = __webpack_require__(0);

var _reactDom2 = _interopRequireDefault(_reactDom);

var focusableSelector = 'a[href], button, input, object, select, textarea, [tabindex]';

/**
 * bindFocusables: Find any focusable child elements of the component instance and
 * add an onFocus handler to focus our keydown handlers on the parent component
 * when user keys applies focus to the element.
 *
 * NOTE: One limitation of this right now is that if you tab out of the
 * component, _focusedInstance will still be set until next click or mount or
 * controlled focus.
 *
 * @access public
 * @param {object} instance The key-bound component instance
 * @param {callback} activateOnFocus The fn to fire when element is focused
 */
function bindFocusables(instance, activateOnFocus) {
  if (document.querySelectorAll) {
    var node = _reactDom2['default'].findDOMNode(instance);
    if (node) {
      var focusables = node.querySelectorAll(focusableSelector);
      if (focusables.length) {
        (function () {
          var onFocus = function onFocus(element) {
            var onFocusPrev = element.onfocus;
            return function (event) {
              activateOnFocus(instance);
              if (onFocusPrev) onFocusPrev.call(element, event);
            };
          };
          Array.prototype.slice.call(focusables).forEach(function (element) {
            return element.onfocus = onFocus(element);
          });
        })();
      }
    }
  }
}

/**
 * findContainerNodes: Called by our click handler to find instances with nodes
 * that are equal to or that contain the click target. Any that pass this test
 * will be recipients of the next keydown event.
 *
 * @access public
 * @param {object} target The click event.target DOM element
 * @return {function} Reducer function
 */
function findContainerNodes(target) {
  return function (memo, instance) {
    try {
      var node = _reactDom2['default'].findDOMNode(instance);
      if (node && (node === target || node.contains(target))) {
        memo.push({ instance: instance, node: node });
      }
    } finally {
      return memo;
    }
  };
}

/**
 * sortByDOMPosition: Called by our click handler to sort a list of instances
 * according to least -> most nested. This is so that if multiple keybound
 * instances have nodes that are ancestors of the click target, they will be
 * sorted to let the instance closest to the click target get first dibs on the
 * next key down event.
 */
function sortByDOMPosition(a, b) {
  return a.node.compareDocumentPosition(b.node) === 10 ? 1 : -1;
}

exports['default'] = { bindFocusables: bindFocusables, findContainerNodes: findContainerNodes, sortByDOMPosition: sortByDOMPosition };
module.exports = exports['default'];

/***/ }),
/* 359 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * @module Listeners
 *
 */

// flag for whether click listener has been bound to document


Object.defineProperty(exports, '__esModule', {
  value: true
});
var _clicksBound = false;

// flag for whether keydown listener has been bound to document
var _keysBound = false;

var Listeners = {
  /**
   * _bindKeys
   *
   * @access public
   */
  bindKeys: function bindKeys(callback) {
    if (!_keysBound) {
      document.addEventListener('keydown', callback);
      _keysBound = true;
    }
  },

  /**
   * unbindKeys
   *
   * @access public
   */
  unbindKeys: function unbindKeys(callback) {
    if (_keysBound) {
      document.removeEventListener('keydown', callback);
      _keysBound = false;
    }
  },

  /**
   * bindClicks
   *
   * @access public
   */
  bindClicks: function bindClicks(callback) {
    if (!_clicksBound) {
      document.addEventListener('click', callback);
      _clicksBound = true;
    }
  },

  /**
   * unbindClicks
   *
   * @access public
   */
  unbindClicks: function unbindClicks(callback) {
    if (_clicksBound) {
      document.removeEventListener('click', callback);
      _clicksBound = false;
    }
  }
};

exports['default'] = Listeners;
module.exports = exports['default'];

/***/ }),
/* 360 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// Counter being incremented. JS is single-threaded, so it'll Just Work™.


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = uuid;
var __counter = 1;

/**
 * Returns a process-wide unique identifier.
 */

function uuid() {
  return "uid-" + __counter++;
}

module.exports = exports["default"];

/***/ }),
/* 361 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _mapToZero = __webpack_require__(122);

var _mapToZero2 = _interopRequireDefault(_mapToZero);

var _stripStyle = __webpack_require__(125);

var _stripStyle2 = _interopRequireDefault(_stripStyle);

var _stepper3 = __webpack_require__(124);

var _stepper4 = _interopRequireDefault(_stepper3);

var _performanceNow = __webpack_require__(89);

var _performanceNow2 = _interopRequireDefault(_performanceNow);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _shouldStopAnimation = __webpack_require__(123);

var _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var msPerFrame = 1000 / 60;

var Motion = _react2['default'].createClass({
  displayName: 'Motion',

  propTypes: {
    // TOOD: warn against putting a config in here
    defaultStyle: _react.PropTypes.objectOf(_react.PropTypes.number),
    style: _react.PropTypes.objectOf(_react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.object])).isRequired,
    children: _react.PropTypes.func.isRequired,
    onRest: _react.PropTypes.func
  },

  getInitialState: function getInitialState() {
    var _props = this.props;
    var defaultStyle = _props.defaultStyle;
    var style = _props.style;

    var currentStyle = defaultStyle || _stripStyle2['default'](style);
    var currentVelocity = _mapToZero2['default'](currentStyle);
    return {
      currentStyle: currentStyle,
      currentVelocity: currentVelocity,
      lastIdealStyle: currentStyle,
      lastIdealVelocity: currentVelocity
    };
  },

  wasAnimating: false,
  animationID: null,
  prevTime: 0,
  accumulatedTime: 0,
  // it's possible that currentStyle's value is stale: if props is immediately
  // changed from 0 to 400 to spring(0) again, the async currentStyle is still
  // at 0 (didn't have time to tick and interpolate even once). If we naively
  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).
  // In reality currentStyle should be 400
  unreadPropStyle: null,
  // after checking for unreadPropStyle != null, we manually go set the
  // non-interpolating values (those that are a number, without a spring
  // config)
  clearUnreadPropStyle: function clearUnreadPropStyle(destStyle) {
    var dirty = false;
    var _state = this.state;
    var currentStyle = _state.currentStyle;
    var currentVelocity = _state.currentVelocity;
    var lastIdealStyle = _state.lastIdealStyle;
    var lastIdealVelocity = _state.lastIdealVelocity;

    for (var key in destStyle) {
      if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {
        continue;
      }

      var styleValue = destStyle[key];
      if (typeof styleValue === 'number') {
        if (!dirty) {
          dirty = true;
          currentStyle = _extends({}, currentStyle);
          currentVelocity = _extends({}, currentVelocity);
          lastIdealStyle = _extends({}, lastIdealStyle);
          lastIdealVelocity = _extends({}, lastIdealVelocity);
        }

        currentStyle[key] = styleValue;
        currentVelocity[key] = 0;
        lastIdealStyle[key] = styleValue;
        lastIdealVelocity[key] = 0;
      }
    }

    if (dirty) {
      this.setState({ currentStyle: currentStyle, currentVelocity: currentVelocity, lastIdealStyle: lastIdealStyle, lastIdealVelocity: lastIdealVelocity });
    }
  },

  startAnimationIfNecessary: function startAnimationIfNecessary() {
    var _this = this;

    // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and
    // call cb? No, otherwise accidental parent rerender causes cb trigger
    this.animationID = _raf2['default'](function (timestamp) {
      // check if we need to animate in the first place
      var propsStyle = _this.props.style;
      if (_shouldStopAnimation2['default'](_this.state.currentStyle, propsStyle, _this.state.currentVelocity)) {
        if (_this.wasAnimating && _this.props.onRest) {
          _this.props.onRest();
        }

        // no need to cancel animationID here; shouldn't have any in flight
        _this.animationID = null;
        _this.wasAnimating = false;
        _this.accumulatedTime = 0;
        return;
      }

      _this.wasAnimating = true;

      var currentTime = timestamp || _performanceNow2['default']();
      var timeDelta = currentTime - _this.prevTime;
      _this.prevTime = currentTime;
      _this.accumulatedTime = _this.accumulatedTime + timeDelta;
      // more than 10 frames? prolly switched browser tab. Restart
      if (_this.accumulatedTime > msPerFrame * 10) {
        _this.accumulatedTime = 0;
      }

      if (_this.accumulatedTime === 0) {
        // no need to cancel animationID here; shouldn't have any in flight
        _this.animationID = null;
        _this.startAnimationIfNecessary();
        return;
      }

      var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;
      var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);

      var newLastIdealStyle = {};
      var newLastIdealVelocity = {};
      var newCurrentStyle = {};
      var newCurrentVelocity = {};

      for (var key in propsStyle) {
        if (!Object.prototype.hasOwnProperty.call(propsStyle, key)) {
          continue;
        }

        var styleValue = propsStyle[key];
        if (typeof styleValue === 'number') {
          newCurrentStyle[key] = styleValue;
          newCurrentVelocity[key] = 0;
          newLastIdealStyle[key] = styleValue;
          newLastIdealVelocity[key] = 0;
        } else {
          var newLastIdealStyleValue = _this.state.lastIdealStyle[key];
          var newLastIdealVelocityValue = _this.state.lastIdealVelocity[key];
          for (var i = 0; i < framesToCatchUp; i++) {
            var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);

            newLastIdealStyleValue = _stepper[0];
            newLastIdealVelocityValue = _stepper[1];
          }

          var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);

          var nextIdealX = _stepper2[0];
          var nextIdealV = _stepper2[1];

          newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;
          newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;
          newLastIdealStyle[key] = newLastIdealStyleValue;
          newLastIdealVelocity[key] = newLastIdealVelocityValue;
        }
      }

      _this.animationID = null;
      // the amount we're looped over above
      _this.accumulatedTime -= framesToCatchUp * msPerFrame;

      _this.setState({
        currentStyle: newCurrentStyle,
        currentVelocity: newCurrentVelocity,
        lastIdealStyle: newLastIdealStyle,
        lastIdealVelocity: newLastIdealVelocity
      });

      _this.unreadPropStyle = null;

      _this.startAnimationIfNecessary();
    });
  },

  componentDidMount: function componentDidMount() {
    this.prevTime = _performanceNow2['default']();
    this.startAnimationIfNecessary();
  },

  componentWillReceiveProps: function componentWillReceiveProps(props) {
    if (this.unreadPropStyle != null) {
      // previous props haven't had the chance to be set yet; set them here
      this.clearUnreadPropStyle(this.unreadPropStyle);
    }

    this.unreadPropStyle = props.style;
    if (this.animationID == null) {
      this.prevTime = _performanceNow2['default']();
      this.startAnimationIfNecessary();
    }
  },

  componentWillUnmount: function componentWillUnmount() {
    if (this.animationID != null) {
      _raf2['default'].cancel(this.animationID);
      this.animationID = null;
    }
  },

  render: function render() {
    var renderedChildren = this.props.children(this.state.currentStyle);
    return renderedChildren && _react2['default'].Children.only(renderedChildren);
  }
});

exports['default'] = Motion;
module.exports = exports['default'];

/***/ }),
/* 362 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _mapToZero = __webpack_require__(122);

var _mapToZero2 = _interopRequireDefault(_mapToZero);

var _stripStyle = __webpack_require__(125);

var _stripStyle2 = _interopRequireDefault(_stripStyle);

var _stepper3 = __webpack_require__(124);

var _stepper4 = _interopRequireDefault(_stepper3);

var _performanceNow = __webpack_require__(89);

var _performanceNow2 = _interopRequireDefault(_performanceNow);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _shouldStopAnimation = __webpack_require__(123);

var _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var msPerFrame = 1000 / 60;

function shouldStopAnimationAll(currentStyles, styles, currentVelocities) {
  for (var i = 0; i < currentStyles.length; i++) {
    if (!_shouldStopAnimation2['default'](currentStyles[i], styles[i], currentVelocities[i])) {
      return false;
    }
  }
  return true;
}

var StaggeredMotion = _react2['default'].createClass({
  displayName: 'StaggeredMotion',

  propTypes: {
    // TOOD: warn against putting a config in here
    defaultStyles: _react.PropTypes.arrayOf(_react.PropTypes.objectOf(_react.PropTypes.number)),
    styles: _react.PropTypes.func.isRequired,
    children: _react.PropTypes.func.isRequired
  },

  getInitialState: function getInitialState() {
    var _props = this.props;
    var defaultStyles = _props.defaultStyles;
    var styles = _props.styles;

    var currentStyles = defaultStyles || styles().map(_stripStyle2['default']);
    var currentVelocities = currentStyles.map(function (currentStyle) {
      return _mapToZero2['default'](currentStyle);
    });
    return {
      currentStyles: currentStyles,
      currentVelocities: currentVelocities,
      lastIdealStyles: currentStyles,
      lastIdealVelocities: currentVelocities
    };
  },

  animationID: null,
  prevTime: 0,
  accumulatedTime: 0,
  // it's possible that currentStyle's value is stale: if props is immediately
  // changed from 0 to 400 to spring(0) again, the async currentStyle is still
  // at 0 (didn't have time to tick and interpolate even once). If we naively
  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).
  // In reality currentStyle should be 400
  unreadPropStyles: null,
  // after checking for unreadPropStyles != null, we manually go set the
  // non-interpolating values (those that are a number, without a spring
  // config)
  clearUnreadPropStyle: function clearUnreadPropStyle(unreadPropStyles) {
    var _state = this.state;
    var currentStyles = _state.currentStyles;
    var currentVelocities = _state.currentVelocities;
    var lastIdealStyles = _state.lastIdealStyles;
    var lastIdealVelocities = _state.lastIdealVelocities;

    var someDirty = false;
    for (var i = 0; i < unreadPropStyles.length; i++) {
      var unreadPropStyle = unreadPropStyles[i];
      var dirty = false;

      for (var key in unreadPropStyle) {
        if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {
          continue;
        }

        var styleValue = unreadPropStyle[key];
        if (typeof styleValue === 'number') {
          if (!dirty) {
            dirty = true;
            someDirty = true;
            currentStyles[i] = _extends({}, currentStyles[i]);
            currentVelocities[i] = _extends({}, currentVelocities[i]);
            lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);
            lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);
          }
          currentStyles[i][key] = styleValue;
          currentVelocities[i][key] = 0;
          lastIdealStyles[i][key] = styleValue;
          lastIdealVelocities[i][key] = 0;
        }
      }
    }

    if (someDirty) {
      this.setState({ currentStyles: currentStyles, currentVelocities: currentVelocities, lastIdealStyles: lastIdealStyles, lastIdealVelocities: lastIdealVelocities });
    }
  },

  startAnimationIfNecessary: function startAnimationIfNecessary() {
    var _this = this;

    // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and
    // call cb? No, otherwise accidental parent rerender causes cb trigger
    this.animationID = _raf2['default'](function (timestamp) {
      var destStyles = _this.props.styles(_this.state.lastIdealStyles);

      // check if we need to animate in the first place
      if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities)) {
        // no need to cancel animationID here; shouldn't have any in flight
        _this.animationID = null;
        _this.accumulatedTime = 0;
        return;
      }

      var currentTime = timestamp || _performanceNow2['default']();
      var timeDelta = currentTime - _this.prevTime;
      _this.prevTime = currentTime;
      _this.accumulatedTime = _this.accumulatedTime + timeDelta;
      // more than 10 frames? prolly switched browser tab. Restart
      if (_this.accumulatedTime > msPerFrame * 10) {
        _this.accumulatedTime = 0;
      }

      if (_this.accumulatedTime === 0) {
        // no need to cancel animationID here; shouldn't have any in flight
        _this.animationID = null;
        _this.startAnimationIfNecessary();
        return;
      }

      var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;
      var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);

      var newLastIdealStyles = [];
      var newLastIdealVelocities = [];
      var newCurrentStyles = [];
      var newCurrentVelocities = [];

      for (var i = 0; i < destStyles.length; i++) {
        var destStyle = destStyles[i];
        var newCurrentStyle = {};
        var newCurrentVelocity = {};
        var newLastIdealStyle = {};
        var newLastIdealVelocity = {};

        for (var key in destStyle) {
          if (!Object.prototype.hasOwnProperty.call(destStyle, key)) {
            continue;
          }

          var styleValue = destStyle[key];
          if (typeof styleValue === 'number') {
            newCurrentStyle[key] = styleValue;
            newCurrentVelocity[key] = 0;
            newLastIdealStyle[key] = styleValue;
            newLastIdealVelocity[key] = 0;
          } else {
            var newLastIdealStyleValue = _this.state.lastIdealStyles[i][key];
            var newLastIdealVelocityValue = _this.state.lastIdealVelocities[i][key];
            for (var j = 0; j < framesToCatchUp; j++) {
              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);

              newLastIdealStyleValue = _stepper[0];
              newLastIdealVelocityValue = _stepper[1];
            }

            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);

            var nextIdealX = _stepper2[0];
            var nextIdealV = _stepper2[1];

            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;
            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;
            newLastIdealStyle[key] = newLastIdealStyleValue;
            newLastIdealVelocity[key] = newLastIdealVelocityValue;
          }
        }

        newCurrentStyles[i] = newCurrentStyle;
        newCurrentVelocities[i] = newCurrentVelocity;
        newLastIdealStyles[i] = newLastIdealStyle;
        newLastIdealVelocities[i] = newLastIdealVelocity;
      }

      _this.animationID = null;
      // the amount we're looped over above
      _this.accumulatedTime -= framesToCatchUp * msPerFrame;

      _this.setState({
        currentStyles: newCurrentStyles,
        currentVelocities: newCurrentVelocities,
        lastIdealStyles: newLastIdealStyles,
        lastIdealVelocities: newLastIdealVelocities
      });

      _this.unreadPropStyles = null;

      _this.startAnimationIfNecessary();
    });
  },

  componentDidMount: function componentDidMount() {
    this.prevTime = _performanceNow2['default']();
    this.startAnimationIfNecessary();
  },

  componentWillReceiveProps: function componentWillReceiveProps(props) {
    if (this.unreadPropStyles != null) {
      // previous props haven't had the chance to be set yet; set them here
      this.clearUnreadPropStyle(this.unreadPropStyles);
    }

    this.unreadPropStyles = props.styles(this.state.lastIdealStyles);
    if (this.animationID == null) {
      this.prevTime = _performanceNow2['default']();
      this.startAnimationIfNecessary();
    }
  },

  componentWillUnmount: function componentWillUnmount() {
    if (this.animationID != null) {
      _raf2['default'].cancel(this.animationID);
      this.animationID = null;
    }
  },

  render: function render() {
    var renderedChildren = this.props.children(this.state.currentStyles);
    return renderedChildren && _react2['default'].Children.only(renderedChildren);
  }
});

exports['default'] = StaggeredMotion;
module.exports = exports['default'];

/***/ }),
/* 363 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _mapToZero = __webpack_require__(122);

var _mapToZero2 = _interopRequireDefault(_mapToZero);

var _stripStyle = __webpack_require__(125);

var _stripStyle2 = _interopRequireDefault(_stripStyle);

var _stepper3 = __webpack_require__(124);

var _stepper4 = _interopRequireDefault(_stepper3);

var _mergeDiff = __webpack_require__(364);

var _mergeDiff2 = _interopRequireDefault(_mergeDiff);

var _performanceNow = __webpack_require__(89);

var _performanceNow2 = _interopRequireDefault(_performanceNow);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _shouldStopAnimation = __webpack_require__(123);

var _shouldStopAnimation2 = _interopRequireDefault(_shouldStopAnimation);

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var msPerFrame = 1000 / 60;

// the children function & (potential) styles function asks as param an
// Array<TransitionPlainStyle>, where each TransitionPlainStyle is of the format
// {key: string, data?: any, style: PlainStyle}. However, the way we keep
// internal states doesn't contain such a data structure (check the state and
// TransitionMotionState). So when children function and others ask for such
// data we need to generate them on the fly by combining mergedPropsStyles and
// currentStyles/lastIdealStyles
function rehydrateStyles(mergedPropsStyles, unreadPropStyles, plainStyles) {
  // Copy the value to a `const` so that Flow understands that the const won't
  // change and will be non-nullable in the callback below.
  var cUnreadPropStyles = unreadPropStyles;
  if (cUnreadPropStyles == null) {
    return mergedPropsStyles.map(function (mergedPropsStyle, i) {
      return {
        key: mergedPropsStyle.key,
        data: mergedPropsStyle.data,
        style: plainStyles[i]
      };
    });
  }
  return mergedPropsStyles.map(function (mergedPropsStyle, i) {
    for (var j = 0; j < cUnreadPropStyles.length; j++) {
      if (cUnreadPropStyles[j].key === mergedPropsStyle.key) {
        return {
          key: cUnreadPropStyles[j].key,
          data: cUnreadPropStyles[j].data,
          style: plainStyles[i]
        };
      }
    }
    return { key: mergedPropsStyle.key, data: mergedPropsStyle.data, style: plainStyles[i] };
  });
}

function shouldStopAnimationAll(currentStyles, destStyles, currentVelocities, mergedPropsStyles) {
  if (mergedPropsStyles.length !== destStyles.length) {
    return false;
  }

  for (var i = 0; i < mergedPropsStyles.length; i++) {
    if (mergedPropsStyles[i].key !== destStyles[i].key) {
      return false;
    }
  }

  // we have the invariant that mergedPropsStyles and
  // currentStyles/currentVelocities/last* are synced in terms of cells, see
  // mergeAndSync comment for more info
  for (var i = 0; i < mergedPropsStyles.length; i++) {
    if (!_shouldStopAnimation2['default'](currentStyles[i], destStyles[i].style, currentVelocities[i])) {
      return false;
    }
  }

  return true;
}

// core key merging logic

// things to do: say previously merged style is {a, b}, dest style (prop) is {b,
// c}, previous current (interpolating) style is {a, b}
// **invariant**: current[i] corresponds to merged[i] in terms of key

// steps:
// turn merged style into {a?, b, c}
//    add c, value of c is destStyles.c
//    maybe remove a, aka call willLeave(a), then merged is either {b, c} or {a, b, c}
// turn current (interpolating) style from {a, b} into {a?, b, c}
//    maybe remove a
//    certainly add c, value of c is willEnter(c)
// loop over merged and construct new current
// dest doesn't change, that's owner's
function mergeAndSync(willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldLastIdealStyles, oldLastIdealVelocities) {
  var newMergedPropsStyles = _mergeDiff2['default'](oldMergedPropsStyles, destStyles, function (oldIndex, oldMergedPropsStyle) {
    var leavingStyle = willLeave(oldMergedPropsStyle);
    if (leavingStyle == null) {
      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });
      return null;
    }
    if (_shouldStopAnimation2['default'](oldCurrentStyles[oldIndex], leavingStyle, oldCurrentVelocities[oldIndex])) {
      didLeave({ key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data });
      return null;
    }
    return { key: oldMergedPropsStyle.key, data: oldMergedPropsStyle.data, style: leavingStyle };
  });

  var newCurrentStyles = [];
  var newCurrentVelocities = [];
  var newLastIdealStyles = [];
  var newLastIdealVelocities = [];
  for (var i = 0; i < newMergedPropsStyles.length; i++) {
    var newMergedPropsStyleCell = newMergedPropsStyles[i];
    var foundOldIndex = null;
    for (var j = 0; j < oldMergedPropsStyles.length; j++) {
      if (oldMergedPropsStyles[j].key === newMergedPropsStyleCell.key) {
        foundOldIndex = j;
        break;
      }
    }
    // TODO: key search code
    if (foundOldIndex == null) {
      var plainStyle = willEnter(newMergedPropsStyleCell);
      newCurrentStyles[i] = plainStyle;
      newLastIdealStyles[i] = plainStyle;

      var velocity = _mapToZero2['default'](newMergedPropsStyleCell.style);
      newCurrentVelocities[i] = velocity;
      newLastIdealVelocities[i] = velocity;
    } else {
      newCurrentStyles[i] = oldCurrentStyles[foundOldIndex];
      newLastIdealStyles[i] = oldLastIdealStyles[foundOldIndex];
      newCurrentVelocities[i] = oldCurrentVelocities[foundOldIndex];
      newLastIdealVelocities[i] = oldLastIdealVelocities[foundOldIndex];
    }
  }

  return [newMergedPropsStyles, newCurrentStyles, newCurrentVelocities, newLastIdealStyles, newLastIdealVelocities];
}

var TransitionMotion = _react2['default'].createClass({
  displayName: 'TransitionMotion',

  propTypes: {
    defaultStyles: _react.PropTypes.arrayOf(_react.PropTypes.shape({
      key: _react.PropTypes.string.isRequired,
      data: _react.PropTypes.any,
      style: _react.PropTypes.objectOf(_react.PropTypes.number).isRequired
    })),
    styles: _react.PropTypes.oneOfType([_react.PropTypes.func, _react.PropTypes.arrayOf(_react.PropTypes.shape({
      key: _react.PropTypes.string.isRequired,
      data: _react.PropTypes.any,
      style: _react.PropTypes.objectOf(_react.PropTypes.oneOfType([_react.PropTypes.number, _react.PropTypes.object])).isRequired
    }))]).isRequired,
    children: _react.PropTypes.func.isRequired,
    willEnter: _react.PropTypes.func,
    willLeave: _react.PropTypes.func,
    didLeave: _react.PropTypes.func
  },

  getDefaultProps: function getDefaultProps() {
    return {
      willEnter: function willEnter(styleThatEntered) {
        return _stripStyle2['default'](styleThatEntered.style);
      },
      // recall: returning null makes the current unmounting TransitionStyle
      // disappear immediately
      willLeave: function willLeave() {
        return null;
      },
      didLeave: function didLeave() {}
    };
  },

  getInitialState: function getInitialState() {
    var _props = this.props;
    var defaultStyles = _props.defaultStyles;
    var styles = _props.styles;
    var willEnter = _props.willEnter;
    var willLeave = _props.willLeave;
    var didLeave = _props.didLeave;

    var destStyles = typeof styles === 'function' ? styles(defaultStyles) : styles;

    // this is special. for the first time around, we don't have a comparison
    // between last (no last) and current merged props. we'll compute last so:
    // say default is {a, b} and styles (dest style) is {b, c}, we'll
    // fabricate last as {a, b}
    var oldMergedPropsStyles = undefined;
    if (defaultStyles == null) {
      oldMergedPropsStyles = destStyles;
    } else {
      oldMergedPropsStyles = defaultStyles.map(function (defaultStyleCell) {
        // TODO: key search code
        for (var i = 0; i < destStyles.length; i++) {
          if (destStyles[i].key === defaultStyleCell.key) {
            return destStyles[i];
          }
        }
        return defaultStyleCell;
      });
    }
    var oldCurrentStyles = defaultStyles == null ? destStyles.map(function (s) {
      return _stripStyle2['default'](s.style);
    }) : defaultStyles.map(function (s) {
      return _stripStyle2['default'](s.style);
    });
    var oldCurrentVelocities = defaultStyles == null ? destStyles.map(function (s) {
      return _mapToZero2['default'](s.style);
    }) : defaultStyles.map(function (s) {
      return _mapToZero2['default'](s.style);
    });

    var _mergeAndSync = mergeAndSync(
    // Because this is an old-style React.createClass component, Flow doesn't
    // understand that the willEnter and willLeave props have default values
    // and will always be present.
    willEnter, willLeave, didLeave, oldMergedPropsStyles, destStyles, oldCurrentStyles, oldCurrentVelocities, oldCurrentStyles, // oldLastIdealStyles really
    oldCurrentVelocities);

    var mergedPropsStyles = _mergeAndSync[0];
    var currentStyles = _mergeAndSync[1];
    var currentVelocities = _mergeAndSync[2];
    var lastIdealStyles = _mergeAndSync[3];
    var lastIdealVelocities = _mergeAndSync[4];
    // oldLastIdealVelocities really

    return {
      currentStyles: currentStyles,
      currentVelocities: currentVelocities,
      lastIdealStyles: lastIdealStyles,
      lastIdealVelocities: lastIdealVelocities,
      mergedPropsStyles: mergedPropsStyles
    };
  },

  unmounting: false,
  animationID: null,
  prevTime: 0,
  accumulatedTime: 0,
  // it's possible that currentStyle's value is stale: if props is immediately
  // changed from 0 to 400 to spring(0) again, the async currentStyle is still
  // at 0 (didn't have time to tick and interpolate even once). If we naively
  // compare currentStyle with destVal it'll be 0 === 0 (no animation, stop).
  // In reality currentStyle should be 400
  unreadPropStyles: null,
  // after checking for unreadPropStyles != null, we manually go set the
  // non-interpolating values (those that are a number, without a spring
  // config)
  clearUnreadPropStyle: function clearUnreadPropStyle(unreadPropStyles) {
    var _mergeAndSync2 = mergeAndSync(this.props.willEnter, this.props.willLeave, this.props.didLeave, this.state.mergedPropsStyles, unreadPropStyles, this.state.currentStyles, this.state.currentVelocities, this.state.lastIdealStyles, this.state.lastIdealVelocities);

    var mergedPropsStyles = _mergeAndSync2[0];
    var currentStyles = _mergeAndSync2[1];
    var currentVelocities = _mergeAndSync2[2];
    var lastIdealStyles = _mergeAndSync2[3];
    var lastIdealVelocities = _mergeAndSync2[4];

    for (var i = 0; i < unreadPropStyles.length; i++) {
      var unreadPropStyle = unreadPropStyles[i].style;
      var dirty = false;

      for (var key in unreadPropStyle) {
        if (!Object.prototype.hasOwnProperty.call(unreadPropStyle, key)) {
          continue;
        }

        var styleValue = unreadPropStyle[key];
        if (typeof styleValue === 'number') {
          if (!dirty) {
            dirty = true;
            currentStyles[i] = _extends({}, currentStyles[i]);
            currentVelocities[i] = _extends({}, currentVelocities[i]);
            lastIdealStyles[i] = _extends({}, lastIdealStyles[i]);
            lastIdealVelocities[i] = _extends({}, lastIdealVelocities[i]);
            mergedPropsStyles[i] = {
              key: mergedPropsStyles[i].key,
              data: mergedPropsStyles[i].data,
              style: _extends({}, mergedPropsStyles[i].style)
            };
          }
          currentStyles[i][key] = styleValue;
          currentVelocities[i][key] = 0;
          lastIdealStyles[i][key] = styleValue;
          lastIdealVelocities[i][key] = 0;
          mergedPropsStyles[i].style[key] = styleValue;
        }
      }
    }

    // unlike the other 2 components, we can't detect staleness and optionally
    // opt out of setState here. each style object's data might contain new
    // stuff we're not/cannot compare
    this.setState({
      currentStyles: currentStyles,
      currentVelocities: currentVelocities,
      mergedPropsStyles: mergedPropsStyles,
      lastIdealStyles: lastIdealStyles,
      lastIdealVelocities: lastIdealVelocities
    });
  },

  startAnimationIfNecessary: function startAnimationIfNecessary() {
    var _this = this;

    if (this.unmounting) {
      return;
    }
    // TODO: when config is {a: 10} and dest is {a: 10} do we raf once and
    // call cb? No, otherwise accidental parent rerender causes cb trigger
    this.animationID = _raf2['default'](function (timestamp) {
      var propStyles = _this.props.styles;
      var destStyles = typeof propStyles === 'function' ? propStyles(rehydrateStyles(_this.state.mergedPropsStyles, _this.unreadPropStyles, _this.state.lastIdealStyles)) : propStyles;

      // check if we need to animate in the first place
      if (shouldStopAnimationAll(_this.state.currentStyles, destStyles, _this.state.currentVelocities, _this.state.mergedPropsStyles)) {
        // no need to cancel animationID here; shouldn't have any in flight
        _this.animationID = null;
        _this.accumulatedTime = 0;
        return;
      }

      var currentTime = timestamp || _performanceNow2['default']();
      var timeDelta = currentTime - _this.prevTime;
      _this.prevTime = currentTime;
      _this.accumulatedTime = _this.accumulatedTime + timeDelta;
      // more than 10 frames? prolly switched browser tab. Restart
      if (_this.accumulatedTime > msPerFrame * 10) {
        _this.accumulatedTime = 0;
      }

      if (_this.accumulatedTime === 0) {
        // no need to cancel animationID here; shouldn't have any in flight
        _this.animationID = null;
        _this.startAnimationIfNecessary();
        return;
      }

      var currentFrameCompletion = (_this.accumulatedTime - Math.floor(_this.accumulatedTime / msPerFrame) * msPerFrame) / msPerFrame;
      var framesToCatchUp = Math.floor(_this.accumulatedTime / msPerFrame);

      var _mergeAndSync3 = mergeAndSync(_this.props.willEnter, _this.props.willLeave, _this.props.didLeave, _this.state.mergedPropsStyles, destStyles, _this.state.currentStyles, _this.state.currentVelocities, _this.state.lastIdealStyles, _this.state.lastIdealVelocities);

      var newMergedPropsStyles = _mergeAndSync3[0];
      var newCurrentStyles = _mergeAndSync3[1];
      var newCurrentVelocities = _mergeAndSync3[2];
      var newLastIdealStyles = _mergeAndSync3[3];
      var newLastIdealVelocities = _mergeAndSync3[4];

      for (var i = 0; i < newMergedPropsStyles.length; i++) {
        var newMergedPropsStyle = newMergedPropsStyles[i].style;
        var newCurrentStyle = {};
        var newCurrentVelocity = {};
        var newLastIdealStyle = {};
        var newLastIdealVelocity = {};

        for (var key in newMergedPropsStyle) {
          if (!Object.prototype.hasOwnProperty.call(newMergedPropsStyle, key)) {
            continue;
          }

          var styleValue = newMergedPropsStyle[key];
          if (typeof styleValue === 'number') {
            newCurrentStyle[key] = styleValue;
            newCurrentVelocity[key] = 0;
            newLastIdealStyle[key] = styleValue;
            newLastIdealVelocity[key] = 0;
          } else {
            var newLastIdealStyleValue = newLastIdealStyles[i][key];
            var newLastIdealVelocityValue = newLastIdealVelocities[i][key];
            for (var j = 0; j < framesToCatchUp; j++) {
              var _stepper = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);

              newLastIdealStyleValue = _stepper[0];
              newLastIdealVelocityValue = _stepper[1];
            }

            var _stepper2 = _stepper4['default'](msPerFrame / 1000, newLastIdealStyleValue, newLastIdealVelocityValue, styleValue.val, styleValue.stiffness, styleValue.damping, styleValue.precision);

            var nextIdealX = _stepper2[0];
            var nextIdealV = _stepper2[1];

            newCurrentStyle[key] = newLastIdealStyleValue + (nextIdealX - newLastIdealStyleValue) * currentFrameCompletion;
            newCurrentVelocity[key] = newLastIdealVelocityValue + (nextIdealV - newLastIdealVelocityValue) * currentFrameCompletion;
            newLastIdealStyle[key] = newLastIdealStyleValue;
            newLastIdealVelocity[key] = newLastIdealVelocityValue;
          }
        }

        newLastIdealStyles[i] = newLastIdealStyle;
        newLastIdealVelocities[i] = newLastIdealVelocity;
        newCurrentStyles[i] = newCurrentStyle;
        newCurrentVelocities[i] = newCurrentVelocity;
      }

      _this.animationID = null;
      // the amount we're looped over above
      _this.accumulatedTime -= framesToCatchUp * msPerFrame;

      _this.setState({
        currentStyles: newCurrentStyles,
        currentVelocities: newCurrentVelocities,
        lastIdealStyles: newLastIdealStyles,
        lastIdealVelocities: newLastIdealVelocities,
        mergedPropsStyles: newMergedPropsStyles
      });

      _this.unreadPropStyles = null;

      _this.startAnimationIfNecessary();
    });
  },

  componentDidMount: function componentDidMount() {
    this.prevTime = _performanceNow2['default']();
    this.startAnimationIfNecessary();
  },

  componentWillReceiveProps: function componentWillReceiveProps(props) {
    if (this.unreadPropStyles) {
      // previous props haven't had the chance to be set yet; set them here
      this.clearUnreadPropStyle(this.unreadPropStyles);
    }

    var styles = props.styles;
    if (typeof styles === 'function') {
      this.unreadPropStyles = styles(rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.lastIdealStyles));
    } else {
      this.unreadPropStyles = styles;
    }

    if (this.animationID == null) {
      this.prevTime = _performanceNow2['default']();
      this.startAnimationIfNecessary();
    }
  },

  componentWillUnmount: function componentWillUnmount() {
    this.unmounting = true;
    if (this.animationID != null) {
      _raf2['default'].cancel(this.animationID);
      this.animationID = null;
    }
  },

  render: function render() {
    var hydratedStyles = rehydrateStyles(this.state.mergedPropsStyles, this.unreadPropStyles, this.state.currentStyles);
    var renderedChildren = this.props.children(hydratedStyles);
    return renderedChildren && _react2['default'].Children.only(renderedChildren);
  }
});

exports['default'] = TransitionMotion;
module.exports = exports['default'];

// list of styles, each containing interpolating values. Part of what's passed
// to children function. Notice that this is
// Array<ActualInterpolatingStyleObject>, without the wrapper that is {key: ...,
// data: ... style: ActualInterpolatingStyleObject}. Only mergedPropsStyles
// contains the key & data info (so that we only have a single source of truth
// for these, and to save space). Check the comment for `rehydrateStyles` to
// see how we regenerate the entirety of what's passed to children function

// the array that keeps track of currently rendered stuff! Including stuff
// that you've unmounted but that's still animating. This is where it lives

/***/ }),
/* 364 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// core keys merging algorithm. If previous render's keys are [a, b], and the
// next render's [c, b, d], what's the final merged keys and ordering?

// - c and a must both be before b
// - b before d
// - ordering between a and c ambiguous

// this reduces to merging two partially ordered lists (e.g. lists where not
// every item has a definite ordering, like comparing a and c above). For the
// ambiguous ordering we deterministically choose to place the next render's
// item after the previous'; so c after a

// this is called a topological sorting. Except the existing algorithms don't
// work well with js bc of the amount of allocation, and isn't optimized for our
// current use-case bc the runtime is linear in terms of edges (see wiki for
// meaning), which is huge when two lists have many common elements


exports.__esModule = true;
exports['default'] = mergeDiff;

function mergeDiff(prev, next, onRemove) {
  // bookkeeping for easier access of a key's index below. This is 2 allocations +
  // potentially triggering chrome hash map mode for objs (so it might be faster

  var prevKeyIndex = {};
  for (var i = 0; i < prev.length; i++) {
    prevKeyIndex[prev[i].key] = i;
  }
  var nextKeyIndex = {};
  for (var i = 0; i < next.length; i++) {
    nextKeyIndex[next[i].key] = i;
  }

  // first, an overly elaborate way of merging prev and next, eliminating
  // duplicates (in terms of keys). If there's dupe, keep the item in next).
  // This way of writing it saves allocations
  var ret = [];
  for (var i = 0; i < next.length; i++) {
    ret[i] = next[i];
  }
  for (var i = 0; i < prev.length; i++) {
    if (!Object.prototype.hasOwnProperty.call(nextKeyIndex, prev[i].key)) {
      // this is called my TM's `mergeAndSync`, which calls willLeave. We don't
      // merge in keys that the user desires to kill
      var fill = onRemove(i, prev[i]);
      if (fill != null) {
        ret.push(fill);
      }
    }
  }

  // now all the items all present. Core sorting logic to have the right order
  return ret.sort(function (a, b) {
    var nextOrderA = nextKeyIndex[a.key];
    var nextOrderB = nextKeyIndex[b.key];
    var prevOrderA = prevKeyIndex[a.key];
    var prevOrderB = prevKeyIndex[b.key];

    if (nextOrderA != null && nextOrderB != null) {
      // both keys in next
      return nextKeyIndex[a.key] - nextKeyIndex[b.key];
    } else if (prevOrderA != null && prevOrderB != null) {
      // both keys in prev
      return prevKeyIndex[a.key] - prevKeyIndex[b.key];
    } else if (nextOrderA != null) {
      // key a in next, key b in prev

      // how to determine the order between a and b? We find a "pivot" (term
      // abuse), a key present in both prev and next, that is sandwiched between
      // a and b. In the context of our above example, if we're comparing a and
      // d, b's (the only) pivot
      for (var i = 0; i < next.length; i++) {
        var pivot = next[i].key;
        if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {
          continue;
        }

        if (nextOrderA < nextKeyIndex[pivot] && prevOrderB > prevKeyIndex[pivot]) {
          return -1;
        } else if (nextOrderA > nextKeyIndex[pivot] && prevOrderB < prevKeyIndex[pivot]) {
          return 1;
        }
      }
      // pluggable. default to: next bigger than prev
      return 1;
    }
    // prevOrderA, nextOrderB
    for (var i = 0; i < next.length; i++) {
      var pivot = next[i].key;
      if (!Object.prototype.hasOwnProperty.call(prevKeyIndex, pivot)) {
        continue;
      }
      if (nextOrderB < nextKeyIndex[pivot] && prevOrderA > prevKeyIndex[pivot]) {
        return 1;
      } else if (nextOrderB > nextKeyIndex[pivot] && prevOrderA < prevKeyIndex[pivot]) {
        return -1;
      }
    }
    // pluggable. default to: next bigger than prev
    return -1;
  });
}

module.exports = exports['default'];
// to loop through and find a key's index each time), but I no longer care

/***/ }),
/* 365 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

function _interopRequire(obj) {
  return obj && obj.__esModule ? obj['default'] : obj;
}

var _Motion = __webpack_require__(361);

exports.Motion = _interopRequire(_Motion);

var _StaggeredMotion = __webpack_require__(362);

exports.StaggeredMotion = _interopRequire(_StaggeredMotion);

var _TransitionMotion = __webpack_require__(363);

exports.TransitionMotion = _interopRequire(_TransitionMotion);

var _spring = __webpack_require__(367);

exports.spring = _interopRequire(_spring);

var _presets = __webpack_require__(191);

exports.presets = _interopRequire(_presets);

// deprecated, dummy warning function

var _reorderKeys = __webpack_require__(366);

exports.reorderKeys = _interopRequire(_reorderKeys);

/***/ }),
/* 366 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports['default'] = reorderKeys;

var hasWarned = false;

function reorderKeys() {
  if (false) {
    if (!hasWarned) {
      hasWarned = true;
      console.error('`reorderKeys` has been removed, since it is no longer needed for TransitionMotion\'s new styles array API.');
    }
  }
}

module.exports = exports['default'];

/***/ }),
/* 367 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

exports['default'] = spring;

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var _presets = __webpack_require__(191);

var _presets2 = _interopRequireDefault(_presets);

var defaultConfig = _extends({}, _presets2['default'].noWobble, {
  precision: 0.01
});

function spring(val, config) {
  return _extends({}, defaultConfig, config, { val: val });
}

module.exports = exports['default'];

/***/ }),
/* 368 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault2(_promise);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;if (getter === undefined) {
      return undefined;
    }return getter.call(receiver);
  }
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _fetchJsonp = __webpack_require__(332);

var _fetchJsonp2 = _interopRequireDefault(_fetchJsonp);

var _FilePlayer2 = __webpack_require__(94);

var _FilePlayer3 = _interopRequireDefault(_FilePlayer2);

var _props3 = __webpack_require__(126);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var RESOLVE_URL = '//api.soundcloud.com/resolve.json';
var MATCH_URL = /^https?:\/\/(soundcloud.com|snd.sc)\/([a-z0-9-_]+\/[a-z0-9-_]+)$/;

var songData = {}; // Cache song data requests

var SoundCloud = function (_FilePlayer) {
  _inherits(SoundCloud, _FilePlayer);

  function SoundCloud() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, SoundCloud);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = SoundCloud.__proto__ || (0, _getPrototypeOf2.default)(SoundCloud)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      image: null
    }, _this.clientId = _this.props.soundcloudConfig.clientId || _props3.defaultProps.soundcloudConfig.clientId, _this.ref = function (player) {
      _this.player = player;
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(SoundCloud, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      return _get(SoundCloud.prototype.__proto__ || (0, _getPrototypeOf2.default)(SoundCloud.prototype), 'shouldComponentUpdate', this).call(this, nextProps, nextState) || this.state.image !== nextState.image;
    }
  }, {
    key: 'getSongData',
    value: function getSongData(url) {
      var _this2 = this;

      if (songData[url]) {
        return _promise2.default.resolve(songData[url]);
      }
      return (0, _fetchJsonp2['default'])(RESOLVE_URL + '?url=' + url + '&client_id=' + this.clientId).then(function (response) {
        if (response.ok) {
          songData[url] = response.json();
          return songData[url];
        } else {
          _this2.props.onError(new Error('SoundCloud track could not be resolved'));
        }
      });
    }
  }, {
    key: 'load',
    value: function load(url) {
      var _this3 = this;

      var _props = this.props,
          soundcloudConfig = _props.soundcloudConfig,
          onError = _props.onError;

      this.stop();
      this.getSongData(url).then(function (data) {
        if (!_this3.mounted) return;
        if (!data.streamable) {
          onError(new Error('SoundCloud track is not streamable'));
          return;
        }
        var image = data.artwork_url || data.user.avatar_url;
        if (image && soundcloudConfig.showArtwork) {
          _this3.setState({ image: image.replace('-large', '-t500x500') });
        }
        _this3.player.src = data.stream_url + '?client_id=' + _this3.clientId;
      }, onError);
    }
  }, {
    key: 'render',
    value: function render() {
      var _props2 = this.props,
          url = _props2.url,
          loop = _props2.loop,
          controls = _props2.controls;

      var style = {
        display: url ? 'block' : 'none',
        height: '100%',
        backgroundImage: this.state.image ? 'url(' + this.state.image + ')' : null,
        backgroundSize: 'cover',
        backgroundPosition: 'center'
      };
      return _react2['default'].createElement('div', { style: style }, _react2['default'].createElement('audio', {
        ref: this.ref,
        type: 'audio/mpeg',
        preload: 'auto',
        style: {
          width: '100%',
          height: '100%'
        },
        controls: controls,
        loop: loop
      }));
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return MATCH_URL.test(url);
    }
  }]);

  return SoundCloud;
}(_FilePlayer3['default']);

SoundCloud.displayName = 'SoundCloud';
exports['default'] = SoundCloud;
module.exports = exports['default'];

/***/ }),
/* 369 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault2(_promise);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _FilePlayer2 = __webpack_require__(94);

var _FilePlayer3 = _interopRequireDefault(_FilePlayer2);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var RESOLVE_URL = 'https://api.streamable.com/videos/';
var MATCH_URL = /^https?:\/\/streamable.com\/([a-z0-9]+)$/;

var cache = {}; // Cache song data requests

var Streamable = function (_FilePlayer) {
  _inherits(Streamable, _FilePlayer);

  function Streamable() {
    _classCallCheck(this, Streamable);

    return _possibleConstructorReturn(this, (Streamable.__proto__ || (0, _getPrototypeOf2.default)(Streamable)).apply(this, arguments));
  }

  _createClass(Streamable, [{
    key: 'getData',
    value: function getData(url) {
      var onError = this.props.onError;

      var id = url.match(MATCH_URL)[1];
      if (cache[id]) {
        return _promise2.default.resolve(cache[id]);
      }
      return window.fetch(RESOLVE_URL + id).then(function (response) {
        if (response.status === 200) {
          cache[id] = response.json();
          return cache[id];
        } else {
          onError(new Error('Streamable track could not be resolved'));
        }
      });
    }
  }, {
    key: 'load',
    value: function load(url) {
      var _this2 = this;

      var onError = this.props.onError;

      this.stop();
      this.getData(url).then(function (data) {
        if (!_this2.mounted) return;
        _this2.player.src = data.files.mp4.url;
      }, onError);
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return MATCH_URL.test(url);
    }
  }]);

  return Streamable;
}(_FilePlayer3['default']);

Streamable.displayName = 'Streamable';
exports['default'] = Streamable;
module.exports = exports['default'];

/***/ }),
/* 370 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault2(_promise);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _FilePlayer2 = __webpack_require__(94);

var _FilePlayer3 = _interopRequireDefault(_FilePlayer2);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var RESOLVE_URL = 'https://api.vid.me/videoByUrl/';
var MATCH_URL = /^https?:\/\/vid.me\/([a-z0-9]+)$/i;

var cache = {}; // Cache song data requests

var Vidme = function (_FilePlayer) {
  _inherits(Vidme, _FilePlayer);

  function Vidme() {
    _classCallCheck(this, Vidme);

    return _possibleConstructorReturn(this, (Vidme.__proto__ || (0, _getPrototypeOf2.default)(Vidme)).apply(this, arguments));
  }

  _createClass(Vidme, [{
    key: 'getData',
    value: function getData(url) {
      var onError = this.props.onError;

      var id = url.match(MATCH_URL)[1];
      if (cache[id]) {
        return _promise2.default.resolve(cache[id]);
      }
      return window.fetch(RESOLVE_URL + id).then(function (response) {
        if (response.status === 200) {
          cache[id] = response.json();
          return cache[id];
        } else {
          onError(new Error('Vidme track could not be resolved'));
        }
      });
    }
  }, {
    key: 'load',
    value: function load(url) {
      var _this2 = this;

      var onError = this.props.onError;

      this.stop();
      this.getData(url).then(function (data) {
        if (!_this2.mounted) return;
        _this2.player.src = data.video.complete_url;
      }, onError);
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return MATCH_URL.test(url);
    }
  }]);

  return Vidme;
}(_FilePlayer3['default']);

Vidme.displayName = 'Vidme';
exports['default'] = Vidme;
module.exports = exports['default'];

/***/ }),
/* 371 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault2(_stringify);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;if (getter === undefined) {
      return undefined;
    }return getter.call(receiver);
  }
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _queryString = __webpack_require__(349);

var _Base2 = __webpack_require__(93);

var _Base3 = _interopRequireDefault(_Base2);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var IFRAME_SRC = 'https://player.vimeo.com/video/';
var MATCH_URL = /https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/;
var MATCH_MESSAGE_ORIGIN = /^https?:\/\/player.vimeo.com/;
var BLANK_VIDEO_URL = 'https://vimeo.com/127250231';
var DEFAULT_IFRAME_PARAMS = {
  api: 1,
  autoplay: 0,
  badge: 0,
  byline: 0,
  fullscreen: 1,
  portrait: 0,
  title: 0
};

var Vimeo = function (_Base) {
  _inherits(Vimeo, _Base);

  function Vimeo() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Vimeo);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Vimeo.__proto__ || (0, _getPrototypeOf2.default)(Vimeo)).call.apply(_ref, [this].concat(args))), _this), _this.onMessage = function (e) {
      if (!MATCH_MESSAGE_ORIGIN.test(e.origin)) return;
      _this.origin = _this.origin || e.origin;
      var data = JSON.parse(e.data);
      if (data.event === 'ready') {
        _this.postMessage('getDuration');
        _this.postMessage('addEventListener', 'playProgress');
        _this.postMessage('addEventListener', 'loadProgress');
        _this.postMessage('addEventListener', 'play');
        _this.postMessage('addEventListener', 'pause');
        _this.postMessage('addEventListener', 'finish');
      }
      if (data.event === 'playProgress') _this.fractionPlayed = data.data.percent;
      if (data.event === 'loadProgress') _this.fractionLoaded = data.data.percent;
      if (data.event === 'play') _this.onPlay();
      if (data.event === 'pause') _this.props.onPause();
      if (data.event === 'finish') _this.onEnded();
      if (data.method === 'getDuration') {
        _this.duration = data.value; // Store for use later
        _this.onReady();
      }
    }, _this.onEnded = function () {
      var _this$props = _this.props,
          loop = _this$props.loop,
          onEnded = _this$props.onEnded;

      if (loop) {
        _this.seekTo(0);
      }
      onEnded();
    }, _this.postMessage = function (method, value) {
      if (!_this.origin) return;
      var data = (0, _stringify2.default)({ method: method, value: value });
      return _this.iframe.contentWindow && _this.iframe.contentWindow.postMessage(data, _this.origin);
    }, _this.ref = function (iframe) {
      _this.iframe = iframe;
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Vimeo, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _props = this.props,
          url = _props.url,
          vimeoConfig = _props.vimeoConfig;

      window.addEventListener('message', this.onMessage, false);

      if (!url && vimeoConfig.preload) {
        this.preloading = true;
        this.load(BLANK_VIDEO_URL);
      }

      _get(Vimeo.prototype.__proto__ || (0, _getPrototypeOf2.default)(Vimeo.prototype), 'componentDidMount', this).call(this);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener('message', this.onMessage, false);
      _get(Vimeo.prototype.__proto__ || (0, _getPrototypeOf2.default)(Vimeo.prototype), 'componentWillUnmount', this).call(this);
    }
  }, {
    key: 'getIframeParams',
    value: function getIframeParams() {
      return _extends({}, DEFAULT_IFRAME_PARAMS, this.props.vimeoConfig.iframeParams);
    }
  }, {
    key: 'load',
    value: function load(url) {
      var id = url.match(MATCH_URL)[3];
      this.iframe.src = IFRAME_SRC + id + '?' + (0, _queryString.stringify)(this.getIframeParams());
    }
  }, {
    key: 'play',
    value: function play() {
      this.postMessage('play');
    }
  }, {
    key: 'pause',
    value: function pause() {
      this.postMessage('pause');
    }
  }, {
    key: 'stop',
    value: function stop() {
      this.iframe.src = '';
    }
  }, {
    key: 'seekTo',
    value: function seekTo(fraction) {
      _get(Vimeo.prototype.__proto__ || (0, _getPrototypeOf2.default)(Vimeo.prototype), 'seekTo', this).call(this, fraction);
      this.postMessage('seekTo', this.duration * fraction);
    }
  }, {
    key: 'setVolume',
    value: function setVolume(fraction) {
      this.postMessage('setVolume', fraction);
    }
  }, {
    key: 'setPlaybackRate',
    value: function setPlaybackRate(rate) {
      this.postMessage('setPlaybackRate', rate);
    }
  }, {
    key: 'getDuration',
    value: function getDuration() {
      return this.duration;
    }
  }, {
    key: 'getFractionPlayed',
    value: function getFractionPlayed() {
      return this.fractionPlayed || null;
    }
  }, {
    key: 'getFractionLoaded',
    value: function getFractionLoaded() {
      return this.fractionLoaded || null;
    }
  }, {
    key: 'render',
    value: function render() {
      var _getIframeParams = this.getIframeParams(),
          fullscreen = _getIframeParams.fullscreen;

      var style = {
        display: this.props.url ? 'block' : 'none',
        width: '100%',
        height: '100%'
      };
      return _react2['default'].createElement('iframe', {
        ref: this.ref,
        frameBorder: '0',
        style: style,
        allowFullScreen: fullscreen
      });
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return MATCH_URL.test(url);
    }
  }]);

  return Vimeo;
}(_Base3['default']);

Vimeo.displayName = 'Vimeo';
exports['default'] = Vimeo;
module.exports = exports['default'];

/***/ }),
/* 372 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault2(_promise);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;if (getter === undefined) {
      return undefined;
    }return getter.call(receiver);
  }
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _loadScript = __webpack_require__(184);

var _loadScript2 = _interopRequireDefault(_loadScript);

var _Base2 = __webpack_require__(93);

var _Base3 = _interopRequireDefault(_Base2);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var SDK_URL = '//fast.wistia.com/assets/external/E-v1.js';
var SDK_GLOBAL = 'Wistia';
var MATCH_URL = /^https?:\/\/(.+)?(wistia.com|wi.st)\/(medias|embed)\/(.*)$/;

var Wistia = function (_Base) {
  _inherits(Wistia, _Base);

  function Wistia() {
    _classCallCheck(this, Wistia);

    return _possibleConstructorReturn(this, (Wistia.__proto__ || (0, _getPrototypeOf2.default)(Wistia)).apply(this, arguments));
  }

  _createClass(Wistia, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _props = this.props,
          onStart = _props.onStart,
          onPause = _props.onPause,
          onEnded = _props.onEnded;

      this.loadingSDK = true;
      this.getSDK().then(function () {
        window._wq = window._wq || [];
        window._wq.push({
          id: _this2.getID(_this2.props.url),
          onReady: function onReady(player) {
            _this2.loadingSDK = false;
            _this2.player = player;
            _this2.player.bind('start', onStart);
            _this2.player.bind('play', _this2.onPlay);
            _this2.player.bind('pause', onPause);
            _this2.player.bind('end', onEnded);
            _this2.onReady();
          }
        });
      });
    }
  }, {
    key: 'getSDK',
    value: function getSDK() {
      return new _promise2.default(function (resolve, reject) {
        if (window[SDK_GLOBAL]) {
          resolve();
        } else {
          (0, _loadScript2['default'])(SDK_URL, function (err, script) {
            if (err) reject(err);
            resolve(script);
          });
        }
      });
    }
  }, {
    key: 'getID',
    value: function getID(url) {
      return url && url.match(MATCH_URL)[4];
    }
  }, {
    key: 'load',
    value: function load(url) {
      var id = this.getID(url);
      if (this.isReady) {
        this.player.replaceWith(id);
        this.props.onReady();
        this.onReady();
      }
    }
  }, {
    key: 'play',
    value: function play() {
      if (!this.isReady || !this.player) return;
      this.player.play();
    }
  }, {
    key: 'pause',
    value: function pause() {
      if (!this.isReady || !this.player) return;
      this.player && this.player.pause();
    }
  }, {
    key: 'stop',
    value: function stop() {
      if (!this.isReady || !this.player) return;
      this.player.pause();
    }
  }, {
    key: 'seekTo',
    value: function seekTo(fraction) {
      _get(Wistia.prototype.__proto__ || (0, _getPrototypeOf2.default)(Wistia.prototype), 'seekTo', this).call(this, fraction);
      if (!this.isReady || !this.player) return;
      this.player.time(this.getDuration() * fraction);
    }
  }, {
    key: 'setVolume',
    value: function setVolume(fraction) {
      if (!this.isReady || !this.player || !this.player.volume) return;
      this.player.volume(fraction);
    }
  }, {
    key: 'setPlaybackRate',
    value: function setPlaybackRate(rate) {
      if (!this.isReady || !this.player || !this.player.playbackRate) return;
      this.player.playbackRate(rate);
    }
  }, {
    key: 'getDuration',
    value: function getDuration() {
      if (!this.isReady || !this.player || !this.player.duration) return;
      return this.player.duration();
    }
  }, {
    key: 'getFractionPlayed',
    value: function getFractionPlayed() {
      if (!this.isReady || !this.player || !this.player.percentWatched) return null;
      return this.player.percentWatched();
    }
  }, {
    key: 'getFractionLoaded',
    value: function getFractionLoaded() {
      return null;
    }
  }, {
    key: 'render',
    value: function render() {
      var id = this.getID(this.props.url);
      var className = 'wistia_embed wistia_async_' + id;
      var style = {
        width: '100%',
        height: '100%',
        display: this.props.url ? 'block' : 'none'
      };
      return _react2['default'].createElement('div', { className: className, style: style });
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return MATCH_URL.test(url);
    }
  }]);

  return Wistia;
}(_Base3['default']);

Wistia.displayName = 'Wistia';
exports['default'] = Wistia;
module.exports = exports['default'];

/***/ }),
/* 373 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _promise = __webpack_require__(31);

var _promise2 = _interopRequireDefault2(_promise);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault2(_getPrototypeOf);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault2(_getOwnPropertyDescriptor);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault2(_defineProperty);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;(0, _defineProperty2.default)(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _get = function get(object, property, receiver) {
  if (object === null) object = Function.prototype;var desc = (0, _getOwnPropertyDescriptor2.default)(object, property);if (desc === undefined) {
    var parent = (0, _getPrototypeOf2.default)(object);if (parent === null) {
      return undefined;
    } else {
      return get(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;if (getter === undefined) {
      return undefined;
    }return getter.call(receiver);
  }
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _loadScript = __webpack_require__(184);

var _loadScript2 = _interopRequireDefault(_loadScript);

var _Base2 = __webpack_require__(93);

var _Base3 = _interopRequireDefault(_Base2);

var _utils = __webpack_require__(374);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var SDK_URL = 'https://www.youtube.com/iframe_api';
var SDK_GLOBAL = 'YT';
var SDK_GLOBAL_READY = 'onYouTubeIframeAPIReady';
var MATCH_URL = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
var BLANK_VIDEO_URL = 'https://www.youtube.com/watch?v=GlCmAC4MHek';
var DEFAULT_PLAYER_VARS = {
  autoplay: 0,
  playsinline: 1,
  showinfo: 0,
  rel: 0,
  iv_load_policy: 3
};

var YouTube = function (_Base) {
  _inherits(YouTube, _Base);

  function YouTube() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, YouTube);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = YouTube.__proto__ || (0, _getPrototypeOf2.default)(YouTube)).call.apply(_ref, [this].concat(args))), _this), _this.onStateChange = function (_ref2) {
      var data = _ref2.data;
      var _this$props = _this.props,
          onPause = _this$props.onPause,
          onBuffer = _this$props.onBuffer;
      var _window$SDK_GLOBAL$Pl = window[SDK_GLOBAL].PlayerState,
          PLAYING = _window$SDK_GLOBAL$Pl.PLAYING,
          PAUSED = _window$SDK_GLOBAL$Pl.PAUSED,
          BUFFERING = _window$SDK_GLOBAL$Pl.BUFFERING,
          ENDED = _window$SDK_GLOBAL$Pl.ENDED,
          CUED = _window$SDK_GLOBAL$Pl.CUED;

      if (data === PLAYING) _this.onPlay();
      if (data === PAUSED) onPause();
      if (data === BUFFERING) onBuffer();
      if (data === ENDED) _this.onEnded();
      if (data === CUED) _this.onReady();
    }, _this.onEnded = function () {
      var _this$props2 = _this.props,
          loop = _this$props2.loop,
          onEnded = _this$props2.onEnded;

      if (loop) {
        _this.seekTo(0);
      }
      onEnded();
    }, _this.ref = function (container) {
      _this.container = container;
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(YouTube, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _props = this.props,
          url = _props.url,
          youtubeConfig = _props.youtubeConfig;

      if (!url && youtubeConfig.preload) {
        this.preloading = true;
        this.load(BLANK_VIDEO_URL);
      }
      _get(YouTube.prototype.__proto__ || (0, _getPrototypeOf2.default)(YouTube.prototype), 'componentDidMount', this).call(this);
    }
  }, {
    key: 'getSDK',
    value: function getSDK() {
      if (window[SDK_GLOBAL] && window[SDK_GLOBAL].loaded) {
        return _promise2.default.resolve(window[SDK_GLOBAL]);
      }
      return new _promise2.default(function (resolve, reject) {
        var previousOnReady = window[SDK_GLOBAL_READY];
        window[SDK_GLOBAL_READY] = function () {
          if (previousOnReady) previousOnReady();
          resolve(window[SDK_GLOBAL]);
        };
        (0, _loadScript2['default'])(SDK_URL, function (err) {
          if (err) reject(err);
        });
      });
    }
  }, {
    key: 'load',
    value: function load(url) {
      var _this2 = this;

      var _props2 = this.props,
          controls = _props2.controls,
          youtubeConfig = _props2.youtubeConfig,
          _onError = _props2.onError;

      var id = url && url.match(MATCH_URL)[1];
      if (this.isReady) {
        this.player.cueVideoById({
          videoId: id,
          startSeconds: (0, _utils.parseStartTime)(url)
        });
        return;
      }
      if (this.loadingSDK) {
        this.loadOnReady = url;
        return;
      }
      this.loadingSDK = true;
      this.getSDK().then(function (YT) {
        _this2.player = new YT.Player(_this2.container, {
          width: '100%',
          height: '100%',
          videoId: id,
          playerVars: _extends({}, DEFAULT_PLAYER_VARS, {
            controls: controls ? 1 : 0,
            start: (0, _utils.parseStartTime)(url),
            origin: window.location.origin
          }, youtubeConfig.playerVars),
          events: {
            onReady: function onReady() {
              _this2.loadingSDK = false;
              _this2.onReady();
            },
            onStateChange: _this2.onStateChange,
            onError: function onError(event) {
              return _onError(event.data);
            }
          }
        });
      }, _onError);
    }
  }, {
    key: 'play',
    value: function play() {
      if (!this.isReady || !this.player.playVideo) return;
      this.player.playVideo();
    }
  }, {
    key: 'pause',
    value: function pause() {
      if (!this.isReady || !this.player.pauseVideo) return;
      this.player.pauseVideo();
    }
  }, {
    key: 'stop',
    value: function stop() {
      if (!this.isReady || !this.player.stopVideo) return;
      this.player.stopVideo();
    }
  }, {
    key: 'seekTo',
    value: function seekTo(fraction) {
      _get(YouTube.prototype.__proto__ || (0, _getPrototypeOf2.default)(YouTube.prototype), 'seekTo', this).call(this, fraction);
      if (!this.isReady || !this.player.seekTo) return;
      this.player.seekTo(this.getDuration() * fraction);
    }
  }, {
    key: 'setVolume',
    value: function setVolume(fraction) {
      if (!this.isReady || !this.player.setVolume) return;
      this.player.setVolume(fraction * 100);
    }
  }, {
    key: 'setPlaybackRate',
    value: function setPlaybackRate(rate) {
      if (!this.isReady || !this.player.setPlaybackRate) return;
      this.player.setPlaybackRate(rate);
    }
  }, {
    key: 'getDuration',
    value: function getDuration() {
      if (!this.isReady || !this.player.getDuration) return null;
      return this.player.getDuration();
    }
  }, {
    key: 'getFractionPlayed',
    value: function getFractionPlayed() {
      if (!this.isReady || !this.getDuration()) return null;
      return this.player.getCurrentTime() / this.getDuration();
    }
  }, {
    key: 'getFractionLoaded',
    value: function getFractionLoaded() {
      if (!this.isReady || !this.player.getVideoLoadedFraction) return null;
      return this.player.getVideoLoadedFraction();
    }
  }, {
    key: 'render',
    value: function render() {
      var style = {
        width: '100%',
        height: '100%',
        display: this.props.url ? 'block' : 'none'
      };
      return _react2['default'].createElement('div', { style: style }, _react2['default'].createElement('div', { ref: this.ref }));
    }
  }], [{
    key: 'canPlay',
    value: function canPlay(url) {
      return MATCH_URL.test(url);
    }
  }]);

  return YouTube;
}(_Base3['default']);

YouTube.displayName = 'YouTube';
exports['default'] = YouTube;
module.exports = exports['default'];

/***/ }),
/* 374 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _isIterable2 = __webpack_require__(65);

var _isIterable3 = _interopRequireDefault(_isIterable2);

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () {
  function sliceIterator(arr, i) {
    var _arr = [];var _n = true;var _d = false;var _e = undefined;try {
      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {
        _arr.push(_s.value);if (i && _arr.length === i) break;
      }
    } catch (err) {
      _d = true;_e = err;
    } finally {
      try {
        if (!_n && _i["return"]) _i["return"]();
      } finally {
        if (_d) throw _e;
      }
    }return _arr;
  }return function (arr, i) {
    if (Array.isArray(arr)) {
      return arr;
    } else if ((0, _isIterable3.default)(Object(arr))) {
      return sliceIterator(arr, i);
    } else {
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    }
  };
}();

exports.parseStartTime = parseStartTime;
var MATCH_START_QUERY = /[?&#](?:start|t)=([0-9hms]+)/;
var MATCH_START_STAMP = /(\d+)(h|m|s)/g;
var MATCH_NUMERIC = /^\d+$/;

// Parse YouTube URL for a start time param, ie ?t=1h14m30s
// and return the start time in seconds
function parseStartTime(url) {
  var match = url.match(MATCH_START_QUERY);
  if (match) {
    var stamp = match[1];
    if (stamp.match(MATCH_START_STAMP)) {
      return parseStartStamp(stamp);
    }
    if (MATCH_NUMERIC.test(stamp)) {
      return parseInt(stamp, 10);
    }
  }
  return 0;
}

function parseStartStamp(stamp) {
  var seconds = 0;
  var array = MATCH_START_STAMP.exec(stamp);
  while (array !== null) {
    var _array = array,
        _array2 = _slicedToArray(_array, 3),
        count = _array2[1],
        period = _array2[2];

    if (period === 'h') seconds += parseInt(count, 10) * 60 * 60;
    if (period === 'm') seconds += parseInt(count, 10) * 60;
    if (period === 's') seconds += parseInt(count, 10);
    array = MATCH_START_STAMP.exec(stamp);
  }
  return seconds;
}

/***/ }),
/* 375 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var React = __webpack_require__(0),
    ReactDOM = __webpack_require__(0),
    S3Upload = __webpack_require__(377),
    objectAssign = __webpack_require__(376);

var ReactS3Uploader = React.createClass({

    propTypes: {
        signingUrl: React.PropTypes.string,
        getSignedUrl: React.PropTypes.func,
        preprocess: React.PropTypes.func,
        onProgress: React.PropTypes.func,
        onFinish: React.PropTypes.func,
        onError: React.PropTypes.func,
        signingUrlMethod: React.PropTypes.string,
        signingUrlHeaders: React.PropTypes.object,
        signingUrlQueryParams: React.PropTypes.oneOfType([React.PropTypes.object, React.PropTypes.func]),
        signingUrlWithCredentials: React.PropTypes.bool,
        uploadRequestHeaders: React.PropTypes.object,
        contentDisposition: React.PropTypes.string,
        server: React.PropTypes.string
    },

    getDefaultProps: function getDefaultProps() {
        return {
            preprocess: function preprocess(file, next) {
                console.log('Pre-process: ' + file.name);
                next(file);
            },
            onProgress: function onProgress(percent, message) {
                console.log('Upload progress: ' + percent + '% ' + message);
            },
            onFinish: function onFinish(signResult) {
                console.log("Upload finished: " + signResult.publicUrl);
            },
            onError: function onError(message) {
                console.log("Upload error: " + message);
            },
            server: '',
            signingUrlMethod: 'GET'
        };
    },

    uploadFile: function uploadFile() {
        this.myUploader = new S3Upload({
            fileElement: ReactDOM.findDOMNode(this),
            signingUrl: this.props.signingUrl,
            getSignedUrl: this.props.getSignedUrl,
            preprocess: this.props.preprocess,
            onProgress: this.props.onProgress,
            onFinishS3Put: this.props.onFinish,
            onError: this.props.onError,
            signingUrlMethod: this.props.signingUrlMethod,
            signingUrlHeaders: this.props.signingUrlHeaders,
            signingUrlQueryParams: this.props.signingUrlQueryParams,
            signingUrlWithCredentials: this.props.signingUrlWithCredentials,
            uploadRequestHeaders: this.props.uploadRequestHeaders,
            contentDisposition: this.props.contentDisposition,
            server: this.props.server
        });
    },

    abort: function abort() {
        this.myUploader && this.myUploader.abortUpload();
    },

    clear: function clear() {
        clearInputFile(ReactDOM.findDOMNode(this));
    },

    render: function render() {
        return React.DOM.input(this.getInputProps());
    },

    getInputProps: function getInputProps() {
        var temporaryProps = objectAssign({}, this.props, { type: 'file', onChange: this.uploadFile });
        var inputProps = {};

        var invalidProps = (0, _keys2.default)(ReactS3Uploader.propTypes);

        for (var key in temporaryProps) {
            if (temporaryProps.hasOwnProperty(key) && invalidProps.indexOf(key) === -1) {
                inputProps[key] = temporaryProps[key];
            }
        }

        return inputProps;
    }

});

// http://stackoverflow.com/a/24608023/194065
function clearInputFile(f) {
    if (f.value) {
        try {
            f.value = ''; //for IE11, latest Chrome/Firefox/Opera...
        } catch (err) {}
        if (f.value) {
            //for IE5 ~ IE10
            var form = document.createElement('form'),
                parentNode = f.parentNode,
                ref = f.nextSibling;
            form.appendChild(f);
            form.reset();
            parentNode.insertBefore(f, ref);
        }
    }
}

module.exports = ReactS3Uploader;

/***/ }),
/* 376 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ToObject(val) {
	if (val == null) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

module.exports = _assign2.default || function (target, source) {
	var from;
	var keys;
	var to = ToObject(target);

	for (var s = 1; s < arguments.length; s++) {
		from = arguments[s];
		keys = (0, _keys2.default)(Object(from));

		for (var i = 0; i < keys.length; i++) {
			to[keys[i]] = from[keys[i]];
		}
	}

	return to;
};

/***/ }),
/* 377 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Taken, CommonJS-ified, and heavily modified from:
 * https://github.com/flyingsparx/NodeDirectUploader
 */

S3Upload.prototype.server = '';
S3Upload.prototype.signingUrl = '/sign-s3';
S3Upload.prototype.signingUrlMethod = 'GET';
S3Upload.prototype.fileElement = null;
S3Upload.prototype.files = null;

S3Upload.prototype.onFinishS3Put = function (signResult, file) {
    return console.log('base.onFinishS3Put()', signResult.publicUrl);
};

S3Upload.prototype.preprocess = function (file, next) {
    console.log('base.preprocess()', file);
    return next(file);
};

S3Upload.prototype.onProgress = function (percent, status, file) {
    return console.log('base.onProgress()', percent, status);
};

S3Upload.prototype.onError = function (status, file) {
    return console.log('base.onError()', status);
};

S3Upload.prototype.scrubFilename = function (filename) {
    return filename.replace(/[^\w\d_\-\.]+/ig, '');
};

function S3Upload(options) {
    if (options == null) {
        options = {};
    }
    for (var option in options) {
        if (options.hasOwnProperty(option)) {
            this[option] = options[option];
        }
    }
    var files = this.fileElement ? this.fileElement.files : this.files || [];
    this.handleFileSelect(files);
}

S3Upload.prototype.handleFileSelect = function (files) {
    var result = [];
    for (var i = 0; i < files.length; i++) {
        var file = files[i];
        this.preprocess(file, function (processedFile) {
            this.onProgress(0, 'Waiting', processedFile);
            result.push(this.uploadFile(processedFile));
            return result;
        }.bind(this));
    }
};

S3Upload.prototype.createCORSRequest = function (method, url, opts) {
    var opts = opts || {};
    var xhr = new XMLHttpRequest();

    if (xhr.withCredentials != null) {
        if (opts.withCredentials != null) {
            xhr.withCredentials = opts.withCredentials;
        }
        xhr.open(method, url, true);
    } else if (typeof XDomainRequest !== "undefined") {
        xhr = new XDomainRequest();
        xhr.open(method, url);
    } else {
        xhr = null;
    }
    return xhr;
};

S3Upload.prototype.executeOnSignedUrl = function (file, callback) {
    var fileName = this.scrubFilename(file.name);
    var queryString = '?objectName=' + fileName + '&contentType=' + encodeURIComponent(file.type);
    if (this.signingUrlQueryParams) {
        var signingUrlQueryParams = typeof this.signingUrlQueryParams === 'function' ? this.signingUrlQueryParams() : this.signingUrlQueryParams;
        (0, _keys2.default)(signingUrlQueryParams).forEach(function (key) {
            var val = signingUrlQueryParams[key];
            queryString += '&' + key + '=' + val;
        });
    }
    var xhr = this.createCORSRequest(this.signingUrlMethod, this.server + this.signingUrl + queryString, { withCredentials: this.signingUrlWithCredentials });
    if (this.signingUrlHeaders) {
        var signingUrlHeaders = this.signingUrlHeaders;
        (0, _keys2.default)(signingUrlHeaders).forEach(function (key) {
            var val = signingUrlHeaders[key];
            xhr.setRequestHeader(key, val);
        });
    }
    xhr.overrideMimeType && xhr.overrideMimeType('text/plain; charset=x-user-defined');
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
            var result;
            try {
                result = JSON.parse(xhr.responseText);
            } catch (error) {
                this.onError('Invalid response from server', file);
                return false;
            }
            return callback(result);
        } else if (xhr.readyState === 4 && xhr.status !== 200) {
            return this.onError('Could not contact request signing server. Status = ' + xhr.status, file);
        }
    }.bind(this);
    return xhr.send();
};

S3Upload.prototype.uploadToS3 = function (file, signResult) {
    var xhr = this.createCORSRequest('PUT', signResult.signedUrl);
    if (!xhr) {
        this.onError('CORS not supported', file);
    } else {
        xhr.onload = function () {
            if (xhr.status === 200) {
                this.onProgress(100, 'Upload completed', file);
                return this.onFinishS3Put(signResult, file);
            } else {
                return this.onError('Upload error: ' + xhr.status, file);
            }
        }.bind(this);
        xhr.onerror = function () {
            return this.onError('XHR error', file);
        }.bind(this);
        xhr.upload.onprogress = function (e) {
            var percentLoaded;
            if (e.lengthComputable) {
                percentLoaded = Math.round(e.loaded / e.total * 100);
                return this.onProgress(percentLoaded, percentLoaded === 100 ? 'Finalizing' : 'Uploading', file);
            }
        }.bind(this);
    }
    xhr.setRequestHeader('Content-Type', file.type);
    if (this.contentDisposition) {
        var disposition = this.contentDisposition;
        if (disposition === 'auto') {
            if (file.type.substr(0, 6) === 'image/') {
                disposition = 'inline';
            } else {
                disposition = 'attachment';
            }
        }

        var fileName = this.scrubFilename(file.name);
        xhr.setRequestHeader('Content-Disposition', disposition + '; filename="' + fileName + '"');
    }
    if (this.uploadRequestHeaders) {
        var uploadRequestHeaders = this.uploadRequestHeaders;
        (0, _keys2.default)(uploadRequestHeaders).forEach(function (key) {
            var val = uploadRequestHeaders[key];
            xhr.setRequestHeader(key, val);
        });
    } else {
        xhr.setRequestHeader('x-amz-acl', 'public-read');
    }
    this.httprequest = xhr;
    return xhr.send(file);
};

S3Upload.prototype.uploadFile = function (file) {
    var uploadToS3Callback = this.uploadToS3.bind(this, file);

    if (this.getSignedUrl) return this.getSignedUrl(file, uploadToS3Callback);
    return this.executeOnSignedUrl(file, uploadToS3Callback);
};

S3Upload.prototype.abortUpload = function () {
    this.httprequest && this.httprequest.abort();
};

module.exports = S3Upload;

/***/ }),
/* 378 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.isCustomEvent = function (ele) {
    var event = this.state.event;

    return event || !!ele.getAttribute('data-event');
  };

  /* Bind listener for custom event */
  target.prototype.customBindListener = function (ele) {
    var _this = this;

    var _state = this.state;
    var event = _state.event;
    var eventOff = _state.eventOff;

    var dataEvent = ele.getAttribute('data-event') || event;
    var dataEventOff = ele.getAttribute('data-event-off') || eventOff;

    dataEvent.split(' ').forEach(function (event) {
      ele.removeEventListener(event, customListener);
      customListener = checkStatus.bind(_this, dataEventOff);
      ele.addEventListener(event, customListener, false);
    });
    if (dataEventOff) {
      dataEventOff.split(' ').forEach(function (event) {
        ele.removeEventListener(event, _this.hideTooltip);
        ele.addEventListener(event, _this.hideTooltip, false);
      });
    }
  };

  /* Unbind listener for custom event */
  target.prototype.customUnbindListener = function (ele) {
    var _state2 = this.state;
    var event = _state2.event;
    var eventOff = _state2.eventOff;

    var dataEvent = event || ele.getAttribute('data-event');
    var dataEventOff = eventOff || ele.getAttribute('data-event-off');

    ele.removeEventListener(dataEvent, customListener);
    if (dataEventOff) ele.removeEventListener(dataEventOff, this.hideTooltip);
  };
};

/**
 * Custom events to control showing and hiding of tooltip
 *
 * @attributes
 * - `event` {String}
 * - `eventOff` {String}
 */

var checkStatus = function checkStatus(dataEventOff, e) {
  var show = this.state.show;
  var id = this.props.id;

  var dataIsCapture = e.currentTarget.getAttribute('data-iscapture');
  var isCapture = dataIsCapture && dataIsCapture === 'true' || this.props.isCapture;
  var currentItem = e.currentTarget.getAttribute('currentItem');

  if (!isCapture) e.stopPropagation();
  if (show && currentItem === 'true') {
    if (!dataEventOff) this.hideTooltip(e);
  } else {
    e.currentTarget.setAttribute('currentItem', 'true');
    setUntargetItems(e.currentTarget, this.getTargetArray(id));
    this.showTooltip(e);
  }
};

var setUntargetItems = function setUntargetItems(currentTarget, targetArray) {
  for (var i = 0; i < targetArray.length; i++) {
    if (currentTarget !== targetArray[i]) {
      targetArray[i].setAttribute('currentItem', 'false');
    } else {
      targetArray[i].setAttribute('currentItem', 'true');
    }
  }
};

var customListener = void 0;

/***/ }),
/* 379 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.isCapture = function (currentTarget) {
    var dataIsCapture = currentTarget.getAttribute('data-iscapture');
    return dataIsCapture && dataIsCapture === 'true' || this.props.isCapture || false;
  };
};

/***/ }),
/* 380 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  /**
   * Hide all tooltip
   * @trigger ReactTooltip.hide()
   */
  target.hide = function (target) {
    dispatchGlobalEvent(_constant2.default.GLOBAL.HIDE, { target: target });
  };

  /**
   * Rebuild all tooltip
   * @trigger ReactTooltip.rebuild()
   */
  target.rebuild = function () {
    dispatchGlobalEvent(_constant2.default.GLOBAL.REBUILD);
  };

  /**
   * Show specific tooltip
   * @trigger ReactTooltip.show()
   */
  target.show = function (target) {
    dispatchGlobalEvent(_constant2.default.GLOBAL.SHOW, { target: target });
  };

  target.prototype.globalRebuild = function () {
    if (this.mount) {
      this.unbindListener();
      this.bindListener();
    }
  };

  target.prototype.globalShow = function (event) {
    if (this.mount) {
      // Create a fake event, specific show will limit the type to `solid`
      // only `float` type cares e.clientX e.clientY
      var e = { currentTarget: event.detail.target };
      this.showTooltip(e, true);
    }
  };

  target.prototype.globalHide = function (event) {
    if (this.mount) {
      var hasTarget = event && event.detail && event.detail.target && true || false;
      this.hideTooltip({ currentTarget: hasTarget && event.detail.target }, hasTarget);
    }
  };
};

var _constant = __webpack_require__(194);

var _constant2 = _interopRequireDefault(_constant);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var dispatchGlobalEvent = function dispatchGlobalEvent(eventName, opts) {
  // Compatibale with IE
  // @see http://stackoverflow.com/questions/26596123/internet-explorer-9-10-11-event-constructor-doesnt-work
  var event = void 0;

  if (typeof window.CustomEvent === 'function') {
    event = new window.CustomEvent(eventName, { detail: opts });
  } else {
    event = document.createEvent('Event');
    event.initEvent(eventName, false, true, opts);
  }

  window.dispatchEvent(event);
}; /**
    * Static methods for react-tooltip
    */

/***/ }),
/* 381 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (target) {
  target.prototype.bindWindowEvents = function (resizeHide) {
    // ReactTooltip.hide
    window.removeEventListener(_constant2.default.GLOBAL.HIDE, this.globalHide);
    window.addEventListener(_constant2.default.GLOBAL.HIDE, this.globalHide, false);

    // ReactTooltip.rebuild
    window.removeEventListener(_constant2.default.GLOBAL.REBUILD, this.globalRebuild);
    window.addEventListener(_constant2.default.GLOBAL.REBUILD, this.globalRebuild, false);

    // ReactTooltip.show
    window.removeEventListener(_constant2.default.GLOBAL.SHOW, this.globalShow);
    window.addEventListener(_constant2.default.GLOBAL.SHOW, this.globalShow, false);

    // Resize
    if (resizeHide) {
      window.removeEventListener('resize', this.onWindowResize);
      window.addEventListener('resize', this.onWindowResize, false);
    }
  };

  target.prototype.unbindWindowEvents = function () {
    window.removeEventListener(_constant2.default.GLOBAL.HIDE, this.globalHide);
    window.removeEventListener(_constant2.default.GLOBAL.REBUILD, this.globalRebuild);
    window.removeEventListener(_constant2.default.GLOBAL.SHOW, this.globalShow);
    window.removeEventListener('resize', this.onWindowResize);
  };

  /**
   * invoked by resize event of window
   */
  target.prototype.onWindowResize = function () {
    if (!this.mount) return;
    this.hideTooltip();
  };
};

var _constant = __webpack_require__(194);

var _constant2 = _interopRequireDefault(_constant);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

/***/ }),
/* 382 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = '.__react_component_tooltip{border-radius:3px;display:inline-block;font-size:13px;left:-999em;opacity:0;padding:8px 21px;position:fixed;pointer-events:none;transition:opacity 0.3s ease-out;top:-999em;visibility:hidden;z-index:999}.__react_component_tooltip:before,.__react_component_tooltip:after{content:"";width:0;height:0;position:absolute}.__react_component_tooltip.show{opacity:0.9;margin-top:0px;margin-left:0px;visibility:visible}.__react_component_tooltip.type-dark{color:#fff;background-color:#222}.__react_component_tooltip.type-dark.place-top:after{border-top-color:#222;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-dark.place-bottom:after{border-bottom-color:#222;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-dark.place-left:after{border-left-color:#222;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-dark.place-right:after{border-right-color:#222;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-dark.border{border:1px solid #fff}.__react_component_tooltip.type-dark.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-dark.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-dark.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-dark.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-success{color:#fff;background-color:#8DC572}.__react_component_tooltip.type-success.place-top:after{border-top-color:#8DC572;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-success.place-bottom:after{border-bottom-color:#8DC572;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-success.place-left:after{border-left-color:#8DC572;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-success.place-right:after{border-right-color:#8DC572;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-success.border{border:1px solid #fff}.__react_component_tooltip.type-success.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-success.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-success.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-success.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-warning{color:#fff;background-color:#F0AD4E}.__react_component_tooltip.type-warning.place-top:after{border-top-color:#F0AD4E;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-warning.place-bottom:after{border-bottom-color:#F0AD4E;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-warning.place-left:after{border-left-color:#F0AD4E;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-warning.place-right:after{border-right-color:#F0AD4E;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-warning.border{border:1px solid #fff}.__react_component_tooltip.type-warning.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-warning.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-warning.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-warning.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-error{color:#fff;background-color:#BE6464}.__react_component_tooltip.type-error.place-top:after{border-top-color:#BE6464;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-error.place-bottom:after{border-bottom-color:#BE6464;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-error.place-left:after{border-left-color:#BE6464;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-error.place-right:after{border-right-color:#BE6464;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-error.border{border:1px solid #fff}.__react_component_tooltip.type-error.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-error.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-error.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-error.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-info{color:#fff;background-color:#337AB7}.__react_component_tooltip.type-info.place-top:after{border-top-color:#337AB7;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-info.place-bottom:after{border-bottom-color:#337AB7;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-info.place-left:after{border-left-color:#337AB7;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-info.place-right:after{border-right-color:#337AB7;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-info.border{border:1px solid #fff}.__react_component_tooltip.type-info.border.place-top:before{border-top:8px solid #fff}.__react_component_tooltip.type-info.border.place-bottom:before{border-bottom:8px solid #fff}.__react_component_tooltip.type-info.border.place-left:before{border-left:8px solid #fff}.__react_component_tooltip.type-info.border.place-right:before{border-right:8px solid #fff}.__react_component_tooltip.type-light{color:#222;background-color:#fff}.__react_component_tooltip.type-light.place-top:after{border-top-color:#fff;border-top-style:solid;border-top-width:6px}.__react_component_tooltip.type-light.place-bottom:after{border-bottom-color:#fff;border-bottom-style:solid;border-bottom-width:6px}.__react_component_tooltip.type-light.place-left:after{border-left-color:#fff;border-left-style:solid;border-left-width:6px}.__react_component_tooltip.type-light.place-right:after{border-right-color:#fff;border-right-style:solid;border-right-width:6px}.__react_component_tooltip.type-light.border{border:1px solid #222}.__react_component_tooltip.type-light.border.place-top:before{border-top:8px solid #222}.__react_component_tooltip.type-light.border.place-bottom:before{border-bottom:8px solid #222}.__react_component_tooltip.type-light.border.place-left:before{border-left:8px solid #222}.__react_component_tooltip.type-light.border.place-right:before{border-right:8px solid #222}.__react_component_tooltip.place-top{margin-top:-10px}.__react_component_tooltip.place-top:before{border-left:10px solid transparent;border-right:10px solid transparent;bottom:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-top:after{border-left:8px solid transparent;border-right:8px solid transparent;bottom:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-bottom{margin-top:10px}.__react_component_tooltip.place-bottom:before{border-left:10px solid transparent;border-right:10px solid transparent;top:-8px;left:50%;margin-left:-10px}.__react_component_tooltip.place-bottom:after{border-left:8px solid transparent;border-right:8px solid transparent;top:-6px;left:50%;margin-left:-8px}.__react_component_tooltip.place-left{margin-left:-10px}.__react_component_tooltip.place-left:before{border-top:6px solid transparent;border-bottom:6px solid transparent;right:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-left:after{border-top:5px solid transparent;border-bottom:5px solid transparent;right:-6px;top:50%;margin-top:-4px}.__react_component_tooltip.place-right{margin-left:10px}.__react_component_tooltip.place-right:before{border-top:6px solid transparent;border-bottom:6px solid transparent;left:-8px;top:50%;margin-top:-5px}.__react_component_tooltip.place-right:after{border-top:5px solid transparent;border-bottom:5px solid transparent;left:-6px;top:50%;margin-top:-4px}.__react_component_tooltip .multi-line{display:block;padding:2px 0px;text-align:center}';

/***/ }),
/* 383 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseAria = parseAria;
/**
 * Support aria- and role in ReactTooltip
 *
 * @params props {Object}
 * @return {Object}
 */
function parseAria(props) {
  var ariaObj = {};
  (0, _keys2.default)(props).filter(function (prop) {
    // aria-xxx and role is acceptable
    return (/(^aria-\w+$|^role$)/.test(prop)
    );
  }).forEach(function (prop) {
    ariaObj[prop] = props[prop];
  });

  return ariaObj;
}

/***/ }),
/* 384 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (e, target, node, place, effect, offset) {
  var tipWidth = node.clientWidth;
  var tipHeight = node.clientHeight;

  var _getCurrentOffset = getCurrentOffset(e, target, effect);

  var mouseX = _getCurrentOffset.mouseX;
  var mouseY = _getCurrentOffset.mouseY;

  var defaultOffset = getDefaultPosition(effect, target.clientWidth, target.clientHeight, tipWidth, tipHeight);

  var _calculateOffset = calculateOffset(offset);

  var extraOffset_X = _calculateOffset.extraOffset_X;
  var extraOffset_Y = _calculateOffset.extraOffset_Y;

  var windowWidth = window.innerWidth;
  var windowHeight = window.innerHeight;

  var _getParent = getParent(node);

  var parentTop = _getParent.parentTop;
  var parentLeft = _getParent.parentLeft;

  // Get the edge offset of the tooltip

  var getTipOffsetLeft = function getTipOffsetLeft(place) {
    var offset_X = defaultOffset[place].l;
    return mouseX + offset_X + extraOffset_X;
  };
  var getTipOffsetRight = function getTipOffsetRight(place) {
    var offset_X = defaultOffset[place].r;
    return mouseX + offset_X + extraOffset_X;
  };
  var getTipOffsetTop = function getTipOffsetTop(place) {
    var offset_Y = defaultOffset[place].t;
    return mouseY + offset_Y + extraOffset_Y;
  };
  var getTipOffsetBottom = function getTipOffsetBottom(place) {
    var offset_Y = defaultOffset[place].b;
    return mouseY + offset_Y + extraOffset_Y;
  };

  // Judge if the tooltip has over the window(screen)
  var outsideVertical = function outsideVertical() {
    var result = false;
    var newPlace = void 0;
    if (getTipOffsetTop('left') < 0 && getTipOffsetBottom('left') <= windowHeight && getTipOffsetBottom('bottom') <= windowHeight) {
      result = true;
      newPlace = 'bottom';
    } else if (getTipOffsetBottom('left') > windowHeight && getTipOffsetTop('left') >= 0 && getTipOffsetTop('top') >= 0) {
      result = true;
      newPlace = 'top';
    }
    return { result: result, newPlace: newPlace };
  };
  var outsideLeft = function outsideLeft() {
    var _outsideVertical = outsideVertical();

    var result = _outsideVertical.result;
    var newPlace = _outsideVertical.newPlace; // Deal with vertical as first priority

    if (result && outsideHorizontal().result) {
      return { result: false }; // No need to change, if change to vertical will out of space
    }
    if (!result && getTipOffsetLeft('left') < 0 && getTipOffsetRight('right') <= windowWidth) {
      result = true; // If vertical ok, but let out of side and right won't out of side
      newPlace = 'right';
    }
    return { result: result, newPlace: newPlace };
  };
  var outsideRight = function outsideRight() {
    var _outsideVertical2 = outsideVertical();

    var result = _outsideVertical2.result;
    var newPlace = _outsideVertical2.newPlace;

    if (result && outsideHorizontal().result) {
      return { result: false }; // No need to change, if change to vertical will out of space
    }
    if (!result && getTipOffsetRight('right') > windowWidth && getTipOffsetLeft('left') >= 0) {
      result = true;
      newPlace = 'left';
    }
    return { result: result, newPlace: newPlace };
  };

  var outsideHorizontal = function outsideHorizontal() {
    var result = false;
    var newPlace = void 0;
    if (getTipOffsetLeft('top') < 0 && getTipOffsetRight('top') <= windowWidth && getTipOffsetRight('right') <= windowWidth) {
      result = true;
      newPlace = 'right';
    } else if (getTipOffsetRight('top') > windowWidth && getTipOffsetLeft('top') >= 0 && getTipOffsetLeft('left') >= 0) {
      result = true;
      newPlace = 'left';
    }
    return { result: result, newPlace: newPlace };
  };
  var outsideTop = function outsideTop() {
    var _outsideHorizontal = outsideHorizontal();

    var result = _outsideHorizontal.result;
    var newPlace = _outsideHorizontal.newPlace;

    if (result && outsideVertical().result) {
      return { result: false };
    }
    if (!result && getTipOffsetTop('top') < 0 && getTipOffsetBottom('bottom') <= windowHeight) {
      result = true;
      newPlace = 'bottom';
    }
    return { result: result, newPlace: newPlace };
  };
  var outsideBottom = function outsideBottom() {
    var _outsideHorizontal2 = outsideHorizontal();

    var result = _outsideHorizontal2.result;
    var newPlace = _outsideHorizontal2.newPlace;

    if (result && outsideVertical().result) {
      return { result: false };
    }
    if (!result && getTipOffsetBottom('bottom') > windowHeight && getTipOffsetTop('top') >= 0) {
      result = true;
      newPlace = 'top';
    }
    return { result: result, newPlace: newPlace };
  };

  // Return new state to change the placement to the reverse if possible
  var outsideLeftResult = outsideLeft();
  var outsideRightResult = outsideRight();
  var outsideTopResult = outsideTop();
  var outsideBottomResult = outsideBottom();

  if (place === 'left' && outsideLeftResult.result) {
    return {
      isNewState: true,
      newState: { place: outsideLeftResult.newPlace }
    };
  } else if (place === 'right' && outsideRightResult.result) {
    return {
      isNewState: true,
      newState: { place: outsideRightResult.newPlace }
    };
  } else if (place === 'top' && outsideTopResult.result) {
    return {
      isNewState: true,
      newState: { place: outsideTopResult.newPlace }
    };
  } else if (place === 'bottom' && outsideBottomResult.result) {
    return {
      isNewState: true,
      newState: { place: outsideBottomResult.newPlace }
    };
  }

  // Return tooltip offset position
  return {
    isNewState: false,
    position: {
      left: parseInt(getTipOffsetLeft(place) - parentLeft, 10),
      top: parseInt(getTipOffsetTop(place) - parentTop, 10)
    }
  };
};

// Get current mouse offset
var getCurrentOffset = function getCurrentOffset(e, currentTarget, effect) {
  var boundingClientRect = currentTarget.getBoundingClientRect();
  var targetTop = boundingClientRect.top;
  var targetLeft = boundingClientRect.left;
  var targetWidth = currentTarget.clientWidth;
  var targetHeight = currentTarget.clientHeight;

  if (effect === 'float') {
    return {
      mouseX: e.clientX,
      mouseY: e.clientY
    };
  }
  return {
    mouseX: targetLeft + targetWidth / 2,
    mouseY: targetTop + targetHeight / 2
  };
};

// List all possibility of tooltip final offset
// This is useful in judging if it is necessary for tooltip to switch position when out of window
/**
 * Calculate the position of tooltip
 *
 * @params
 * - `e` {Event} the event of current mouse
 * - `target` {Element} the currentTarget of the event
 * - `node` {DOM} the react-tooltip object
 * - `place` {String} top / right / bottom / left
 * - `effect` {String} float / solid
 * - `offset` {Object} the offset to default position
 *
 * @return {Object
 * - `isNewState` {Bool} required
 * - `newState` {Object}
 * - `position` {OBject} {left: {Number}, top: {Number}}
 */
var getDefaultPosition = function getDefaultPosition(effect, targetWidth, targetHeight, tipWidth, tipHeight) {
  var top = void 0;
  var right = void 0;
  var bottom = void 0;
  var left = void 0;
  var disToMouse = 3;
  var triangleHeight = 2;
  var cursorHeight = 12; // Optimize for float bottom only, cause the cursor will hide the tooltip

  if (effect === 'float') {
    top = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: -(tipHeight + disToMouse + triangleHeight),
      b: -disToMouse
    };
    bottom = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: disToMouse + cursorHeight,
      b: tipHeight + disToMouse + triangleHeight + cursorHeight
    };
    left = {
      l: -(tipWidth + disToMouse + triangleHeight),
      r: -disToMouse,
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
    right = {
      l: disToMouse,
      r: tipWidth + disToMouse + triangleHeight,
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
  } else if (effect === 'solid') {
    top = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: -(targetHeight / 2 + tipHeight + triangleHeight),
      b: -(targetHeight / 2)
    };
    bottom = {
      l: -(tipWidth / 2),
      r: tipWidth / 2,
      t: targetHeight / 2,
      b: targetHeight / 2 + tipHeight + triangleHeight
    };
    left = {
      l: -(tipWidth + targetWidth / 2 + triangleHeight),
      r: -(targetWidth / 2),
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
    right = {
      l: targetWidth / 2,
      r: tipWidth + targetWidth / 2 + triangleHeight,
      t: -(tipHeight / 2),
      b: tipHeight / 2
    };
  }

  return { top: top, bottom: bottom, left: left, right: right };
};

// Consider additional offset into position calculation
var calculateOffset = function calculateOffset(offset) {
  var extraOffset_X = 0;
  var extraOffset_Y = 0;

  if (Object.prototype.toString.apply(offset) === '[object String]') {
    offset = JSON.parse(offset.toString().replace(/\'/g, '\"'));
  }
  for (var key in offset) {
    if (key === 'top') {
      extraOffset_Y -= parseInt(offset[key], 10);
    } else if (key === 'bottom') {
      extraOffset_Y += parseInt(offset[key], 10);
    } else if (key === 'left') {
      extraOffset_X -= parseInt(offset[key], 10);
    } else if (key === 'right') {
      extraOffset_X += parseInt(offset[key], 10);
    }
  }

  return { extraOffset_X: extraOffset_X, extraOffset_Y: extraOffset_Y };
};

// Get the offset of the parent elements
var getParent = function getParent(currentTarget) {
  var currentParent = currentTarget;
  while (currentParent) {
    if (window.getComputedStyle(currentParent).getPropertyValue('transform') !== 'none') break;
    currentParent = currentParent.parentElement;
  }

  var parentTop = currentParent && currentParent.getBoundingClientRect().top || 0;
  var parentLeft = currentParent && currentParent.getBoundingClientRect().left || 0;

  return { parentTop: parentTop, parentLeft: parentLeft };
};

/***/ }),
/* 385 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (tip, children, multiline) {
  if (children) return children;

  var regexp = /<br\s*\/?>/;
  if (!multiline || multiline === 'false' || !regexp.test(tip)) {
    return tip;
  }

  // Multiline tooltip content
  return tip.split(regexp).map(function (d, i) {
    return _react2.default.createElement('span', { key: i, className: 'multi-line' }, d);
  });
};

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

/***/ }),
/* 386 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var identity = function identity(Component) {
  return Component;
};

var branch = function branch(test, left) {
  var right = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : identity;
  return function (BaseComponent) {
    var leftFactory = void 0;
    var rightFactory = void 0;
    return function (props) {
      if (test(props)) {
        leftFactory = leftFactory || (0, _createEagerFactory2.default)(left(BaseComponent));
        return leftFactory(props);
      }
      rightFactory = rightFactory || (0, _createEagerFactory2.default)(right(BaseComponent));
      return rightFactory(props);
    };
  };
};

exports.default = (0, _createHelper2.default)(branch, 'branch');

/***/ }),
/* 387 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _omit = __webpack_require__(131);

var _omit2 = _interopRequireDefault(_omit);

var _createEagerElement = __webpack_require__(197);

var _createEagerElement2 = _interopRequireDefault(_createEagerElement);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var componentFromProp = function componentFromProp(propName) {
  var Component = function Component(props) {
    return (0, _createEagerElement2.default)(props[propName], (0, _omit2.default)(props, [propName]));
  };
  Component.displayName = 'componentFromProp(' + propName + ')';
  return Component;
};

exports.default = componentFromProp;

/***/ }),
/* 388 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.default = compose;
function compose() {
  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  if (funcs.length === 0) {
    return function (arg) {
      return arg;
    };
  }

  if (funcs.length === 1) {
    return funcs[0];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(undefined, arguments));
    };
  });
}

/***/ }),
/* 389 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.createEventHandlerWithConfig = undefined;

var _symbolObservable = __webpack_require__(133);

var _symbolObservable2 = _interopRequireDefault(_symbolObservable);

var _changeEmitter = __webpack_require__(175);

var _setObservableConfig = __webpack_require__(96);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var createEventHandlerWithConfig = exports.createEventHandlerWithConfig = function createEventHandlerWithConfig(config) {
  return function () {
    var _config$fromESObserva;

    var emitter = (0, _changeEmitter.createChangeEmitter)();
    var stream = config.fromESObservable((_config$fromESObserva = {
      subscribe: function subscribe(observer) {
        var unsubscribe = emitter.listen(function (value) {
          return observer.next(value);
        });
        return { unsubscribe: unsubscribe };
      }
    }, _config$fromESObserva[_symbolObservable2.default] = function () {
      return this;
    }, _config$fromESObserva));
    return {
      handler: emitter.emit,
      stream: stream
    };
  };
};

var createEventHandler = createEventHandlerWithConfig(_setObservableConfig.config);

exports.default = createEventHandler;

/***/ }),
/* 390 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _react = __webpack_require__(0);

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var createSink = function createSink(callback) {
  return function (_Component) {
    _inherits(Sink, _Component);

    function Sink() {
      _classCallCheck(this, Sink);

      return _possibleConstructorReturn(this, _Component.apply(this, arguments));
    }

    Sink.prototype.componentWillMount = function componentWillMount() {
      callback(this.props);
    };

    Sink.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      callback(nextProps);
    };

    Sink.prototype.render = function render() {
      return null;
    };

    return Sink;
  }(_react.Component);
};

exports.default = createSink;

/***/ }),
/* 391 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var defaultProps = function defaultProps(props) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    var DefaultProps = function DefaultProps(ownerProps) {
      return factory(ownerProps);
    };
    DefaultProps.defaultProps = props;
    return DefaultProps;
  };
};

exports.default = (0, _createHelper2.default)(defaultProps, 'defaultProps');

/***/ }),
/* 392 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var flattenProp = function flattenProp(propName) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    return function (props) {
      return factory(_extends({}, props, props[propName]));
    };
  };
};

exports.default = (0, _createHelper2.default)(flattenProp, 'flattenProp');

/***/ }),
/* 393 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var getContext = function getContext(contextTypes) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    var GetContext = function GetContext(ownerProps, context) {
      return factory(_extends({}, ownerProps, context));
    };

    GetContext.contextTypes = contextTypes;

    return GetContext;
  };
};

exports.default = (0, _createHelper2.default)(getContext, 'getContext');

/***/ }),
/* 394 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _hoistNonReactStatics = __webpack_require__(333);

var _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var hoistStatics = function hoistStatics(higherOrderComponent) {
  return function (BaseComponent) {
    var NewComponent = higherOrderComponent(BaseComponent);
    (0, _hoistNonReactStatics2.default)(NewComponent, BaseComponent);
    return NewComponent;
  };
};

exports.default = hoistStatics;

/***/ }),
/* 395 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.setObservableConfig = exports.createEventHandler = exports.mapPropsStream = exports.componentFromStream = exports.hoistStatics = exports.nest = exports.componentFromProp = exports.createSink = exports.createEagerFactory = exports.createEagerElement = exports.isClassComponent = exports.shallowEqual = exports.wrapDisplayName = exports.getDisplayName = exports.compose = exports.setDisplayName = exports.setPropTypes = exports.setStatic = exports.toClass = exports.lifecycle = exports.getContext = exports.withContext = exports.onlyUpdateForPropTypes = exports.onlyUpdateForKeys = exports.pure = exports.shouldUpdate = exports.renderNothing = exports.renderComponent = exports.branch = exports.withReducer = exports.withState = exports.flattenProp = exports.renameProps = exports.renameProp = exports.defaultProps = exports.withHandlers = exports.withPropsOnChange = exports.withProps = exports.mapProps = undefined;

var _mapProps2 = __webpack_require__(95);

var _mapProps3 = _interopRequireDefault(_mapProps2);

var _withProps2 = __webpack_require__(410);

var _withProps3 = _interopRequireDefault(_withProps2);

var _withPropsOnChange2 = __webpack_require__(411);

var _withPropsOnChange3 = _interopRequireDefault(_withPropsOnChange2);

var _withHandlers2 = __webpack_require__(409);

var _withHandlers3 = _interopRequireDefault(_withHandlers2);

var _defaultProps2 = __webpack_require__(391);

var _defaultProps3 = _interopRequireDefault(_defaultProps2);

var _renameProp2 = __webpack_require__(401);

var _renameProp3 = _interopRequireDefault(_renameProp2);

var _renameProps2 = __webpack_require__(402);

var _renameProps3 = _interopRequireDefault(_renameProps2);

var _flattenProp2 = __webpack_require__(392);

var _flattenProp3 = _interopRequireDefault(_flattenProp2);

var _withState2 = __webpack_require__(413);

var _withState3 = _interopRequireDefault(_withState2);

var _withReducer2 = __webpack_require__(412);

var _withReducer3 = _interopRequireDefault(_withReducer2);

var _branch2 = __webpack_require__(386);

var _branch3 = _interopRequireDefault(_branch2);

var _renderComponent2 = __webpack_require__(403);

var _renderComponent3 = _interopRequireDefault(_renderComponent2);

var _renderNothing2 = __webpack_require__(404);

var _renderNothing3 = _interopRequireDefault(_renderNothing2);

var _shouldUpdate2 = __webpack_require__(130);

var _shouldUpdate3 = _interopRequireDefault(_shouldUpdate2);

var _pure2 = __webpack_require__(400);

var _pure3 = _interopRequireDefault(_pure2);

var _onlyUpdateForKeys2 = __webpack_require__(199);

var _onlyUpdateForKeys3 = _interopRequireDefault(_onlyUpdateForKeys2);

var _onlyUpdateForPropTypes2 = __webpack_require__(399);

var _onlyUpdateForPropTypes3 = _interopRequireDefault(_onlyUpdateForPropTypes2);

var _withContext2 = __webpack_require__(408);

var _withContext3 = _interopRequireDefault(_withContext2);

var _getContext2 = __webpack_require__(393);

var _getContext3 = _interopRequireDefault(_getContext2);

var _lifecycle2 = __webpack_require__(396);

var _lifecycle3 = _interopRequireDefault(_lifecycle2);

var _toClass2 = __webpack_require__(407);

var _toClass3 = _interopRequireDefault(_toClass2);

var _setStatic2 = __webpack_require__(129);

var _setStatic3 = _interopRequireDefault(_setStatic2);

var _setPropTypes2 = __webpack_require__(406);

var _setPropTypes3 = _interopRequireDefault(_setPropTypes2);

var _setDisplayName2 = __webpack_require__(405);

var _setDisplayName3 = _interopRequireDefault(_setDisplayName2);

var _compose2 = __webpack_require__(388);

var _compose3 = _interopRequireDefault(_compose2);

var _getDisplayName2 = __webpack_require__(127);

var _getDisplayName3 = _interopRequireDefault(_getDisplayName2);

var _wrapDisplayName2 = __webpack_require__(414);

var _wrapDisplayName3 = _interopRequireDefault(_wrapDisplayName2);

var _shallowEqual2 = __webpack_require__(97);

var _shallowEqual3 = _interopRequireDefault(_shallowEqual2);

var _isClassComponent2 = __webpack_require__(128);

var _isClassComponent3 = _interopRequireDefault(_isClassComponent2);

var _createEagerElement2 = __webpack_require__(197);

var _createEagerElement3 = _interopRequireDefault(_createEagerElement2);

var _createEagerFactory2 = __webpack_require__(24);

var _createEagerFactory3 = _interopRequireDefault(_createEagerFactory2);

var _createSink2 = __webpack_require__(390);

var _createSink3 = _interopRequireDefault(_createSink2);

var _componentFromProp2 = __webpack_require__(387);

var _componentFromProp3 = _interopRequireDefault(_componentFromProp2);

var _nest2 = __webpack_require__(398);

var _nest3 = _interopRequireDefault(_nest2);

var _hoistStatics2 = __webpack_require__(394);

var _hoistStatics3 = _interopRequireDefault(_hoistStatics2);

var _componentFromStream2 = __webpack_require__(196);

var _componentFromStream3 = _interopRequireDefault(_componentFromStream2);

var _mapPropsStream2 = __webpack_require__(397);

var _mapPropsStream3 = _interopRequireDefault(_mapPropsStream2);

var _createEventHandler2 = __webpack_require__(389);

var _createEventHandler3 = _interopRequireDefault(_createEventHandler2);

var _setObservableConfig2 = __webpack_require__(96);

var _setObservableConfig3 = _interopRequireDefault(_setObservableConfig2);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

exports.mapProps = _mapProps3.default; // Higher-order component helpers

exports.withProps = _withProps3.default;
exports.withPropsOnChange = _withPropsOnChange3.default;
exports.withHandlers = _withHandlers3.default;
exports.defaultProps = _defaultProps3.default;
exports.renameProp = _renameProp3.default;
exports.renameProps = _renameProps3.default;
exports.flattenProp = _flattenProp3.default;
exports.withState = _withState3.default;
exports.withReducer = _withReducer3.default;
exports.branch = _branch3.default;
exports.renderComponent = _renderComponent3.default;
exports.renderNothing = _renderNothing3.default;
exports.shouldUpdate = _shouldUpdate3.default;
exports.pure = _pure3.default;
exports.onlyUpdateForKeys = _onlyUpdateForKeys3.default;
exports.onlyUpdateForPropTypes = _onlyUpdateForPropTypes3.default;
exports.withContext = _withContext3.default;
exports.getContext = _getContext3.default;
exports.lifecycle = _lifecycle3.default;
exports.toClass = _toClass3.default;

// Static property helpers

exports.setStatic = _setStatic3.default;
exports.setPropTypes = _setPropTypes3.default;
exports.setDisplayName = _setDisplayName3.default;

// Composition function

exports.compose = _compose3.default;

// Other utils

exports.getDisplayName = _getDisplayName3.default;
exports.wrapDisplayName = _wrapDisplayName3.default;
exports.shallowEqual = _shallowEqual3.default;
exports.isClassComponent = _isClassComponent3.default;
exports.createEagerElement = _createEagerElement3.default;
exports.createEagerFactory = _createEagerFactory3.default;
exports.createSink = _createSink3.default;
exports.componentFromProp = _componentFromProp3.default;
exports.nest = _nest3.default;
exports.hoistStatics = _hoistStatics3.default;

// Observable helpers

exports.componentFromStream = _componentFromStream3.default;
exports.mapPropsStream = _mapPropsStream3.default;
exports.createEventHandler = _createEventHandler3.default;
exports.setObservableConfig = _setObservableConfig3.default;

/***/ }),
/* 396 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _react = __webpack_require__(0);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var lifecycle = function lifecycle(spec) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);

    if (false) {
      console.error('lifecycle() does not support the render method; its behavior is to ' + 'pass all props and state to the base component.');
    }

    /* eslint-disable react/prefer-es6-class */
    return (0, _react.createClass)(_extends({}, spec, {
      render: function render() {
        return factory(_extends({}, this.props, this.state));
      }
    }));
    /* eslint-enable react/prefer-es6-class */
  };
};

exports.default = (0, _createHelper2.default)(lifecycle, 'lifecycle');

/***/ }),
/* 397 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports.mapPropsStreamWithConfig = undefined;

var _symbolObservable = __webpack_require__(133);

var _symbolObservable2 = _interopRequireDefault(_symbolObservable);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _componentFromStream = __webpack_require__(196);

var _setObservableConfig = __webpack_require__(96);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var identity = function identity(t) {
  return t;
};
var componentFromStream = (0, _componentFromStream.componentFromStreamWithConfig)({
  fromESObservable: identity,
  toESObservable: identity
});

var mapPropsStreamWithConfig = exports.mapPropsStreamWithConfig = function mapPropsStreamWithConfig(config) {
  return function (transform) {
    return function (BaseComponent) {
      var factory = (0, _createEagerFactory2.default)(BaseComponent);
      var fromESObservable = config.fromESObservable,
          toESObservable = config.toESObservable;

      return componentFromStream(function (props$) {
        var _ref;

        return _ref = {
          subscribe: function subscribe(observer) {
            var subscription = toESObservable(transform(fromESObservable(props$))).subscribe({
              next: function next(childProps) {
                return observer.next(factory(childProps));
              }
            });
            return {
              unsubscribe: function unsubscribe() {
                return subscription.unsubscribe();
              }
            };
          }
        }, _ref[_symbolObservable2.default] = function () {
          return this;
        }, _ref;
      });
    };
  };
};

var mapPropsStream = mapPropsStreamWithConfig(_setObservableConfig.config);

exports.default = (0, _createHelper2.default)(mapPropsStream, 'mapPropsStream');

/***/ }),
/* 398 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _objectWithoutProperties(obj, keys) {
  var target = {};for (var i in obj) {
    if (keys.indexOf(i) >= 0) continue;if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;target[i] = obj[i];
  }return target;
}

var nest = function nest() {
  for (var _len = arguments.length, Components = Array(_len), _key = 0; _key < _len; _key++) {
    Components[_key] = arguments[_key];
  }

  var factories = Components.map(_createEagerFactory2.default);
  var Nest = function Nest(_ref) {
    var props = _objectWithoutProperties(_ref, []),
        children = _ref.children;

    return factories.reduceRight(function (child, factory) {
      return factory(props, child);
    }, children);
  };

  if (false) {
    /* eslint-disable global-require */
    var getDisplayName = require('./getDisplayName').default;
    /* eslint-enable global-require */
    var displayNames = Components.map(getDisplayName);
    Nest.displayName = 'nest(' + displayNames.join(', ') + ')';
  }

  return Nest;
};

exports.default = nest;

/***/ }),
/* 399 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault2(_keys);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _onlyUpdateForKeys = __webpack_require__(199);

var _onlyUpdateForKeys2 = _interopRequireDefault(_onlyUpdateForKeys);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var onlyUpdateForPropTypes = function onlyUpdateForPropTypes(BaseComponent) {
  var propTypes = BaseComponent.propTypes;

  if (false) {
    /* eslint-disable global-require */
    var getDisplayName = require('./getDisplayName').default;
    /* eslint-enable global-require */
    if (!propTypes) {
      /* eslint-disable */
      console.error('A component without any `propTypes` was passed to ' + '`onlyUpdateForPropTypes()`. Check the implementation of the ' + ('component with display name "' + getDisplayName(BaseComponent) + '".'));
      /* eslint-enable */
    }
  }

  var propKeys = (0, _keys2.default)(propTypes || {});
  var OnlyUpdateForPropTypes = (0, _onlyUpdateForKeys2.default)(propKeys)(BaseComponent);

  return OnlyUpdateForPropTypes;
};

exports.default = (0, _createHelper2.default)(onlyUpdateForPropTypes, 'onlyUpdateForPropTypes', true, true);

/***/ }),
/* 400 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _shouldUpdate = __webpack_require__(130);

var _shouldUpdate2 = _interopRequireDefault(_shouldUpdate);

var _shallowEqual = __webpack_require__(97);

var _shallowEqual2 = _interopRequireDefault(_shallowEqual);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var pure = (0, _shouldUpdate2.default)(function (props, nextProps) {
  return !(0, _shallowEqual2.default)(props, nextProps);
});

exports.default = (0, _createHelper2.default)(pure, 'pure', true, true);

/***/ }),
/* 401 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _omit = __webpack_require__(131);

var _omit2 = _interopRequireDefault(_omit);

var _mapProps = __webpack_require__(95);

var _mapProps2 = _interopRequireDefault(_mapProps);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var renameProp = function renameProp(oldName, newName) {
  return (0, _mapProps2.default)(function (props) {
    var _extends2;

    return _extends({}, (0, _omit2.default)(props, [oldName]), (_extends2 = {}, _extends2[newName] = props[oldName], _extends2));
  });
};

exports.default = (0, _createHelper2.default)(renameProp, 'renameProp');

/***/ }),
/* 402 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault2(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _omit = __webpack_require__(131);

var _omit2 = _interopRequireDefault(_omit);

var _pick = __webpack_require__(132);

var _pick2 = _interopRequireDefault(_pick);

var _mapProps = __webpack_require__(95);

var _mapProps2 = _interopRequireDefault(_mapProps);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var keys = _keys2.default;

var mapKeys = function mapKeys(obj, func) {
  return keys(obj).reduce(function (result, key) {
    var val = obj[key];
    /* eslint-disable no-param-reassign */
    result[func(val, key)] = val;
    /* eslint-enable no-param-reassign */
    return result;
  }, {});
};

var renameProps = function renameProps(nameMap) {
  return (0, _mapProps2.default)(function (props) {
    return _extends({}, (0, _omit2.default)(props, keys(nameMap)), mapKeys((0, _pick2.default)(props, keys(nameMap)), function (_, oldName) {
      return nameMap[oldName];
    }));
  });
};

exports.default = (0, _createHelper2.default)(renameProps, 'renameProps');

/***/ }),
/* 403 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var renderComponent = function renderComponent(Component) {
  return function (_) {
    var factory = (0, _createEagerFactory2.default)(Component);
    var RenderComponent = function RenderComponent(props) {
      return factory(props);
    };
    if (false) {
      /* eslint-disable global-require */
      var wrapDisplayName = require('./wrapDisplayName').default;
      /* eslint-enable global-require */
      RenderComponent.displayName = wrapDisplayName(Component, 'renderComponent');
    }
    return RenderComponent;
  };
};

exports.default = (0, _createHelper2.default)(renderComponent, 'renderComponent', false);

/***/ }),
/* 404 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _react = __webpack_require__(0);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var Nothing = function (_Component) {
  _inherits(Nothing, _Component);

  function Nothing() {
    _classCallCheck(this, Nothing);

    return _possibleConstructorReturn(this, _Component.apply(this, arguments));
  }

  Nothing.prototype.render = function render() {
    return null;
  };

  return Nothing;
}(_react.Component);

Nothing.displayName = 'Nothing';

var renderNothing = function renderNothing(_) {
  return Nothing;
};

exports.default = (0, _createHelper2.default)(renderNothing, 'renderNothing', false, true);

/***/ }),
/* 405 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _setStatic = __webpack_require__(129);

var _setStatic2 = _interopRequireDefault(_setStatic);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var setDisplayName = function setDisplayName(displayName) {
  return (0, _setStatic2.default)('displayName', displayName);
};

exports.default = (0, _createHelper2.default)(setDisplayName, 'setDisplayName', false);

/***/ }),
/* 406 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _setStatic = __webpack_require__(129);

var _setStatic2 = _interopRequireDefault(_setStatic);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var setPropTypes = function setPropTypes(propTypes) {
  return (0, _setStatic2.default)('propTypes', propTypes);
};

exports.default = (0, _createHelper2.default)(setPropTypes, 'setPropTypes', false);

/***/ }),
/* 407 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _react = __webpack_require__(0);

var _react2 = _interopRequireDefault(_react);

var _getDisplayName = __webpack_require__(127);

var _getDisplayName2 = _interopRequireDefault(_getDisplayName);

var _isClassComponent = __webpack_require__(128);

var _isClassComponent2 = _interopRequireDefault(_isClassComponent);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var toClass = function toClass(baseComponent) {
  if ((0, _isClassComponent2.default)(baseComponent)) {
    return baseComponent;
  }

  var ToClass = function (_Component) {
    _inherits(ToClass, _Component);

    function ToClass() {
      _classCallCheck(this, ToClass);

      return _possibleConstructorReturn(this, _Component.apply(this, arguments));
    }

    ToClass.prototype.render = function render() {
      if (typeof baseComponent === 'string') {
        return _react2.default.createElement('baseComponent', this.props);
      }
      return baseComponent(this.props, this.context);
    };

    return ToClass;
  }(_react.Component);

  ToClass.displayName = (0, _getDisplayName2.default)(baseComponent);
  ToClass.propTypes = baseComponent.propTypes;
  ToClass.contextTypes = baseComponent.contextTypes;
  ToClass.defaultProps = baseComponent.defaultProps;

  return ToClass;
};

exports.default = toClass;

/***/ }),
/* 408 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _react = __webpack_require__(0);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var withContext = function withContext(childContextTypes, getChildContext) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);

    var WithContext = function (_Component) {
      _inherits(WithContext, _Component);

      function WithContext() {
        var _temp, _this, _ret;

        _classCallCheck(this, WithContext);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.getChildContext = function () {
          return getChildContext(_this.props);
        }, _temp), _possibleConstructorReturn(_this, _ret);
      }

      WithContext.prototype.render = function render() {
        return factory(this.props);
      };

      return WithContext;
    }(_react.Component);

    WithContext.childContextTypes = childContextTypes;

    return WithContext;
  };
};

exports.default = (0, _createHelper2.default)(withContext, 'withContext');

/***/ }),
/* 409 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _react = __webpack_require__(0);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var mapValues = function mapValues(obj, func) {
  var result = {};
  /* eslint-disable no-restricted-syntax */
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
      result[key] = func(obj[key], key);
    }
  }
  /* eslint-enable no-restricted-syntax */
  return result;
};

var withHandlers = function withHandlers(handlers) {
  return function (BaseComponent) {
    var _class, _temp2, _initialiseProps;

    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    return _temp2 = _class = function (_Component) {
      _inherits(_class, _Component);

      function _class() {
        var _temp, _this, _ret;

        _classCallCheck(this, _class);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);
      }

      _class.prototype.componentWillReceiveProps = function componentWillReceiveProps() {
        this.cachedHandlers = {};
      };

      _class.prototype.render = function render() {
        return factory(_extends({}, this.props, this.handlers));
      };

      return _class;
    }(_react.Component), _initialiseProps = function _initialiseProps() {
      var _this2 = this;

      this.cachedHandlers = {};
      this.handlers = mapValues(typeof handlers === 'function' ? handlers(this.props) : handlers, function (createHandler, handlerName) {
        return function () {
          var cachedHandler = _this2.cachedHandlers[handlerName];
          if (cachedHandler) {
            return cachedHandler.apply(undefined, arguments);
          }

          var handler = createHandler(_this2.props);
          _this2.cachedHandlers[handlerName] = handler;

          if (false) {
            console.error( // eslint-disable-line no-console
            'withHandlers(): Expected a map of higher-order functions. ' + 'Refer to the docs for more info.');
          }

          return handler.apply(undefined, arguments);
        };
      });
    }, _temp2;
  };
};

exports.default = (0, _createHelper2.default)(withHandlers, 'withHandlers');

/***/ }),
/* 410 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _mapProps = __webpack_require__(95);

var _mapProps2 = _interopRequireDefault(_mapProps);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var withProps = function withProps(input) {
  return (0, _mapProps2.default)(function (props) {
    return _extends({}, props, typeof input === 'function' ? input(props) : input);
  });
};

exports.default = (0, _createHelper2.default)(withProps, 'withProps');

/***/ }),
/* 411 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _react = __webpack_require__(0);

var _pick = __webpack_require__(132);

var _pick2 = _interopRequireDefault(_pick);

var _shallowEqual = __webpack_require__(97);

var _shallowEqual2 = _interopRequireDefault(_shallowEqual);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var withPropsOnChange = function withPropsOnChange(shouldMapOrKeys, propsMapper) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    var shouldMap = typeof shouldMapOrKeys === 'function' ? shouldMapOrKeys : function (props, nextProps) {
      return !(0, _shallowEqual2.default)((0, _pick2.default)(props, shouldMapOrKeys), (0, _pick2.default)(nextProps, shouldMapOrKeys));
    };

    return function (_Component) {
      _inherits(_class2, _Component);

      function _class2() {
        var _temp, _this, _ret;

        _classCallCheck(this, _class2);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.computedProps = propsMapper(_this.props), _temp), _possibleConstructorReturn(_this, _ret);
      }

      _class2.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        if (shouldMap(this.props, nextProps)) {
          this.computedProps = propsMapper(nextProps);
        }
      };

      _class2.prototype.render = function render() {
        return factory(_extends({}, this.props, this.computedProps));
      };

      return _class2;
    }(_react.Component);
  };
};

exports.default = (0, _createHelper2.default)(withPropsOnChange, 'withPropsOnChange');

/***/ }),
/* 412 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _react = __webpack_require__(0);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var withReducer = function withReducer(stateName, dispatchName, reducer, initialState) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    return function (_Component) {
      _inherits(_class2, _Component);

      function _class2() {
        var _temp, _this, _ret;

        _classCallCheck(this, _class2);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {
          stateValue: _this.initalizeStateValue()
        }, _this.dispatch = function (action) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: reducer(stateValue, action)
            };
          });
        }, _temp), _possibleConstructorReturn(_this, _ret);
      }

      _class2.prototype.initalizeStateValue = function initalizeStateValue() {
        if (initialState !== undefined) {
          return typeof initialState === 'function' ? initialState(this.props) : initialState;
        }
        return reducer(undefined, { type: '@@recompose/INIT' });
      };

      _class2.prototype.render = function render() {
        var _extends2;

        return factory(_extends({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[dispatchName] = this.dispatch, _extends2)));
      };

      return _class2;
    }(_react.Component);
  };
};

exports.default = (0, _createHelper2.default)(withReducer, 'withReducer');

/***/ }),
/* 413 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault2(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault2(_create);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault2(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault2(_assign);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.__esModule = true;

var _extends = _assign2.default || function (target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i];for (var key in source) {
      if (Object.prototype.hasOwnProperty.call(source, key)) {
        target[key] = source[key];
      }
    }
  }return target;
};

var _react = __webpack_require__(0);

var _createHelper = __webpack_require__(18);

var _createHelper2 = _interopRequireDefault(_createHelper);

var _createEagerFactory = __webpack_require__(24);

var _createEagerFactory2 = _interopRequireDefault(_createEagerFactory);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === 'undefined' ? 'undefined' : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === 'undefined' ? 'undefined' : (0, _typeof3.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

var withState = function withState(stateName, stateUpdaterName, initialState) {
  return function (BaseComponent) {
    var factory = (0, _createEagerFactory2.default)(BaseComponent);
    return function (_Component) {
      _inherits(_class2, _Component);

      function _class2() {
        var _temp, _this, _ret;

        _classCallCheck(this, _class2);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {
          stateValue: typeof initialState === 'function' ? initialState(_this.props) : initialState
        }, _this.updateStateValue = function (updateFn, callback) {
          return _this.setState(function (_ref) {
            var stateValue = _ref.stateValue;
            return {
              stateValue: typeof updateFn === 'function' ? updateFn(stateValue) : updateFn
            };
          }, callback);
        }, _temp), _possibleConstructorReturn(_this, _ret);
      }

      _class2.prototype.render = function render() {
        var _extends2;

        return factory(_extends({}, this.props, (_extends2 = {}, _extends2[stateName] = this.state.stateValue, _extends2[stateUpdaterName] = this.updateStateValue, _extends2)));
      };

      return _class2;
    }(_react.Component);
  };
};

exports.default = (0, _createHelper2.default)(withState, 'withState');

/***/ }),
/* 414 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _getDisplayName = __webpack_require__(127);

var _getDisplayName2 = _interopRequireDefault(_getDisplayName);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var wrapDisplayName = function wrapDisplayName(BaseComponent, hocName) {
  return hocName + '(' + (0, _getDisplayName2.default)(BaseComponent) + ')';
};

exports.default = wrapDisplayName;

/***/ }),
/* 415 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function (str) {
	return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {
		return '%' + c.charCodeAt(0).toString(16).toUpperCase();
	});
};

/***/ }),
/* 416 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global, module) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ponyfill = __webpack_require__(417);

var _ponyfill2 = _interopRequireDefault(_ponyfill);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { 'default': obj };
}

var root; /* global window */

if (typeof self !== 'undefined') {
  root = self;
} else if (typeof window !== 'undefined') {
  root = window;
} else if (typeof global !== 'undefined') {
  root = global;
} else if (true) {
  root = module;
} else {
  root = Function('return this')();
}

var result = (0, _ponyfill2['default'])(root);
exports['default'] = result;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22), __webpack_require__(76)(module)))

/***/ }),
/* 417 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
	value: true
});
exports['default'] = symbolObservablePonyfill;
function symbolObservablePonyfill(root) {
	var result;
	var _Symbol = root.Symbol;

	if (typeof _Symbol === 'function') {
		if (_Symbol.observable) {
			result = _Symbol.observable;
		} else {
			result = _Symbol('observable');
			_Symbol.observable = result;
		}
	} else {
		result = '@@observable';
	}

	return result;
};

/***/ }),
/* 418 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = {
  isString: function isString(arg) {
    return typeof arg === 'string';
  },
  isObject: function isObject(arg) {
    return (typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg)) === 'object' && arg !== null;
  },
  isNull: function isNull(arg) {
    return arg === null;
  },
  isNullOrUndefined: function isNullOrUndefined(arg) {
    return arg == null;
  }
};

/***/ }),
/* 419 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (typeof _create2.default === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor;
    ctor.prototype = (0, _create2.default)(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor;
    var TempCtor = function TempCtor() {};
    TempCtor.prototype = superCtor.prototype;
    ctor.prototype = new TempCtor();
    ctor.prototype.constructor = ctor;
  };
}

/***/ }),
/* 420 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = function isBuffer(arg) {
  return arg && (typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg)) === 'object' && typeof arg.copy === 'function' && typeof arg.fill === 'function' && typeof arg.readUInt8 === 'function';
};

/***/ }),
/* 421 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global, process) {

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function (f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function (x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s':
        return String(args[i++]);
      case '%d':
        return Number(args[i++]);
      case '%j':
        try {
          return (0, _stringify2.default)(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};

// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function (fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function () {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};

var debugs = {};
var debugEnviron;
exports.debuglog = function (set) {
  if (isUndefined(debugEnviron)) debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function () {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function () {};
    }
  }
  return debugs[set];
};

/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;

// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold': [1, 22],
  'italic': [3, 23],
  'underline': [4, 24],
  'inverse': [7, 27],
  'white': [37, 39],
  'grey': [90, 39],
  'black': [30, 39],
  'blue': [34, 39],
  'cyan': [36, 39],
  'green': [32, 39],
  'magenta': [35, 39],
  'red': [31, 39],
  'yellow': [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};

function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\x1B[' + inspect.colors[style][0] + 'm' + str + '\x1B[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}

function stylizeNoColor(str, styleType) {
  return str;
}

function arrayToHash(array) {
  var hash = {};

  array.forEach(function (val, idx) {
    hash[val] = true;
  });

  return hash;
}

function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect && value && isFunction(value.inspect) &&
  // Filter out the util module, it's inspect function is special
  value.inspect !== exports.inspect &&
  // Also filter out any prototype objects using the circular check.
  !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = (0, _keys2.default)(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = (0, _getOwnPropertyNames2.default)(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '',
      array = false,
      braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function (key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}

function formatPrimitive(ctx, value) {
  if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + (0, _stringify2.default)(value).replace(/^"|"$/g, '').replace(/'/g, "\\'").replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value)) return ctx.stylize('' + value, 'number');
  if (isBoolean(value)) return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value)) return ctx.stylize('null', 'null');
}

function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}

function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function (key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));
    }
  });
  return output;
}

function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = (0, _getOwnPropertyDescriptor2.default)(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function (line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function (line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = (0, _stringify2.default)('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'").replace(/\\"/g, '"').replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}

function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function (prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] + (base === '' ? '' : base + '\n ') + ' ' + output.join(',\n  ') + ' ' + braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}

// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return (typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg)) === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return (typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg)) === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || (typeof arg === 'undefined' ? 'undefined' : (0, _typeof3.default)(arg)) === 'symbol' || // ES6 symbol
  typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = __webpack_require__(420);

function objectToString(o) {
  return Object.prototype.toString.call(o);
}

function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}

var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()), pad(d.getMinutes()), pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}

// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function () {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};

/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = __webpack_require__(419);

exports._extend = function (origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = (0, _keys2.default)(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22), __webpack_require__(77)))

/***/ }),
/* 422 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(module) {

(function (module) {
    'use strict';

    module.exports.is_uri = is_iri;
    module.exports.is_http_uri = is_http_iri;
    module.exports.is_https_uri = is_https_iri;
    module.exports.is_web_uri = is_web_iri;
    // Create aliases
    module.exports.isUri = is_iri;
    module.exports.isHttpUri = is_http_iri;
    module.exports.isHttpsUri = is_https_iri;
    module.exports.isWebUri = is_web_iri;

    // private function
    // internal URI spitter method - direct from RFC 3986
    var splitUri = function splitUri(uri) {
        var splitted = uri.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);
        return splitted;
    };

    function is_iri(value) {
        if (!value) {
            return;
        }

        // check for illegal characters
        if (/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(value)) return;

        // check for hex escapes that aren't complete
        if (/%[^0-9a-f]/i.test(value)) return;
        if (/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)) return;

        var splitted = [];
        var scheme = '';
        var authority = '';
        var path = '';
        var query = '';
        var fragment = '';
        var out = '';

        // from RFC 3986
        splitted = splitUri(value);
        scheme = splitted[1];
        authority = splitted[2];
        path = splitted[3];
        query = splitted[4];
        fragment = splitted[5];

        // scheme and path are required, though the path can be empty
        if (!(scheme && scheme.length && path.length >= 0)) return;

        // if authority is present, the path must be empty or begin with a /
        if (authority && authority.length) {
            if (!(path.length === 0 || /^\//.test(path))) return;
        } else {
            // if authority is not present, the path must not start with //
            if (/^\/\//.test(path)) return;
        }

        // scheme must begin with a letter, then consist of letters, digits, +, ., or -
        if (!/^[a-z][a-z0-9\+\-\.]*$/.test(scheme.toLowerCase())) return;

        // re-assemble the URL per section 5.3 in RFC 3986
        out += scheme + ':';
        if (authority && authority.length) {
            out += '//' + authority;
        }

        out += path;

        if (query && query.length) {
            out += '?' + query;
        }

        if (fragment && fragment.length) {
            out += '#' + fragment;
        }

        return out;
    }

    function is_http_iri(value, allowHttps) {
        if (!is_iri(value)) {
            return;
        }

        var splitted = [];
        var scheme = '';
        var authority = '';
        var path = '';
        var port = '';
        var query = '';
        var fragment = '';
        var out = '';

        // from RFC 3986
        splitted = splitUri(value);
        scheme = splitted[1];
        authority = splitted[2];
        path = splitted[3];
        query = splitted[4];
        fragment = splitted[5];

        if (!scheme) return;

        if (allowHttps) {
            if (scheme.toLowerCase() != 'https') return;
        } else {
            if (scheme.toLowerCase() != 'http') return;
        }

        // fully-qualified URIs must have an authority section that is
        // a valid host
        if (!authority) {
            return;
        }

        // enable port component
        if (/:(\d+)$/.test(authority)) {
            port = authority.match(/:(\d+)$/)[0];
            authority = authority.replace(/:\d+$/, '');
        }

        out += scheme + ':';
        out += '//' + authority;

        if (port) {
            out += port;
        }

        out += path;

        if (query && query.length) {
            out += '?' + query;
        }

        if (fragment && fragment.length) {
            out += '#' + fragment;
        }

        return out;
    }

    function is_https_iri(value) {
        return is_http_iri(value, true);
    }

    function is_web_iri(value) {
        return is_http_iri(value) || is_https_iri(value);
    }
})(module);
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(76)(module)))

/***/ }),
/* 423 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault2(_iterator);

var _typeof3 = __webpack_require__(7);

var _typeof4 = _interopRequireDefault2(_typeof3);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault2(_symbol);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof _symbol2.default === "function" && (0, _typeof4.default)(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : (0, _typeof4.default)(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : (0, _typeof4.default)(obj);
};

exports.default = isByteLength;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

/* eslint-disable prefer-rest-params */
function isByteLength(str, options) {
  (0, _assertString2.default)(str);
  var min = void 0;
  var max = void 0;
  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {
    min = options.min || 0;
    max = options.max;
  } else {
    // backwards compatibility: isByteLength(str, min [, max])
    min = arguments[1];
    max = arguments[2];
  }
  var len = encodeURI(str).split(/%..|./).length - 1;
  return len >= min && (typeof max === 'undefined' || len <= max);
}
module.exports = exports['default'];

/***/ }),
/* 424 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isEmail;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

var _merge = __webpack_require__(134);

var _merge2 = _interopRequireDefault(_merge);

var _isByteLength = __webpack_require__(423);

var _isByteLength2 = _interopRequireDefault(_isByteLength);

var _isFQDN = __webpack_require__(202);

var _isFQDN2 = _interopRequireDefault(_isFQDN);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var default_email_options = {
  allow_display_name: false,
  require_display_name: false,
  allow_utf8_local_part: true,
  require_tld: true
};

/* eslint-disable max-len */
/* eslint-disable no-control-regex */
var displayName = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\.\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\s]*<(.+)>$/i;
var emailUserPart = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i;
var quotedEmailUser = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i;
var emailUserUtf8Part = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;
var quotedEmailUserUtf8 = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;
/* eslint-enable max-len */
/* eslint-enable no-control-regex */

function isEmail(str, options) {
  (0, _assertString2.default)(str);
  options = (0, _merge2.default)(options, default_email_options);

  if (options.require_display_name || options.allow_display_name) {
    var display_email = str.match(displayName);
    if (display_email) {
      str = display_email[1];
    } else if (options.require_display_name) {
      return false;
    }
  }

  var parts = str.split('@');
  var domain = parts.pop();
  var user = parts.join('@');

  var lower_domain = domain.toLowerCase();
  if (lower_domain === 'gmail.com' || lower_domain === 'googlemail.com') {
    user = user.replace(/\./g, '').toLowerCase();
  }

  if (!(0, _isByteLength2.default)(user, { max: 64 }) || !(0, _isByteLength2.default)(domain, { max: 256 })) {
    return false;
  }

  if (!(0, _isFQDN2.default)(domain, { require_tld: options.require_tld })) {
    return false;
  }

  if (user[0] === '"') {
    user = user.slice(1, user.length - 1);
    return options.allow_utf8_local_part ? quotedEmailUserUtf8.test(user) : quotedEmailUser.test(user);
  }

  var pattern = options.allow_utf8_local_part ? emailUserUtf8Part : emailUserPart;

  var user_parts = user.split('.');
  for (var i = 0; i < user_parts.length; i++) {
    if (!pattern.test(user_parts[i])) {
      return false;
    }
  }

  return true;
}
module.exports = exports['default'];

/***/ }),
/* 425 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isIP;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var ipv4Maybe = /^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/;
var ipv6Block = /^[0-9A-F]{1,4}$/i;

function isIP(str) {
  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

  (0, _assertString2.default)(str);
  version = String(version);
  if (!version) {
    return isIP(str, 4) || isIP(str, 6);
  } else if (version === '4') {
    if (!ipv4Maybe.test(str)) {
      return false;
    }
    var parts = str.split('.').sort(function (a, b) {
      return a - b;
    });
    return parts[3] <= 255;
  } else if (version === '6') {
    var blocks = str.split(':');
    var foundOmissionBlock = false; // marker to indicate ::

    // At least some OS accept the last 32 bits of an IPv6 address
    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says
    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,
    // and '::a.b.c.d' is deprecated, but also valid.
    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);
    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;

    if (blocks.length > expectedNumberOfBlocks) {
      return false;
    }
    // initial or final ::
    if (str === '::') {
      return true;
    } else if (str.substr(0, 2) === '::') {
      blocks.shift();
      blocks.shift();
      foundOmissionBlock = true;
    } else if (str.substr(str.length - 2) === '::') {
      blocks.pop();
      blocks.pop();
      foundOmissionBlock = true;
    }

    for (var i = 0; i < blocks.length; ++i) {
      // test for a :: which can not be at the string start/end
      // since those cases have been handled above
      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {
        if (foundOmissionBlock) {
          return false; // multiple :: in address
        }
        foundOmissionBlock = true;
      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {
        // it has been checked before that the last
        // block is a valid IPv4 address
      } else if (!ipv6Block.test(blocks[i])) {
        return false;
      }
    }
    if (foundOmissionBlock) {
      return blocks.length >= 1;
    }
    return blocks.length === expectedNumberOfBlocks;
  }
  return false;
}
module.exports = exports['default'];

/***/ }),
/* 426 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault2(_iterator);

var _typeof3 = __webpack_require__(7);

var _typeof4 = _interopRequireDefault2(_typeof3);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault2(_symbol);

function _interopRequireDefault2(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof _symbol2.default === "function" && (0, _typeof4.default)(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : (0, _typeof4.default)(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : (0, _typeof4.default)(obj);
};

exports.default = isLength;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

/* eslint-disable prefer-rest-params */
function isLength(str, options) {
  (0, _assertString2.default)(str);
  var min = void 0;
  var max = void 0;
  if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {
    min = options.min || 0;
    max = options.max;
  } else {
    // backwards compatibility: isLength(str, min [, max])
    min = arguments[1];
    max = arguments[2];
  }
  var surrogatePairs = str.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g) || [];
  var len = str.length - surrogatePairs.length;
  return len >= min && (typeof max === 'undefined' || len <= max);
}
module.exports = exports['default'];

/***/ }),
/* 427 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isNumeric;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var numeric = /^[-+]?[0-9]+$/;

function isNumeric(str) {
  (0, _assertString2.default)(str);
  return numeric.test(str);
}
module.exports = exports['default'];

/***/ }),
/* 428 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isURL;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

var _isFQDN = __webpack_require__(202);

var _isFQDN2 = _interopRequireDefault(_isFQDN);

var _isIP = __webpack_require__(425);

var _isIP2 = _interopRequireDefault(_isIP);

var _merge = __webpack_require__(134);

var _merge2 = _interopRequireDefault(_merge);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var default_url_options = {
  protocols: ['http', 'https', 'ftp'],
  require_tld: true,
  require_protocol: false,
  require_host: true,
  require_valid_protocol: true,
  allow_underscores: false,
  allow_trailing_dot: false,
  allow_protocol_relative_urls: false
};

var wrapped_ipv6 = /^\[([^\]]+)\](?::([0-9]+))?$/;

function isRegExp(obj) {
  return Object.prototype.toString.call(obj) === '[object RegExp]';
}

function checkHost(host, matches) {
  for (var i = 0; i < matches.length; i++) {
    var match = matches[i];
    if (host === match || isRegExp(match) && match.test(host)) {
      return true;
    }
  }
  return false;
}

function isURL(url, options) {
  (0, _assertString2.default)(url);
  if (!url || url.length >= 2083 || /[\s<>]/.test(url)) {
    return false;
  }
  if (url.indexOf('mailto:') === 0) {
    return false;
  }
  options = (0, _merge2.default)(options, default_url_options);
  var protocol = void 0,
      auth = void 0,
      host = void 0,
      hostname = void 0,
      port = void 0,
      port_str = void 0,
      split = void 0,
      ipv6 = void 0;

  split = url.split('#');
  url = split.shift();

  split = url.split('?');
  url = split.shift();

  split = url.split('://');
  if (split.length > 1) {
    protocol = split.shift();
    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {
      return false;
    }
  } else if (options.require_protocol) {
    return false;
  } else if (options.allow_protocol_relative_urls && url.substr(0, 2) === '//') {
    split[0] = url.substr(2);
  }
  url = split.join('://');

  split = url.split('/');
  url = split.shift();

  if (url === '' && !options.require_host) {
    return true;
  }

  split = url.split('@');
  if (split.length > 1) {
    auth = split.shift();
    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {
      return false;
    }
  }
  hostname = split.join('@');

  port_str = ipv6 = null;
  var ipv6_match = hostname.match(wrapped_ipv6);
  if (ipv6_match) {
    host = '';
    ipv6 = ipv6_match[1];
    port_str = ipv6_match[2] || null;
  } else {
    split = hostname.split(':');
    host = split.shift();
    if (split.length) {
      port_str = split.join(':');
    }
  }

  if (port_str !== null) {
    port = parseInt(port_str, 10);
    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {
      return false;
    }
  }

  if (!(0, _isIP2.default)(host) && !(0, _isFQDN2.default)(host, options) && (!ipv6 || !(0, _isIP2.default)(ipv6, 6)) && host !== 'localhost') {
    return false;
  }

  host = host || ipv6;

  if (options.host_whitelist && !checkHost(host, options.host_whitelist)) {
    return false;
  }
  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {
    return false;
  }

  return true;
}
module.exports = exports['default'];

/***/ }),
/* 429 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = isUUID;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var uuid = {
  3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
  4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
  5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
  all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i
};

function isUUID(str) {
  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';

  (0, _assertString2.default)(str);
  var pattern = uuid[version];
  return pattern && pattern.test(str);
}
module.exports = exports['default'];

/***/ }),
/* 430 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ltrim;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function ltrim(str, chars) {
  (0, _assertString2.default)(str);
  var pattern = chars ? new RegExp('^[' + chars + ']+', 'g') : /^\s+/g;
  return str.replace(pattern, '');
}
module.exports = exports['default'];

/***/ }),
/* 431 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = rtrim;

var _assertString = __webpack_require__(39);

var _assertString2 = _interopRequireDefault(_assertString);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function rtrim(str, chars) {
  (0, _assertString2.default)(str);
  var pattern = chars ? new RegExp('[' + chars + ']') : /\s/;

  var idx = str.length - 1;
  while (idx >= 0 && pattern.test(str[idx])) {
    idx--;
  }

  return idx < str.length ? str.substr(0, idx + 1) : str;
}
module.exports = exports['default'];

/***/ }),
/* 432 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = trim;

var _rtrim = __webpack_require__(431);

var _rtrim2 = _interopRequireDefault(_rtrim);

var _ltrim = __webpack_require__(430);

var _ltrim2 = _interopRequireDefault(_ltrim);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function trim(str, chars) {
  return (0, _rtrim2.default)((0, _ltrim2.default)(str, chars), chars);
}
module.exports = exports['default'];

/***/ }),
/* 433 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Returns a wrapper function that returns a wrapped callback
// The wrapper function should do some stuff, and return a
// presumably different callback function.
// This makes sure that own properties are retained, so that
// decorations and such are not lost along the way.
module.exports = wrappy;
function wrappy(fn, cb) {
  if (fn && cb) return wrappy(fn)(cb);

  if (typeof fn !== 'function') throw new TypeError('need wrapper function');

  (0, _keys2.default)(fn).forEach(function (k) {
    wrapper[k] = fn[k];
  });

  return wrapper;

  function wrapper() {
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }
    var ret = fn.apply(this, args);
    var cb = args[args.length - 1];
    if (typeof ret === 'function' && ret !== cb) {
      (0, _keys2.default)(cb).forEach(function (k) {
        ret[k] = cb[k];
      });
    }
    return ret;
  }
}

/***/ }),
/* 434 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _style = __webpack_require__(436);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var createVNode = Inferno.createVNode;

var Avatar = function (_Component) {
  (0, _inherits3.default)(Avatar, _Component);

  function Avatar() {
    var _ref;

    (0, _classCallCheck3.default)(this, Avatar);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Avatar.__proto__ || (0, _getPrototypeOf2.default)(Avatar)).call.apply(_ref, [this].concat(args)));

    _this.id = 'Avatar-' + count++;
    return _this;
  }

  (0, _createClass3.default)(Avatar, [{
    key: 'render',
    value: function render() {
      var sel = this.sel;
      var getId = this.getId;
      var size = this.props.size;

      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps()), [(0, _style2.default)(sel(), size), createVNode(2, 'div', {
        'id': getId('main-icon'),
        'style': { backgroundImage: 'url(' + this.props.src + ')' }
      }, this.props.children)]);
    }
  }]);
  return Avatar;
}(_uiComponentDeprecated2.default);

Avatar.propTypes = {
  src: _infernoCompat.PropTypes.string,
  size: _infernoCompat.PropTypes.any
};
Avatar.defaultProps = {
  size: '2em'
};
exports.default = Avatar;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 435 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Avatar = __webpack_require__(434);

var _Avatar2 = _interopRequireDefault(_Avatar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Avatar2.default;
module.exports = exports['default'];

/***/ }),
/* 436 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (sel, size) {
  return createVNode(16, _styleverse.Style, {
    'scope': sel,
    'size': size,
    'perf': true,
    children: '\n    :scope {\n      cur--p\n      pos--r\n      bf-viz--hidden\n      tf--translate3d( 0px, 0px, 0px )\n      bdr-rad--50%\n      w--props.size\n      h--props.size\n    }\n    :scope-main-icon {\n      bdr-rad--50%\n      w--100%\n      h--100%\n      ln-h--1em\n      fnt-sz--i\n      txt-aln--center\n      pos--r\n      d--flx\n      flx-aln--mid\n      flx-jst--mid\n      bg-sz--cover\n      bg-pos--50%\n    }\n  '
  });
};

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 437 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var Badge = function (_Component) {
  (0, _inherits3.default)(Badge, _Component);

  function Badge() {
    var _ref;

    (0, _classCallCheck3.default)(this, Badge);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Badge.__proto__ || (0, _getPrototypeOf2.default)(Badge)).call.apply(_ref, [this].concat(args)));

    _this.id = 'Badge-' + count++;
    return _this;
  }

  (0, _createClass3.default)(Badge, [{
    key: 'render',
    value: function render() {
      var sel = this.sel;
      var getId = this.getId;
      console.error(this.elProps());
      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps()), [createVNode(16, _styleverse.Style, {
        'perf': true,
        'scope': sel(),
        children: '\n            :scope {\n              pos--r\n              bf-viz--hidden\n              tf--translate3d( 0px, 0px, 0px )\n              bdr-rad--50%\n              w--2em\n              h--2em\n            }\n            :scope-main-icon {\n              bdr-rad--50%\n              w--2em\n              h--2em\n              ln-h--1em\n              fnt-sz--i\n              txt-aln--center\n              pos--r\n              d--flx\n              flx-aln--mid\n              flx-jst--mid\n            }\n        '
      }), createVNode(2, 'div', {
        'id': getId('main-icon')
      }, this.props.children)]);
    }
  }]);
  return Badge;
}(_uiComponentDeprecated2.default);

exports.default = Badge;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 438 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Badge = __webpack_require__(437);

var _Badge2 = _interopRequireDefault(_Badge);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Badge2.default;
module.exports = exports['default'];

/***/ }),
/* 439 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _lodash = __webpack_require__(87);

var _lodash2 = _interopRequireDefault(_lodash);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var css = '\n  .contenteditable {\n    -webkit-user-modify: read-write-plaintext-only;\n  }\n  .contenteditable--has-placeholder::before {\n    content: attr(placeholder);\n    opacity: 0.5;\n    color: inherit;\n    cursor: text;\n  }\n';
// import Styleverse from '../../styleverse'


var count = 0;

var createVNode = Inferno.createVNode;

var ContentEditable = function (_React$Component) {
  (0, _inherits3.default)(ContentEditable, _React$Component);

  function ContentEditable() {
    var _ref;

    (0, _classCallCheck3.default)(this, ContentEditable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = ContentEditable.__proto__ || (0, _getPrototypeOf2.default)(ContentEditable)).call.apply(_ref, [this].concat(args)));

    _this.id = 'ContentEditable-' + count;
    count++;

    // this.perfCheckFunctions = true
    // this.emitChange = this.emitChange.bind(this);
    _this.onPaste = _this.onPaste.bind(_this);
    _this.onTextChange = _this.onTextChange.bind(_this);
    _this.blur = _this.blur.bind(_this);
    _this.state = {
      text: _this.props.text || ''
    };
    return _this;
  }

  (0, _createClass3.default)(ContentEditable, [{
    key: 'mountCSS',
    value: function mountCSS() {
      return css;
    }
  }, {
    key: 'unmountCSS',
    value: function unmountCSS() {
      return css;
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.setState({
        text: nextProps.text
      });
    }
  }, {
    key: 'onPaste',
    value: function onPaste(e) {
      e.preventDefault();
      var text = e.clipboardData.getData('text');
      text = text.replace(/\n/, '').replace(/\r/, '').substr(0, this.props.maxLength || 2000);
      document.execCommand('insertText', false, text);
    }
  }, {
    key: 'getClassName',
    value: function getClassName() {
      var placeholder = this.state.text === '' ? 'contenteditable--has-placeholder' : '';
      return 'contenteditable ' + placeholder + ' ' + this.props.className;
    }
  }, {
    key: 'getText',
    value: function getText(el) {
      return el.innerText || this.getTextForFirefox(el);
    }
  }, {
    key: 'getTextForFirefox',
    value: function getTextForFirefox(el) {
      // Taken from http://stackoverflow.com/a/3908094
      var text = '';
      if (typeof window.getSelection != 'undefined') {
        var sel = window.getSelection();
        var tempRange = sel.getRangeAt(0);
        sel.removeAllRanges();
        var range = document.createRange();
        range.selectNodeContents(el);
        sel.addRange(range);
        text = sel.toString();
        sel.removeAllRanges();
        sel.addRange(tempRange);
      }

      return text;
    }
  }, {
    key: 'render',
    value: function render() {

      var id = this.props.id ? this.props.id : this.id;
      var className = this.getClassName();
      var cleanProps = (0, _lodash2.default)(this.props, ['html', 'children', 'text', 'id', 'className']); // see https://fb.me/react-unknown-prop

      return createVNode(2, 'div', (0, _extends3.default)({}, cleanProps, {
        'id': id,
        'className': className,
        'placeholder': this.props.placeholder,
        'contentEditable': !this.props.disabled,
        'dangerouslySetInnerHTML': { __html: this.state.text }
      }), null, {
        'onPaste': this.onPaste,
        'onInput': this.onTextChange
      }, null, 'content');
    }
  }, {
    key: 'blur',
    value: function blur() {
      return this.refs.content.blur();
    }
  }, {
    key: 'onTextChange',
    value: function onTextChange(ev) {
      var text = this.getText(ev.target);
      this.setState({ text: text });
      this.props.onChange({
        target: {
          value: text
        }
      });
    }
  }]);
  return ContentEditable;
}(_infernoCompat2.default.Component);

ContentEditable.propTypes = {
  className: _infernoCompat.PropTypes.string,
  text: _infernoCompat.PropTypes.string,
  maxLength: _infernoCompat.PropTypes.number,
  disabled: _infernoCompat.PropTypes.bool,
  onChange: _infernoCompat.PropTypes.func,
  placeholder: _infernoCompat.PropTypes.string
};
ContentEditable.defaultProps = {
  className: ''
};
exports.default = (0, _styleverse.enhance)(ContentEditable);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 440 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ContentEditable = __webpack_require__(439);

var _ContentEditable2 = _interopRequireDefault(_ContentEditable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _ContentEditable2.default;
module.exports = exports['default'];

/***/ }),
/* 441 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _resizeRenderer = __webpack_require__(204);

var _resizeRenderer2 = _interopRequireDefault(_resizeRenderer);

var _styleverse = __webpack_require__(9);

var _Virtualizer = __webpack_require__(442);

var _Virtualizer2 = _interopRequireDefault(_Virtualizer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var css = '\n  .GridResizeRenderer {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    min-height: 3em;\n  }\n';
// import {Styleverse, ResizeRenderer} from '@the-grid/multiverse-ui/entry.js'
var createVNode = Inferno.createVNode;

var Grid = function (_React$Component) {
  (0, _inherits3.default)(Grid, _React$Component);

  function Grid() {
    var _ref;

    (0, _classCallCheck3.default)(this, Grid);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Grid.__proto__ || (0, _getPrototypeOf2.default)(Grid)).call.apply(_ref, [this].concat(args)));

    _this.getBoundingClientRect = undefined;
    _this.resizeHandler = function (resize, target) {
      // if (resize.width === undefined) return null
      if (_this.getBoundingClientRect) return;
      _this.getBoundingClientRect = function () {
        return target.getBoundingClientRect();
      };
    };
    return _this;
  }

  (0, _createClass3.default)(Grid, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.getBoundingClientRect = undefined;
    }
  }, {
    key: 'mountCSS',
    value: function mountCSS() {
      return css;
    }
  }, {
    key: 'unmountCSS',
    value: function unmountCSS() {
      return css;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          className = _props.className,
          computeLayout = _props.computeLayout,
          id = _props.id,
          selectable = _props.selectable,
          otherProps = (0, _objectWithoutProperties3.default)(_props, ['className', 'computeLayout', 'id', 'selectable']);


      className = className ? className : '';
      className += ' GridResizeRenderer';

      var rootProps = { className: className };
      if (id) rootProps.id = id;

      return createVNode(16, _resizeRenderer2.default, (0, _extends3.default)({
        'target': 'self'
      }, rootProps, {
        'handler': this.resizeHandler,
        children: function children(resize) {
          var width = resize.width,
              windowHeight = resize.windowHeight,
              windowWidth = resize.windowWidth;


          if (width === undefined) return null;

          var computedProps = computeLayout(width, windowWidth, windowHeight);

          return createVNode(16, _Virtualizer2.default, (0, _extends3.default)({}, otherProps, computedProps, {
            'getBoundingClientRect': _this2.getBoundingClientRect,
            'frameHeight': windowHeight,
            'frameWidth': windowWidth,
            'width': width,
            'selectable': selectable,
            'hideToolbar': otherProps.hideToolbar
          }), null, null, 'GridCells');
        }
      }), null, null, 'ResizeRenderer');
    }
  }]);
  return Grid;
}(_infernoCompat2.default.Component);

exports.default = (0, _styleverse.enhance)(Grid);
// export default Grid

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 442 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _GridStruct = __webpack_require__(449);

var _GridStruct2 = _interopRequireDefault(_GridStruct);

var _renderers = __webpack_require__(448);

var _renderers2 = _interopRequireDefault(_renderers);

var _immutable = __webpack_require__(6);

var _raf = __webpack_require__(253);

var _raf2 = _interopRequireDefault(_raf);

var _sync = __webpack_require__(98);

var _sync2 = _interopRequireDefault(_sync);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

var _slider = __webpack_require__(205);

var _slider2 = _interopRequireDefault(_slider);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import debounce from 'lodash.debounce'

// import {Styleverse, Component, sync, Style, Slider} from '@the-grid/multiverse-ui/entry.js'
var DEFAULT_SCROLL_DATA = (0, _immutable.Map)({
  scroll: (0, _immutable.Map)({ isScrolling: false })
});

// TODO
var count = 0;
var createVNode = Inferno.createVNode;

var Virtualizer = function (_Component) {
  (0, _inherits3.default)(Virtualizer, _Component);

  function Virtualizer() {
    var _ref;

    (0, _classCallCheck3.default)(this, Virtualizer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Virtualizer.__proto__ || (0, _getPrototypeOf2.default)(Virtualizer)).call.apply(_ref, [this].concat(args)));

    var props = args[0];


    _this.perfCheckState = false;
    _this.perfCheckFunctions = false;

    _this.state = {
      struct: new _GridStruct2.default(props),
      isScrolling: false
    };

    _this.id = 'GridVirtualizer-' + count;
    count++;

    _this.lastRendered = null;
    _this.lastRenderedBefore = null;
    _this.lastRenderedAfer = null;
    _this.lastStylesRender = null;
    _this.hasHandledScroll = false;
    _this.lastBoundingClientRect = undefined;
    _this.lastRange = null;

    _this.onScrolling = function (data) {
      var readDOM = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

      var scrollData = data.get('scroll').toJS();
      var isScrolling = scrollData.isScrolling;


      (0, _raf2.default)(function () {

        var newstate = { isScrolling: isScrolling };

        var rect = void 0;
        if (readDOM || !_this.lastBoundingClientRect) {
          rect = _this.props.getBoundingClientRect();
          _this.lastBoundingClientRect = rect;
        } else {
          rect = _this.lastBoundingClientRect;
        }

        // only measure bounding client rect when scrolling or if haven't done so yet
        if (isScrolling || !_this.hasHandledScroll) {
          newstate.struct = _this.state.struct.set('passiveBoundingClientRect', [rect, _this.context.styleStore]);
        }

        _this.hasHandledScroll = true;
        _this.setState(newstate);
      });
    };

    _this.onSlide = function (e) {
      var val = e.target.value;

      (0, _raf2.default)(function () {
        _this.updateLayoutValue(val);
      });
    };

    _this.updateLayoutValue = function (val) {
      var newStruct = _this.state.struct.set('layoutValue', val);
      _this.setState({ struct: newStruct });
    };

    _this.onSlide = _this.onSlide.bind(_this);
    return _this;
  }

  (0, _createClass3.default)(Virtualizer, [{
    key: 'listenToScrollIfNeeded',
    value: function listenToScrollIfNeeded() {
      // TODO: replace w/ scroll-context!!
      // WARN: can't change scrollingElement
      if (!this.props.virtualized) return;
      if (this.scrollingElement) return;
      var scrollingElementId = this.props.scrollingElementId;
      this.scrollingElement = scrollingElementId === 'document' ? document : document.getElementById(scrollingElementId);
      if (!this.scrollingElement) return;

      (0, _sync2.default)(this.onScrolling, 'scroll', this.scrollingElement);

      // TODO: fix sync when component unmounts!
      this.onScrolling(DEFAULT_SCROLL_DATA);
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.listenToScrollIfNeeded();
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.listenToScrollIfNeeded();

      var range = this.state.struct.get('rangeToRender');
      if (this.props.onRangeChange) this.props.onRangeChange(range);
      this.lastRange = range;
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.listenToScrollIfNeeded();

      var range = this.state.struct.get('rangeToRender');
      if (this.lastRange.equals(range)) return;
      if (this.props.onRangeChange) this.props.onRangeChange(range);
      this.lastRange = range;
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.scrollingElement = undefined;
      this.lastRendered = null;
      this.lastRenderedBefore = null;
      this.lastRenderedAfer = null;
      this.lastStylesRender = null;
      this.hasHandledScroll = false;
      this.lastBoundingClientRect = undefined;
      if (this.props.virtualized) (0, _sync2.default)(this.onScrolling, false, false);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var struct = this.state.struct;
      var nextStruct = struct.merge(nextProps);
      // if (struct.equals(nextStruct)) return

      // TODO: if these props update... be smarter about this

      var hasNewWidth = nextStruct.get('width') !== struct.get('width');
      var hasNewOverrides = false;
      if (nextStruct.get('overrides')) {
        hasNewOverrides = !nextStruct.get('overrides', (0, _immutable.Map)()).equals(struct.get('overrides', (0, _immutable.Map)()));
      }

      if (hasNewWidth || hasNewOverrides) {
        if (!this.lastBoundingClientRect) return;
        // throw new Error('!!!!WAT?')
        // ^ was unmounted then mounted again likely... or recreated by resize renderer

        nextStruct = nextStruct.set('passiveBoundingClientRect', [this.lastBoundingClientRect, this.context.styleStore]);
      }

      this.setState({
        struct: nextStruct
      });
    }
  }, {
    key: 'render',
    value: function render() {
      // console.log(this.props.selectable)
      var _state = this.state,
          struct = _state.struct,
          isScrolling = _state.isScrolling;

      var id = this.props.id || this.id;
      var rendererPref = this.props.rendererPref;
      var Renderer = this.props.draggableOrder && struct.get('layout.cols') === 1 ? _renderers2.default.DraggableList : this.props.draggableOrder && struct.get('layout.cols') > 1 ? _renderers2.default.DraggableGrid : _renderers2.default.SimpleCells;

      if (rendererPref) {
        Renderer = _renderers2.default[rendererPref];
      }

      var className = 'GridCells';
      if (isScrolling) className += ' is-scrolling';

      var before = isScrolling ? this.lastRenderedBefore : this.props.renderBefore ? this.props.renderBefore() : null;

      var after = isScrolling ? this.lastRenderedAfter : this.props.renderAfter ? this.props.renderAfter() : null;

      this.scrollingStyle = !!this.scrollingStyle ? this.scrollingStyle : this.scrollingStyle = createVNode(2, 'style', null, '\n          #' + id + '.is-scrolling * {\n            transition: none !important;\n          }\n          #' + id + '.is-scrolling .display--none-on-scroll {\n            display: none !important;\n          }\n          #' + id + '.is-scrolling .pointer-events--none-on-scroll {\n            pointer-events: none !important;\n          }\n        ', null, 'is-scrolling-strange-styles');

      this.lastRendered = createVNode(34, 'div', {
        'id': id,
        'className': className,
        'style': { width: '100%' }
      }, [this.scrollingStyle, createVNode(16, _styleverse.Styleverse, {
        'perf': false,
        'breakpoint': { width: struct.get('layout.cellWidth'), height: struct.get('layout.cellHeight') },
        'layout': {},
        'typography': {},
        children: [before, this.renderToolbar(), createVNode(16, Renderer, {
          'struct': struct,
          'selectable': this.props.selectable,
          'items': this.props.items,
          'itemCount': this.props.itemCount,
          'getItemId': this.props.getItemId,
          'renderItem': this.props.renderItem,
          'cellClassName': this.props.cellClassName,
          'onOrderChange': this.props.onOrderChange
        }), after]
      }, null, null, 'styleverse')], null, id);
      this.lastRenderedBefore = before;
      this.lastRenderedAfter = after;
      return this.lastRendered;
    }
  }, {
    key: 'renderToolbar',
    value: function renderToolbar() {
      if (this.props.hideToolbar == true) {
        return null;
      }
      var struct = this.state.struct;
      var possibleLayouts = struct.get('possibleLayouts');
      if (!possibleLayouts) return null;
      if (possibleLayouts.length <= 1) return null;
      var layoutValue = struct.get('layoutValue');
      var max = 1;
      var getId = this.getId;
      var sel = this.sel;
      return createVNode(2, 'div', {
        'id': getId('toolbar')
      }, [createVNode(16, _styleverse.Style, {
        'perf': true,
        'scope': sel(),
        children: '\n          :scope-toolbar {\n            d--flx\n            flx-jst--end\n            h--3em\n            w--100%\n          }\n        '
      }), createVNode(16, _slider2.default, {
        'id': getId('slider'),
        'className': 'overlay-filter-target-hidden',
        'value': layoutValue * max,
        'min': 0,
        'max': max,
        'step': .01,
        'onChange': this.onSlide
      })]);
    }
  }]);
  return Virtualizer;
}(_uiComponentDeprecated2.default);

var PropTypes = _infernoCompat2.default.PropTypes;


Virtualizer.propTpes = {

  // TODO: replace with scroll-context!
  scrollingElementId: PropTypes.string.isRequired,

  items: PropTypes.object.isRequired,
  getItemId: PropTypes.func.isRequired, // TODO
  renderItem: PropTypes.func.isRequired, // TODO
  itemCount: PropTypes.number.isRequired,

  virtualized: PropTypes.bool.isRequired,

  unit: PropTypes.number.isRequired,
  width: PropTypes.number.isRequired,

  getBoundingClientRect: PropTypes.func.isRequired,

  frameHeight: PropTypes.number.isRequired,
  frameWidth: PropTypes.number.isRequired,
  // clientRectTop: PropTypes.number.isRequired,

  cellRatio: PropTypes.number,

  cellWidth: PropTypes.number,
  cellWidthMin: PropTypes.number,
  cellWidthMax: PropTypes.number,

  cellHeight: PropTypes.number,
  cellHeightMin: PropTypes.number,
  cellHeightMax: PropTypes.number,

  cols: PropTypes.number,
  colsMin: PropTypes.number,
  colsMax: PropTypes.number,

  gutterMax: PropTypes.number.isRequired,
  gutterMin: PropTypes.number.isRequired,

  topRowBuffer: PropTypes.number.isRequired,
  bottomRowBuffer: PropTypes.number.isRequired,

  draggableOrder: PropTypes.bool,
  onOrderChange: PropTypes.func,
  onRangeChange: PropTypes.func,

  overrides: PropTypes.object
};

Virtualizer.defaultProps = {
  scrollingElementId: 'document',
  virtualized: false,
  cellClassName: '',
  unit: 8,
  draggableOrder: false,
  onOrderChange: function onOrderChange() {
    throw new Error('Grid must have props.onOrderChange if props.draggableOrder');
  }
};

exports.default = _styleverse.Styleverse.enhance(Virtualizer);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 443 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Grid = undefined;

var _Grid = __webpack_require__(441);

var _Grid2 = _interopRequireDefault(_Grid);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.Grid = _Grid2.default;
exports.default = _Grid2.default;

/***/ }),
/* 444 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(137);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Cell = function (_React$Component) {
  (0, _inherits3.default)(Cell, _React$Component);

  function Cell() {
    var _ref;

    (0, _classCallCheck3.default)(this, Cell);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    // this.perfCheckState = false
    // this.perfCheckFunctions = false
    // this.xVelPrev = 0
    // this.xPrev = undefined
    // this.yVelPrev = 0
    // this.yPrev = undefined

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Cell.__proto__ || (0, _getPrototypeOf2.default)(Cell)).call.apply(_ref, [this].concat(args)));

    _this.perfCheckFunctions = true;
    _this.lastLayout = (0, _immutable.Map)();
    _this.didMount = false;
    _this.defaultStyle = undefined;

    _this.onMouseDown = function (e) {
      var _this$props = _this.props,
          handleMouseDown = _this$props.handleMouseDown,
          orderIndex = _this$props.orderIndex,
          layout = _this$props.layout;

      return handleMouseDown(orderIndex, [layout.get('x'), layout.get('y')], e);
    };
    _this.onTouchStart = function (e) {
      var _this$props2 = _this.props,
          handleTouchStart = _this$props2.handleTouchStart,
          orderIndex = _this$props2.orderIndex,
          layout = _this$props2.layout;

      return handleTouchStart(orderIndex, [layout.get('x'), layout.get('y')], e);
    };

    _this.renderStyle = _this.renderStyle.bind(_this);
    return _this;
  }

  (0, _createClass3.default)(Cell, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.lastLayout = this.props.layout;
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.didMount = true;

      var props = this.props;
      this.prevZIndex = props.layout.get('zIndex');
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(props) {
      this.prevZIndex = props.layout.get('zIndex');
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.didMount = false;
      // this.xVelPrev = 0
      // this.xPrev = undefined
      // this.yVelPrev = 0
      // this.yPrev = undefined
      this.defaultStyle = undefined;
      this.lastLayout = (0, _immutable.Map)();
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps() {
      this.lastLayout = this.props.layout;
    }
  }, {
    key: 'getChildContext',
    value: function getChildContext() {
      return {
        cell: this
      };
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          item = _props.item,
          selectable = _props.selectable,
          layout = _props.layout,
          renderItem = _props.renderItem,
          cellIsPressed = _props.cellIsPressed,
          cellIsDragging = _props.cellIsDragging;


      var width = layout.get('width');
      var height = layout.get('height');

      var x = layout.get('x');
      var y = layout.get('y');
      var scale = this.targetScale = layout.get('scale');
      var boxShadow = layout.get('boxShadow');
      var rotateZ = layout.get('rotateZ', 0);
      this.fadeOutContentWithScale = layout.get('fadeOutContentWithScale');

      var zIndex = layout.get('zIndex');

      var currOverride = layout.get('override');
      // let lastOverride = this.lastLayout.get('override')

      var className = 'GridCell';
      if (currOverride) className += ' has-override override-' + currOverride;

      var onMouseDown = currOverride ? undefined : this.onMouseDown;
      var onTouchStart = currOverride ? undefined : this.onTouchStart;

      var style = void 0;

      // was true
      // let sprung = true

      // it autorenders the default style so it can be transitioned back to
      var sprung = false;
      // var randomness = Math.floor(Math.random() * (10000 - 1 + 1)) + 1

      if (!this.didMount) {

        // dont use <Motion> wrap on first render to keep virtual scrolling butter smooth :)
        sprung = false;

        // setting defaulStyle so <Motion> knows where to spring from
        style = this.defaultStyle = {
          width: width,
          height: height,
          zIndex: zIndex,
          x: x,
          y: y,
          scale: scale,
          boxShadow: boxShadow,
          rotateZ: rotateZ
        };
      } else if (cellIsPressed && !cellIsDragging) {
        style = {
          width: width,
          height: height,
          zIndex: zIndex,
          x: x,
          y: y,
          scale: scale,

          // not used ha
          // scale: spring(scale, springSetting1),
          boxShadow: boxShadow,
          // was used
          // boxShadow: spring(boxShadow, springSetting1),
          rotateZ: rotateZ
        };
      } else if (cellIsPressed && cellIsDragging) {
        style = {
          width: width,
          height: height,
          zIndex: 1000,
          x: x,
          y: y,
          scale: scale,
          boxShadow: boxShadow,

          // was used
          // scale: spring(scale, springSetting2),
          // boxShadow: spring(boxShadow, springSetting2),
          rotateZ: rotateZ
        };
      } else {
        // let prevWidth = this.lastLayout.get('width')
        // if (prevWidth && !== width) {
        //
        // }

        style = {
          width: width,
          height: height,
          x: x,
          y: y,
          scale: scale,
          rotateZ: rotateZ,
          boxShadow: boxShadow,
          zIndex: zIndex
        };
      }

      if (cellIsDragging) className += ' dragging';

      return createVNode(2, 'div', {
        'id': id,
        'className': className
      }, [renderItem(item, className), createVNode(2, 'div', (0, _defineProperty3.default)({
        'style': style
      }, 'style', this.defaultStyle), this.renderStyle(style), null, 'motion')], {
        'onMouseDown': onMouseDown,
        'onTouchStart': onTouchStart
      }, id);

      // did not fix selectable
      // <Motion key="motion" style={style} defaultStyle={this.defaultStyle}>
      //   {this.renderStyle}
      // </Motion>
      // {
      //   !sprung
      //   ?
      //   <div key="motion" style={style} style={this.defaultStyle}>
      //     {this.renderStyle(style)}
      //   </div>
      //   : (
      //     <Motion key="motion" style={style} defaultStyle={this.defaultStyle}>
      //       {this.renderStyle}
      //     </Motion>
      //   )
      // }
    }
  }, {
    key: 'renderStyle',
    value: function renderStyle(_ref2) {
      var x = _ref2.x,
          y = _ref2.y,
          scale = _ref2.scale,
          boxShadow = _ref2.boxShadow,
          width = _ref2.width,
          height = _ref2.height,
          zIndex = _ref2.zIndex,
          rotateZ = _ref2.rotateZ;
      var targetScale = this.targetScale,
          fadeOutContentWithScale = this.fadeOutContentWithScale,
          prevZIndex = this.prevZIndex;

      // if prev z-index was larger & scale is animating, wait till spring rests to set target z-index

      if (prevZIndex > zIndex && targetScale !== scale) zIndex = prevZIndex;

      var css = '\n      #' + this.props.id + ' {\n        position: absolute;\n        backface-visibility: hidden;\n\n        top: 0px;\n        left: 0px;\n\n        width: ' + width + 'px;\n        height: ' + height + 'px;\n        perspective: 1000px;\n        box-shadow: 0px ' + boxShadow * 5 + 'px ' + boxShadow * 8 + 'px rgba(0,0,0,' + boxShadow * .3 + ');\n        transform: translate3d( ' + x + 'px, ' + y + 'px, 0) scale(' + scale + ') rotateZ( ' + rotateZ + 'rad ) ;\n        -webkit-transform: translate3d( ' + x + 'px, ' + y + 'px, 0) scale(' + scale + ') rotateZ( ' + rotateZ + 'rad );\n        z-index: ' + zIndex + ';\n        /*transition: width .5s, height .5s, box-shadow .3s, transform .05s, scale 1s;*/\n      }\n\n      #' + this.props.id + ':not(.dragging) {\n        transition: transform .6s, width .6s, height .6s;\n      }\n      .dragging {\n        transition: none !important;\n      }\n    ';
      // @NOTE: do not transition spring styles...
      // transition: width .5s, height .5s, box-shadow .3s, transform .05s, scale 1s, rotateZ 1s, perspective 1s;
      if (fadeOutContentWithScale) {
        css += '\n        #' + this.props.id + ' > * {\n          opacity: ' + (0, _deps.fromTo)(scale, 1, targetScale, 1, 0) + ' !important;\n        }\n      ';
      }

      var style = createVNode(2, 'style', {
        'dangerouslySetInnerHTML': { __html: css }
      });

      return style;
    }
  }]);
  return Cell;
}(_infernoCompat2.default.Component);

Cell.childContextTypes = {
  cell: _infernoCompat.PropTypes.object
};
Cell.propTypes = {
  id: _infernoCompat.PropTypes.string.isRequired,
  orderIndex: _infernoCompat.PropTypes.any.isRequired,
  item: _infernoCompat.PropTypes.object.isRequired,
  renderItem: _infernoCompat.PropTypes.func.isRequired,
  layout: _infernoCompat.PropTypes.object.isRequired,
  cellIsPressed: _infernoCompat.PropTypes.bool.isRequired,
  cellIsDragging: _infernoCompat.PropTypes.bool.isRequired,
  handleMouseDown: _infernoCompat.PropTypes.func.isRequired,
  handleTouchStart: _infernoCompat.PropTypes.func.isRequired
};
exports.default = Cell;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 445 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;
// import {Motion, spring} from 'react-motion'
// import {fromTo, Component} from '@the-grid/multiverse-ui/entry.js'


var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _lodash = __webpack_require__(88);

var _lodash2 = _interopRequireDefault(_lodash);

var _getId = __webpack_require__(250);

var _getId2 = _interopRequireDefault(_getId);

var _coreDecorators = __webpack_require__(38);

var _Cell = __webpack_require__(444);

var _Cell2 = _interopRequireDefault(_Cell);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var springSetting1 = { stiffness: 180, damping: 13 };
var springSetting2 = { stiffness: 120, damping: 17 };

function reinsert(arr, from, to) {
  var _arr = arr.slice(0);
  var val = _arr[from];
  _arr.splice(from, 1);
  _arr.splice(to, 0, val);
  return _arr;
}

function clamp(n, min, max) {
  return Math.max(Math.min(n, max), min);
}

function arraysIdentical(a, b) {
  var i = a.length;
  if (i != b.length) return false;
  while (i--) {
    if (a[i] !== b[i]) return false;
  }
  return true;
}

var count = 0;

// @GetId
var createVNode = Inferno.createVNode;

var DraggableGrid = (0, _coreDecorators.autobind)(_class = function (_Component) {
  (0, _inherits3.default)(DraggableGrid, _Component);

  function DraggableGrid() {
    var _ref;

    (0, _classCallCheck3.default)(this, DraggableGrid);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = DraggableGrid.__proto__ || (0, _getPrototypeOf2.default)(DraggableGrid)).call.apply(_ref, [this].concat(args)));

    _this.perfCheckState = false;
    _this.perfCheckFunctions = false;

    _this.id = 'DraggableGrid-' + count;
    count++;

    _this.state = {
      mouse: [0, 0],
      isDragging: false,
      isPressed: false,

      // difference between mouse and item pos, for dragging
      delta: [0, 0],

      // orderIndex of the last pressed component
      lastPress: null,
      lastOrder: (0, _lodash2.default)(_this.props.itemCount),
      // index: visual position. value: orderIndex
      order: (0, _lodash2.default)(_this.props.itemCount)
    };

    _this.lastChildrenById = {};
    _this.lastRenderById = {};
    _this.cellsToRenderCache = (0, _immutable.Map)();
    _this.lastStruct = _immutable.Map.EMPTY;
    return _this;
  }

  // @NOTE:
  // disable the dragging on touch since
  // this adds the listener to the whole window!


  (0, _createClass3.default)(DraggableGrid, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      // window.addEventListener('touchmove', this.handleTouchMove)
      // window.addEventListener('touchend', this.handleMouseUp)
      window.addEventListener('mousemove', this.handleMouseMove);
      window.addEventListener('mouseup', this.handleMouseUp);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.lastChildrenById = {};
      this.lastRenderById = {};
      this.cellsToRenderCache = (0, _immutable.Map)();
      this.lastStruct = _immutable.Map.EMPTY;

      // window.removeEventListener('touchmove', this.handleTouchMove)
      // window.removeEventListener('touchend', this.handleMouseUp)
      window.removeEventListener('mousemove', this.handleMouseMove);
      window.removeEventListener('mouseup', this.handleMouseUp);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      // console.log('will receive props')
      // needs to be reset - even if the itemcount not changed - the order must be re-initialized here for now
      this.setState({ order: (0, _lodash2.default)(nextProps.itemCount) });
      var nextStruct = nextProps.struct;
      if (nextStruct.equals(this.lastStruct)) return;
      // console.info('struct was the same')

      // reset render cache when cell layout changes so cells dont animate in from old position
      var lastCellWidth = this.lastStruct.getIn(['layout', 'cellWidth']);
      var nextCellWidth = nextStruct.getIn(['layout', 'cellWidth']);
      if (nextCellWidth !== lastCellWidth) this.lastRenderById = {};

      this.lastStruct = nextStruct;
    }
  }, {
    key: 'handleTouchStart',
    value: function handleTouchStart(key, pressLocation, e) {
      this.handleMouseDown(key, pressLocation, e.touches[0]);
    }
  }, {
    key: 'handleTouchMove',
    value: function handleTouchMove(e) {
      e.preventDefault();
      this.handleMouseMove(e.touches[0]);
    }
  }, {
    key: 'handleMouseMove',
    value: function handleMouseMove(_ref2) {
      var pageX = _ref2.pageX,
          pageY = _ref2.pageY;

      var _state = this.state,
          order = _state.order,
          lastPress = _state.lastPress,
          isPressed = _state.isPressed,
          _state$delta = (0, _slicedToArray3.default)(_state.delta, 2),
          dx = _state$delta[0],
          dy = _state$delta[1];

      if (isPressed) {
        // only start dragging if mouse x or y move >= 7 pixels
        if (Math.abs(this.pressedPageX - pageX) < 7 && Math.abs(this.pressedPageY - pageY) < 7) return;

        var struct = this.props.struct;
        var cols = struct.get('layout.cols');
        var mouse = [pageX - dx, pageY - dy];
        var col = clamp(Math.floor((mouse[0] + struct.get('layout.cellWidth') / 2) / struct.get('colWidth')), 0, cols - 1);
        var row = clamp(Math.floor((mouse[1] + struct.get('layout.cellHeight') / 2) / struct.get('rowHeight')), 0, struct.get('rows') - 1);
        var index = row * cols + col;
        var newOrder = reinsert(order, order.indexOf(lastPress), index);
        this.setState({
          mouse: mouse,
          order: newOrder,
          isDragging: true
        });
      }
    }
  }, {
    key: 'handleMouseDown',
    value: function handleMouseDown(key, _ref3, _ref4) {
      var _ref5 = (0, _slicedToArray3.default)(_ref3, 2),
          pressX = _ref5[0],
          pressY = _ref5[1];

      var pageX = _ref4.pageX,
          pageY = _ref4.pageY;

      this.pressedPageX = pageX;
      this.pressedPageY = pageY;

      this.setState({
        lastPress: key,
        isPressed: true,
        delta: [pageX - pressX, pageY - pressY],
        mouse: [pressX, pressY],
        lastOrder: this.state.order
      });
    }
  }, {
    key: 'handleMouseUp',
    value: function handleMouseUp() {
      var _state2 = this.state,
          isPressed = _state2.isPressed,
          lastOrder = _state2.lastOrder,
          order = _state2.order;

      if (isPressed) {
        this.setState({
          isPressed: false,
          isDragging: false,
          delta: [0, 0]
        });

        // return false

        if (!arraysIdentical(lastOrder, order)) {
          if (this.props.onOrderChange) {
            this.props.onOrderChange(this.state.lastPress, this.state.order, lastOrder);
          }
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      // console.log('render draggable')
      // console.debug(this.props)
      // console.debug(this.props.struct.toJS())
      // console.debug(this.state)
      // console.debug('---------')
      // this.cellsToRenderCache = Map()

      var _state3 = this.state,
          isPressed = _state3.isPressed,
          isDragging = _state3.isDragging;
      var struct = this.props.struct;


      var className = '';
      if (isDragging) className += ' is-dragging';
      if (isPressed) className += ' is-pressed user-select--none';

      var height = struct.get('height');

      return createVNode(2, 'div', {
        'id': this.id,
        'className': className,
        'style': { minHeight: height, width: '100%', position: 'relative' }
      }, this.renderCells(), null, 'cells');
    }
  }, {
    key: 'renderCells',
    value: function renderCells() {
      var _state4 = this.state,
          order = _state4.order,
          lastPress = _state4.lastPress,
          isPressed = _state4.isPressed,
          isDragging = _state4.isDragging,
          mouse = _state4.mouse;
      var _props = this.props,
          items = _props.items,
          struct = _props.struct,
          getItemId = _props.getItemId,
          renderItem = _props.renderItem,
          selectable = _props.selectable;


      var cellsToRender = struct.get('cellsToRender');
      // let cols = struct.get('layout.cols')

      var childrenCells = [];
      var numCells = cellsToRender.size;
      for (var j = 0; j < numCells; j++) {

        var cell = cellsToRender.get(j);
        // cell = cell.toJS(true)
        // cell = fromJS(cell)

        var i = cell.get('index');
        var orderIndex = order[i];
        var item = items[orderIndex];

        // TODO, more robust safety net
        if (!item) continue;

        //  + randomness
        var cellId = this.getId() + '-' + getItemId(item);
        // this.lastChildrenById[cellId] = cellChildren

        var cellIsPressed = false;
        var cellIsDragging = false;
        var cellStyleToMerge = void 0;

        var override = cell.get('override');

        if (selectable) {
          var randomness = Math.floor(Math.random() * (10000 - 1 + 1)) + 1;
          cellStyleToMerge = {
            // transition: 'opacity ' + randomness + 'ms',
            widows: randomness
          };
        }

        if (override) {
          cellStyleToMerge = undefined;
        } else if (orderIndex === lastPress && isPressed && !isDragging) {
          cellIsPressed = true;

          cellStyleToMerge = {
            x: mouse[0],
            y: mouse[1]
          };
        } else if (orderIndex === lastPress && isDragging) {

          cellIsPressed = true;
          cellIsDragging = true;

          cellStyleToMerge = {
            x: mouse[0],
            y: mouse[1],
            scale: 1.05,
            boxShadow: 1
          };

          // layout = Map({
          //  x: mouse[0],
          //  y: mouse[1],
          //  width: cell.get('width'),
          //  height: cell.get('height'),
          //  scale: 1.05,
          //  boxShadow: 1,
          // })
        }

        if (cellStyleToMerge) {
          cell = cell.merge(cellStyleToMerge);
        }

        // let override = cell.get('override')
        //
        // if (override) {
        //   cell = cell.mergeDeep( override )
        // }

        childrenCells.push(createVNode(16, _Cell2.default, {
          'id': cellId,
          'layout': cell,
          'item': item,
          'orderIndex': orderIndex,
          'renderItem': renderItem,
          'cellIsPressed': cellIsPressed,
          'cellIsDragging': cellIsDragging,
          'handleMouseDown': this.handleMouseDown,
          'handleTouchStart': this.handleTouchStart
        }, null, null, cellId));
      }

      return childrenCells;
    }
  }]);
  return DraggableGrid;
}(_uiComponentDeprecated2.default)) || _class;

DraggableGrid.propTypes = {
  struct: _infernoCompat.PropTypes.object.isRequired,
  // items: PropTypes.object.isRequired,
  itemCount: _infernoCompat.PropTypes.number.isRequired,
  getItemId: _infernoCompat.PropTypes.func.isRequired,
  renderItem: _infernoCompat.PropTypes.func.isRequired,
  cellClassName: _infernoCompat.PropTypes.string
};
exports.default = DraggableGrid;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 446 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;
// import {Component, Style} from '@the-grid/multiverse-ui/entry.js'


var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _reactMotion = __webpack_require__(365);

var _lodash = __webpack_require__(88);

var _lodash2 = _interopRequireDefault(_lodash);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

var _coreDecorators = __webpack_require__(38);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function reinsert(arr, from, to) {
  var _arr = arr.slice(0);
  var val = _arr[from];
  _arr.splice(from, 1);
  _arr.splice(to, 0, val);
  return _arr;
}

function clamp(n, min, max) {
  return Math.max(Math.min(n, max), min);
}

function arraysIdentical(a, b) {
  var i = a.length;
  if (i != b.length) return false;
  while (i--) {
    if (a[i] !== b[i]) return false;
  }
  return true;
}

var count = 0;

// const springConfig = {stiffness: 1000, damping: 10}
var springConfig = { stiffness: 300, damping: 50 };

var createVNode = Inferno.createVNode;

var DraggableList = (0, _coreDecorators.autobind)(_class = function (_Component) {
  (0, _inherits3.default)(DraggableList, _Component);

  function DraggableList() {
    var _ref;

    (0, _classCallCheck3.default)(this, DraggableList);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = DraggableList.__proto__ || (0, _getPrototypeOf2.default)(DraggableList)).call.apply(_ref, [this].concat(args)));

    _this.id = 'DraggableList-' + count;
    count++;

    _this.perfCheckFunctions = false;

    _this.state = {
      mouse: 0,
      isPressed: false,
      isDragging: false,

      // difference between mouse and item pos, for dragging
      delta: 0,

      // itemIndex of the last pressed component
      lastPressed: 0,
      lastOrder: (0, _lodash2.default)(_this.props.itemCount),
      // index: visual position. value: itemIndex
      order: (0, _lodash2.default)(_this.props.itemCount)
    };

    _this.handleTouchMove = _this.handleTouchMove.bind(_this);
    _this.handleMouseUp = _this.handleMouseUp.bind(_this);
    _this.handleMouseMove = _this.handleMouseMove.bind(_this);
    return _this;
  }

  (0, _createClass3.default)(DraggableList, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      // needs to be reset - even if the itemcount not changed - the order must be re-initialized here for now
      this.setState({ order: (0, _lodash2.default)(nextProps.itemCount) });
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      window.addEventListener('touchmove', this.handleTouchMove);
      window.addEventListener('touchend', this.handleMouseUp);
      window.addEventListener('mousemove', this.handleMouseMove);
      window.addEventListener('mouseup', this.handleMouseUp);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.removeEventListener('touchmove', this.handleTouchMove);
      window.removeEventListener('touchend', this.handleMouseUp);
      window.removeEventListener('mousemove', this.handleMouseMove);
      window.removeEventListener('mouseup', this.handleMouseUp);
    }
  }, {
    key: 'handleTouchStart',
    value: function handleTouchStart(key, pressLocation, e) {
      this.handleMouseDown(key, pressLocation, e.touches[0]);
    }
  }, {
    key: 'handleTouchMove',
    value: function handleTouchMove(e) {
      e.preventDefault();
      this.handleMouseMove(e.touches[0]);
    }
  }, {
    key: 'handleMouseDown',
    value: function handleMouseDown(pos, pressY, _ref2) {
      var pageY = _ref2.pageY;

      this.setState({
        delta: pageY - pressY,
        mouse: pressY,
        isPressed: true,
        lastPressed: pos,
        lastOrder: this.state.order
      });
    }
  }, {
    key: 'handleMouseMove',
    value: function handleMouseMove(_ref3) {
      var pageY = _ref3.pageY;
      var _state = this.state,
          isPressed = _state.isPressed,
          delta = _state.delta,
          order = _state.order,
          lastPressed = _state.lastPressed;

      if (isPressed) {
        var mouse = pageY - delta;
        var row = clamp(Math.round(mouse / this.props.struct.get('rowHeight')), 0, this.props.itemCount - 1);
        var newOrder = reinsert(order, order.indexOf(lastPressed), row);
        this.setState({
          mouse: mouse,
          order: newOrder,
          isDragging: true
        });
      }
    }
  }, {
    key: 'handleMouseUp',
    value: function handleMouseUp() {
      var _state2 = this.state,
          isPressed = _state2.isPressed,
          lastOrder = _state2.lastOrder,
          order = _state2.order;

      if (isPressed) {
        this.setState({
          isPressed: false,
          isDragging: false,
          delta: [0, 0]
        });
        if (!arraysIdentical(lastOrder, order)) {
          if (this.props.onOrderChange) {
            this.props.onOrderChange(this.state.lastPressed, this.state.order);
          }
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _state3 = this.state,
          mouse = _state3.mouse,
          isPressed = _state3.isPressed,
          lastPressed = _state3.lastPressed,
          order = _state3.order,
          isDragging = _state3.isDragging;
      var _props = this.props,
          items = _props.items,
          struct = _props.struct,
          getItemId = _props.getItemId,
          renderItem = _props.renderItem;


      var height = struct.get('height');
      var cellsToRender = struct.get('cellsToRender');

      var className = '';
      if (isPressed) className += 'user-select--none';

      return createVNode(2, 'div', {
        'id': this.id,
        'className': className,
        'style': {
          position: 'relative',
          minHeight: height,
          width: '100%'
        }
      }, cellsToRender.map(function (cell) {
        var i = cell.get('index');
        var itemIndex = order[i];
        var item = void 0;

        // immutables or vanilla
        if (items.get) item = items.get(itemIndex);else item = items[itemIndex];

        if (!item) return null;
        var cellId = _this2.getId() + '-' + getItemId(item);
        var children = renderItem(item);

        var cellWidth = cell.get('width');
        var cellHeight = cell.get('height');
        var x = cell.get('x');
        var staticY = cell.get('y');

        var style = lastPressed === itemIndex && isDragging ? {
          // scale: spring(1.1, springConfig),
          scale: 1.1,
          // shadow: spring(16, springConfig),
          // bg: spring(1),
          bg: 1,
          y: mouse
        } : {
          bg: 0,
          // bg: spring(0),
          // scale: spring(1, springConfig),
          scale: 1,
          // shadow: spring(0, springConfig),
          y: staticY };
        return createVNode(2, 'div', {
          'id': cellId,
          'className': 'GridCell pos--a bf-viz--h ' + _this2.props.cellClassName
        }, [children, createVNode(16, _reactMotion.Motion, {
          'style': style,
          children: function children(_ref4) {
            var scale = _ref4.scale,
                shadow = _ref4.shadow,
                y = _ref4.y,
                bg = _ref4.bg;
            return createVNode(2, 'style', null, '\n                    #' + cellId + ' {\n                      width: ' + cellWidth + 'px;\n                      height: ' + cellHeight + 'px;\n                      top: 0px;\n                      left: 0px;\n                      box-shadow: ' + (shadow === 0 ? 'none' : 'rgba(0, 0, 0, 0.2) 0px ' + shadow + 'px ' + 2 * shadow + 'px 0px') + ';\n                      background-color: hsla( 0, 0%, 100%, ' + bg + ');\n                      transform: translate3d( ' + x + 'px, ' + y + 'px, 0) scale(' + scale + ');\n                      -webkit-transform: translate3d( ' + x + 'px, ' + y + 'px, 0) scale(' + scale + ');\n                      z-index: ' + (itemIndex === lastPressed ? 99 : itemIndex) + ';\n                    }\n                  ');
          }
        })], {
          'onMouseDown': _this2.handleMouseDown.bind(_this2, itemIndex, staticY),
          'onTouchStart': _this2.handleTouchStart.bind(_this2, itemIndex, staticY)
        }, cellId);
      }), null, 'cells');
    }
  }]);
  return DraggableList;
}(_uiComponentDeprecated2.default)) || _class;

DraggableList.propTypes = {
  struct: _infernoCompat.PropTypes.object.isRequired,
  items: _infernoCompat.PropTypes.object.isRequired,
  itemCount: _infernoCompat.PropTypes.number.isRequired,
  getItemId: _infernoCompat.PropTypes.func.isRequired,
  renderItem: _infernoCompat.PropTypes.func.isRequired,
  cellClassName: _infernoCompat.PropTypes.string
};
exports.default = DraggableList;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 447 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _component = __webpack_require__(136);

var _component2 = _interopRequireDefault(_component);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
// import {Component} from '@the-grid/multiverse-ui/entry.js'

var SimpleCells = function (_Component) {
  (0, _inherits3.default)(SimpleCells, _Component);

  function SimpleCells() {
    (0, _classCallCheck3.default)(this, SimpleCells);
    return (0, _possibleConstructorReturn3.default)(this, (SimpleCells.__proto__ || (0, _getPrototypeOf2.default)(SimpleCells)).apply(this, arguments));
  }

  (0, _createClass3.default)(SimpleCells, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var _props = this.props,
          items = _props.items,
          struct = _props.struct,
          getItemId = _props.getItemId,
          renderItem = _props.renderItem;


      var height = struct.get('height');
      var cellsToRender = struct.get('cellsToRender');

      return createVNode(2, 'div', {
        'className': 'w--100p pos--r',
        'style': { minHeight: height }
      }, cellsToRender.map(function (cell) {

        var index = cell.get('index');
        var item = items[index];
        if (!item && items && items.get && items.get(index)) item = items.get(index);

        if (!item) return null;
        var cellId = getItemId(item);
        var style = {
          width: cell.get('width'),
          height: cell.get('height'),
          left: 0,
          top: 0,
          transform: 'translate3d( ' + cell.get('x') + 'px, ' + cell.get('y') + 'px, 0)'
        };
        var children = renderItem(item);

        return createVNode(2, 'div', {
          'id': cellId,
          'className': 'GridCell pos--a bf-viz--h ' + _this2.props.cellClassName,
          'style': style
        }, createVNode(2, 'div', {
          'className': '\n                  GridCellContent\n                  pos--a\n                  t--0 b--0 r--0 l--0\n                '
        }, children), null, cellId);
      }), null, 'cells');
    }
  }]);
  return SimpleCells;
}(_component2.default);

SimpleCells.propTypes = {
  // obj or array
  items: _infernoCompat.PropTypes.any,

  struct: _infernoCompat.PropTypes.object.isRequired,
  itemCount: _infernoCompat.PropTypes.number.isRequired,
  getItemId: _infernoCompat.PropTypes.func.isRequired,
  renderItem: _infernoCompat.PropTypes.func.isRequired,
  cellClassName: _infernoCompat.PropTypes.string

};

exports.default = SimpleCells;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 448 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _DraggableGrid = __webpack_require__(445);

var _DraggableGrid2 = _interopRequireDefault(_DraggableGrid);

var _DraggableList = __webpack_require__(446);

var _DraggableList2 = _interopRequireDefault(_DraggableList);

var _SimpleCells = __webpack_require__(447);

var _SimpleCells2 = _interopRequireDefault(_SimpleCells);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var renderers = {
  DraggableGrid: _DraggableGrid2.default,
  DraggableList: _DraggableList2.default,
  SimpleCells: _SimpleCells2.default
};

exports.default = renderers;
module.exports = exports['default'];

/***/ }),
/* 449 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _immutable = __webpack_require__(6);

var _finitedomain = __webpack_require__(182);

var _finitedomain2 = _interopRequireDefault(_finitedomain);

var _deps = __webpack_require__(137);

var _OverridesStruct = __webpack_require__(450);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {fromTo} from '@the-grid/multiverse-ui/entry.js'
var EMPTY_OVERRIDES_STRUCT = new _OverridesStruct.OverridesStruct();

var GridStruct = (0, _immutable.Struct)({
  // cache: false,
  overrides: {
    // cache: false,
    set: function set(map) {
      // if set to undefined or empty map, then reset override & _overrides
      if (!map || map.size === 0) {
        return {
          overrides: undefined,
          _overrides: undefined
        };
      }
      return {
        // cast map to overridesStruct
        overrides: EMPTY_OVERRIDES_STRUCT.merge(map)
      };
    }
  },

  _overrides: undefined,
  // data props
  itemCount: undefined,

  // set this key to true to update for scrolling
  passiveBoundingClientRect: {
    // cache: false,
    set: function set(_ref) {
      var _ref2 = (0, _slicedToArray3.default)(_ref, 2),
          clientRect = _ref2[0],
          styleStore = _ref2[1];

      // let clientRect = this.get('getBoundingClientRect')()
      var clientRectTop = clientRect.top;
      var clientRectRowTop = Math.floor(clientRectTop / this.get('rowHeight'));

      var objToSet = { clientRectRowTop: clientRectRowTop };
      var overrides = this.get('overrides');

      if (!overrides) return objToSet;
      if (overrides.size === 0) return objToSet;
      // this is needed to actually apply overrides
      var overrideMerge = {
        clientRect: (0, _immutable.Map)({
          top: clientRectTop
        }),
        styleStore: styleStore,
        gridStruct: this
      };

      /*
       what the below for loop is doing:
       let gather = overrides.get('gather')
      if (gather) {
        gather = gather.merge( overrideMerge )
      }
      objToSet._overrides = overrides.merge({
        gather
      })
      */
      var toMergeInOverrides = {};
      for (var i = 0; i < _OverridesStruct.overrideKeys.length; i++) {
        var key = _OverridesStruct.overrideKeys[i];
        var val = overrides.get(key);
        if (val) {
          val = val.merge(overrideMerge);
          toMergeInOverrides[key] = val;
        }
      }
      objToSet._overrides = overrides.merge(toMergeInOverrides);

      return objToSet;
    }
  },

  // in view props

  // clientRectTop: undefined, // do not set this, it will invalidate cache on every scroll point!!!

  width: undefined,
  virtualized: undefined,
  getBoundingClientRect: undefined,
  clientRectRowTop: undefined,
  frameHeight: undefined,
  frameWidth: undefined,

  rowBufferTop: {
    default: 2
  },
  rowBufferBottom: {
    default: 2
  },

  // layout props
  layoutValue: {
    default: .61
  },
  unit: {
    default: 8
  },

  cellWidthMax: undefined,
  cellWidthMin: undefined,
  cellWidth: {
    // cache: false,
    set: function set(val) {
      return { cellWidthMin: val, cellWidthMax: val };
    }
  },

  cellRatio: undefined,
  cellHeightMax: undefined,
  cellHeightMin: undefined,
  cellHeight: {
    // cache: false,
    set: function set(val) {
      return { cellHeightMin: val, cellHeightMax: val };
    }
  },

  gutterMax: undefined,
  gutterMin: undefined,
  gutter: {
    // cache: false,
    set: function set(val) {
      return { gutterMin: val, gutterMax: val };
    }
  },

  colsMax: undefined,
  colsMin: undefined,
  cols: {
    // cache: false,
    set: function set(val) {
      return { colsMin: val, colsMax: val };
    }
  },

  layout: {
    // cache: false,
    deps: ['possibleLayouts', 'layoutValue'],
    get: function get(possibleLayouts, layoutValue) {
      // console.log(fromTo(layoutValue,0,1,0,possibleLayouts.length - 1),possibleLayouts.length)
      return (0, _immutable.Map)(possibleLayouts[Math.round((0, _deps.fromTo)(layoutValue, 0, 1, 0, possibleLayouts.length - 1))]);
    }
  },

  rows: {
    // cache: false,
    deps: ['layout.cols', 'itemCount'],
    get: function get(cols, itemCount) {
      return Math.max(Math.ceil(itemCount / cols), 1);
    }
  },

  height: {
    // cache: false,
    deps: ['rows', 'layout.cellHeight', 'layout.gutter'],
    get: function get(rows, cellHeight, gutter) {
      return rows * cellHeight + (rows - 1) * gutter;
    }
  },

  colWidth: {
    // cache: false,
    deps: ['layout.cellWidth', 'layout.gutter'],
    get: function get(cellWidth, gutter) {
      return cellWidth + gutter;
    }
  },

  rowHeight: {
    // cache: false,
    deps: ['layout.cellHeight', 'layout.gutter'],
    get: function get(cellHeight, gutter) {
      return cellHeight + gutter;
    }
  },

  'rangeToRender': {
    // cache: false,
    deps: ['rowRangeToRender', 'layout.cols'],
    get: function get(rowRangeToRender, cols) {
      var start = rowRangeToRender.get(0) * cols;
      var end = start + rowRangeToRender.get(1) * cols - 1;
      return (0, _immutable.List)([start, end]);
    }
  },

  'cellsToRender': {
    // cache: false,
    deps: ['rangeToRender', 'cellAt'],
    get: function get(rangeToRender, cellAt) {
      var i = rangeToRender.get(0);
      var result = [];
      while (i <= rangeToRender.get(1)) {
        result.push(cellAt(i));
        i++;
      }
      return (0, _immutable.List)(result);
    }
  },

  cellAt: {
    // cache: false,
    params: ['index'],
    deps: ['itemCount', 'layout.cellWidth', 'layout.cellHeight', 'layout.cols', 'layout.gutter', '_overrides.includesIndex', '_overrides.cellAt'],
    get: function get(index, itemCount, cellWidth, cellHeight, cols, gutter, _overridesIncludes, _overridesCellAt) {
      if (_overridesIncludes && _overridesIncludes(index)) {
        var results = _overridesCellAt(index);
        if (results) return results;
      }
      var colIndex = index % cols;
      var rowIndex = Math.floor(index / cols);
      var x = (cellWidth + gutter) * colIndex;
      var y = (cellHeight + gutter) * rowIndex;
      return (0, _immutable.Map)({
        width: cellWidth,
        height: cellHeight,
        x: x,
        y: y,
        index: index,
        scale: 1,
        boxShadow: 0,
        zIndex: itemCount - index
      });
    }
  },

  possibleLayouts: {
    // cache: false,
    deps: ['possibleSingleColLayouts', 'possibleMultiColLayouts', 'itemCount'],
    get: function get(possibleSingleColLayouts, possibleMultiColLayouts, itemCount) {
      var layouts = [].concat(possibleMultiColLayouts).concat(possibleSingleColLayouts);
      if (itemCount > 1 && itemCount < 5) {
        layouts = layouts.filter(function (layout) {
          return layout.cols <= itemCount;
        });
      }
      layouts = layouts.sort(function (a, b) {
        return a.cellWidth - b.cellWidth;
      });
      // console.log(layouts.map((l)=>{return l.cellWidth}))
      return layouts;
    }
  },

  rowRangeToRender: {
    // cache: false,
    deps: ['virtualized', 'clientRectRowTop', 'height', 'frameHeight', 'rows', 'rowHeight', 'rowBufferTop', 'rowBufferBottom'],
    get: function get(virtualized, clientRectRowTop, height, frameHeight, rows, rowHeight, rowBufferTop, rowBufferBottom) {

      if (!virtualized) {
        return (0, _immutable.List)([0, rows]);
      }

      var clientRectTop = clientRectRowTop * rowHeight;

      /*
         -- top
        |
        |   topDelta = frameTop - top
            ===  boundingClientRect.top (if viewport is frame)
            if (< 0) above
        |
        ==== frameTop
        |
        |
        |
        ==== frameBottom
        |
        |   bottomDelta = frameBottom - bottom
            === window.innerHeight - boundingClientRect.bottom
            if (< 0) below
        |
        - bottom
       */

      var clientRectBottom = clientRectTop + height + rowHeight;

      var startRowIndex = void 0,
          rowsToRenderLength = void 0;

      // TODO
      // configurable for layouts that don't scroll with viewport
      var frameTop = 0;
      var frameBottom = frameHeight;

      var renderTop = frameTop - rowBufferTop * rowHeight;
      var renderBottom = frameBottom + rowBufferBottom * rowHeight;
      var renderHeight = renderBottom - renderTop;

      var topDelta = clientRectTop - renderTop;
      var bottomDelta = renderBottom - clientRectBottom;

      var topIsAboveRenderTop = false;
      var topIsBelowRenderBottom = false;
      var topIsInRender = false;
      var bottomIsBelowRenderBottom = false;
      var bottomIsAboveRenderTop = false;
      var bottomIsInRender = false;

      if (topDelta < 0) {
        topIsAboveRenderTop = true;
      } else if (topDelta > renderHeight) {
        topIsBelowRenderBottom = true;
      } else {
        topIsInRender = true;
      }

      if (bottomDelta < 0) {
        bottomIsBelowRenderBottom = true;
      } else if (bottomDelta > renderHeight) {
        bottomIsAboveRenderTop = true;
      } else {
        bottomIsInRender = true;
      }

      // dont render, out of render buffer
      if (bottomIsAboveRenderTop || topIsBelowRenderBottom) {
        startRowIndex = 0;
        rowsToRenderLength = 1;
      } else if (topIsAboveRenderTop && bottomIsBelowRenderBottom) {
        startRowIndex = Math.max(Math.floor(Math.abs(topDelta) / rowHeight), 0);
        rowsToRenderLength = Math.max(Math.ceil(renderHeight / rowHeight), 1);
      } else if (topIsInRender && bottomIsInRender) {
        startRowIndex = 0;
        rowsToRenderLength = Math.max(Math.ceil((clientRectBottom - clientRectTop) / rowHeight), 1);
      } else if (topIsInRender) {
        startRowIndex = 0;
        rowsToRenderLength = Math.max(Math.ceil((renderBottom - clientRectTop) / rowHeight), 1);
      } else /* if (bottomIsInRender)*/{
          startRowIndex = Math.max(Math.floor(Math.abs(topDelta) / rowHeight), 0);
          rowsToRenderLength = Math.max(Math.ceil((clientRectBottom - renderTop) / rowHeight), 1);
        }

      return (0, _immutable.List)([startRowIndex, rowsToRenderLength]);
    }
  },

  possibleSingleColLayouts: {
    deps: ['width', 'cellRatio', 'cellWidthMin', 'cellWidthMax', 'cellHeightMin', 'cellHeightMax', 'gutterMin', 'gutterMax', 'colsMin', 'unit'],
    get: function get(width, cellRatio, cellWidthMin, cellWidthMax, cellHeightMin, cellHeightMax, gutterMin, gutterMax, colsMin, unit) {

      if (colsMin > 1 || width > cellWidthMax) return [];

      var cols = 1;
      var cellWidth = width;

      var cellHeight = !!cellRatio ? cellWidth / cellRatio : cellHeightMax;
      if (!cellHeight) throw new Error('GridStruct can\'t compute cellHeight without cellRatio or cellHeight[Min?,Max?]!');
      var gutter = gutterMax;
      return [{
        cols: cols,
        width: width,
        cellWidth: cellWidth,
        cellHeight: cellHeight,
        gutter: gutter,
        unit: unit
      }];
    }
  },

  possibleMultiColLayouts: {
    deps: ['width', 'cellRatio', 'cellWidthMin', 'cellWidthMax', 'cellHeightMin', 'cellHeightMax', 'gutterMin', 'gutterMax', 'colsMin', 'colsMax', 'unit'],
    get: function get(width, cellRatio, cellWidthMin, cellWidthMax, cellHeightMin, cellHeightMax, gutterMin, gutterMax, colsMin, colsMax)
    // unit
    {

      if (colsMax <= 1) return [];

      var solver = new _finitedomain2.default();

      width = Math.floor(width);
      cellWidthMin = Math.floor(cellWidthMin);
      cellWidthMax = Math.ceil(cellWidthMax);
      gutterMin = Math.floor(gutterMin);
      gutterMax = Math.ceil(gutterMax);

      solver.decl('width', width);
      // solver.decl('unit', unit)
      //
      // solver.addVar('cellWidthStep', [Math.floor(cellWidthMin/unit), Math.ceil(cellWidthMax/unit)])

      solver.addVar('cellWidth', [cellWidthMin, cellWidthMax]);

      // ensure cellWidth is interval of unit
      // solver.eq('cellWidth',solver.times('cellWidthStep', 'unit'))

      solver.addVar('cols', [Math.max(colsMin, 2), colsMax]);
      // solver.decl('cols', 1)

      solver.addVar('gutter', [gutterMin, gutterMax]);

      // width == (cols * cellWidth) + (gutter * (cols - 1))
      solver.eq('width', solver.plus(solver.times('cols', 'cellWidth'), solver.times('gutter', solver.minus('cols', 1))));

      var solutions = solver.solve();
      solutions = solutions.map(function (solution) {
        solution.cellHeight = solution.cellWidth / cellRatio;
        return solution;
      });
      // console.timeEnd('GridStruct FD Solver')
      return solutions;
    }
  }

});

exports.default = GridStruct;
module.exports = exports['default'];

/***/ }),
/* 450 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.overrideKeys = exports.OverridesStruct = undefined;

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var overrideKeys = ['gather', 'open']; // , 'open']

var overrideSchema = {
  // input
  // cache: false,
  indices: undefined,
  gridStruct: undefined,
  clientRect: undefined,
  styleStore: undefined,

  // computed
  includesIndex: {
    cache: false,
    params: ['index'],
    deps: ['indices'],
    get: function get(index, indices) {
      if (!indices) return false;
      return indices.indexOf(index) >= 0;
    }
  }
};

var GatherStruct = (0, _immutable.Struct)((0, _assign2.default)({}, overrideSchema, {
  // cache: false,
  maxToRender: 8,

  cellAt: {
    cache: false, // hmmm...
    params: ['index'],
    deps: ['indices', 'maxToRender', 'styleStore', 'gridStruct.frameHeight', 'gridStruct.layout.cellHeight', 'clientRect.top', 'gridStruct.frameWidth', 'gridStruct.width', 'gridStruct.layout.cellWidth'],
    get: function get(index, indices, maxToRender, styleStore, frameHeight, cellHeight, clientRectTop, frameWidth, layoutWidth, cellWidth) {
      if (!indices) return undefined;
      var gatheredIndex = indices.indexOf(index);
      if (gatheredIndex < 0 || gatheredIndex > maxToRender) return undefined;

      var width = frameWidth / 3 - (frameWidth - layoutWidth) / 2;
      var height = width * cellHeight / cellWidth;

      // let height = frameHeight/3
      // let width = height * cellWidth/ cellHeight

      var scale = width / cellWidth;

      // let y = (frameHeight/2) - (cellHeight/2) - clientRectTop
      // let x = (layoutWidth) - (cellWidth) - (width - cellWidth)/2

      var y = styleStore.get('layout.header-h') / 2 - clientRectTop + (height - cellHeight) / 2;
      var x = 0 + (width - cellWidth) / 2;

      var rotateZ = 0;

      // if (gatheredIndex > 0) {
      //  let angle = fromTo(Math.random(), 0, 1, 0, Math.PI/21 )
      //  if (gatheredIndex % 2 === 0) angle *= -1
      //  let r = gatheredIndex * (Math.random() + 5)
      //  x += r * Math.sin(angle)
      //  y -= r * Math.cos(angle)
      //  scale = scale - .001 * gatheredIndex
      //  rotateZ = angle
      //  console.log(rotateZ)
      // }

      // if (gatheredIndex > 0) {
      var angle = 0; // (Math.random() - .5) * gatheredIndex * -.7 * (Math.PI/180)
      var inverseIndex = Math.min(maxToRender, indices.size - 1) - gatheredIndex;
      x -= inverseIndex * 2.5;
      y += gatheredIndex * 9;
      scale = scale - .018 * gatheredIndex;
      rotateZ = angle;

      // }

      return (0, _immutable.Map)({
        x: x,
        y: y,
        width: cellWidth,
        height: cellHeight,
        index: index,
        override: 'gather',
        zIndex: 5000 - index,
        scale: scale,
        boxShadow: 2.2,
        rotateZ: rotateZ
      });
    }
  }
}));

var OpenStruct = (0, _immutable.Struct)((0, _assign2.default)({}, overrideSchema, {
  // cache: false,

  maxToRender: 8,

  cellAt: {
    cache: false, // hmmm...
    params: ['index'],
    deps: ['indices', 'maxToRender', 'styleStore', 'gridStruct.frameHeight', 'gridStruct.layout.cellHeight', 'clientRect.top', 'gridStruct.frameWidth', 'gridStruct.width', 'gridStruct.layout.cellWidth'],
    get: function get(index, indices, maxToRender, styleStore, frameHeight, cellHeight, clientRectTop, frameWidth, layoutWidth, cellWidth) {
      if (!indices) return undefined;
      var gatheredIndex = indices.indexOf(index);
      if (gatheredIndex < 0 || gatheredIndex > maxToRender) return undefined;

      // let height = frameHeight/3
      // let width = height * cellWidth/ cellHeight

      var goldY = styleStore.get('layout.goldY');
      var goldX = styleStore.get('layout.goldX');

      var width = goldX(-2, 21); // layoutWidth
      var scale = width / cellWidth;
      var height = cellHeight * scale;

      // let y = (frameHeight/2) - (cellHeight/2) - clientRectTop
      // let x = (layoutWidth) - (cellWidth) - (width - cellWidth)/2

      // TODO

      var y = goldY(1, 24) - clientRectTop + (height - cellHeight) / 2;
      var x = goldX(1, 21) - goldX(1) + (width - cellWidth) / 2;
      var rotateZ = 0;

      return (0, _immutable.Map)({
        x: x,
        y: y,
        width: cellWidth,
        height: cellHeight,
        index: index,
        override: 'open',
        zIndex: 5000 - index,
        scale: scale,
        boxShadow: 2.2,
        rotateZ: rotateZ,
        fadeOutContentWithScale: true
      });
    }
  }
}));

var EMPTY_GATHER_STRUCT = new GatherStruct();
var EMPTY_OPEN_STRUCT = new OpenStruct();

var OverridesStruct = (0, _immutable.Struct)({
  // cache: false,
  gather: {
    // cache: false,
    set: function set(map) {
      return { gather: EMPTY_GATHER_STRUCT.merge(map) };
    }
  },

  open: {
    // cache: false,
    set: function set(map) {
      return { open: EMPTY_OPEN_STRUCT.merge(map) };
    }
  },

  includesIndex: {
    cache: false,
    params: ['index'],
    deps: overrideKeys,
    get: function get() {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var index = args[0],
          overrides = args.slice(1);


      for (var i = 0; i < overrides.length; i++) {
        var override = overrides[i];
        if (!override) continue;
        var includesIndex = override.get('includesIndex');
        if (includesIndex && includesIndex(index)) return true;
      }
      return false;
    }
  },

  cellAt: {
    cache: false,
    params: ['index'],
    deps: overrideKeys,
    get: function get() {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var index = args[0],
          overrides = args.slice(1);

      for (var i = 0; i < overrides.length; i++) {
        var override = overrides[i];
        if (!override) continue;
        var cellAt = override.get('cellAt');
        if (!cellAt) continue;
        var cellLayout = cellAt(index);
        if (cellLayout) return cellLayout;
      }
      return undefined;
    }
  }
});

exports.default = OverridesStruct;
exports.OverridesStruct = OverridesStruct;
exports.overrideKeys = overrideKeys;

/***/ }),
/* 451 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

var _style = __webpack_require__(453);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _ = __webpack_require__(203);

var _coreDecorators = __webpack_require__(38);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO: REMOVE THIS & ACTIVITY!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
// import {stateTypes} from 'actions/constants'
var stateTypes = {
  REQUESTED: 'REQUESTED',
  SUCCEEDED: 'SUCCEEDED',
  FAILED: 'FAILED',
  CANCELED: 'CANCELED',
  PROGRESSED: 'PROGRESSED'
};

var createVNode = Inferno.createVNode;

var Input = (0, _coreDecorators.autobind)(_class = function (_Component) {
  (0, _inherits3.default)(Input, _Component);

  function Input() {
    var _ref;

    (0, _classCallCheck3.default)(this, Input);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Input.__proto__ || (0, _getPrototypeOf2.default)(Input)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      value: _this.props.value,
      tempRequested: false,
      activityState: false
    };

    _this.onFocus = function (e) {
      if (!_this.props.selectAllOnFocus) return null;
      var el = e.currentTarget;
      var range = document.createRange();
      range.selectNodeContents(el);
      var sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
    };
    return _this;
  }

  (0, _createClass3.default)(Input, [{
    key: 'isBusy',
    value: function isBusy() {
      if (this.props.activity) {
        var activity = this.props.activity.get(this.state.busyHash, '');
        return activity === stateTypes.REQUESTED || this.state.tempRequested;
      }

      if (this.state.activityState) {
        return this.state.activityState === 'busy';
      }

      return false;
    }
  }, {
    key: 'hasSucceeded',
    value: function hasSucceeded() {
      if (this.props.activity) {
        var activity = this.props.activity.get(this.state.busyHash, '');
        return activity === stateTypes.SUCCEEDED;
      }

      if (this.state.activityState) {
        return this.state.activityState === 'success';
      }

      return false;
    }
  }, {
    key: 'hasFailed',
    value: function hasFailed() {
      if (this.props.activity) {
        var activity = this.props.activity.get(this.state.busyHash, '');
        return activity === stateTypes.FAILED;
      }

      if (this.state.activityState) {
        return this.state.activityState === 'failed';
      }

      return false;
    }
  }, {
    key: 'resetActivity',
    value: function resetActivity() {
      this.setState({ activityState: '' });
    }
  }, {
    key: 'setBusy',
    value: function setBusy() {
      this.setState({ activityState: 'busy' });
    }
  }, {
    key: 'setSucceeded',
    value: function setSucceeded() {
      this.setState({ activityState: 'success' });
      this.timeoutID = setTimeout(this.resetActivity, 500);
    }
  }, {
    key: 'setFailed',
    value: function setFailed(err) {
      console.log(err);
      this.setState({ activityState: 'failed' });
    }
  }, {
    key: 'onChangeContent',
    value: function onChangeContent(e) {
      var val = e.target.value;

      if (this.props.useContentHasPlaceholder) {
        if (val === '' || val === null) {
          val = this.props.value;
        }
      }
      this._updateContentEditable(val);
      this.setState({ value: val });
    }
  }, {
    key: '_updateContentEditable',
    value: function _updateContentEditable(val) {
      if (this.props.onUpdateContentEditable) {
        this.props.onUpdateContentEditable(val);
      }
    }
  }, {
    key: 'reset',
    value: function reset() {
      this.setState({
        value: this.props.value ? this.props.value : '',
        tempRequested: false
      });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (nextProps.contentId !== this.props.contentId) {
        this.setState({ value: nextProps.value });
      }
      if (nextProps.activity && nextProps.activity.get(this.state.busyHash, '') === stateTypes.REQUESTED) {
        this.setState({ tempRequested: false });
      } else if (nextProps.value !== this.props.value) {
        this.setState({ value: nextProps.value });
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.timeoutID) {
        clearTimeout(this.timeoutID);
      }
    }
  }, {
    key: 'onPaste',
    value: function onPaste(e) {
      if (this.props.useContentHasPlaceholder && this.state.value === this.props.value) {
        e.preventDefault();
        e.stopPropagation();
        this.setState({ value: e.clipboardData.getData('Text') });
      }
      this._updateContentEditable(e.clipboardData.getData('Text'));
      return;
    }
  }, {
    key: 'onKeyDown',
    value: function onKeyDown(e) {
      var _this2 = this;

      if (this.props.useContentHasPlaceholder) {
        if (e.altKey || e.ctrlKey || e.metaKey || e.shiftKey) {
          return;
        }
        if (e.key === 'Backspace') {
          if (this.state.value.length == 1) {
            this.setState({ value: this.props.value });
            this.selectText();
            return;
          } else if (this.state.value == this.props.value) {
            e.preventDefault();
            e.stopPropagation();
            return;
          }
        } else if (this.state.value === this.props.value) {
          this.setState({ value: '' });
          return;
        }
      }

      if (e.key !== 'Escape' && e.key !== 'Enter') {
        return;
      }
      e.preventDefault();
      e.stopPropagation();

      if (e.key === 'Escape') {
        this.setState({ value: this.props.value });
        this.refs.inputfield.blur();
      } else if (e.key === 'Enter') {
        // start saving
        if (this.props.value !== this.state.value) {
          this.setState({ tempRequested: true }, function () {
            _this2.refs.inputfield.blur();
          });

          if (this.props.onEnter) {
            var action = this.props.onEnter(this.state.value);
            if (action && action.meta && action.meta._hash) {
              this.setState({ busyHash: action.meta._hash });
            }
            if (action && action.constructor && action.constructor.name === 'Promise') {
              this.setBusy();

              action.then(this.setSucceeded).catch(this.setFailed);
            }
          }
        }
      }
    }
  }, {
    key: 'onBlur',
    value: function onBlur() {
      if (!this.state.tempRequested) {
        this.setState({ value: this.props.value });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var isDirty = this.props.value !== this.state.value;
      var uniqueClassName = this.id + 'inputfield';

      var editableClassName = (0, _classnames2.default)(uniqueClassName, 'inputfield', {
        'inputfield-dirty': isDirty,
        'inputfield-busy': this.isBusy(),
        'inputfield-success': this.hasSucceeded(),
        'inputfield-error': this.hasFailed()
      });

      return createVNode(2, 'div', null, [(0, _style.staticStyle)(this, uniqueClassName), createVNode(16, _.ContentEditable, (0, _extends3.default)({}, this.elProps({ className: editableClassName }), {
        'text': this.state.value,
        'onChange': this.onChangeContent,
        'disabled': false,
        'placeholder': this.props.placeholder,
        'maxLength': this.props.maxLength,
        'onKeyDown': this.onKeyDown,
        'onBlur': this.onBlur,
        'onFocus': this.onFocus,
        'onClick': this.onClick,
        'onPaste': this.onPaste
      }), null, null, null, 'inputfield')]);
    }
  }]);
  return Input;
}(_uiComponentDeprecated2.default)) || _class;

Input.propTypes = {
  id: _infernoCompat.PropTypes.string,
  activity: _infernoCompat.PropTypes.any,
  hoverLabel: _infernoCompat.PropTypes.string,
  value: _infernoCompat.PropTypes.string.isRequired,
  contentId: _infernoCompat.PropTypes.string,
  onEnter: _infernoCompat.PropTypes.func,
  useContentHasPlaceholder: _infernoCompat.PropTypes.bool,
  selectAllOnFocus: _infernoCompat.PropTypes.bool,
  onUpdateContentEditable: _infernoCompat.PropTypes.func
};
Input.defaultProps = {
  hoverLabel: 'click to edit'
};
exports.default = Input;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 452 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Input = __webpack_require__(451);

var _Input2 = _interopRequireDefault(_Input);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Input2.default;
module.exports = exports['default'];

/***/ }),
/* 453 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.staticStyle = undefined;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
// import {Style} from '../../styleverse'

var staticStyle = function staticStyle(that, scope) {
  var hoverLabel = that.props.hoverLabel;


  scope = '.' + scope;

  return createVNode(34, 'span', null, [createVNode(16, _styleverse.Style, {
    'perf': true,
    'scope': scope,
    'hoverLabel': hoverLabel,
    children: '\n      :scope {\n        position: relative;\n        /* transition(.1s,ease-out); */\n      }\n      :scope:after{\n        display: inline-block;\n        white-space: nowrap;\n        content: \'\';\n        position: absolute;\n        top: 0px;\n        left: 0px;\n        right: 0px;\n        text-align: left;\n        transform: translate3d(1em,0,0);\n        opacity: 1;\n        transition: transform .3s ease-out;\n      }\n\n      :scope:hover {\n      }\n      :scope:hover:after{\n        content: \'' + hoverLabel + '\';\n        transform: translate3d(0,0,0);\n      }\n\n      :scope:focus {\n      }\n      :scope:focus:after{\n        content: \'\';\n        opacity: 1 !important;\n        transform: translate3d(0,0,0);\n      }\n\n      :scope.inputfield-dirty:focus {\n        pointer-events: none;\n      }\n      :scope.inputfield-dirty:focus:after {\n        content: \'press enter to save\';\n        opacity: 1 !important;\n        transform: translate3d(0,0,0);\n      }\n\n      :scope.inputfield-busy {\n        opacity: .3;\n        pointer-events: none;\n      }\n      :scope.inputfield-busy:after {\n        content: \'updating...\' !important;\n        opacity: 1 !important;\n        transform: translate3d(0,0,0);\n      }\n\n      :scope.inputfield-error {\n        opacity: .2;\n        pointer-events: none;\n      }\n      :scope.inputfield-error:after{\n        content: \'update Failed!\' !important;\n        opacity: 1 !important;\n        transform: translate3d(0,0,0);\n      }\n\n      :scope.inputfield-success {\n        opacity: 1;\n        pointer-events: none;\n      }\n      :scope.inputfield-success:after{\n        content: \'updated!\' !important;\n        opacity: 1 !important;\n        transform: translate3d(0,0,0);\n      }\n    '
  }, null, null, 'input-hover'), createVNode(16, _styleverse.Style, {
    'perf': true,
    children: '\n        :scope.inputfield:after {\n          fnt -- txt\n          fnt-sz -- txt-s\n          ln-h -- 1.5em\n        }\n      '
  }, null, null, 'input-after')]);
};

exports.staticStyle = staticStyle;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 454 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _component = __webpack_require__(136);

var _component2 = _interopRequireDefault(_component);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Logo = function (_Component) {
  (0, _inherits3.default)(Logo, _Component);

  function Logo() {
    var _ref;

    (0, _classCallCheck3.default)(this, Logo);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return (0, _possibleConstructorReturn3.default)(this, (_ref = Logo.__proto__ || (0, _getPrototypeOf2.default)(Logo)).call.apply(_ref, [this].concat(args)));
  }

  (0, _createClass3.default)(Logo, [{
    key: 'render',
    value: function render() {

      var elProps = this.elProps({ className: 'Logo' });

      // 18PX REQUIRED FOR WHOLE PIXEL VALUES}
      return createVNode(2, 'div', (0, _extends3.default)({}, elProps), createVNode(2, 'div', {
        'style': { width: '18px !important', height: '18px !important', margin: 3 },
        'dangerouslySetInnerHTML': {
          __html: '\n              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" preserveAspectRatio="none"\n                 viewBox="0 0 18 18" style="enable-background:new 0 0 18 18;" xml:space="preserve">\n              <polyline style="fill:none;stroke-width:2;stroke-linecap:square;stroke-miterlimit:10;" points="9,9 13,9 13,13 5,13 5,5 17,5 17,17 1,17 1,1 17,1 "/>\n              </svg>\n            '
        }
      }));
    }
  }]);
  return Logo;
}(_component2.default);

exports.default = Logo;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 455 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Logo = __webpack_require__(454);

var _Logo2 = _interopRequireDefault(_Logo);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Logo2.default;
module.exports = exports['default'];

/***/ }),
/* 456 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Overlay = function (_React$Component) {
  (0, _inherits3.default)(Overlay, _React$Component);

  function Overlay() {
    (0, _classCallCheck3.default)(this, Overlay);
    return (0, _possibleConstructorReturn3.default)(this, (Overlay.__proto__ || (0, _getPrototypeOf2.default)(Overlay)).apply(this, arguments));
  }

  (0, _createClass3.default)(Overlay, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.updateOverlay();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.updateOverlay();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this._element) {
        while (this._element.lastChild) {
          this._element.removeChild(this._element.lastChild);
        }
      }
      if (this._element && !this.props.keep) {
        _infernoCompat2.default.unmountComponentAtNode(this._element);
        if (this._element.parentNode) {
          this._element.parentNode.removeChild(this._element);
        }
      }
    }
  }, {
    key: 'updateOverlay',
    value: function updateOverlay() {
      if (this.props.id) {
        this._element = document.getElementById(this.props.id);
      }
      if (!this._element) {
        this._element = document.createElement('div');
        this._element.className = Overlay.CONTAINER_CLASS_NAME;
        if (this.props.id) {
          this._element.id = this.props.id;
        }
        if (this.props.renderTo) {
          document.body.appendChild(this._element);
        }
      }
      var overlay = createVNode(2, 'div', {
        'className': Overlay.OVERLAY_CLASS_NAME
      }, this.props.children);
      _infernoCompat2.default.render(overlay, this._element);
    }
  }, {
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', {
        'style': { display: 'none' }
      });
    }
  }]);
  return Overlay;
}(_infernoCompat2.default.Component);

Overlay.CONTAINER_CLASS_NAME = 'overlay-container';
Overlay.OVERLAY_CLASS_NAME = 'overlay';
Overlay.propTypes = {
  children: _infernoCompat2.default.PropTypes.node
};

exports.default = Overlay;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 457 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Overlay = __webpack_require__(456);

var _Overlay2 = _interopRequireDefault(_Overlay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Overlay2.default;
module.exports = exports['default'];

/***/ }),
/* 458 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var ProgressBar = function (_React$Component) {
  (0, _inherits3.default)(ProgressBar, _React$Component);

  function ProgressBar() {
    (0, _classCallCheck3.default)(this, ProgressBar);
    return (0, _possibleConstructorReturn3.default)(this, (ProgressBar.__proto__ || (0, _getPrototypeOf2.default)(ProgressBar)).apply(this, arguments));
  }

  (0, _createClass3.default)(ProgressBar, [{
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', {
        'className': 'ProgressBar'
      }, createVNode(2, 'div', {
        'className': 'ProgressBar-inner xprogress-bar-inner',
        'style': this.getInnerStyle()
      }, null, null, null, 'inner'));
    }
  }, {
    key: 'getInnerStyle',
    value: function getInnerStyle() {
      var progress = this.props.progress;

      if (progress > 1) progress = 1;
      return {
        width: progress * 100 + '%'
      };
    }
  }]);
  return ProgressBar;
}(_infernoCompat2.default.Component);

ProgressBar.displayName = 'ProgressBar';
ProgressBar.defaultProps = {
  progress: 0
};
ProgressBar.propTypes = {
  progress: validateProgress
};


function validateProgress(props, propName, componentName) {
  var error = void 0;
  var value = props[propName];

  if (typeof value !== 'number') {
    error = new Error('Invalid prop `' + propName + '` supplied to' + ' `' + componentName + '`. Validation failed.');
  }
  if (value < 0 || value > 1) {
    error = new Error('Invalid prop `' + propName + '` supplied to' + ' `' + componentName + '`. Value has to be: 0 <= value <= 1.');
  }

  return error;
}

exports.default = ProgressBar;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 459 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ProgressBar = __webpack_require__(458);

var _ProgressBar2 = _interopRequireDefault(_ProgressBar);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _ProgressBar2.default;
module.exports = exports['default'];

/***/ }),
/* 460 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

var _reactTooltip = __webpack_require__(195);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
// import {Component, Style} from '@the-grid/multiverse-ui'
// import {Component, Style} from '../'
var createVNode = Inferno.createVNode;

var Rating = function (_Component) {
  (0, _inherits3.default)(Rating, _Component);

  function Rating() {
    var _ref;

    (0, _classCallCheck3.default)(this, Rating);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Rating.__proto__ || (0, _getPrototypeOf2.default)(Rating)).call.apply(_ref, [this].concat(args)));

    var props = args[0];
    var value = props.value,
        onMouseOver = props.onMouseOver,
        onMouseOut = props.onMouseOut;


    _this.id = 'Rating-' + count++;
    _this.didChange = false;

    _this.state = {
      value: value || -1,
      hoverValue: -1
    };
    _this.onStarMouseOut = function () {
      _this.setState({ hoverValue: -1 });
      onMouseOut && onMouseOut(-1);
    };
    _this.onStarMouseOver = function (hoverValue) {
      _this.setState({ hoverValue: hoverValue });
      onMouseOver && onMouseOver(hoverValue);
    };
    _this.onStarClick = function (value) {
      if (value !== _this.state.value) {
        _this.didChange = true;
        _this.setState({ value: value });
      }
    };
    return _this;
  }

  (0, _createClass3.default)(Rating, [{
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      if (this.didChange && this.props.onChange) {
        this.props.onChange({ value: this.state.value });
      }
      this.didChange = false;
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var value = nextProps.value;
      if (value !== undefined && value !== null) {
        this.setState({
          value: value
        });
      }
    }
  }, {
    key: 'getStarClassName',
    value: function getStarClassName(n) {
      var className = 'color--text-pop2 star star-' + n;
      if (n < this.state.hoverValue) {
        className += ' mouse-gt mouse-gte';
      } else if (n === this.state.hoverValue) {
        className += ' mouse-eq mouse-gte';
      } else if (this.state.hoverValue !== -1) {
        className += ' mouse-lt';
      }
      if (n <= this.state.value) {
        className += ' active';
      }
      return className;
    }
  }, {
    key: 'getStarProps',
    value: function getStarProps(n) {
      var starProps = {
        className: this.getStarClassName(n),
        onClick: this.onStarClick.bind(this, n),
        onMouseOver: this.onStarMouseOver.bind(this, n)
      };
      var tooltips = this.props.tooltips;

      if (tooltips) {
        starProps['data-tip'] = tooltips[n - 1];
      }
      return starProps;
    }
  }, {
    key: 'renderStar',
    value: function renderStar(n) {
      return createVNode(2, 'a', (0, _extends3.default)({}, this.getStarProps(n++)), [createVNode(2, 'i', {
        'className': 'icon material-icons icon-star'
      }, 'star'), createVNode(2, 'i', {
        'className': 'icon material-icons icon-star-border'
      }, 'star_border'), createVNode(2, 'i', {
        'className': 'icon material-icons icon-star-half'
      }, 'star_half'), createVNode(2, 'i', {
        'className': 'icon material-icons icon-star-active color--text-pop'
      }, 'star')]);
    }
  }, {
    key: 'render',
    value: function render() {

      var id = this.id;

      var iconAreaSize = this.props.iconAreaSize ? this.props.iconAreaSize : 72;
      var fontSize = this.props.fontSize ? this.props.fontSize : iconAreaSize * 48 / 72;
      // if (size === "small")

      var label = this.props.label;

      var style = {
        position: 'relative',
        paddingLeft: label ? iconAreaSize : 0,
        marginLeft: 0 - iconAreaSize + fontSize,
        height: iconAreaSize,
        minWidth: iconAreaSize * 5,
        lineHeight: iconAreaSize + 'px'
      };

      var styleOverride = this.props.style;
      if (styleOverride) {
        for (var key in styleOverride) {
          style[key] = styleOverride[key];
        }
      }

      var className = this.props.ClassName;
      if (!className) className = '';
      className += ' Rating color-icon';
      if (this.props.className) className += ' ' + this.props.className;

      if (typeof label === 'string') {
        label = createVNode(2, 'span', {
          'className': 'checkbox-label'
        }, label);
      }
      if (!label) label = null;

      var n = 1;

      return createVNode(2, 'div', {
        'id': id,
        'className': className,
        'style': style
      }, [createVNode(16, _styleverse.Style, {
        'perf': true,
        'fontSize': fontSize,
        'iconAreaSize': iconAreaSize,
        'parseObject': true,
        children: function children(styleStore, props) {
          return (0, _defineProperty3.default)({}, '#' + id, {
            '.icon': {
              opacity: 0,
              position: 'absolute',
              top: 0, bottom: 0, left: 0, right: 0,
              font_size: props.fontSize,
              line_height: props.iconAreaSize,
              transition: 'opacity .3s, transform .3s',
              '&::selection': {
                color: 'inherit !important',
                backgroundColor: 'transparent !important'
              }
            },
            '.star': {
              width: props.iconAreaSize,
              height: props.iconAreaSize,
              position: 'relative',
              display: 'inline-block',
              textAlign: 'center',
              cursor: 'pointer',
              backface_visibility: 'hidden',
              '.icon-star-active': {
                font_size: props.fontSize + .1,
                transform: 'scale(0)',
                opacity: 1,
                transition: 'opacity .3s, transform .3s'
              },
              '&.active': {
                '.icon-star-active': {
                  transform: 'scale(1)',
                  opacity: 1
                }
              },
              '&:not(.active)': {
                '.icon-star-border': {
                  opacity: .4
                }
              },
              '.active': {
                '.icon-star-border': {
                  opacity: .4
                }
              },
              '&.active.mouse-lt': {
                '.icon-star-active': {
                  transform: 'scale(.66)',
                  opacity: 1
                }

              },

              '&.mouse-lt': {
                '.icon-star-border': {
                  // transform: `scale(.66)`,
                  transform: 'scale(.66)',
                  opacity: 1
                }
              },

              '.icon-star-border': {
                opacity: 1,
                transition: 'opacity .3s, transform .3s'
              },
              '.icon-star': {
                transform: 'scale(0)',
                transition: 'opacity .3s, transform .3s'
              },
              '&.mouse-gte': {
                '.icon-star': {
                  transform: 'scale(1)',
                  opacity: 1
                }
              },

              '&.mouse-eq': {
                // '.icon-star': {
                //  opacity: .5,
                //  transform: `scale(1.33) !important`,
                // },
                '&:not(.active) .icon-star': {
                  opacity: 1
                },
                '.icon-star-half': {
                  opacity: 0
                }
              }
            }
          });
        }
      }), createVNode(2, 'div', {
        'className': 'stars'
      }, [this.renderStar(n++), this.renderStar(n++), this.renderStar(n++), this.renderStar(n++), this.renderStar(n++), this.props.tooltips && createVNode(16, _reactTooltip2.default, {
        'effect': 'solid'
      })], {
        'onMouseOut': this.onStarMouseOut.bind(this)
      })]);
    }
  }]);
  return Rating;
}(_uiComponentDeprecated2.default);

exports.default = Rating;


Rating.propTypes = {

  // children: PropTypes.element.isRequired,

  value: _infernoCompat2.default.PropTypes.number,

  onChange: _infernoCompat2.default.PropTypes.func

};
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 461 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Rating = __webpack_require__(460);

var _Rating2 = _interopRequireDefault(_Rating);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Rating2.default;
module.exports = exports['default'];

/***/ }),
/* 462 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _sync = __webpack_require__(98);

var _sync2 = _interopRequireDefault(_sync);

var _lodash = __webpack_require__(87);

var _lodash2 = _interopRequireDefault(_lodash);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var ResizeRenderer = function (_Component) {
  (0, _inherits3.default)(ResizeRenderer, _Component);

  function ResizeRenderer() {
    var _ref;

    (0, _classCallCheck3.default)(this, ResizeRenderer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = ResizeRenderer.__proto__ || (0, _getPrototypeOf2.default)(ResizeRenderer)).call.apply(_ref, [this].concat(args)));

    _this.id = 'ResizeRenderer' + count++;
    _this._selfTarget = undefined;
    _this.perf = false;
    _this.state = {
      width: undefined,
      height: undefined,
      left: 0,
      right: 0,
      top: 0,
      bottom: 0
    };

    _this.getTarget = function () {
      if (_this.props.target === 'self') return _this._selfTarget;
      return _this.props.target;
    };

    _this.update = function (data) {
      var size = data.get('resize').toJS();
      if (size.width !== _this.state.width && !_this.props.silentWidth || size.height !== _this.state.height && !_this.props.silentHeight) {
        if (_this.props.handler) _this.props.handler(size, _this.getTarget());
        _this.setState(size);
      }
    };
    return _this;
  }

  // componentWillMount() {
  // }
  // componentDidUpdate() {
  //  sync(this.update, 'resize', this.getTarget())
  // }

  (0, _createClass3.default)(ResizeRenderer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      (0, _sync2.default)(this.update, 'resize', this.getTarget());
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      (0, _sync2.default)(false, false, this.getTarget);
      (0, _sync2.default)(this.update, false, false);
      this._selfTarget = undefined;
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var rendered = void 0;
      var target = this.getTarget();
      if (!target || this.state.width === undefined) {
        rendered = null;
      } else {
        if (typeof this.props.children === 'function') {
          rendered = this.props.children(this.state, target);
        } else {
          rendered = this.props.children;
        }
      }

      var cleanProps = (0, _lodash2.default)(this.props, ['silentWidth', 'silentHeight', 'handler', 'children', 'target', 'id']);
      // needs to be cleaned https://fb.me/react-unknown-prop

      cleanProps.className = 'ResizeRenderer-target-self';

      if (this.props.target === 'self') {
        // return <div style={{position: 'absolute', top: 0, bottom: 0, left: 0, right: 0}} className="ResizeRenderer-target-self" key="self-target" {...cleanProps} ref={(c)=> {this._selfTarget = c} }>{rendered}</div>
        return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps(cleanProps)), rendered, null, 'self-target', function (c) {
          _this2._selfTarget = c;
        });
      }
      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps(cleanProps)), rendered);
    }
  }]);
  return ResizeRenderer;
}(_uiComponentDeprecated2.default);

// ResizeRenderer.shouldComponentUpdate = shouldPureComponentUpdate

exports.default = ResizeRenderer;
ResizeRenderer.propTypes = {

  silentWidth: _infernoCompat.PropTypes.bool.isRequired,
  silentHeight: _infernoCompat.PropTypes.bool.isRequired,

  handler: _infernoCompat.PropTypes.func,

  /**
   * Function respondible for rendering 2 or more virtualized components.
   * This function should implement the following signature:
   * ({ width, height, top... }) => PropTypes.element
   */
  children: _infernoCompat.PropTypes.any.isRequired,

  /**
   * The
   */
  target: _infernoCompat.PropTypes.any.isRequired
};

ResizeRenderer.defaultProps = {
  silentWidth: false,
  silentHeight: false,
  target: 'self'
};
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 463 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _raf = __webpack_require__(253);

var _raf2 = _interopRequireDefault(_raf);

var _lodash = __webpack_require__(70);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mountedComponents = [];
var isScrolling = false;
var scrollTop = undefined;
var rootScrollingElement;
var isSetup = false;

function getRootScrollingElement() {
  if (!rootScrollingElement) {
    rootScrollingElement = document.scrollingElement ? document.scrollingElement : document.body;
    if (!rootScrollingElement) rootScrollingElement = document.getElementsByTagName('body')[0];
  }
  return rootScrollingElement;
}

function _onScroll() {
  if (!mountedComponents.length) return;
  onScrollEnd.cancel();
  isScrolling = true;
  scrollTop = getRootScrollingElement().scrollTop;
  for (var i = 0; i < mountedComponents.length; i++) {
    var comp = mountedComponents[i];
    comp.updateScroll({ isScrolling: isScrolling, scrollTop: scrollTop });
  }
  onScrollEnd();
}
var onScroll = (0, _raf.throttle)(_onScroll, { leading: true });

function _onScrollEnd() {
  if (!mountedComponents.length) return;
  isScrolling = false;
  for (var i = 0; i < mountedComponents.length; i++) {
    var comp = mountedComponents[i];
    comp.updateScroll({ isScrolling: isScrolling });
  }
}
var onScrollEnd = (0, _lodash2.default)(_onScrollEnd, 333);

function setupIfNeeded() {
  if (isSetup) return;
  isSetup = true;
  // initial scrollTop
  scrollTop = getRootScrollingElement().scrollTop;
  window.addEventListener('scroll', onScroll);
}

var ScrollRenderer = function (_React$Component) {
  (0, _inherits3.default)(ScrollRenderer, _React$Component);

  function ScrollRenderer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ScrollRenderer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ScrollRenderer.__proto__ || (0, _getPrototypeOf2.default)(ScrollRenderer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      isScrolling: false,
      scrollTop: undefined
    }, _this.updateScroll = function (state) {
      if (_this._do_nothing) return;
      _this.setState(state);
    }, _this._do_nothing = false, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ScrollRenderer, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      setupIfNeeded();
      this._do_nothing = false;
      this.setState({ isScrolling: isScrolling, scrollTop: scrollTop });
      mountedComponents.push(this);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this._do_nothing = true;
      var idx = mountedComponents.indexOf(this);
      mountedComponents.splice(idx, 1);
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children({ isScrolling: isScrolling, scrollTop: scrollTop });
    }
  }]);
  return ScrollRenderer;
}(_infernoCompat2.default.Component);

exports.default = ScrollRenderer;
module.exports = exports['default'];

/***/ }),
/* 464 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Selectable = undefined;

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Selectable = function (_React$Component) {
  (0, _inherits3.default)(Selectable, _React$Component);

  function Selectable() {
    var _ref;

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    (0, _classCallCheck3.default)(this, Selectable);

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Selectable.__proto__ || (0, _getPrototypeOf2.default)(Selectable)).call.apply(_ref, [this].concat(args)));

    var that = _this;
    var setState = _this.setState;
    _this.setState = function () {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return setState.apply(that, args);
    };

    var selectAll = function selectAll() {
      var struct = that.state.struct;
      var items = struct.get('items');
      if (!struct.get('multi')) return;
      return that.setState({
        struct: struct.set('selectedItems', items)
      });
    };

    var deselectAll = function deselectAll() {
      var struct = that.state.struct;
      return that.setState({
        struct: struct.set('selectedItems', [])
      });
    };

    var isItemSelected = function isItemSelected(item) {
      var struct = that.state.struct;
      var selectedItems = struct.get('selectedItems') || [];

      // if they do not have an id
      if (selectedItems[0] && !selectedItems[0].id) return selectedItems.includes(item);

      var selectedIds = selectedItems.map(function (item) {
        if (item && item.id) return item.id;
      });
      // console.error({selectedItems, item})
      return selectedIds.includes(item.id);
    };

    var isItemDeselected = function isItemDeselected(item) {
      var struct = that.state.struct;
      var selectedItems = struct.get('selectedItems');
      var multi = struct.get('multi');

      // for non ids
      if (selectedItems[0] && !selectedItems[0].id) return !selectedItems.includes(item);

      var selectedIds = selectedItems.map(function (item) {
        if (item && item.id) return item.id;
        return item;
      });

      var itemIsNotInSelected = !selectedItems.includes(item);
      var itemIsNotInSelectedIds = !selectedIds.includes(item.id);
      return multi && selectedItems.length > 0 && itemIsNotInSelected && itemIsNotInSelectedIds;
    };

    var toggleItem = function toggleItem(item) {
      var struct = _this.state.struct;

      var itemIsSelected = isItemSelected(item);
      var required = struct.get('required');

      if (!struct.get('multi')) {
        if (itemIsSelected && required) return null;
        return that.setState({
          struct: itemIsSelected ? struct.set('selectedItems', []) : struct.set('selectedItems', [item])
        });
      } else {
        var selectedItems = struct.get('selectedItems');

        if (itemIsSelected && required && selectedItems.length === 1) return null;
        var changed = selectedItems;
        if (itemIsSelected) {
          delete selectedItems[selectedItems.indexOf(item)];
          selectedItems = selectedItems.filter(function (i) {
            return i;
          });
        } else {
          selectedItems.push(item);
        }

        // console.info('SELECTED SOMEthin', {selectedItems, item})
        return that.setState({
          struct: struct.set('selectedItems', selectedItems)
        });
      }
    };

    var itemToggler = function itemToggler(item) {
      return function () {
        toggleItem(item);
      };
    };

    var itemTogglerIfHasSelected = function itemTogglerIfHasSelected(item) {
      return function () {
        var struct = that.state.struct;
        var selectedItems = struct.get('selectedItems');
        if (selectedItems.length) toggleItem(item);
      };
    };

    var SelectableStruct = (0, _immutable.Struct)({
      construct: function construct(vals) {
        var _vals = vals,
            required = _vals.required,
            initial = _vals.initial,
            selectedItems = _vals.selectedItems,
            items = _vals.items;


        if (required) {
          if (!selectedItems && !initial) {
            var firstItem = items[0]; // items.get(0)
            // List.of(firstItem)
            vals = (0, _assign2.default)({ selectedItems: [firstItem] }, vals);
          }
        }
        return vals;
      },

      items: [],
      multi: undefined,
      required: undefined,
      selectedItems: {
        default: [] },

      selectedItem: {
        cache: false,
        deps: ['selectedItems'],
        get: function get(selectedItems) {
          return selectedItems[0];
        }
      },

      selectedIndex: {
        cache: false,
        deps: ['selectedItems', 'items'],
        get: function get(selectedItems, items) {
          return items.indexOf(selectedItems[0]);
        }
      },

      selectedIndices: {
        cache: false,
        deps: ['selectedItems', 'items'],
        get: function get(selectedItems, items) {
          return selectedItems.map(function (item) {
            return items.indexOf(item);
          });
        }
      },

      selectAll: {
        params: ['IGNORE'],
        cache: false,
        get: function get() {
          return selectAll();
        }
      },

      deselectAll: {
        params: ['IGNORE'],
        cache: false,
        get: function get() {
          return deselectAll();
        }
      },

      isItemSelected: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return isItemSelected(item);
        }
      },

      isItemDeselected: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return isItemDeselected(item);
        }
      },

      toggleItem: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return toggleItem(item);
        }
      },

      itemToggler: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return itemToggler(item);
        }
      },

      itemTogglerIfHasSelected: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return itemTogglerIfHasSelected(item);
        }
      }
    });

    _this.state = {
      struct: new SelectableStruct(_this.props)
    };
    return _this;
  }

  // when does it ever receive important props?


  (0, _createClass3.default)(Selectable, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      // console.error({nextProps})
      // const nextStruct = struct.merge(nextProps)
      // if (nextStruct.equals(this.state.struct)) return
      var struct = this.state.struct;
      var nextStruct = struct.set('items', nextProps.items);
      this.setState({ struct: nextStruct });
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      var struct = this.state.struct;
      var nextStruct = nextState.struct;
      // if (struct.equals(nextStruct)) return
      if (this.props.onChange) this.props.onChange(nextStruct);
    }
  }, {
    key: 'render',
    value: function render() {
      // console.log('RENDERING SELECTABLE')
      return this.props.children(this.state.struct);
    }
  }]);
  return Selectable;
}(_infernoCompat2.default.Component);

Selectable.propsTypes = {
  // immutable List or other keyed iterable
  // items: Immutable.PropTypes.list.isRequired,

  // children must be function
  children: _infernoCompat2.default.PropTypes.func.isRequired,
  onChange: _infernoCompat2.default.PropTypes.func,
  multi: _infernoCompat2.default.PropTypes.bool,
  required: _infernoCompat2.default.PropTypes.bool,
  initial: _infernoCompat2.default.PropTypes.any };
Selectable.defaultProps = {
  multi: true,
  required: false
};
exports.default = Selectable;
exports.Selectable = Selectable;

/***/ }),
/* 465 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _lodash = __webpack_require__(70);

var _lodash2 = _interopRequireDefault(_lodash);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Slider = function (_Component) {
  (0, _inherits3.default)(Slider, _Component);

  function Slider() {
    var _ref;

    (0, _classCallCheck3.default)(this, Slider);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Slider.__proto__ || (0, _getPrototypeOf2.default)(Slider)).call.apply(_ref, [this].concat(args)));

    var props = args[0];


    _this.lastInputValue = props.value;
    _this.isDirty = false;

    _this.state = {
      value: props.value
    };

    _this.target = undefined;

    _this.onChange = function (e) {
      _this.isDirty = true;
      _this.target = e.target;
      var value = e.target.value;
      _this.setState({ value: value });
      (0, _raf2.default)(_this.emitChange);
    };

    _this.emitChange = (0, _lodash2.default)(function () {
      _this.isDirty = false;
      if (_this.props.onChange) _this.props.onChange({ target: _this.target });
    }, _this.props.debounce);
    return _this;
  }

  (0, _createClass3.default)(Slider, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      var value = props.value;
      if (value === this.lastInputValue || value === this.state.value) return;
      this.lastInputValue = value;
      this.setState({ value: value });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.target = undefined;
    }
  }, {
    key: 'render',
    value: function render() {

      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'color-slider' })), createVNode(512, 'input', {
        'type': 'range',
        'value': this.state.value,
        'min': this.props.min,
        'max': this.props.max,
        'step': this.props.step
      }, null, {
        'onChange': this.onChange
      }));
    }
  }]);
  return Slider;
}(_uiComponentDeprecated2.default);

Slider.propTypes = {
  value: _infernoCompat.PropTypes.number.isRequired,
  min: _infernoCompat.PropTypes.number.isRequired,
  max: _infernoCompat.PropTypes.number.isRequired,
  step: _infernoCompat.PropTypes.number.isRequired,
  debounce: _infernoCompat.PropTypes.number.isRequired,
  onChange: _infernoCompat.PropTypes.func
};

Slider.defaultProps = {
  value: 0,
  debounce: 160,
  min: 0,
  max: 1,
  step: .01
};

exports.default = Slider;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 466 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class; /*
              A span that, when tapped, changes to an inline form to edit the string
            */

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _coreDecorators = __webpack_require__(38);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var TapInput = (0, _coreDecorators.autobind)(_class = function (_Component) {
  (0, _inherits3.default)(TapInput, _Component);

  function TapInput(props) {
    var _ref;

    (0, _classCallCheck3.default)(this, TapInput);

    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = TapInput.__proto__ || (0, _getPrototypeOf2.default)(TapInput)).call.apply(_ref, [this, props].concat(args)));

    _this.state = {
      editing: false
    };
    return _this;
  }

  (0, _createClass3.default)(TapInput, [{
    key: 'render',
    value: function render() {
      var editing = this.state.editing;

      return editing ? this.renderForm() : this.renderSpan();
    }
  }, {
    key: 'renderSpan',
    value: function renderSpan() {
      return createVNode(2, 'span', {
        'title': 'Tap to edit'
      }, this.props.value, {
        'onClick': this.toggleEditing
      });
    }
  }, {
    key: 'renderForm',
    value: function renderForm() {
      return createVNode(2, 'form', null, [createVNode(512, 'input', {
        'type': 'text',
        'defaultValue': this.props.value,
        'autoFocus': true
      }, null, {
        'onKeyDown': this.onKeyDown
      }), createVNode(2, 'button', {
        'type': 'submit'
      }, 'Submit'), createVNode(2, 'button', {
        'type': 'reset'
      }, 'Cancel', {
        'onClick': this.onCancel
      })], {
        'onSubmit': this.onSubmit
      });
    }
  }, {
    key: 'onKeyDown',
    value: function onKeyDown(event) {
      if (event.key === 'Escape') {
        this.toggleEditing();
      }
    }
  }, {
    key: 'onSubmit',
    value: function onSubmit(event) {
      event.preventDefault();
      var value = event.target.querySelector('input').value;
      this.props.onChange(value);
    }
  }, {
    key: 'onCancel',
    value: function onCancel() {
      this.toggleEditing();
    }
  }, {
    key: 'toggleEditing',
    value: function toggleEditing() {
      this.setState({ editing: !this.state.editing });
    }
  }]);
  return TapInput;
}(_uiComponentDeprecated2.default)) || _class;

TapInput.propTypes = {
  value: _infernoCompat2.default.PropTypes.string,
  onChange: _infernoCompat2.default.PropTypes.func
};
exports.default = TapInput;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 467 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _reactKeydown = __webpack_require__(90);

exports.default = _reactKeydown.Keys;

/*

const { ESC, ENTER } = Keys

*/

module.exports = exports['default'];

/***/ }),
/* 468 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _immutable2 = _interopRequireDefault(_immutable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

Immutable.PropTypes.list         // Immutable.List.isList
Immutable.PropTypes.map          // Immutable.Map.isMap
Immutable.PropTypes.orderedMap   // Immutable.OrderedMap.isOrderedMap
Immutable.PropTypes.set          // Immutable.Set.isSet
Immutable.PropTypes.orderedSet   // Immutable.OrderedSet.isOrderedSet
Immutable.PropTypes.stack        // Immutable.Stack.isStack
Immutable.PropTypes.seq          // Immutable.Seq.isSeq
Immutable.PropTypes.iterable     // Immutable.Iterable.isIterable
Immutable.PropTypes.record       // instanceof Record
Immutable.PropTypes.contains     // Immutable.Iterable.isIterable - contains(shape)
Immutable.PropTypes.mapContains  // Immutable.Map.isMap - contains(shape)

*/

// let PropTypes = Object.assign( {}, React.PropTypes, Immutable.PropTypes )
var PropTypes = (0, _assign2.default)({
  list: _infernoCompat2.default.PropTypes.any,
  map: _infernoCompat2.default.PropTypes.any,
  orderedMap: _infernoCompat2.default.PropTypes.any,
  stack: _infernoCompat2.default.PropTypes.any,
  seq: _infernoCompat2.default.PropTypes.any,
  iterable: _infernoCompat2.default.PropTypes.any,
  record: _infernoCompat2.default.PropTypes.any,
  contains: _infernoCompat2.default.PropTypes.any,
  mapContains: _infernoCompat2.default.PropTypes.any
}, _infernoCompat2.default.PropTypes);

exports.default = PropTypes;
module.exports = exports['default'];

/***/ }),
/* 469 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _infernoCompat2.default;
module.exports = exports['default'];

/***/ }),
/* 470 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _classnames2.default;
module.exports = exports['default'];

/***/ }),
/* 471 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

  // Class inheritance uses Object.create and because of __proto__ issues
  // with IE <10 any static properties of the superclass aren't inherited and
  // so need to be manually populated.
  // See http://babeljs.io/docs/advanced/caveats/#classes-10-and-below-
  cloneComponentProps(component, Enhancer);

  if (process.env.NODE_ENV !== 'production') {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    cloneComponentProps(ComposedComponent.prototype, Enhancer.prototype);
  }

*/

var KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES = ['arguments', 'callee', 'caller', 'length', 'name', 'prototype', 'type'];

function cloneComponentProps(source, target) {
  var safeCheckRecurse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;


  (0, _getOwnPropertyNames2.default)(source).forEach(function (key) {
    if (KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES.indexOf(key) < 0 && !target.hasOwnProperty(key)) {
      var descriptor = (0, _getOwnPropertyDescriptor2.default)(source, key);
      (0, _defineProperty2.default)(target, key, descriptor);
    }
  });

  if (safeCheckRecurse && "production" !== 'production') {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    cloneComponentProps(source.prototype, target.prototype, false);
  }
}

exports.default = cloneComponentProps;
module.exports = exports['default'];

/***/ }),
/* 472 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var degrees = {
  toRads: function toRads(deg) {
    return deg * Math.PI / 180;
  },
  fromRads: function fromRads(rad) {
    return rad * 180 / Math.PI;
  }
};

exports.default = degrees;
module.exports = exports["default"];

/***/ }),
/* 473 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = fromTo;
function fromTo(value, fromLow, fromHigh, toLow, toHigh) {
  var fromRangeSize = fromHigh - fromLow;
  var toRangeSize = toHigh - toLow;
  var valueScale = (value - fromLow) / fromRangeSize;
  return toLow + valueScale * toRangeSize;
}
module.exports = exports["default"];

/***/ }),
/* 474 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _imgfloUrl = __webpack_require__(120);

var _imgfloUrl2 = _interopRequireDefault(_imgfloUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var imgfloConfig = {
  'server': 'https://imgflo.herokuapp.com/',
  'key': '5d24a8ac9b4ac51',
  'label': 'TheGrid Webapp production',
  'secret': '6c1480fefb5a273'
};

var imgflo = {

  url: function url(_url) {
    return (0, _imgfloUrl2.default)(imgfloConfig, 'passthrough', { input: _url });
  },

  ext: function ext() {
    var operation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'passthrough';
    var obj = arguments[1];
    var format = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'jpg';

    return (0, _imgfloUrl2.default)(imgfloConfig, operation, obj, format);
  }

};

exports.default = imgflo;
module.exports = exports['default'];

/***/ }),
/* 475 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _lodash = __webpack_require__(87);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _lodash2.default;
module.exports = exports['default'];

/***/ }),
/* 476 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _lodash = __webpack_require__(88);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _lodash2.default;
module.exports = exports['default'];

/***/ }),
/* 477 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.TapInput = exports.Slider = exports.Selectable = exports.ScrollRenderer = exports.ResizeRenderer = exports.Rating = exports.ProgressBar = exports.Overlay = exports.Logo = exports.Input = exports.Grid = exports.ErrorMessage = exports.ContentEditable = exports.Badge = exports.Avatar = exports.Component = exports.palettes = exports.fromTo = exports.Color = exports.sync = exports.requestPerfFrame = undefined;

var _perf = __webpack_require__(478);

var _sync = __webpack_require__(98);

var _sync2 = _interopRequireDefault(_sync);

var _uiErrorMessage = __webpack_require__(497);

var _uiErrorMessage2 = _interopRequireDefault(_uiErrorMessage);

var _deps = __webpack_require__(137);

var _index = __webpack_require__(203);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.requestPerfFrame = _perf.requestPerfFrame;
exports.sync = _sync2.default;
exports.Color = _deps.Color;
exports.fromTo = _deps.fromTo;
exports.palettes = _deps.palettes;
exports.Component = _index.Component;
exports.Avatar = _index.Avatar;
exports.Badge = _index.Badge;
exports.ContentEditable = _index.ContentEditable;
exports.ErrorMessage = _uiErrorMessage2.default;
exports.Grid = _index.Grid;
exports.Input = _index.Input;
exports.Logo = _index.Logo;
exports.Overlay = _index.Overlay;
exports.ProgressBar = _index.ProgressBar;
exports.Rating = _index.Rating;
exports.ResizeRenderer = _index.ResizeRenderer;
exports.ScrollRenderer = _index.ScrollRenderer;
exports.Selectable = _index.Selectable;
exports.Slider = _index.Slider;
exports.TapInput = _index.TapInput;

/***/ }),
/* 478 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.requestPerfFrame = undefined;

var _requestPerfFrame = __webpack_require__(479);

var _requestPerfFrame2 = _interopRequireDefault(_requestPerfFrame);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.requestPerfFrame = _requestPerfFrame2.default;

/***/ }),
/* 479 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = requestPerfFrame;

var _sync = __webpack_require__(98);

var _sync2 = _interopRequireDefault(_sync);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function requestPerfFrame(callback, timeBuffer, prevRAFCallback) {

  var rafCallback = function rafCallback() {

    var isScrolling = _sync2.default.getInData('scroll', 'document', ['isScrolling'], false);

    if (isScrolling) {
      if (prevRAFCallback) _raf2.default.cancel(prevRAFCallback);
      requestPerfFrame(callback, timeBuffer, rafCallback);
    } else {

      if (timeBuffer > 0) {
        setTimeout(function () {
          if (prevRAFCallback) _raf2.default.cancel(prevRAFCallback);
          requestPerfFrame(callback, 0, rafCallback);
        }, timeBuffer);
      } else {
        callback();
      }
    }
  };

  (0, _raf2.default)(rafCallback);
} // TODO remove this dependency?
module.exports = exports['default'];

/***/ }),
/* 480 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _sync = __webpack_require__(99);

var _sync2 = _interopRequireDefault(_sync);

var _lodash = __webpack_require__(343);

var _lodash2 = _interopRequireDefault(_lodash);

var _elementResizeDetector = __webpack_require__(180);

var _elementResizeDetector2 = _interopRequireDefault(_elementResizeDetector);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var caf = _raf2.default.cancel;

var resizeDetector = undefined;
var getResizeDetector = function getResizeDetector() {
  if (!resizeDetector) {
    resizeDetector = (0, _elementResizeDetector2.default)({
      strategy: 'scroll' });
  }
  return resizeDetector;
};

var plugin = {

  getTarget: function getTarget(target) {
    if (target === window || target === 'viewport' || target === document || target === 'document') {
      target = 'window';
    }
    return target;
  },

  listen: function listen(target) {

    var listener = getListener(target);

    if (typeof target === 'function') target = target();

    if (target === 'window') {
      window.addEventListener('resize', listener);
    } else if (!!target) {
      getResizeDetector().listenTo(target, listener);
    } else {
      throw new Error('resize sync cant listen to target: ' + target);
    }

    // immediate
    listener();

    return listener;
  },

  unlisten: function unlisten(target, listener) {

    if (typeof target === 'function') target = target();

    if (target === 'window') {
      window.removeEventListener('resize', listener);
    } else if (!!target) {
      getResizeDetector().removeListener(target, this.update);
    } else {
      throw new Error('resize sync cant listen to target: ' + target);
    }
  }

};

exports.default = plugin;


var readAndEmit = function readAndEmit(target, _targetEl) {
  var data = void 0;

  if (_targetEl === 'window') {
    data = {
      width: window.innerWidth,
      height: window.innerHeight,
      top: 0,
      right: 0,
      left: 0,
      bottom: 0
    };
  } else {
    var rect = _targetEl.getBoundingClientRect();
    data = {
      width: rect.width,
      height: rect.height,
      left: rect.left,
      right: rect.right,
      top: rect.top,
      bottom: rect.bottom,

      // TODO???
      windowWidth: window.innerWidth,
      windowHeight: window.innerHeight
    };
  }
  _sync2.default.emit('resize', target, (0, _immutable.Map)(data));
};

var getListener = function getListener(target) {

  var _targetEl = target;
  if (typeof target === 'function') _targetEl = target();

  var _listener = function _listener() {
    readAndEmit(target, _targetEl);
  };

  var listener = (0, _lodash2.default)(function () {
    _sync2.default.willEmit('resize', target);
    caf(_listener);
    (0, _raf2.default)(_listener);
  }, 32);

  return listener;
};
module.exports = exports['default'];

/***/ }),
/* 481 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _sync = __webpack_require__(99);

var _sync2 = _interopRequireDefault(_sync);

var _lodash = __webpack_require__(70);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import throttle from 'lodash.throttle'
// import raf from 'raf'
// let caf = raf.cancel

// for browsers that dont' support document.body or document.scrolllingElement, ugh

var scrollingElement = void 0;
var getScrollingElement = function getScrollingElement() {
  if (!scrollingElement) {
    scrollingElement = document.scrollingElement ? document.scrollingElement : document.body;
    if (!scrollingElement) scrollingElement = document.getElementsByTagName('body')[0];
  }
  return scrollingElement;
};

var plugin = {

  getTarget: function getTarget(target) {
    if (target === window || target === 'window' || target === 'viewport' || target === document || target === 'document') {
      target = 'document';
    }
    return target;
  },

  listen: function listen(target) {

    var listener = getListener(target);

    if (target === 'document') {
      window.addEventListener('scroll', listener);
      // events.on(window, 'scroll', listener)
    } else if (!!target && target.addEventListener) {
      target.addEventListener('scroll', listener);
      // events.on(target, 'scroll', listener)
    } else {
      throw new Error('scroll sync cant listen to target: ' + target);
    }

    // immediate
    listener();

    return listener;
  },

  unlisten: function unlisten(target, listener) {

    if (target === 'document') {
      window.removeEventListener('scroll', listener);
      // events.off(window, 'scroll', listener);
    } else if (!!target && target.addEventListener) {
      target.removeEventListener('scroll', listener);
      // events.off(target, 'scroll', listener);
    } else {
      throw new Error('scroll sync cant listen to target: ' + target);
    }
  }

};

exports.default = plugin;


var readAndEmit = function readAndEmit(target) {
  var isRoot = target === 'document';
  var data = void 0;
  var prevData = _sync2.default.getData('scroll', target, (0, _immutable.Map)());
  // console.log("!!!!scroll read and emit prev::", prevData.toJS())
  var scrollTop = isRoot ? getScrollingElement().scrollTop : target.scrollTop;
  var topDelta = 0;
  var isScrolling = true;
  var isInitialEvent = false;
  if (prevData.size > 0) {
    topDelta = scrollTop - prevData.get('scrollTop');
    if (topDelta === 0) {
      isScrolling = false;
    }
  } else {
    isScrolling = false;
    isInitialEvent = true;
  }
  if (isRoot) {
    data = {
      isScrolling: isScrolling,
      scrollTop: scrollTop,
      scrollTopDelta: topDelta,
      scrollHeight: getScrollingElement().scrollHeight
    };
  } else {
    data = {
      isScrolling: isScrolling,
      scrollTop: scrollTop,
      scrollTopDelta: topDelta,
      scrollHeight: target.scrollHeight
    };
  }
  data = (0, _immutable.Map)(data);

  _sync2.default.emit('scroll', target, (0, _immutable.Map)(data));
  if (!isInitialEvent && isScrolling) {
    endDebounced(target, data);
  }
};

var getListener = function getListener(target) {

  // let _listener = function () {
  //   readAndEmit(target)
  // }

  var listener = function listener() {
    //  throttle( () => {
    endDebounced.cancel();
    _sync2.default.willEmit('scroll', target);

    readAndEmit(target);
    // caf(_listener)
    // raf(_listener)
  }; // , 16)

  return (0, _lodash2.default)(listener, 16);
};

var endDebounced = (0, _lodash2.default)(function (target, data) {
  var newData = data.set('isScrolling', false);
  if (newData.equals(data)) return;
  newData = newData.set('scrollTopDelta', 0);
  _sync2.default.emit('scroll', target, newData);
}, 333);
module.exports = exports['default'];

/***/ }),
/* 482 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _sync = __webpack_require__(99);

var _sync2 = _interopRequireDefault(_sync);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var caf = _raf2.default.cancel;
var EMPTY_MAP = (0, _immutable.Map)();

var plugin = {

  getTarget: function getTarget(target) {
    if (!target) return target;
    if (typeof target.getState !== 'function') throw new Error('can sync to target without getState method, target: ' + target);
    return target;
  },

  requestStateFrame: function requestStateFrame(target, frameHandler) {
    var emit = function emit() {
      if (frameHandler) frameHandler();
      var state = target.getState();
      if (!state) state = EMPTY_MAP;
      _sync2.default.emit('state', target, state);
    };
    var willEmit = function willEmit() {
      _sync2.default.willEmit('state', target);
      caf(emit);
      (0, _raf2.default)(emit);
    };
    willEmit.cancel = function () {
      caf(emit);
    };
    return willEmit;
  },

  listen: function listen(target) {
    var rsf = this.requestStateFrame(target);
    rsf();
    return rsf;
  },

  unlisten: function unlisten(target, rsf) {
    rsf.cancel();
  }

};

exports.default = plugin;
module.exports = exports['default'];

/***/ }),
/* 483 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _state = (0, _immutable.Map)();

var state = {};

state.setMap = function (map) {
  _state = map;
};
state.getMap = function () {
  return _state;
};
state.get = function () {
  var _state2;

  return (_state2 = _state).get.apply(_state2, arguments);
};
state.getIn = function () {
  var _state3;

  return (_state3 = _state).getIn.apply(_state3, arguments);
};
state.set = function () {
  var _state4;

  // console.log("SET", ...args)
  _state = (_state4 = _state).set.apply(_state4, arguments);
};
state.setIn = function () {
  var _state5;

  // console.log("SETIN", ...args)
  _state = (_state5 = _state).setIn.apply(_state5, arguments);
};
state.delete = function () {
  var _state6;

  // console.log("DELETE", ...args)
  _state = (_state6 = _state).delete.apply(_state6, arguments);
};
state.deleteIn = function () {
  var _state7;

  // console.log("DELETEIN", ...args)
  _state = (_state7 = _state).deleteIn.apply(_state7, arguments);
};
state.has = function () {
  var _state8;

  return (_state8 = _state).has.apply(_state8, arguments);
};
state.hasIn = function () {
  var _state9;

  return (_state9 = _state).hasIn.apply(_state9, arguments);
};

exports.default = state;
module.exports = exports['default'];

/***/ }),
/* 484 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'perf': true,
  children: '\n  .CTA {\n    display -- flex\n  }\n  .Custom--Button {\n    d--iflx\n    flx-jst--mid\n    flx-aln--mid\n\n    box-szg--b\n\n    pad-t--.25em\n    pad-b--.25em\n    pad-l--.5em\n    pad-r--.5em\n\n    fnt-sz--i\n    ln-h--i\n    ver-aln--i\n\n    bdr-rad -- .15em\n    bdr-w--2\n    bdr--n\n    cur--p\n    otln--n\n\n    trans--.2s ease-out\n  }\n\n  .Custom--Button-label {\n    fnt-sz--i\n    l-h--i\n    ver-aln--i\n  }\n\n  .Custom--Button-icon {\n    h--48\n    w--48\n    d--ib\n    txt-aln--c\n  }\n\n  button {\n    .LogoLoader, .LogoLoader-bg, .LogoLoader svg {\n      overflow -- auto !important\n      max-height -- 1.5em !important\n      box-shadow -- none !important\n      width -- auto !important\n      height -- auto !important\n      // max-width -- 48px !important\n    }\n    .LogoLoader svg {\n      // margin-left -- calc(50% - 56px/2)\n      // margin-right -- calc(50% - 56px/2)\n      padding-right -- .5em\n      position -- static !important\n    }\n    .LogoLoader {\n      display -- flex\n    }\n  }\n\n  .Custom--Button .material-icons {\n    ln-h--48px\n  }\n'
});
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 485 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Checkbox = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var Checkbox = function (_React$Component) {
  (0, _inherits3.default)(Checkbox, _React$Component);

  function Checkbox() {
    var _ref;

    (0, _classCallCheck3.default)(this, Checkbox);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Checkbox.__proto__ || (0, _getPrototypeOf2.default)(Checkbox)).call.apply(_ref, [this].concat(args)));

    var props = args[0];
    var checked = props.checked;


    _this.id = 'Checkbox-' + count;
    count++;

    _this.state = {
      checked: checked || false
    };
    _this.handleClick = function (e) {
      if (_this.props.onClick) {
        _this.props.onClick(e);
      }
      _this.setState({
        checked: !_this.state.checked
      });
    };
    return _this;
  }

  (0, _createClass3.default)(Checkbox, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var checked = nextProps.checked;
      if (checked !== undefined && checked !== null) {
        this.setState({
          checked: checked
        });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          iconSize = _props.iconSize,
          size = _props.size,
          label = _props.label,
          styleOverride = _props.styleOverride,
          className = _props.className;
      var checked = this.state.checked;


      var style = {
        position: 'relative',
        display: 'block',
        textAlign: 'left',
        paddingLeft: label ? size : 0,
        height: size,
        minWidth: size,
        fontSize: iconSize,
        lineHeight: size
      };

      if (styleOverride) {
        for (var key in styleOverride) {
          style[key] = styleOverride[key];
        }
      }

      className = (className || '') + ' active ';
      if (this.state.checked) className += ' checked';

      var checkedStyle = {
        position: 'absolute',
        opacity: checked ? 1 : 0,
        transform: checked ? 'scale(1)' : 'scale(0)',
        transition: 'transform .3s, opacity .3s',
        top: 0,
        left: 0,
        width: size,
        height: size,
        fontSize: iconSize,
        lineHeight: size,
        textAlign: 'center'
      };

      var uncheckedStyle = {
        position: 'absolute',
        opacity: checked ? 0 : 1,
        transition: 'opacity .2s',
        transitionDelay: checked ? '.15s' : '0s',
        top: 0,
        left: 0,
        width: size,
        height: size,
        fontSize: iconSize,
        lineHeight: size,
        textAlign: 'center'
      };

      var bgStyle = {
        position: 'absolute',
        opacity: checked ? 1 : 0,
        transform: checked ? 'scale(1)' : 'scale(0)',
        transition: 'transform .2s, opacity .1s',
        transitionDelay: checked ? '.3s' : '0s',
        width: iconSize,
        height: iconSize,
        // opacity: .8,
        borderRadius: 4,
        top: 'calc(' + size + '/2 - ' + iconSize + '/2)',
        left: 'calc(' + size + '/2 - ' + iconSize + '/2)'
      };

      if (typeof label === 'string') {
        label = createVNode(2, 'span', {
          'className': 'checkbox-label'
        }, label);
      }
      if (!label) label = null;

      return createVNode(2, 'a', {
        'className': className,
        'style': style
      }, [createVNode(2, 'div', {
        'className': 'icon-bg color-selection-bg',
        'style': bgStyle
      }), createVNode(2, 'i', {
        'className': 'icon material-icons icon-checked',
        'style': checkedStyle
      }, 'check_box'), createVNode(2, 'i', {
        'className': 'icon material-icons icon-unchecked',
        'style': uncheckedStyle
      }, 'check_box_outline_blank'), label], {
        'onClick': this.handleClick
      }, null, 'checkbox-icon-button');
    }
  }]);
  return Checkbox;
}(_infernoCompat2.default.Component);

Checkbox.propTypes = {
  checked: _infernoCompat.PropTypes.bool,
  onClick: _infernoCompat.PropTypes.func,
  label: _infernoCompat.PropTypes.any,

  /* cssString, size of icon font */
  iconSize: _infernoCompat.PropTypes.string,

  /* cssString, size of checkbox */
  size: _infernoCompat.PropTypes.string,

  className: _infernoCompat.PropTypes.string,
  styleOverride: _infernoCompat.PropTypes.object
};
Checkbox.defaultProps = {
  iconSize: '24px',
  size: '1em'
};
exports.default = Checkbox;
exports.Checkbox = Checkbox;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 486 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Checkbox = __webpack_require__(485);

var _Checkbox2 = _interopRequireDefault(_Checkbox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Checkbox2.default;
module.exports = exports['default'];

/***/ }),
/* 487 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _FileInput = __webpack_require__(488);

var _FileInput2 = _interopRequireDefault(_FileInput);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var FileButton = function (_React$Component) {
  (0, _inherits3.default)(FileButton, _React$Component);

  function FileButton() {
    var _ref;

    (0, _classCallCheck3.default)(this, FileButton);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = FileButton.__proto__ || (0, _getPrototypeOf2.default)(FileButton)).call.apply(_ref, [this].concat(args)));

    _this.handleSubmit = function (e) {
      e.preventDefault();
    };

    _this.id = 'FileButton-' + count;
    count++;
    return _this;
  }

  (0, _createClass3.default)(FileButton, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          handleFile = _props.handleFile,
          children = _props.children;


      return createVNode(2, 'form', {
        'id': this.props.id || this.id,
        'className': this.props.className || '',
        'style': this.props.style || {},
        'encType': 'multipart/form-data'
      }, [children, createVNode(16, _FileInput2.default, {
        'handleFile': handleFile
      })], {
        'onSubmit': this.handleSubmit
      });
    }
  }]);
  return FileButton;
}(_infernoCompat2.default.Component);

FileButton.propTypes = {
  handleFile: _infernoCompat.PropTypes.func.isRequired,
  children: _infernoCompat.PropTypes.node.isRequired
};
exports.default = FileButton;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 488 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _recompose = __webpack_require__(395);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


function FileInput(_ref) {
  var handleFile = _ref.handleFile;

  var handleFileInput = function handleFileInput(e) {
    return handleFile(e.target.files[0]);
  };

  return createVNode(2, 'div', null, [createVNode(16, _styleverse.Style, {
    'perf': true,
    children: '\n        .file-input {\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          right: 0;\n          left: 0;\n          margin: 0;\n          padding: 0;\n          font-size: 20px;\n          cursor: pointer;\n          opacity: 0;\n          filter: alpha(opacity=0);\n        }\n      '
  }), createVNode(512, 'input', {
    'className': 'file-input',
    'defaultValue': 'Upload Attachments',
    'accept': 'image/*',
    'type': 'file'
  }, null, {
    'onChange': handleFileInput
  })]);
}
FileInput.propTypes = {
  handleFile: _infernoCompat.PropTypes.func.isRequired
};

exports.default = (0, _recompose.onlyUpdateForKeys)(['handleFile'])(FileInput);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 489 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FileButton = __webpack_require__(487);

var _FileButton2 = _interopRequireDefault(_FileButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _FileButton2.default;
module.exports = exports['default'];

/***/ }),
/* 490 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Switch = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _style = __webpack_require__(491);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Switch = function (_React$Component) {
  (0, _inherits3.default)(Switch, _React$Component);

  function Switch() {
    var _ref;

    (0, _classCallCheck3.default)(this, Switch);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Switch.__proto__ || (0, _getPrototypeOf2.default)(Switch)).call.apply(_ref, [this].concat(args)));

    var props = args[0];
    var checked = props.checked;


    _this.state = {
      checked: checked || false
    };
    _this.handleClick = function (e) {
      if (_this.props.onClick) _this.props.onClick(e, _this.state.checked);
      if (_this.props.onToggle) _this.props.onToggle(e, _this.state.checked);
      _this.setState({
        checked: !_this.state.checked
      });
    };
    return _this;
  }

  (0, _createClass3.default)(Switch, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var checked = nextProps.checked;
      if (checked !== undefined && checked !== null) {
        this.setState({
          checked: checked
        });
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var checked = this.state.checked;
      var styleOverride = this.props.style;

      var className = 'color-icon active switch';
      if (this.props.className) className += ' ' + this.props.className;
      if (checked) className += ' checked';

      var label = this.props.label;
      if (typeof label === 'string') {
        label = createVNode(2, 'div', {
          'className': 'switch-label'
        }, label);
      }
      if (!label) label = '';

      // @TODO:
      var checkbox = null;
      if (this.props.checkbox) {
        var _props = this.props,
            value = _props.value,
            onToggle = _props.onToggle;

        var spread = {};
        if (value) spread.defaultValue = value;
        checkbox = createVNode(512, 'input', (0, _extends3.default)({
          'type': 'checkbox',
          'id': name,
          'name': name
        }, spread), null, {
          'onClick': onToggle
        });
        // checkbox = <input type="checkbox" {...this.props.checkbox} />
      }

      return createVNode(2, 'a', {
        'className': className
      }, [_style2.default, styleOverride, checkbox, createVNode(2, 'div', {
        'className': 'switch-icon'
      }, [createVNode(2, 'div', {
        'className': 'switch-track'
      }), createVNode(2, 'div', {
        'className': 'switch-thumb'
      })]), label], {
        'onMouseUp': this.handleClick
      });
    }
  }]);
  return Switch;
}(_infernoCompat2.default.Component);

// Switch.propTypes = {
//   onClick: React.PropTypes.func,
//   className: React.PropTypes.string,
//   checked: React.PropTypes.bool,
//   checkbox: React.PropTypes.object,
//   style: React.PropTypes.object, // or could do string?
//   label: React.PropTypes.string,
// }

exports.default = Switch;
exports.Switch = Switch;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 491 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var iconWidth = 36;
var iconHeight = 18;
var iconAreaWidth = 40 + 24;
var iconAreaHeight = 48;
var thumbSize = iconHeight;

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'perf': true,
  'perfFrame': true,
  children: '\n  .switch {\n    display -- flex\n    align-items -- center\n    position -- relative\n    height -- ' + iconAreaHeight + 'px\n    min-width -- ' + iconAreaWidth + 'px\n    line-height -- ' + iconAreaHeight + 'px\n  }\n\n  .switch-track {\n    trans -- background-color .3s\n    bg-clr -- chroma-line // colors.box.clone().mix(colors.meta).hslString()\n  }\n  .checked .switch-track {\n    o--.5\n    bg-clr -- chroma-box-pop2 //colors.box.clone().mix(colors.boxPop2).hslString()\n  }\n  .switch-thumb {\n    trans -- background-color .3s\n    bg-clr -- chroma-meta\n  }\n  .checked .switch-thumb {\n    bg-clr -- chroma-box-pop2\n  }\n\n  .switch-track {\n    position -- absolute\n    transition -- all .5s\n    width -- ' + iconWidth + 'px\n    height -- 12px\n    border-radius -- ' + 12 / 2 + 'px\n    top -- ' + (iconHeight / 2 - 12 / 2) + 'px\n    left -- 0\n  }\n\n  .switch-thumb {\n    position -- absolute\n    // transform -- translateX(0px)\n    transition -- all .5s\n    width -- ' + thumbSize + 'px\n    height -- ' + thumbSize + 'px\n    border-radius -- ' + thumbSize / 2 + 'px\n    top -- 0\n    left -- 0\n  }\n  .checked .switch-thumb {\n    // transform -- translateX(' + (iconWidth - thumbSize) + 'px)\n    left -- ' + (iconWidth - thumbSize) + 'px\n  }\n\n  .switch:active .switch-thumb {\n    transform -- scale(1.15, 0.85)\n  }\n\n  .switch-icon {\n    position -- absolute\n    width -- ' + iconWidth + 'px\n    height -- ' + iconHeight + 'px\n    left -- ' + (iconAreaWidth / 2 - iconWidth / 2) + 'px\n    top -- ' + (iconAreaHeight / 2 - iconHeight / 2) + 'px\n  }\n\n  .switch-label {\n    txt-sh--n\n    fnt--d3\n    fnt-sz--txt\n\n    pad-l--1.5em\n    pad-r--1.5em\n\n    // inherits box height\n    // pad-b--.75em\n    // pad-t--.75em\n\n    margin -- 0 0.5em\n    clr -- chroma-box-pop-text\n    trans--.3s\n    margin-left -- ' + iconAreaWidth + 'px\n  }\n'
});
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 492 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = Toggle;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _style = __webpack_require__(494);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
function Toggle(_ref) {
  var label = _ref.label,
      name = _ref.name,
      value = _ref.value,
      _ref$onToggle = _ref.onToggle,
      onToggle = _ref$onToggle === undefined ? function () {} : _ref$onToggle,
      _ref$checked = _ref.checked,
      checked = _ref$checked === undefined ? '' : _ref$checked;

  var labeled = null;
  if (label) {
    labeled = createVNode(2, 'label', {
      'htmlFor': name
    }, [createVNode(2, 'span', {
      'className': 'lever'
    }), createVNode(2, 'span', {
      'className': 'slot'
    }), createVNode(2, 'span', {
      'className': 'text'
    }, createVNode(2, 'span', {
      'className': 'toggle-text-txt'
    }, label))]);
  }

  return createVNode(2, 'div', {
    'className': 'toggle'
  }, [(0, _style2.default)(), createVNode(512, 'input', {
    'type': 'checkbox',
    'id': name,
    'name': name,
    'defaultValue': value,
    'checked': checked
  }, null, {
    'onClick': onToggle
  }), labeled]);
}
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 493 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ToggleButton = undefined;

var _ToggleButton = __webpack_require__(492);

var _ToggleButton2 = _interopRequireDefault(_ToggleButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _ToggleButton2.default;
exports.ToggleButton = _ToggleButton2.default;

/***/ }),
/* 494 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (sel) {
  return createVNode(16, _styleverse.Style, {
    'perf': true,
    'scope': sel,
    children: '\n    .input-checkboxes span {\n      display -- block\n    }\n\n    .toggles {\n      /*padding-left:2px*/\n    }\n    .toggle {\n      position -- relative\n      text-align -- left\n      display -- flex\n    }\n    .toggle input[type=checkbox] {\n      display -- none\n    }\n    .toggle label {\n      cursor -- pointer\n      -webkit-user-select -- none\n      user-select -- none\n      display -- flex\n      align-items -- center\n    }\n    .toggle label .text {\n      padding-left -- 50px\n      display -- flex\n      margin-bottom -- .5em\n    }\n    .toggle label .slot {\n      display -- flex\n      position -- absolute\n      top -- calc(50% - 10px)\n      left -- 2px\n      width -- 32px\n      height -- 14px\n\n      // #d8d8d8\n      background-color -- chroma-box\n\n      border-radius -- 13px\n      transition -- all 0.3s ease-in-out\n    }\n    .toggle label .lever {\n      position -- absolute\n      top -- calc(50% - 13px)\n      display -- flex\n      width -- 20px\n      height -- 20px\n\n      // #fff\n      background-color -- chroma-text-pop\n\n      border-radius -- 20px\n      box-shadow -- 0px 1px 3px 0px rgba(0, 0, 0, 0.75)\n      z-index -- 1\n      transition -- all 0.3s ease-in-out\n      left --  0\n    }\n\n    .toggle:active > label > .lever {\n      transition --  all 0.3s ease\n      transform -- scale(1.15, 0.85)\n    }\n\n    .toggle input[type=checkbox]:checked ~ label .slot {\n    }\n    .toggle input[type=checkbox]:checked ~ label .lever {\n      left -- 17px\n    }\n    .toggle input[type=checkbox][disabled] ~ label {\n      cursor -- default\n    }\n    .toggle input[type=checkbox][disabled] ~ label .lever {\n      // #D8D8D8\n      background-color -- chroma-box\n    }\n\n    .analytics--field {\n      position -- relative\n    }\n    .custom-url-div {\n      display -- flex !important\n    }\n    .custom-url-div .has-float-label {\n      flex -- 1\n    }\n  '
  });
};

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* ------- TOGGLE ------ */
var createVNode = Inferno.createVNode;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 495 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _style = __webpack_require__(498);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var translateErrorMsg = function translateErrorMsg(error) {
  var genericError = 'An error occured. If this isn\'t the first one, consider refreshing the page.';

  var errorMsgs = {
    'API_404': 'The requested resource was not found',
    'SAGA_ReferenceError': 'API Error: ' + error.message,
    'API_409': 'A site with that name has already been taken.'
  };

  var message = errorMsgs[error.key];
  if (message) return message;
  message = error.message || '';

  switch (error.type) {
    case 'VALIDATION':
      return message;
    default:
      message = genericError + ' ' + error.message;
  }

  return message;
};

var createVNode = Inferno.createVNode;
var ErrorItem = function ErrorItem(_ref) {
  var error = _ref.error,
      onRemoveError = _ref.onRemoveError;
  return createVNode(2, 'div', {
    'className': 'Error-item error-message-container'
  }, [createVNode(2, 'span', {
    'className': 'message'
  }, translateErrorMsg(error)), createVNode(2, 'span', {
    'className': 'close-button Error-item-close'
  }, '\u2715', {
    'onClick': function onClick() {
      return onRemoveError(error);
    }
  })]);
};

// @NOTE: was error from using Overlay (which was not needed at all)
// warning.js:36 Warning: render(...):
// Replacing React-rendered children with a new root component.
// If you intended to update the children of this node,
// you should instead have the existing children
// update their state and
// render the new components
// instead of calling ReactDOM.render.

var ErrorComponent = function (_Component) {
  (0, _inherits3.default)(ErrorComponent, _Component);

  function ErrorComponent() {
    (0, _classCallCheck3.default)(this, ErrorComponent);
    return (0, _possibleConstructorReturn3.default)(this, (ErrorComponent.__proto__ || (0, _getPrototypeOf2.default)(ErrorComponent)).apply(this, arguments));
  }

  (0, _createClass3.default)(ErrorComponent, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          errors = _props.errors,
          onRemoveError = _props.onRemoveError;


      if (!errors) return null;
      var keys = (0, _keys2.default)(errors);
      if (keys.length === 0) return null;
      var errorMsg = keys.map(function (key) {
        return createVNode(16, ErrorItem, {
          'error': errors[key],
          'onRemoveError': onRemoveError
        });
      });

      return createVNode(2, 'div', null, [_style2.default, createVNode(2, 'div', {
        'className': 'Error-container'
      }, errorMsg)]);
    }
  }]);
  return ErrorComponent;
}(_infernoCompat.Component);

exports.default = ErrorComponent;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 496 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _errorsFilter = __webpack_require__(747);

var _errorsFilter2 = _interopRequireDefault(_errorsFilter);

var _ErrorComponent = __webpack_require__(495);

var _ErrorComponent2 = _interopRequireDefault(_ErrorComponent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * used in app/
 *
 * @example
 * window.G.actions.ui.addGeneralError('title', 'message', 'errorType', 'key')
 */
var createVNode = Inferno.createVNode;

var ErrorMessage = function (_Component) {
  (0, _inherits3.default)(ErrorMessage, _Component);

  function ErrorMessage() {
    (0, _classCallCheck3.default)(this, ErrorMessage);
    return (0, _possibleConstructorReturn3.default)(this, (ErrorMessage.__proto__ || (0, _getPrototypeOf2.default)(ErrorMessage)).apply(this, arguments));
  }

  (0, _createClass3.default)(ErrorMessage, [{
    key: 'removeError',
    value: function removeError(error) {
      window.G.actions.ui.removeGeneralError(error);
      console.log('removing?', error);
    }
  }, {
    key: 'render',
    value: function render() {
      var errors = (0, _errorsFilter2.default)(this.props.errors);

      // if no errors
      if ((0, _keys2.default)(errors).length === 0) return null;

      // if we have errors
      // --------
      //
      // swapped for mvui ErrorComponent
      // --------
      // {styles}
      // {Object.keys(errorsJS).map(key => <div>{key}</div>)}
      return createVNode(2, 'div', {
        'className': 'error-message',
        'id': 'appErrorContainer'
      }, createVNode(16, _ErrorComponent2.default, {
        'errors': errors,
        'onRemoveError': this.removeError
      }));
    }
  }]);
  return ErrorMessage;
}(_infernoCompat.Component);

exports.default = ErrorMessage;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 497 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ErrorMessage = __webpack_require__(496);

var _ErrorMessage2 = _interopRequireDefault(_ErrorMessage);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _ErrorMessage2.default;
module.exports = exports['default'];

/***/ }),
/* 498 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'perf': true,
  children: '\n  .error-message-container {\n    padding -- 0.5em 1em\n  }\n  .error-message-container + .error-message-container {\n    border-top -- 1px solid\n  }\n  .message {\n    font-family -- Georgia\n    font-style -- italic\n    font-size -- 1em\n  }\n  .close-button {\n    top -- 12px\n    font-size -- 1.8rem\n    margin-left -- 20px\n    display -- inline-block\n    cursor -- pointer\n  }\n  .Error-container {\n    background -- #f00\n    color -- #fff\n    position -- fixed\n    top -- 0\n    left -- 0\n    right -- 0\n    z-index -- 1201\n  }\n  .Error-item {\n    color--box-pop\n    // color-type-dark\n  }\n  .Error-item-close {\n    color--text-pop2\n  }\n'
});
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 499 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

var _button = __webpack_require__(43);

var _button2 = _interopRequireDefault(_button);

var _utils = __webpack_require__(207);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var WizardButton = function WizardButton(_ref, context) {
  var label = _ref.label,
      className = _ref.className,
      onClick = _ref.onClick,
      _ref$type = _ref.type,
      type = _ref$type === undefined ? 'submit' : _ref$type,
      isValid = _ref.isValid;
  return createVNode(16, _button2.default, {
    'className': (0, _classnames2.default)('WizStep-button', className, (0, _utils.isValidClassName)(isValid || context.isValid)),
    'label': label,
    'type': type,
    'onClick': onClick
  });
};
WizardButton.contextTypes = {
  isValid: _infernoCompat.PropTypes.bool
};

var PrimaryButton = function PrimaryButton(_ref2) {
  var _ref2$label = _ref2.label,
      label = _ref2$label === undefined ? 'Continue' : _ref2$label,
      _ref2$className = _ref2.className,
      className = _ref2$className === undefined ? 'continue' : _ref2$className,
      onClick = _ref2.onClick;
  return createVNode(16, WizardButton, {
    'className': className,
    'label': label,
    'onClick': onClick
  });
};

var SecondaryButton = function SecondaryButton(_ref3) {
  var _ref3$label = _ref3.label,
      label = _ref3$label === undefined ? 'Suggest' : _ref3$label,
      _ref3$className = _ref3.className,
      className = _ref3$className === undefined ? 'suggest' : _ref3$className,
      onClick = _ref3.onClick;

  return createVNode(16, WizardButton, {
    'isValid': true,
    'className': className,
    'label': label,
    'onClick': onClick
  });
};

var WizardFooter = function WizardFooter(_ref4) {
  var className = _ref4.className,
      onPrimary = _ref4.onPrimary,
      onSecondary = _ref4.onSecondary,
      primaryLabel = _ref4.primaryLabel,
      secondaryLabel = _ref4.secondaryLabel,
      children = _ref4.children;

  if (!children) {
    children = [onSecondary && createVNode(16, SecondaryButton, {
      'label': secondaryLabel,
      'onClick': onSecondary
    }, null, null, 'wizard-button-secondary') || null, onPrimary && createVNode(16, PrimaryButton, {
      'label': primaryLabel,
      'onClick': onPrimary
    }, null, null, 'wizard-button-primary') || null];
  }

  return createVNode(2, 'footer', {
    'className': (0, _classnames2.default)('WizStep-footer', className)
  }, children);
};

exports.default = WizardFooter;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 500 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var WizardMessage = function WizardMessage(_ref) {
  var text = _ref.text,
      index = _ref.index;

  var classNames = (0, _classnames2.default)('WizStep-message-line', {
    odd: !(index % 2),
    even: !!(index % 2)
  });
  return createVNode(2, 'div', {
    'className': classNames
  }, text);
};

// usage:
// <WizardHeader>
//   {`First row`}
//   {`Second row`}
// </WizardHeader>
var WizardHeader = function WizardHeader(_ref2) {
  var children = _ref2.children;

  if (!Array.isArray(children)) children = [children];

  return createVNode(2, 'header', {
    'className': 'WizStep-message'
  }, children.map(function (child, index) {
    return createVNode(16, WizardMessage, {
      'index': index,
      'text': child
    }, null, null, index);
  }));
};
WizardHeader.propTypes = {
  children: _infernoCompat.PropTypes.node.isRequired
};

exports.default = WizardHeader;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 501 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _reactKeydown = __webpack_require__(90);

var _classnames = __webpack_require__(59);

var _classnames2 = _interopRequireDefault(_classnames);

var _utils = __webpack_require__(207);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ESC = _reactKeydown.Keys.ESC,
    ENTER = _reactKeydown.Keys.ENTER;
var createVNode = Inferno.createVNode;

var WizardInput = function (_React$Component) {
  (0, _inherits3.default)(WizardInput, _React$Component);

  function WizardInput(props) {
    (0, _classCallCheck3.default)(this, WizardInput);

    var _this = (0, _possibleConstructorReturn3.default)(this, (WizardInput.__proto__ || (0, _getPrototypeOf2.default)(WizardInput)).call(this, props));

    _this.onKeyDown = function (e) {
      var _this$context = _this.context,
          onCancel = _this$context.onCancel,
          isValid = _this$context.isValid;
      var submit = _this.props.submit;

      if (e.which === ESC && onCancel) {
        onCancel();
      } else if (e.which === ENTER && submit && isValid) {
        submit();
      }
    };

    _this.state = {
      value: props.value
    };
    return _this;
  }

  (0, _createClass3.default)(WizardInput, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.state = {
        value: nextProps.value
      };
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var value = this.state.value;
      var _props = this.props,
          placeholder = _props.placeholder,
          _onChange = _props.onChange,
          infoMessage = _props.infoMessage,
          _props$autoFocus = _props.autoFocus,
          autoFocus = _props$autoFocus === undefined ? true : _props$autoFocus,
          _props$type = _props.type,
          type = _props$type === undefined ? 'text' : _props$type;
      var isValid = this.context.isValid;

      var className = (0, _classnames2.default)('WizStep-input', (0, _utils.isValidClassName)(isValid));

      return createVNode(2, 'div', null, [createVNode(512, 'input', {
        'className': className,
        'type': type,
        'autoFocus': autoFocus,
        'placeholder': placeholder,
        'defaultValue': value
      }, null, {
        'onKeyDown': this.onKeyDown,
        'onChange': function onChange(e) {
          var value = e.target.value;
          console.error(value);
          _this2.setState({
            value: value
          }, function () {
            _onChange(value);
          });
        }
      }), infoMessage && createVNode(2, 'div', {
        'className': 'WizStep-input-message error-message'
      }, infoMessage)]);
    }
  }]);
  return WizardInput;
}(_infernoCompat2.default.Component);

WizardInput.propTypes = {
  onChange: _infernoCompat.PropTypes.func.isRequired,
  type: _infernoCompat.PropTypes.string,
  value: _infernoCompat.PropTypes.string,
  placeholder: _infernoCompat.PropTypes.string,
  infoMessage: _infernoCompat.PropTypes.string,
  autoFocus: _infernoCompat.PropTypes.bool
};
WizardInput.contextTypes = {
  isValid: _infernoCompat.PropTypes.bool,
  onCancel: _infernoCompat.PropTypes.func
};
exports.default = WizardInput;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 502 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.WizardInfoMessage = exports.WizardBody = undefined;

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _desc, _value, _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _reactKeydown = __webpack_require__(90);

var _reactKeydown2 = _interopRequireDefault(_reactKeydown);

var _uiComponentDeprecated = __webpack_require__(14);

var _styleverse = __webpack_require__(9);

var _ = __webpack_require__(44);

var _closeFabDecorator = __webpack_require__(743);

var _closeFabDecorator2 = _interopRequireDefault(_closeFabDecorator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

// var {Keys} = keydown
var ESC = _reactKeydown.Keys.ESC,
    ENTER = _reactKeydown.Keys.ENTER;

// TODO: remove, not needed

var createVNode = Inferno.createVNode;
var WizardBody = exports.WizardBody = function WizardBody(_ref) {
  var children = _ref.children;
  return createVNode(2, 'section', {
    'className': 'WizStep-body'
  }, children);
};

var WizardInfoMessage = exports.WizardInfoMessage = function WizardInfoMessage(_ref2) {
  var text = _ref2.text,
      children = _ref2.children;
  return createVNode(2, 'div', {
    'className': 'WizStep-input-message error-message'
  }, text || children);
};

// @closeFabDecorator({closeMethod: 'hide'})
var WizardStep = (_dec = (0, _reactKeydown2.default)(ENTER), _dec2 = (0, _reactKeydown2.default)(ESC), (_class = function (_Component) {
  (0, _inherits3.default)(WizardStep, _Component);

  function WizardStep() {
    var _ref3;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, WizardStep);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref3 = WizardStep.__proto__ || (0, _getPrototypeOf2.default)(WizardStep)).call.apply(_ref3, [this].concat(args))), _this), _this.state = {
      value: undefined
    }, _this.getChildContext = function () {
      var _this$props = _this.props,
          isValid = _this$props.isValid,
          onCancel = _this$props.onCancel;

      return {
        isValid: isValid,
        onCancel: onCancel
      };
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  // hide = () => {
  //   this.props.onCancel()
  // }

  (0, _createClass3.default)(WizardStep, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          body = _props.body,
          header = _props.header,
          infoMessage = _props.infoMessage,
          footerConfig = _props.footerConfig,
          onCancel = _props.onCancel,
          _props$cancelIcon = _props.cancelIcon,
          cancelIcon = _props$cancelIcon === undefined ? 'close' : _props$cancelIcon,
          customStyles = _props.customStyles;

      // @NOTE: if we do not have a cancel, do not show it
      // if (!onCancel) window.hideFab()

      // for decorator

      this.hide = onCancel;

      var stepChildren = children;

      if (!children) {
        stepChildren = createVNode(2, 'div', null, [header && createVNode(16, _.WizardHeader, {
          children: header
        }), infoMessage && createVNode(16, WizardInfoMessage, {
          children: infoMessage
        }), body && createVNode(16, WizardBody, {
          children: body
        }), footerConfig && createVNode(16, _.WizardFooter, (0, _extends3.default)({}, footerConfig))]);
      }

      var close = null;
      // close = { onCancel && <div onClick={onCancel} className="svg-wrap"><CloseIconThin type={cancelIcon} /></div> }

      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), [createVNode(16, _styleverse.Style, {
        'perf': true,
        children: '\n          .Wizard {\n            z-index -- 99 !important\n          }\n          .WizStep .close-x, .WizStep .back-arrow {\n            stroke -- chroma-meta\n            fill -- transparent\n            strokelinecap -- round\n            strokewidth -- .05em\n          }\n        '
      }), customStyles, close, createVNode(2, 'div', {
        'className': 'WizStep-content'
      }, stepChildren)]);
    }
  }, {
    key: 'submit',
    value: function submit() {
      var _props2 = this.props,
          isValid = _props2.isValid,
          submit = _props2.submit;

      if (submit && isValid) submit();
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      var onCancel = this.props.onCancel;

      if (onCancel) onCancel();
    }
  }]);
  return WizardStep;
}(_uiComponentDeprecated.Component), (_applyDecoratedDescriptor(_class.prototype, 'submit', [_dec], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'submit'), _class.prototype), _applyDecoratedDescriptor(_class.prototype, 'cancel', [_dec2], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'cancel'), _class.prototype)), _class));
WizardStep.propTypes = {
  isValid: _infernoCompat.PropTypes.bool,
  onCancel: _infernoCompat.PropTypes.func
};
WizardStep.defaultProps = {
  isValid: true
};
WizardStep.childContextTypes = {
  isValid: _infernoCompat.PropTypes.bool,
  onCancel: _infernoCompat.PropTypes.func
};
exports.default = WizardStep;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 503 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var palettes = {
  getRandom: function getRandom() {
    return randomPalettes[Math.floor(Math.random() * randomPalettes.length)];
  },
  getAll: function getAll() {
    return randomPalettes;
  }
};

exports.default = palettes;


var randomPalettes = [[(0, _Color2.default)('hsl(0,0%,100%)').hexString(), (0, _Color2.default)('hsl(0,0%,80%)').hexString(), (0, _Color2.default)('hsl(0,0%,60%)').hexString(), (0, _Color2.default)('hsl(0,0%,30%)').hexString(), (0, _Color2.default)('hsl(0,0%,20%)').hexString()], ['#E6E2AF', '#A7A37E', '#EFECCA', '#046380', '#002F2F'], ['#468966', '#FFF0A5', '#FFB03B', '#B64926', '#8E2800'], ['#FCFFF5', '#D1DBBD', '#91AA9D', '#3E606F', '#193441'], ['#2C3E50', '#E74C3C', '#ECF0F1', '#3498DB', '#2980B9'], ['#B9121B', '#4C1B1B', '#F6E497', '#FCFAE1', '#BD8D46'], ['#73603D', '#BF8A49', '#F2CA80', '#5E5A59', '#0D0D0D'], ['#000000', '#263248', '#7E8AA2', '#FFFFFF', '#FF9800'], ['#FF6138', '#FFFF9D', '#BEEB9F', '#79BD8F', '#00A388'], ['#225378', '#1695A3', '#ACF0F2', '#F3FFE2', '#EB7F00'], ['#D8CAA8', '#5C832F', '#284907', '#382513', '#363942'], ['#7D8A2E', '#C9D787', '#FFFFFF', '#FFC0A9', '#FF8598'], ['#105B63', '#FFFAD5', '#FFD34E', '#DB9E36', '#BD4932'], ['#004358', '#1F8A70', '#BEDB39', '#FFE11A', '#FD7400'], ['#85DB18', '#CDE855', '#F5F6D4', '#A7C520', '#493F0B'], ['#E8E595', '#D0A825', '#40627C', '#26393D', '#FFFAE4'], ['#B4AF91', '#787746', '#40411E', '#32331D', '#C03000'], ['#FFF8E3', '#CCCC9F', '#33332D', '#9FB4CC', '#DB4105'], ['#2E0927', '#D90000', '#FF2D00', '#FF8C00', '#04756F'], ['#DC3522', '#D9CB9E', '#374140', '#2A2C2B', '#1E1E20'], ['#595241', '#B8AE9C', '#FFFFFF', '#ACCFCC', '#8A0917'], ['#000000', '#333333', '#FF358B', '#01B0F0', '#AEEE00'], ['#96CA2D', '#B5E655', '#EDF7F2', '#4BB5C1', '#7FC6BC'], ['#292929', '#5B7876', '#8F9E8B', '#F2E6B6', '#412A22'], ['#1C1D21', '#31353D', '#445878', '#92CDCF', '#EEEFF7'], ['#10222B', '#95AB63', '#BDD684', '#E2F0D6', '#F6FFE0'], ['#5A1F00', '#D1570D', '#FDE792', '#477725', '#A9CC66'], ['#B0CC99', '#677E52', '#B7CA79', '#F6E8B1', '#89725B'], ['#F6F792', '#333745', '#77C4D3', '#DAEDE2', '#EA2E49'], ['#405952', '#9C9B7A', '#FFD393', '#FF974F', '#F54F29'], ['#703030', '#2F343B', '#7E827A', '#E3CDA4', '#C77966'], ['#E7E8D1', '#D3CEAA', '#FBF7E4', '#424242', '#8E001C'], ['#B8ECD7', '#083643', '#B1E001', '#CEF09D', '#476C5E'], ['#04BFBF', '#CAFCD8', '#F7E967', '#A9CF54', '#588F27'], ['#2F2933', '#01A2A6', '#29D9C2', '#BDF271', '#FFFFA6'], ['#00261C', '#044D29', '#168039', '#45BF55', '#96ED89'], ['#16193B', '#35478C', '#4E7AC7', '#7FB2F0', '#ADD5F7'], ['#962D3E', '#343642', '#979C9C', '#F2EBC7', '#348899'], ['#DDDCC5', '#958976', '#611427', '#1D2326', '#6A6A61'], ['#E1E6FA', '#C4D7ED', '#ABC8E2', '#375D81', '#183152'], ['#332532', '#644D52', '#F77A52', '#FF974F', '#A49A87'], ['#88A825', '#35203B', '#911146', '#CF4A30', '#ED8C2B'], ['#A7304F', '#F46D8D', '#F39EB5', '#081028', '#F0CEB7'], ['#F7F2B2', '#ADCF4F', '#84815B', '#4A1A2C', '#8E3557'], ['#3E454C', '#2185C5', '#7ECEFD', '#FFF6E5', '#FF7F66'], ['#450003', '#5C0002', '#94090D', '#D40D12', '#FF1D23'], ['#2B3A42', '#3F5765', '#BDD4DE', '#EFEFEF', '#FF530D'], ['#F2385A', '#F5A503', '#E9F1DF', '#4AD9D9', '#36B1BF'], ['#FF5335', '#B39C85', '#306E73', '#3B424D', '#1D181F'], ['#CFC291', '#FFF6C5', '#A1E8D9', '#FF712C', '#695D46'], ['#00585F', '#009393', '#FFFCC4', '#F0EDBB', '#FF3800'], ['#354242', '#ACEBAE', '#FFFF9D', '#C9DE55', '#7D9100'], ['#F9E4AD', '#E6B098', '#CC4452', '#723147', '#31152B'], ['#334D5C', '#45B29D', '#EFC94C', '#E27A3F', '#DF5A49'], ['#6C6E58', '#3E423A', '#417378', '#A4CFBE', '#F4F7D9'], ['#FF6600', '#C13B00', '#5E6D70', '#424E4F', '#1B1D1E'], ['#25064D', '#36175E', '#553285', '#7B52AB', '#9768D1'], ['#2F2933', '#01A2A6', '#29D9C2', '#BDF271', '#FFFFA6'], ['#63A69F', '#F2E1AC', '#F2836B', '#F2594B', '#CD2C24'], ['#170F0E', '#290418', '#505217', '#FFD372', '#FFF1AF'], ['#304269', '#91BED4', '#D9E8F5', '#FFFFFF', '#F26101'], ['#FF8000', '#FFD933', '#CCCC52', '#8FB359', '#192B33'], ['#1A1F2B', '#30395C', '#4A6491', '#85A5CC', '#D0E4F2'], ['#6B0C22', '#D9042B', '#F4CB89', '#588C8C', '#011C26'], ['#36362C', '#5D917D', '#A8AD80', '#E6D4A7', '#825534']];
module.exports = exports['default'];

/***/ }),
/* 504 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  extend: function extend(i, i1, i2, o1, o2, penner) {
    return penner(i - i1, o1, o2 - o1, i2 - i1);
  },
  hold: function hold(i, i1, i2, o1, o2, penner) {
    var t = i - i1;
    if (i >= i2) {
      return o2;
    } else if (i <= i1) {
      return o1;
    }
    return penner(t, o1, o2 - o1, i2 - i1);
  },
  repeat: function repeat(i, i1, i2, o1, o2, penner) {
    var t = i - i1;
    var d = i2 - i1;
    if (t > d) {
      t = t % d;
    } else if (t < 0) {
      t = d + t % d;
    }
    if (t === 0) {
      return o1;
    } else if (t === d) {
      return o2;
    }
    return penner(t, o1, o2 - o1, d);
  },
  silent: function silent(i, i1, i2, o1, o2, penner) {
    var t = i - i1;
    var d = i2 - i1;
    if (t === 0) {
      return o1;
    } else if (t === d) {
      return o2;
    } else if (i > i2) {
      return undefined;
    } else if (i < i1) {
      return undefined;
    }
    return penner(t, o1, o2 - o1, d);
  },
  mirror: function mirror(i, i1, i2, o1, o2, penner) {
    var t = i - i1;
    var d = i2 - i1;
    if (t < 0) {
      t = d + t;
    }

    if (t === 0) {
      return o1;
    } else if (t === d) {
      return o2;
    }

    var phase = Math.round(t / d) % 2;
    if (phase === 0) {
      // normal
      t = t % d;
    } else {
      // invert
      t = d - t % d;
    }
    return penner(t, o1, o2 - o1, d);
  }
};
module.exports = exports["default"];

/***/ }),
/* 505 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {

  // var   penner          i/o               x-y graph
  //
  // t =   time            || input from 0   || x - x1
  // b =   begining        || output start   || y1
  // c =   position change || output span    || y2 - y1
  // d =   duration        || input span     || x2 - x1
  //
  // returns position      || output         || y


  linear: function linear(t, b, c, d) {
    return c * t / d + b;
  },


  // Sinusoidal: y(x) = sin(X × π/2)
  //
  // Sinusoidal easing is quite gentle, even more so than quadratic easing.  its path doesn’t have a lot of curvature. Much of the curve resembles a straight line angled at 45 degrees, with just a bit of acurve to it.
  //
  // Two of the sinusoidal easing functions use cosine instead, but only to optimize the calculation. Sine and cosine functions can be transformed into each other at will. You just have to shift the curves along the time axis by one-quarter of a cycle (90 degreesor π/2 radians).

  sineIn: function sineIn(t, b, c, d) {
    return c * (1 - Math.cos(t / d * (Math.PI / 2))) + b;
  },
  sineOut: function sineOut(t, b, c, d) {
    return c * Math.sin(t / d * (Math.PI / 2)) + b;
  },
  sineInOut: function sineInOut(t, b, c, d) {
    return c / 2 * (1 - Math.cos(Math.PI * t / d)) + b;
  },


  // Quadratic: y(x) = x^2, parabola
  //
  // I always wondered why the term quad-ratic (the prefix means “four”) is used to describe equations with a degree of two (x2). I finally looked it up in the dictionary (RTFD, you might say). I discovered that quad originally referred to the four sides of a square. Thus, a squared variable is quadratic.

  quadIn: function quadIn(t, b, c, d) {
    return c * (t /= d) * t + b;
  },
  quadOut: function quadOut(t, b, c, d) {
    return -c * (t /= d) * (t - 2) + b;
  },
  quadInOut: function quadInOut(t, b, c, d) {
    if ((t /= d / 2) < 1) {
      c / 2 * t * t + b;
    }
    return -c / 2 * (--t * (t - 2) - 1) + b;
  },


  // Cubic: y(x) = x^3
  //
  // A cubic ease is a bit more curved than a quadratic one.

  cubicIn: function cubicIn(t, b, c, d) {
    return c * Math.pow(t / d, 3) + b;
  },
  cubicOut: function cubicOut(t, b, c, d) {
    return c * (Math.pow(t / d - 1, 3) + 1) + b;
  },
  cubicInOut: function cubicInOut(t, b, c, d) {
    if ((t /= d / 2) < 1) {
      c / 2 * Math.pow(t, 3) + b;
    }
    return c / 2 * (Math.pow(t - 2, 3) + 2) + b;
  },


  // Quartic: y(x) = x^4
  //
  // Puts just a bit more bend in the curve. A cubic ease, though more pronounced than a quadratic ease, still feels fairly natural. It’s at the quartic level that the motion starts to feel a bit “other-worldly,” as the acceleration becomes more exaggerated.

  quartIn: function quartIn(t, b, c, d) {
    return c * Math.pow(t / d, 4) + b;
  },
  quartOut: function quartOut(t, b, c, d) {
    return -c * (Math.pow(t / d - 1, 4) - 1) + b;
  },
  quartInOut: function quartInOut(t, b, c, d) {
    if ((t /= d / 2) < 1) {
      c / 2 * Math.pow(t, 4) + b;
    }
    return -c / 2 * (Math.pow(t - 2, 4) - 2) + b;
  },


  // Quintic: y(x) = x^5
  //
  // Quintic is a fairly pronounced curve, as Figure 7-10 shows. The motion starts out quite slow, then becomes quite fast. The curvature of the graph is close to that of exponential easing

  quintIn: function quintIn(t, b, c, d) {
    return c * Math.pow(t / d, 5) + b;
  },
  quintOut: function quintOut(t, b, c, d) {
    return c * (Math.pow(t / d - 1, 5) + 1) + b;
  },
  quintInOut: function quintInOut(t, b, c, d) {
    if ((t /= d / 2) < 1) {
      c / 2 * Math.pow(t, 5) + b;
    }
    return c / 2 * (Math.pow(t - 2, 5) + 2) + b;
  },


  // Circular: y(x) = 1 - Math.sqrt(1-x^2)
  //
  // Circular easing is based on the equation for half of a circle, which uses a square root
  //
  // The curve for circular easing is simply an arc - a quarter-circle
  //
  // it adds a unique flavor when put into motion. Like quintic and exponential easing, the acceleration for circular easing is dramatic, but somehow it seems to happen more “suddenly” than the others.

  circIn: function circIn(t, b, c, d) {
    return c * (1 - Math.sqrt(1 - (t /= d) * t)) + b;
  },
  circOut: function circOut(t, b, c, d) {
    return c * (1 - Math.sqrt(1 - (t /= d) * t)) + b;
  },
  circInOut: function circInOut(t, b, c, d) {
    if ((t /= d / 2) < 1) {
      c / 2 * (1 - Math.sqrt(1 - t * t)) + b;
    }
    return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;
  },


  // Exponential: y(x) = 2^(10(x-1))
  //
  // Exponential easing has a lot of curvature
  //
  // this one took me the longest to find. Part of the challenge is that the slope for an ease-in curve should be zero at t = 0. An exponential curve, however, never has a slope of zero.  I ended up giving the curve a very small slope that was “close enough” to zero. (If you plug t = 0 into the preceding equation, you get 2^(-10), which is0.0009765625.)

  expoIn: function expoIn(t, b, c, d) {
    return c * Math.pow(2, 10 * (t / d - 1)) + b;
  },
  expoOut: function expoOut(t, b, c, d) {
    return c * (-Math.pow(2, -10 * t / d) + 1) + b;
  },
  expoInOut: function expoInOut(t, b, c, d) {
    if ((t /= d / 2) < 1) {
      c / 2 * Math.pow(2, 10 * (t - 1)) + b;
    }
    return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;
  }
};
module.exports = exports["default"];

/***/ }),
/* 506 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(49);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _Color = __webpack_require__(60);

var _Color2 = _interopRequireDefault(_Color);

var _polator = __webpack_require__(102);

var _polator2 = _interopRequireDefault(_polator);

var _basesFromPalette = __webpack_require__(209);

var _basesFromPalette2 = _interopRequireDefault(_basesFromPalette);

var _Synthesizer = __webpack_require__(208);

var _solver = __webpack_require__(211);

var _solver2 = _interopRequireDefault(_solver);

var _2 = __webpack_require__(100);

var _3 = _interopRequireDefault(_2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var nextFrom = _3.default.nextFrom,
    scoredQuery = _3.default.scoredQuery,
    nearestNum = _3.default.nearestNum,
    nearestCircularDistributed = _3.default.nearestCircularDistributed;

var ChromeSolver = function (_Solver) {
  (0, _inherits3.default)(ChromeSolver, _Solver);

  function ChromeSolver() {
    (0, _classCallCheck3.default)(this, ChromeSolver);
    return (0, _possibleConstructorReturn3.default)(this, (ChromeSolver.__proto__ || (0, _getPrototypeOf2.default)(ChromeSolver)).apply(this, arguments));
  }

  (0, _createClass3.default)(ChromeSolver, [{
    key: 'solve',
    value: function solve() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      var iconSelected = void 0;
      var iconOver = void 0;
      var result = void 0;
      var colors = (0, _get3.default)(ChromeSolver.prototype.__proto__ || (0, _getPrototypeOf2.default)(ChromeSolver.prototype), 'solve', this).call(this, options);
      var base = colors.base,
          title = colors.title,
          bg = colors.bg,
          box = colors.box,
          text = colors.text,
          meta = colors.meta,
          metaHover = colors.metaHover,
          boxPop = colors.boxPop,
          boxPopText = colors.boxPopText,
          boxPopTextHover = colors.boxPopTextHover,
          textPop = colors.textPop,
          textShadow = colors.textShadow,
          palette = colors.palette,
          type = colors.type,
          colorsToString = colors.colorsToString;


      var isLight = void 0;
      var isDark = void 0;
      var lightnessClass = void 0;
      var boxShadow = void 0;
      if (colors.box.light()) {
        isLight = true;
        isDark = false;
        lightnessClass = 'is-light';
        boxShadow = (0, _Color2.default)('hsla(0,0%,0%,.1)');
      } else {
        isLight = false;
        isDark = true;
        lightnessClass = 'is-dark';
        boxShadow = (0, _Color2.default)('hsla(0,0%,0%,.3)');
      }

      var title2 = void 0;
      if (colors.title.length === 1) {
        title2 = colors.title[0];
      } else {
        title2 = colors.title[1];
      }

      var textPop2 = void 0;
      if (colors.textPop.length === 1) {
        textPop2 = colors.textPop[0];
      } else {
        textPop2 = colors.textPop[1];
      }

      var zebraStripe = colors.box.clone().mix(colors.meta, .05);
      var line = colors.meta.clone().mix(colors.box).mix(colors.box);

      var mediaBorder = {
        css: '1px solid ' + line.hslString(),
        width: 1,
        type: 'solid',
        color: line
      };

      var b = void 0;
      var w = void 0;
      if (isLight) {
        b = 'rgba(0, 0, 0, 0.2)';
        w = 'rgba(255, 255, 255, 0.1)';
      } else {
        b = 'rgba(0, 0, 0, 0.4)';
        w = 'rgba(255, 255, 255, 0.1)';
      }
      var mediaShadowColor = (0, _Color2.default)(b);
      var mediaInsetColor = (0, _Color2.default)(w);
      var mediaShadows = [{
        css: '0 1px 2px ' + b,
        x: 0,
        y: 1,
        blur: 2,
        color: mediaShadowColor,
        inset: false
      }, {
        css: 'inset 0 1px 1px ' + w,
        x: 0,
        y: 1,
        blur: 1,
        color: mediaInsetColor,
        inset: true
      }];

      var icon = iconSelected = iconOver = textPop[0];

      var sliderTrack = line;
      // sliderTrackShadows: []
      // sliderLabel sames as title
      // sliderBall  same as boxpop & boxpop2

      var boxPopByVibrance = scoredQuery([].concat(boxPop).concat(palette), function (c) {
        if (c.hslString() === box.hslString()) {
          return undefined;
        }
        var score = c.chromaDistance() * -1;
        // if box.isVibrant()
        //  score *= -1 if c.hue() - box.hue() < 20
        return score;
      });

      var synthesizer = new _Synthesizer.Synthesizer();

      // create ::Selection bg & text colors
      // - synthesize vibrant if needed
      // - if box is dark, must be dark, etc

      var possibleSelectionsUnfiltered = [];
      for (var i = 0; i < boxPopByVibrance.length; i++) {
        var bpop = boxPopByVibrance[i];
        if (!bpop.isVibrant()) {
          possibleSelectionsUnfiltered.push(synthesizer.vibrant(bpop));
        } else {
          possibleSelectionsUnfiltered.push(bpop);
        }
      }
      // for (let c of boxPopByVibrance) {
      //   if (!c.isVibrant()) {
      //     possibleSelectionsUnfiltered.push(synthesizer.vibrant(c));
      //   } else {
      //     possibleSelectionsUnfiltered.push(c);
      //   }
      // }

      var possibleSelections = possibleSelectionsUnfiltered.filter(function (c) {
        if (box.dark()) {
          return !!c.dark();
        }
        if (box.light()) {
          return !!c.light();
        }
      });
      if (possibleSelections.length === 0) {
        possibleSelections = possibleSelectionsUnfiltered;
      }
      var selection = possibleSelections[0].clone();

      if (colorsToString) {
        if (!['rgbString', 'hslString', 'hexString'].includes(colorsToString)) {
          colorsToString = 'rgbString';
        }
      }
      var put = function put(_c) {
        if (colorsToString) {
          if (_c[colorsToString]) return _c[colorsToString]();
        }
        return _c;
      };

      return result = {

        type: type, // dark, light, vibrant, user
        isLight: isLight,
        isDark: isDark,
        lightnessClass: lightnessClass, // "is-light" or "is-dark"

        base: put(base),

        bg: put(bg),

        box: put(box),
        boxShadow: put(boxShadow),

        boxPop: put(boxPop[0]),
        boxPopText: put(boxPop[0].whiteOrBlack()),
        boxPop2: boxPop[1] ? put(boxPop[1]) : put(boxPop[0]),
        boxPop2Text: boxPop[1] ? put(boxPop[1].whiteOrBlack()) : put(boxPop[0].whiteOrBlack()),
        boxPopTextHover: put(boxPopTextHover[0]),
        boxPop2TextHover: boxPopTextHover[1] ? put(boxPopTextHover[1]) : put(boxPopTextHover[0]),

        boxPopMostVibrant: put(boxPopByVibrance[0]),
        boxPopMostVibrantText: put(boxPopByVibrance[0].whiteOrBlack()),

        selectionText: put(colors.box.whiteOrBlack()),
        selection: put(selection.alpha(.5)),

        header: put(colors.box.clone().mix(colors.bg, .3)),

        zebraStripe: put(zebraStripe),
        line: put(line),

        mediaBorder: put(mediaBorder),
        mediaShadowColor: put(mediaShadowColor),
        mediaInsetColor: put(mediaInsetColor),
        mediaShadows: put(mediaShadows),

        title: put(title[0]), // [format]()
        title2: put(title2),

        subTitle: put(meta),

        text: put(text[0]),
        text2: text[1] ? put(text[1]) : put(text[0]),
        textShadow: put(textShadow),
        textShadowProps: {
          color: put(textShadow),
          x: 0,
          y: 1,
          blur: 0
        },

        textPop: put(textPop[0]),
        textPop2: put(textPop2),

        meta: put(meta),
        metaHover: put(metaHover),

        icon: put(icon),
        iconSelected: put(iconSelected),
        iconOver: put(iconOver),

        palette: palette
      };
    }
  }]);
  return ChromeSolver;
}(_solver2.default);

exports.default = ChromeSolver;
module.exports = exports['default'];

/***/ }),
/* 507 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

Immutable.PropTypes.list         // Immutable.List.isList
Immutable.PropTypes.map          // Immutable.Map.isMap
Immutable.PropTypes.orderedMap   // Immutable.OrderedMap.isOrderedMap
Immutable.PropTypes.set          // Immutable.Set.isSet
Immutable.PropTypes.orderedSet   // Immutable.OrderedSet.isOrderedSet
Immutable.PropTypes.stack        // Immutable.Stack.isStack
Immutable.PropTypes.seq          // Immutable.Seq.isSeq
Immutable.PropTypes.iterable     // Immutable.Iterable.isIterable
Immutable.PropTypes.record       // instanceof Record
Immutable.PropTypes.contains     // Immutable.Iterable.isIterable - contains(shape)
Immutable.PropTypes.mapContains  // Immutable.Map.isMap - contains(shape)

*/

// let PropTypes = Object.assign( {}, React.PropTypes, ImmutablePropTypes )

exports.default = _infernoCompat2.default.PropTypes;
module.exports = exports['default'];

/***/ }),
/* 508 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _infernoCompat2.default; // import React from 'inferno-compat';

module.exports = exports['default'];

/***/ }),
/* 509 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

  // Class inheritance uses Object.create and because of __proto__ issues
  // with IE <10 any static properties of the superclass aren't inherited and
  // so need to be manually populated.
  // See http://babeljs.io/docs/advanced/caveats/#classes-10-and-below-
  cloneComponentProps(component, Enhancer);

  if (process.env.NODE_ENV !== 'production') {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    cloneComponentProps(ComposedComponent.prototype, Enhancer.prototype);
  }

*/

var KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES = ['arguments', 'callee', 'caller', 'length', 'name', 'prototype', 'type'];

var _BROWSER_IS_IE = void 0;
var BROWSER_IS_IE = function BROWSER_IS_IE() {
  if (_BROWSER_IS_IE !== undefined) return _BROWSER_IS_IE;
  var window = window || global;
  if (!window || !window.navigator) return false;
  var ua = window.navigator.userAgent;
  var msie = ua.indexOf('MSIE ');

  if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
    _BROWSER_IS_IE = true;
    // version number = parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)))
  } else {
    _BROWSER_IS_IE = false;
  }

  return false;
};

function cloneComponentProps(source, target) {
  var safeCheckRecurse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;


  if (BROWSER_IS_IE()) {
    var sources = (0, _getOwnPropertyNames2.default)(source);
    for (var i = 0, len = sources.length; i < len; i++) {
      var key = sources[i];
      if (KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES.indexOf(key) < 0 && !target.hasOwnProperty(key)) {
        var descriptor = (0, _getOwnPropertyDescriptor2.default)(source, key);
        (0, _defineProperty2.default)(target, key, descriptor);
      }
    }
  }

  if (safeCheckRecurse && "production" !== 'production') {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    cloneComponentProps(source.prototype, target.prototype, false);
  }
}

exports.default = cloneComponentProps;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 510 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var degrees = {
  toRads: function toRads(deg) {
    return deg * Math.PI / 180;
  },
  fromRads: function fromRads(rad) {
    return rad * 180 / Math.PI;
  }
};

exports.default = degrees;
module.exports = exports["default"];

/***/ }),
/* 511 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = fromTo;
function fromTo(value, fromLow, fromHigh, toLow, toHigh) {
  var fromRangeSize = fromHigh - fromLow;
  var toRangeSize = toHigh - toLow;
  var valueScale = (value - fromLow) / fromRangeSize;
  return toLow + valueScale * toRangeSize;
}
module.exports = exports["default"];

/***/ }),
/* 512 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _imgfloUrl = __webpack_require__(120);

var _imgfloUrl2 = _interopRequireDefault(_imgfloUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var imgfloConfig = {
  'server': 'https://imgflo.herokuapp.com/',
  'key': '5d24a8ac9b4ac51',
  'label': 'TheGrid Webapp production',
  'secret': '6c1480fefb5a273'
};

var imgflo = {

  url: function url(_url) {
    return (0, _imgfloUrl2.default)(imgfloConfig, 'passthrough', { input: _url });
  },

  ext: function ext() {
    var operation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'passthrough';
    var obj = arguments[1];
    var format = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'jpg';

    return (0, _imgfloUrl2.default)(imgfloConfig, operation, obj, format);
  }

};

exports.default = imgflo;
module.exports = exports['default'];

/***/ }),
/* 513 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _lodash = __webpack_require__(87);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _lodash2.default;
module.exports = exports['default'];

/***/ }),
/* 514 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.debounce = exports.throttle = undefined;

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _raf2.default;

/*

window.raf = raf




var time = Date.now();
var func = raf.throttle(function(){var next = Date.now(); console.log('x --------- ',next-time); time=next;}, {leading:2, delay: 32})
var i =0
function tick(){
  i++
  if(i < 32){ setTimeout(tick,1) }
  func('x')
  console.log('-',i)
}
setTimeout(tick,1)

*/

var DEFAULT_THROTTLE_OPTIONS = {
  leading: 0, // 0 === wait for delay, 1 === wait for raf, 2 === before raf
  delay: 0
};
function throttle(callback, options) {
  if (!options) {
    options = DEFAULT_THROTTLE_OPTIONS;
  } else {
    options = (0, _assign2.default)({}, DEFAULT_THROTTLE_OPTIONS, options);
  }
  var _options = options,
      leading = _options.leading,
      delay = _options.delay;


  if (leading === true) leading = 1;

  var requestId = null;
  var startTime = null;
  var is_leading = false;
  var args_to_apply = undefined;

  var execution_count = 0;
  var request_count = 0;
  var immediate = false;
  var leadingDone_request = void 0;
  function later() {
    //console.log('..later',{immediate,request_count,execution_count})
    if (immediate) {
      immediate = false;
      var _args = args_to_apply;
      args_to_apply = undefined;
      execution_count++;
      //console.log('...lead!!!')
      _raf2.default.cancel(leadingDone_request);
      leadingDone_request = (0, _raf2.default)(leadingDone);
      return callback.apply(undefined, (0, _toConsumableArray3.default)(_args));
    }

    if (delay && startTime) {
      var elapsed = Date.now() - startTime;
      if (elapsed < delay) {
        requestId = (0, _raf2.default)(later);
        _raf2.default.cancel(leadingDone_request);
        leadingDone_request = (0, _raf2.default)(leadingDone);
        return;
      }
    }

    startTime = null;
    requestId = null;
    var args = args_to_apply;
    args_to_apply = undefined;
    var results = void 0;
    if (execution_count !== request_count) {
      execution_count++;
      //console.log('exec!!!!')
      results = callback.apply(undefined, (0, _toConsumableArray3.default)(args));
    }
    _raf2.default.cancel(leadingDone_request);
    leadingDone_request = (0, _raf2.default)(leadingDone);
    return results;
  }

  function leadingDone() {
    //console.log('leadingDone')
    is_leading = false;
  }
  function throttled() {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    //console.log('throttled()')
    args_to_apply = args;
    if (execution_count === request_count) request_count++;
    if (requestId === null) {
      if (leading && startTime === null && !is_leading) {
        is_leading = true;
        immediate = true;
        //console.log('lead...')
        if (leading === 2) {
          later();
        } else {
          (0, _raf2.default)(later);
        }
      }
      if (delay && startTime === null) startTime = Date.now();
      //console.log('raf(later)..')
      requestId = (0, _raf2.default)(later);
    }
    _raf2.default.cancel(leadingDone_request);
    leadingDone_request = (0, _raf2.default)(leadingDone);
  }
  function tick() {}
  function cancel() {
    if (requestId) {
      _raf2.default.cancel(requestId);
      requestId = null;
    }
    if (leadingDone_request) {
      _raf2.default.cancel(leadingDone_request);
      leadingDone_request = null;
    }
    immediate = false;
    startTime = null;
    args_to_apply = undefined;
    is_leading = false;
    execution_count = 0;
    request_count = 0;
  }
  throttled.cancel = cancel;
  return throttled;
}

var DEFAULT_DEBOUNCE_OPTIONS = {
  leading: false,
  delay: 0
};
function debounce(callback, options) {
  if (!options) {
    options = DEFAULT_DEBOUNCE_OPTIONS;
  } else {
    options = (0, _assign2.default)({}, DEFAULT_DEBOUNCE_OPTIONS, options);
  }
  var _options2 = options,
      leading = _options2.leading,
      delay = _options2.delay;

  var requestId = null;
  var end_request = null;
  var startTime = void 0;
  var args_to_apply = void 0;
  function debounced() {
    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    args_to_apply = args;
    if (requestId === null) {
      if (leading) later(args);
    } else {
      _raf2.default.cancel(requestId);
    }
    if (delay) startTime = Date.now();
    requestId = (0, _raf2.default)(later(args));
  }
  function later(args) {
    return function () {
      if (delay) {
        var elapsed = Date.now() - startTime;
        if (elapsed < delay) {
          requestId = (0, _raf2.default)(later(args));
          return;
        }
      }
      requestId = null;
      _raf2.default.cancel(end_request);
      end_request = (0, _raf2.default)(end);
    };
  }
  function end() {
    if (!requestId) {
      var args = args_to_apply;
      end_request = undefined;
      args_to_apply = undefined;
      return callback.apply(undefined, (0, _toConsumableArray3.default)(args));
    }
  }
  function cancel() {
    if (requestId) _raf2.default.cancel(requestId);
    if (end_request) _raf2.default.cancel(end_request);
    startTime = null;
    requestId = null;
    end_request = null;
    args_to_apply = undefined;
  }
  debounced.cancel = cancel;
  return debounced;
}

_raf2.default.throttle = throttle;
_raf2.default.debounce = debounce;
exports.throttle = throttle;
exports.debounce = debounce;

/***/ }),
/* 515 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _lodash = __webpack_require__(88);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _lodash2.default;
module.exports = exports['default'];

/***/ }),
/* 516 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _styleverse2 = _interopRequireDefault(_styleverse);

var _layoutverse = __webpack_require__(105);

var _uiSprung = __webpack_require__(64);

var _uiFab = __webpack_require__(222);

var _uiFab2 = _interopRequireDefault(_uiFab);

var _uiFaf = __webpack_require__(620);

var _uiFaf2 = _interopRequireDefault(_uiFaf);

var _uiFan = __webpack_require__(627);

var _uiFan2 = _interopRequireDefault(_uiFan);

var _uiStoryMachine = __webpack_require__(28);

var _stories = __webpack_require__(523);

var _stories2 = _interopRequireDefault(_stories);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var App = function (_React$Component) {
  (0, _inherits3.default)(App, _React$Component);

  function App() {
    (0, _classCallCheck3.default)(this, App);
    return (0, _possibleConstructorReturn3.default)(this, (App.__proto__ || (0, _getPrototypeOf2.default)(App)).apply(this, arguments));
  }

  (0, _createClass3.default)(App, [{
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      var children = this.props.children;

      return createVNode(16, _uiSprung.SpringsContext, {
        'id': 'root-springs',
        children: createVNode(16, _styleverse2.default, {
          children: createVNode(16, _layoutverse.LayoutverseRoot, {
            children: createVNode(16, _uiFaf2.default, {
              children: createVNode(16, _uiFab2.default, {
                children: createVNode(16, _uiFan2.default, {
                  children: createVNode(16, _uiStoryMachine.Storyline, {
                    'stories': _stories2.default,
                    children: children
                  })
                })
              })
            })
          })
        })
      });
    }
  }]);
  return App;
}(_infernoCompat2.default.Component);

exports.default = App;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 517 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var sheet = createVNode(16, _styleverse.Style, {
  'id': 'color-panel-styles',
  children: '\n    #color-panel {\n      pos -- fixed\n      l -- 0\n      t -- 0\n      b -- 0\n      w -- 240\n      overflow-y -- scroll\n\n      .palette {\n        d -- flex\n        flx-dir -- row\n      }\n      .palette {\n        h -- 60\n        w -- 100%\n        d -- flex\n        flx-dir -- row\n        pad -- 12\n\n      }\n      .palette_color {\n        flex-grow -- 1\n        h -- 100%\n      }\n    }\n  '
}, null, null, 'color-panel-styles');

var ColorPanel = function (_React$Component) {
  (0, _inherits3.default)(ColorPanel, _React$Component);

  function ColorPanel() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ColorPanel);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ColorPanel.__proto__ || (0, _getPrototypeOf2.default)(ColorPanel)).call.apply(_ref, [this].concat(args))), _this), _this.finish = function () {
      _this.targetEl.removeEventListener('mouseenter', _this.finish);
      _this.targetEl = undefined;

      // this.el.removeEventListener('mouseleave', this.finish)
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ColorPanel, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.targetEl = document.getElementsByClassName('section-layout')[0];
      this.targetEl.addEventListener('mouseenter', this.finish);

      // this.el.addEventListener('mouseleave', this.finish)
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.el.removeEventListener('mouseleave', this.finish);
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      var props = this.props;
      return createVNode(2, 'div', {
        'id': 'color-panel'
      }, [sheet, createVNode(2, 'div', {
        'className': 'palettes'
      }, _deps.palettes.getAll().map(function (palette) {
        return createVNode(2, 'div', {
          'className': 'palette'
        }, palette.map(function (color) {
          return createVNode(2, 'div', {
            'className': 'palette_color',
            'style': { background: color }
          });
        }), {
          'onClick': props.onSelect.bind(this, palette)
        });
      })), this.props.children], null, null, function (el) {
        if (_this2.el) return;
        _this2.el = el;
      });
    }
  }]);
  return ColorPanel;
}(_infernoCompat2.default.Component);

ColorPanel.displayName = 'ColorPanel';
ColorPanel.defaultProps = {
  children: null
};
exports.default = ColorPanel;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 518 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _colorPanel = __webpack_require__(517);

var _colorPanel2 = _interopRequireDefault(_colorPanel);

var _deps = __webpack_require__(13);

var _uiStoryMachine = __webpack_require__(28);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Color = function (_Story) {
  (0, _inherits3.default)(Color, _Story);

  function Color() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Color);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Color.__proto__ || (0, _getPrototypeOf2.default)(Color)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'color', _this.setColors = function (colors) {
      _this.contextRequest('styleverse', 'merge', { styleContext: { chroma: { colors: colors, type: 'natural' } } });
    }, _this.UI = {
      FAB: (0, _immutable.fromJS)({
        // show: true,
        // chroma: {type: 'dark', typeIndex: 0},
        active: true,
        icon: 'arrow_back',
        activeIcon: 'arrow_back',
        onClick: function onClick() {
          _this.contextRequest('storyline', 'to-story', 'design');
          return false;
        },
        actionList: [{
          icon: 'shuffle',
          onClick: function onClick() {
            _this.setColors(_deps.palettes.getRandom());
            return false;
          }
        }]
      })
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Color, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'merge', this.UI.FAB);
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_colorPanel2.default, { key: 'color-panel', onSelect: this.setColors }, children);
    }
  }]);
  return Color;
}(_uiStoryMachine.Story);

exports.default = Color;
module.exports = exports['default'];

/***/ }),
/* 519 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}
var count = 0;

var createVNode = Inferno.createVNode;
var styles = createVNode(16, _styleverse.Style, {
  'perf': true,
  'id': 'global-styles',
  children: '\n\n    body, html {\n      bg-clr -- chroma-bg\n    }\n\n    .fan_content {\n      pad-l -- 10vw\n    }\n\n  '
}, null, null, 'global-styles');
var readyStyles = createVNode(16, _styleverse.Style, {
  'perf': true,
  'id': 'readyStyles',
  children: '\n\n    .section-layout {\n      tf-origin -- 50% 0%\n      tf -- scale(.8)\n      transition -- transform .3s\n      box-sh -- l\n\n      //section:hover {\n      //  .next-section-layout-button {\n      //    border-rad -- 50%\n      //    bg -- chroma-box-pop\n      //    color -- chroma-inverse-box\n      //    d -- flex\n      //    flx-aln -- mid\n      //    flx-jst -- mid\n      //    w -- 100\n      //    h -- 100\n      //    r -- 0\n      //    t -- 50%\n      //  }\n      //}\n\n      // &:hover {\n      //   .component--layout-node:not(:hover) section {\n      //     o -- .25\n      //   }\n      // }\n      .component--layout-node {\n        :first-child {\n          tf-origin -- 50% 0%\n        }\n        > div > section {\n          transition -- transform .3s, box-shadow .3s, opacity .3s\n        }\n        &:hover {\n          z-index -- 1001 !important\n          > div > section {\n           tf -- scale(1.03)\n           box-sh -- l\n          }\n        }\n\n      }\n    }\n\n  '
}, null, null, 'readyStyles');

var ContentResizer = function (_React$Component) {
  (0, _inherits3.default)(ContentResizer, _React$Component);

  function ContentResizer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ContentResizer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ContentResizer.__proto__ || (0, _getPrototypeOf2.default)(ContentResizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      ready: false
    }, _this.onReady = function () {
      (0, _deps.raf)(function () {
        _this.targetEl.addEventListener('mouseleave', _this.onTargetMouseLeave);
        _this.targetEl.addEventListener('mouseenter', _this.onTargetMouseEnter);
        _this.setState({ ready: true }, NOOP);
      });
    }, _this.onTargetMouseEnter = function () {
      _this.context.request('FAB', 'deactivate');
      _this.context.request('FAF', 'hide');
      // this.context.request('FAB', 'hide')
    }, _this.onTargetMouseLeave = function () {
      _this.context.request('FAB', 'activate');
      _this.context.request('FAF', 'show');
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ContentResizer, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.targetEl = document.getElementsByClassName('section-layout')[0];
      setTimeout(this.onReady, 300);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.targetEl.removeEventListener('mouseenter', this.onTargetMouseEnter);
      this.targetEl.removeEventListener('mouseleave', this.onTargetMouseLeave);
    }
  }, {
    key: 'render',
    value: function render() {
      return createVNode(16, _styleverse.StyleContext, {
        'chroma': { type: 'light' },
        children: createVNode(2, 'div', {
          'id': 'design-resizer'
        }, [styles, this.state.ready ? readyStyles : null, this.props.children], null, 'design-resizer')
      });
    }
  }]);
  return ContentResizer;
}(_infernoCompat2.default.Component);

ContentResizer.displayName = 'ContentResizer';
ContentResizer.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
ContentResizer.defaultProps = {
  children: null
};
exports.default = ContentResizer;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 520 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _contentResizer = __webpack_require__(519);

var _contentResizer2 = _interopRequireDefault(_contentResizer);

var _immutable = __webpack_require__(6);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Content = function (_Story) {
  (0, _inherits3.default)(Content, _Story);

  function Content() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Content);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Content.__proto__ || (0, _getPrototypeOf2.default)(Content)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'content', _this.UI = {
      FAB: (0, _immutable.fromJS)({
        show: true,
        active: true,
        icon: '+',
        chroma: { type: 'light', typeIndex: 0 },
        actionList: [{
          label: 'Write something...',
          //icon: 'color_lens',
          onClick: function onClick() {
            alert('Color');
          }
        }, {
          label: 'Import from...',
          //icon: 'text_format',
          onClick: function onClick() {
            alert('Typography');
          }
        }, {
          label: 'Upload',
          //icon: 'text_format',
          onClick: function onClick() {
            alert('Typography');
          }
        }]
      }),
      FAF: (0, _immutable.fromJS)({
        show: true,
        hideOnScroll: true,
        chroma: { type: 'dark', typeIndex: 0 },
        active: 2,
        actionList: [
        // {
        //   //label: 'newsfeed',
        //   icon: 'weekend',
        //   key: 'newsfeed',
        //   willActivate: () => {
        //     alert('show newsfeed')
        //   }
        // },
        {
          //label: 'sites',
          icon: 'apps',
          key: 'sites',
          willActivate: function willActivate() {
            _this.contextRequest('storyline', 'to-story', 'create');
          }
        }, {
          //label: 'thegrid.io',
          icon: 'home',
          //key: 'current-site',
          willActivate: function willActivate() {
            _this.contextRequest('storyline', 'to-story', 'on-the-grid');
          }
        }, {
          label: 'content',
          //icon: 'arrow_back',
          willActivate: function willActivate() {
            //this.contextRequest('storyline', 'to-story','on-the-grid')
            //this.execute('start-story','create')
          }
        }]
      }),
      FAN: (0, _immutable.fromJS)({
        hideOnScroll: false,
        show: true,
        chroma: { type: 'light', typeIndex: 0 },
        active: 0,
        actionList2: [
        //{
        //  icon: 'arrow_back',
        //  willActivate: () => {
        //    raf(()=> {
        //      this.req('app','start-story','on-the-grid')
        //    })
        //  },
        //},
        {
          label: 'published',
          willActivate: function willActivate() {}
        }, {
          label: 'drafts',
          willActivate: function willActivate() {}
        }, {
          label: 'images',
          willActivate: function willActivate() {}
        }, {
          label: 'videos',
          willActivate: function willActivate() {}
        }]
      })
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Content, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
      this.contextRequest('FAF', 'update', this.UI.FAF);
      this.contextRequest('FAN', 'update', this.UI.FAN);
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_contentResizer2.default, { key: 'content-resizer' }, children);
    }
  }]);
  return Content;
}(_uiStoryMachine.Story);

exports.default = Content;
module.exports = exports['default'];

/***/ }),
/* 521 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _deps = __webpack_require__(13);

var _designBody = __webpack_require__(212);

var _designBody2 = _interopRequireDefault(_designBody);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}
var count = 0;

var createVNode = Inferno.createVNode;
var globalStyles = createVNode(16, _styleverse.Style, {
  'perf': true,
  'id': 'design-globalStyles',
  children: '\n\n    .fan_content {\n      pad-l -- 30vw\n    }\n\n    .component--layout-node {\n      d -- flex !important\n    }\n\n  '
}, null, null, 'design-globalStyles');

var readyStyles = createVNode(16, _styleverse.Style, {
  'perf': true,
  'id': 'design-readyStyles',
  children: '\n\n    .section-layout {\n      tf-origin -- 50% 0%\n      tf -- scale(.4)\n      transition -- transform .3s\n      box-sh -- l\n\n      //section:hover {\n      //  .next-section-layout-button {\n      //    border-rad -- 50%\n      //    bg -- chroma-box-pop\n      //    color -- chroma-inverse-box\n      //    d -- flex\n      //    flx-aln -- mid\n      //    flx-jst -- mid\n      //    w -- 100\n      //    h -- 100\n      //    r -- 0\n      //    t -- 50%\n      //  }\n      //}\n\n      &:hover {\n        .component--layout-node:not(:hover) section {\n          o -- .25\n        }\n      }\n      .section-layout-node {\n        :first-child {\n          tf-origin -- 50% 0%\n        }\n        > section {\n          transition -- transform .3s, box-shadow .3s, opacity .3s\n        }\n        &:hover {\n          z-index -- 1001 !important\n          > section {\n            tf -- scale(1.3)\n            box-sh -- l\n          }\n        }\n\n      }\n    }\n\n  '
}, null, null, 'design-readyStyles');

var DesignResizer = function (_React$Component) {
  (0, _inherits3.default)(DesignResizer, _React$Component);

  function DesignResizer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DesignResizer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DesignResizer.__proto__ || (0, _getPrototypeOf2.default)(DesignResizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      ready: false,
      resizeState: undefined
    }, _this.handleStory = function (story) {
      var resizeState = story.get('resizeState');
      if (resizeState === _this.state.resizeState) return;
      _this.setState({ resizeState: resizeState });
    }, _this.onReady = function () {
      (0, _deps.raf)(function () {
        _this.targetEl.addEventListener('mouseleave', _this.onTargetMouseLeave);
        _this.targetEl.addEventListener('mouseenter', _this.onTargetMouseEnter);
        _this.setState({ ready: true }, NOOP);
      });
    }, _this.onTargetMouseEnter = function () {
      _this.context.request('FAB', 'deactivate');
      _this.context.request('FAF', 'hide');
      // this.context.request('FAB', 'hide')
    }, _this.onTargetMouseLeave = function () {
      _this.context.request('FAB', 'activate');
      _this.context.request('FAF', 'show');
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DesignResizer, [{
    key: 'componentWillMount',

    // state = {
    //  // ['iphone','ipad','macbook','full']
    //  deviceType: 'macbook'
    // }

    value: function componentWillMount() {
      this.context.request('layoutverse', 'HACK_YEP');
      this.context.request('story', 'connect', this.handleStory);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.targetEl = document.getElementsByClassName('section-layout')[0];
      setTimeout(this.onReady, 300);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.context.request('layoutverse', 'HACK_NOPE');
      this.context.request('story', 'disconnect', this.handleStory);
      this.targetEl.removeEventListener('mouseenter', this.onTargetMouseEnter);
      this.targetEl.removeEventListener('mouseleave', this.onTargetMouseLeave);
    }
  }, {
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', {
        'id': 'design-resizer'
      }, [globalStyles, this.state.ready ? readyStyles : null, this.props.children, this.renderDevice()], null, 'design-resizer');
    }
  }, {
    key: 'renderDevice',
    value: function renderDevice() {
      if (this.state.resizeState === 'zoom_out') return null;
      return createVNode(16, _designBody2.default, {
        'deviceType': this.state.resizeState
      }, null, null, 'design-body');
    }
  }]);
  return DesignResizer;
}(_infernoCompat2.default.Component);

DesignResizer.displayName = 'DesignResizer';
DesignResizer.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
DesignResizer.defaultProps = {
  children: null
};
exports.default = DesignResizer;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 522 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _designBody = __webpack_require__(212);

var _designBody2 = _interopRequireDefault(_designBody);

var _designResizer = __webpack_require__(521);

var _designResizer2 = _interopRequireDefault(_designResizer);

var _deps = __webpack_require__(13);

var _immutable = __webpack_require__(6);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Design = function (_Story) {
  (0, _inherits3.default)(Design, _Story);

  function Design() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Design);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Design.__proto__ || (0, _getPrototypeOf2.default)(Design)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'design', _this.state = (0, _immutable.Map)({
      resizeState: 'zoom_out'
    }), _this.UI = {
      FAB: (0, _immutable.fromJS)({
        show: true,
        active: true,
        canDeactivate: true,
        icon: '+',
        //activeIcon: 'arrow_back',
        //onClick: () => {
        //  raf(()=> {
        //    this.req('app','start-story','on-the-grid')
        //  })
        //},
        chroma: { type: 'dark', typeIndex: 1 },
        //appButton: presets.appButton.viewSite.call(this),
        actionList: [{
          label: 'Color',
          //icon: 'color_lens',
          onClick: function onClick() {
            //this.req('styleverse', 'merge', {styleContext: {chroma: {colors: palettes.getRandom(), type: 'natural'}}})
            setTimeout(function () {
              // this.req('AppBody', 'add-render', 'right-panel', function() {
              //   return <ColorPanel key="color-panel" />
              // })
              _this.contextRequest('storyline', 'push-story', 'color');
            }, 1);
          }
        }, {
          label: 'Typography',
          //icon: 'text_format',
          onClick: function onClick() {
            alert('Typography');
          }
        }, {
          label: 'Layout',
          //icon: 'text_format',
          onClick: function onClick() {
            _this.contextRequest('storyline', 'set-payload', { sectionRandomIndex: Math.random() });
            // this.actions['set-payload'](this.state, {sectionRandomIndex: Math.random()})
          }
        }]
      }),
      FAF: (0, _immutable.fromJS)({
        show: true,
        hideOnScroll: true,
        chroma: { type: 'light', typeIndex: 1 },
        active: 2,
        actionList: [
        // {
        //   //label: 'newsfeed',
        //   icon: 'weekend',
        //   key: 'newsfeed',
        //   willActivate: () => {
        //     alert('show newsfeed')
        //   }
        // },
        {
          //label: 'sites',
          icon: 'apps',
          key: 'sites',
          willActivate: function willActivate() {
            _this.contextRequest('storyline', 'to-story', 'create');
          }
        }, {
          //label: 'thegrid.io',
          icon: 'home',
          //key: 'current-site',
          willActivate: function willActivate() {
            _this.contextRequest('storyline', 'to-story', 'on-the-grid');
          }
        }, {
          label: 'design',
          //key: 'design',
          willActivate: function willActivate() {
            //this.execute('start-story','create')
          }
        }]
      }),
      FAN: (0, _immutable.fromJS)({
        hideOnScroll: false,
        show: true,
        chroma: { type: 'dark', typeIndex: 1 },
        active: 0,
        actionList: [
        //{
        //  icon: 'arrow_back',
        //  willActivate: () => {
        //    raf(()=> {
        //      this.req('app','start-story','on-the-grid')
        //    })
        //  },
        //},
        {
          icon: 'zoom_out',
          willActivate: function willActivate() {
            _this.execute('set', 'resizeState', 'zoom_out');
          }
        }, {
          icon: 'phone_iphone',
          willActivate: function willActivate() {
            _this.execute('set', 'resizeState', 'iphone');
          }
        }, {
          icon: 'tablet_mac',
          willActivate: function willActivate() {
            _this.execute('set', 'resizeState', 'ipad');
          }
        }, {
          icon: 'laptop',
          willActivate: function willActivate() {
            _this.execute('set', 'resizeState', 'macbook');
          }
        }]
      })
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Design, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
      this.contextRequest('FAF', 'update', this.UI.FAF);
      this.contextRequest('FAN', 'update', this.UI.FAN);
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_designResizer2.default, { key: 'designResizer' }, children);
    }
  }]);
  return Design;
}(_uiStoryMachine.Story);

exports.default = Design;
module.exports = exports['default'];

/***/ }),
/* 523 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _viewSite = __webpack_require__(528);

var _viewSite2 = _interopRequireDefault(_viewSite);

var _viewSiteColorShuffle = __webpack_require__(527);

var _viewSiteColorShuffle2 = _interopRequireDefault(_viewSiteColorShuffle);

var _onTheGrid = __webpack_require__(524);

var _onTheGrid2 = _interopRequireDefault(_onTheGrid);

var _content = __webpack_require__(520);

var _content2 = _interopRequireDefault(_content);

var _people = __webpack_require__(525);

var _people2 = _interopRequireDefault(_people);

var _design = __webpack_require__(522);

var _design2 = _interopRequireDefault(_design);

var _color = __webpack_require__(518);

var _color2 = _interopRequireDefault(_color);

var _visitor_saveForLater = __webpack_require__(529);

var _visitor_saveForLater2 = _interopRequireDefault(_visitor_saveForLater);

var _wiz = __webpack_require__(543);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  // CTAStory,
  'cta-wizard': _wiz.CTAStory,
  'nav-wizard': _wiz.NavStory,
  'collab-wizard': _wiz.CollabStory,

  'view-site': _viewSite2.default,
  'view-site-color-shuffle': _viewSiteColorShuffle2.default,
  'on-the-grid': _onTheGrid2.default,
  content: _content2.default,
  design: _design2.default,
  color: _color2.default,
  people: _people2.default,

  'visitor_save-for-later': _visitor_saveForLater2.default
};

// @NOTE: if this is imported, will need async support

module.exports = exports['default'];

/***/ }),
/* 524 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var OnTheGrid = function (_Story) {
  (0, _inherits3.default)(OnTheGrid, _Story);

  function OnTheGrid() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, OnTheGrid);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = OnTheGrid.__proto__ || (0, _getPrototypeOf2.default)(OnTheGrid)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'on-the-grid', _this.UI = {
      FAB: (0, _immutable.fromJS)({
        show: true,
        active: true,
        chroma: { type: 'dark', typeIndex: 0 },
        icon: '+',
        appButton: {
          icon: 'visibility',
          onClick: function onClick() {
            _this.contextRequest('storyline', 'to-story', 'view-site');
            return false;
          }
        },
        actionList: [{
          label: 'design',
          // key: 'design',
          onClick: function onClick() {
            //setTimeout(()=>{
            _this.contextRequest('storyline', 'push-story', 'design');
            //})
          }
        }, {
          label: 'people',
          // key: 'socialize',
          onClick: function onClick() {
            _this.contextRequest('storyline', 'push-story', 'people');
          }
        }, {
          label: 'content',
          // key: 'create',
          onClick: function onClick() {
            _this.contextRequest('storyline', 'push-story', 'content');
          }
        }]
      }),
      FAF: (0, _immutable.fromJS)({
        show: true,
        hideOnScroll: true,
        chroma: { type: 'light', typeIndex: 1 },
        active: 'current-site',
        actionList: [
        // {
        //   //label: 'newsfeed',
        //   icon: 'weekend',
        //   key: 'newsfeed',
        //   willActivate: () => {
        //     alert('show newsfeed')
        //   }
        // },
        {
          //label: 'sites',
          icon: 'apps',
          key: 'sites',
          willActivate: function willActivate() {
            //this.contextRequest('storyline', 'push-story','create')
          }
        }, {
          // label: 'thegrid.io',
          icon: 'home',
          key: 'current-site',
          willActivate: function willActivate() {
            //alert('current-site')
            //this.execute('start-story','create')
          }
        }],
        actionList2: [{
          src: 'https://s.gravatar.com/avatar/631d7f473dcf141a6a809de74f776259?d=https%3A%2F%2Fpassport.thegrid.io%2Fprofile-fallback.png',
          key: 'account',
          willActivate: function willActivate() {
            alert('show account');
          }
        }]
      }),
      FAN: {
        show: false,
        hideOnScroll: false
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(OnTheGrid, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return true;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
      this.contextRequest('FAF', 'update', this.UI.FAF);
      this.contextRequest('FAN', 'update', this.UI.FAN);
    }
  }]);
  return OnTheGrid;
}(_uiStoryMachine.Story);

exports.default = OnTheGrid;
module.exports = exports['default'];

/***/ }),
/* 525 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _peopleMount = __webpack_require__(526);

var _peopleMount2 = _interopRequireDefault(_peopleMount);

var _immutable = __webpack_require__(6);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var People = function (_Story) {
  (0, _inherits3.default)(People, _Story);

  function People() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, People);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = People.__proto__ || (0, _getPrototypeOf2.default)(People)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'people', _this.UI = {
      FAB: (0, _immutable.fromJS)({
        show: true,
        active: true,
        icon: '+',
        // chroma: {type: 'dark', typeIndex: 0},
        actionList: [{
          label: 'Add collaborator',
          // icon: 'color_lens',
          onClick: function onClick() {
            alert('Color');
          }
        }, {
          label: 'Add member',
          // icon: 'text_format',
          onClick: function onClick() {
            alert('Typography');
          }
        }, {
          label: 'Send message',
          // icon: 'text_format',
          onClick: function onClick() {
            alert('Typography');
          }
        }]
      }),
      FAF: (0, _immutable.fromJS)({
        show: true,
        hideOnScroll: true,
        chroma: { type: 'light', typeIndex: 1 },
        active: 3,
        actionList: [{
          label: 'newsfeed',
          key: 'newsfeed',
          willActivate: function willActivate() {
            alert('show newsfeed');
          }
        }, {
          label: 'sites',
          key: 'sites',
          willActivate: function willActivate() {
            _this.contextRequest('storyline', 'to-story', 'create');
          }
        }, {
          label: 'thegrid.io',
          // key: 'current-site',
          willActivate: function willActivate() {
            _this.contextRequest('storyline', 'to-story', 'on-the-grid');
          }
        }, {
          label: 'people',
          // key: 'design',
          willActivate: function willActivate() {
            // this.execute('start-story','create')
          }
        }]
      }),
      FAN: (0, _immutable.fromJS)({
        hideOnScroll: false,
        show: false,
        chroma: { type: 'dark', typeIndex: 1 }
      })
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(People, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
      this.contextRequest('FAF', 'update', this.UI.FAF);
      this.contextRequest('FAN', 'update', this.UI.FAN);
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_peopleMount2.default, { key: 'people-mount' }, children);
    }
  }]);
  return People;
}(_uiStoryMachine.Story);

exports.default = People;
module.exports = exports['default'];

/***/ }),
/* 526 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PeopleMount = function (_React$Component) {
  (0, _inherits3.default)(PeopleMount, _React$Component);

  function PeopleMount() {
    (0, _classCallCheck3.default)(this, PeopleMount);
    return (0, _possibleConstructorReturn3.default)(this, (PeopleMount.__proto__ || (0, _getPrototypeOf2.default)(PeopleMount)).apply(this, arguments));
  }

  (0, _createClass3.default)(PeopleMount, [{
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return PeopleMount;
}(_infernoCompat2.default.Component);

exports.default = PeopleMount;
module.exports = exports['default'];

/***/ }),
/* 527 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _immutable = __webpack_require__(6);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ViewSite = function (_Story) {
  (0, _inherits3.default)(ViewSite, _Story);

  function ViewSite() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ViewSite);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ViewSite.__proto__ || (0, _getPrototypeOf2.default)(ViewSite)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'view-site-color-shuffle', _this.setColors = function (colors) {
      _this.contextRequest('styleverse', 'merge', { styleContext: { chroma: { colors: colors, type: 'natural' } } });
    }, _this.UI = {
      FAB: {
        defaultChromaType: 'dark',
        show: true,
        // icon: 'share',
        active: false,

        icon: 'shuffle',
        onClick: function onClick() {
          _this.setColors(_deps.palettes.getRandom());
          return false;
        }

      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ViewSite, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
      this.contextRequest('FAF', 'update', { show: false, hideOnScroll: false });
      this.contextRequest('FAN', 'update', { show: false, hideOnScroll: false });
    }
  }]);
  return ViewSite;
}(_uiStoryMachine.Story); // import React from 'react'
// import ColorPanel from '../color/color-panel'
// import {palettes, raf} from '@the-grid/deps'
// import {Story} from '@the-grid/ui-story-machine'
// import {fromJS} from '@the-grid/immutable'
//
// class Color extends Story {
//   storyName = 'color'
//   willMount() {
//     if (this.focused) return
//     this.updateUI()
//   }
//   focus() {
//     this.updateUI()
//   }
//   updateUI() {
//     this.contextRequest('FAB', 'merge', this.UI.FAB)
//   }
//   display(children) {
//     return React.createElement(ColorPanel, {key: 'color-panel', onSelect: this.setColors}, children)
//   }
//   setColors = (colors) => {
//     this.contextRequest('styleverse', 'merge', {styleContext: {chroma: {colors, type: 'natural'}}})
//   }
//   UI = {
//     FAB: fromJS({
//       // show: true,
//       // chroma: {type: 'dark', typeIndex: 0},
//       active: true,
//       icon: 'arrow_back',
//       activeIcon: 'arrow_back',
//       onClick: () => {
//         this.contextRequest('storyline', 'to-story', 'design')
//         return false
//       },
//       actionList: [
//         {
//           icon: 'shuffle',
//           onClick: () => {
//             this.setColors(palettes.getRandom())
//             return false
//           },
//         },
//       ],
//     }),
//   }
// }
//
// export default Color
//
//
//
//

exports.default = ViewSite;
module.exports = exports['default'];

/***/ }),
/* 528 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ViewSite = function (_Story) {
  (0, _inherits3.default)(ViewSite, _Story);

  function ViewSite() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ViewSite);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ViewSite.__proto__ || (0, _getPrototypeOf2.default)(ViewSite)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'view-site', _this.UI = {
      FAB: {
        defaultChromaType: 'dark',
        show: true,
        icon: 'share',
        active: false,

        //TODO REMOVED TEMPORARILY TO MAKE SITE LAUNCHABLE

        appButton: {
          icon: 'https://the-grid-user-content.s3-us-west-2.amazonaws.com/5c8e3e03-5703-4144-9cbf-d85011b48d3c.svg',
          onClick: function onClick() {
            _this.contextRequest('storyline', 'to-story', 'on-the-grid');
            return false;
          }
        },

        actionList: [{
          //label: 'facebook',
          icon: 'facebook',
          onClick: function onClick() {
            FB.ui({
              method: 'share',
              href: 'https://www.facebook.com/thegridio/videos/1357934634218928/'
            }, function (response) {});
            //FB.ui({
            // method: 'feed',
            // link: 'https://vimeo.com/127074741',
            // //link: "https://thegrid.io",
            // //source: "https://s3-us-west-2.amazonaws.com/cdn.thegrid.io/assets/Loop.1440x810.high.mp4
            // //picture: "https://imgflo.herokuapp.com/graph/3409e43c6ac895e/49121ff146037e46dd5159ac533ff790/passthrough.jpg?input=https%3A%2F%2Fthe-grid-user-content.s3-us-west-2.amazonaws.com%2Ff726d19a-8578-409b-a617-b20c2248ea63.jpg&width=1440",
            // //caption: 'An example caption',
            //}, function(response){});
          }
        }, {
          //label: 'twitter',
          icon: 'twitter',
          onClick: function onClick() {
            window.open("https://twitter.com/intent/tweet?hashtags=aidesign%2Cthegrid&original_referer=http%3A%2F%2Flocalhost%3A3001%2F&ref_src=twsrc%5Etfw&text=wow%2C%20meet%20my%20new%20AI%20web%20designer&tw_p=tweetbutton&url=https%3A%2F%2Fthegrid.io&via=thegrid", "twitter-share", "hieght=480,width=540");
          }
        }, {
          //label: 'pinterest',
          icon: 'pinterest',
          onClick: function onClick() {
            PinUtils.pinAny();
          }
        }]
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ViewSite, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
      this.contextRequest('FAF', 'update', { show: false, hideOnScroll: false });
      this.contextRequest('FAN', 'update', { show: false, hideOnScroll: false });
    }
  }]);
  return ViewSite;
}(_uiStoryMachine.Story);

exports.default = ViewSite;
module.exports = exports['default'];

/***/ }),
/* 529 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _uiStoryMachine = __webpack_require__(28);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SaveForLater = function (_Story) {
  (0, _inherits3.default)(SaveForLater, _Story);

  function SaveForLater() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SaveForLater);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SaveForLater.__proto__ || (0, _getPrototypeOf2.default)(SaveForLater)).call.apply(_ref, [this].concat(args))), _this), _this.storyName = 'visitor_save-for-later', _this.setColors = function (colors) {
      _this.contextRequest('styleverse', 'merge', { styleContext: { chroma: { colors: colors, type: 'natural' } } });
    }, _this.UI = {
      FAB: (0, _immutable.fromJS)({
        // show: true,
        // chroma: {type: 'dark', typeIndex: 0},
        active: true,
        icon: 'arrow_back',
        activeIcon: 'arrow_back',
        onClick: function onClick() {
          _this.contextRequest('storyline', 'to-story', 'design');
          return false;
        },
        actionList: [{
          icon: 'shuffle',
          onClick: function onClick() {
            _this.setColors(palettes.getRandom());
            return false;
          }
        }]
      })
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SaveForLater, [{
    key: 'willMount',
    value: function willMount() {
      if (this.focused) return;
      this.updateUI();
    }
  }, {
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.contextRequest('FAB', 'merge', this.UI.FAB);
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement('div', {
        key: 'color-panel', onSelect: this.setColors,
        style: { position: 'fixed', left: 100, right: 100, bottom: 100, top: 100, background: 'red' }
      }, children);
    }
  }]);
  return SaveForLater;
}(_uiStoryMachine.Story);

exports.default = SaveForLater;
module.exports = exports['default'];

/***/ }),
/* 530 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _utils = __webpack_require__(254);

var _uiStoryMachine = __webpack_require__(28);

var _VanillaStruct = __webpack_require__(106);

var _VanillaStruct2 = _interopRequireDefault(_VanillaStruct);

var _style = __webpack_require__(148);

var _style2 = _interopRequireDefault(_style);

var _sub = __webpack_require__(534);

var _fafBreadcrumb = __webpack_require__(138);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var CollabState = (0, _VanillaStruct2.default)({
  siteId: undefined,
  collabId: undefined,
  currentKey: undefined,

  _data: {
    default: {
      type: undefined,
      value: undefined,
      item: undefined,
      label: undefined
    }
  },
  updateAt: {
    set: function set(_ref) {
      var key = _ref.key,
          value = _ref.value;

      var collabs = this._data;
      collabs[key] = value;
      return {
        _data: collabs
      };
    }
  },

  data: {
    get: function get() {
      return this._data;
    },
    set: function set(collabs) {
      return {
        _data: collabs
      };
    }
  }
});

var createVNode = Inferno.createVNode;

var CollabStory = (0, _fafBreadcrumb.backToChoose)(_class = (0, _fafBreadcrumb.upodateFAFd)(_class = (0, _fafBreadcrumb.addToFAFd)(_class = function (_Story) {
  (0, _inherits3.default)(CollabStory, _Story);
  (0, _createClass3.default)(CollabStory, [{
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.updateFabInitial();
      this.updateFAFInitial();
      // this.contextRequest('storyline', 'to-story', 'AddLabel')
    }
  }, {
    key: 'display',
    value: function display(children) {
      if (!children) return null;
      return createVNode(2, 'div', {
        'id': 'WizardViewContainer-' + 'cta-collab',
        'className': 'Wizard'
      }, [createVNode(2, 'div', {
        'className': 'Wizard-bg'
      }), createVNode(2, 'div', {
        'className': 'WizardViewContainer slideLeft',
        'id': 'WizardViewContainer-' + 'choose-collab'
      }, createVNode(2, 'div', null, [_style2.default, children]))]);
    }
  }]);

  function CollabStory() {
    var _ref2;

    (0, _classCallCheck3.default)(this, CollabStory);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = CollabStory.__proto__ || (0, _getPrototypeOf2.default)(CollabStory)).call.apply(_ref2, [this].concat(args)));

    _this.name = 'CollabStory';
    _this.currentKey = 'layout';
    _this.state = new CollabState();
    _this.contextStores = {
      'browser': function browser(browserStore) {
        var currentKey = browserStore.state.currentKey;
        var collabId = browserStore.state.collabId;
        return _this.execute('merge', { collabId: collabId, currentKey: currentKey });
      },
      'collab': function collab(collabStore) {
        var collabId = _this.state.collabId;
        var collab = collabStore.state._data[collabId];
        if (!collab) return;

        _this.execute('set', 'data', collab);

        // if (collab.url && collab.url.includes('tel:'))
        //   this.contextRequest('storyline', 'push-story', 'AddPhone')
        // else if (collab.url && collab.url.includes('mailto:'))
        //   this.contextRequest('storyline', 'push-story', 'AddEmail')

        return;
      }
    };
    _this.UI = {
      FAB: {
        'v-position': 'bottom',
        'h-position': 'right',
        icon: '+',
        // activeIcon: '+',
        // defaultChromaType: 'dark',
        show: true,
        active: true,
        labelAsTip: true,

        onClick: function onClick() {},

        actionList: [
        // @TODO: if we have a collab
        {
          label: 'Remove collab',
          icon: 'delete',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'DeleteCollab', _sub.DeleteCollab);
            _this.updateFabBack();
            _this.addToFAF({ label: 'remove' });
          }
        }, {
          label: 'Email',
          icon: 'email',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddEmail');
            _this.updateFabBack();
            _this.addToFAF({ label: 'link' });
          }
        }, {
          label: 'Label',
          icon: 'label',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddLabel');
            _this.updateFabBack();
            _this.addToFAF({ label: 'label' });
          }
        }]
      },
      FAF: {
        show: true,

        actionList: [{
          label: 'choose',
          onClick: function onClick() {
            return _this.backToChoose();
          }
        }],
        addAction: function addAction(action) {
          var actions = this.actionList.reduce(function (a, b) {
            a[b.label] = b.label;
            return a;
          }, {});
          if (!actions[actions.label]) this.actionList.push(action);
        }
      }
    };

    setTimeout(function () {
      _this.actions = (0, _assign2.default)(_this.actions || {}, {
        'collab-delete': function collabDelete(state) {},
        'collab-value': function collabValue(state, type, data) {
          var prop = 'value';
          switch (type) {
            case 'item':
              prop = 'item';
            case 'label':
              prop = 'label';
              break;
            case 'url':
              break;
            default:
              break;
          }

          state = state.set('updateAt', {
            key: prop,
            value: data
          });

          if (prop !== 'label') {
            state = state.set('updateAt', {
              key: 'type',
              value: type
            });
          }

          var currentCollab = state._data;
          var isReady = currentCollab.label;
          // debugger
          if (isReady) {
            return _this.execute('finish');
          }

          // this.eh = {...this.eh, ...obj}
          // debugger
          // state = state.merge(obj)

          return state;
        },

        finish: function finish(state) {
          var collab = state._data;
          debugger;

          _this.contextRequest('collab', 'addOrEditCollab', {
            collabId: collab.id,
            value: collab.value,
            item: collab.item,
            label: collab.label,
            type: collab.type
          });
          _this.contextRequest('storyline', 'to-story', 'CollabStory');
        }
      });
    }, 200);

    window.collab = _this;
    return _this;
  }

  (0, _createClass3.default)(CollabStory, [{
    key: 'updateFAFInitial',
    value: function updateFAFInitial() {
      // initial needs no faf

      this.contextRequest('FAF', 'update', {
        show: false
      });
    }
  }, {
    key: 'updateFabInitial',
    value: function updateFabInitial() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
    }
  }, {
    key: 'updateFabBack',
    value: function updateFabBack() {
      var _this2 = this;

      this.contextRequest('FAB', 'update', {
        'v-position': 'top',
        'h-position': 'right',
        active: true,
        show: true,
        shown: true,

        label: 'continue',
        disable: false,

        icon: 'keyboard_arrow_left',
        activeIcon: 'keyboard_arrow_left',
        // defaultChromaType: 'dark',
        onClick: function onClick() {
          return _this2.backToChoose();
        }
      });
    }
  }, {
    key: 'willMount',
    value: function willMount() {
      this.contextRequest('storyline', 'register-story', 'AddLabel', _sub.AddLabel);
      this.contextRequest('storyline', 'register-story', 'AddEmail', _sub.AddEmail);
      this.contextRequest('storyline', 'register-story', 'DeleteCollab', _sub.DeleteCollab);
    }
  }]);
  return CollabStory;
}(_uiStoryMachine.Story)) || _class) || _class) || _class;

exports.default = CollabStory;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 531 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TODO: abstract
var AddEmail = function (_AbstractStory) {
  (0, _inherits3.default)(AddEmail, _AbstractStory);

  function AddEmail() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddEmail);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddEmail.__proto__ || (0, _getPrototypeOf2.default)(AddEmail)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.value = parentStory.state._data.value;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddEmail, [{
    key: 'updateUI',
    value: function updateUI() {}
  }, {
    key: 'storyProps',
    value: function storyProps() {
      var _this2 = this;

      return {
        value: this.value || '',
        type: 'email',
        header: 'What is their email?',
        infoMessage: 'Enter the email address',
        validate: 'isEmail',
        onChange: this.onChange,
        thresholdErrorMessage: 9,
        onCancel: this.goBack,
        onSubmit: function onSubmit(value) {
          _this2.contextRequest('story', 'cta-value', 'email', 'mailto:' + value);
        }
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['TextInput2'], this.storyProps(), children);
    }
  }]);
  return AddEmail;
}(_AbstractStory3.default);

AddEmail.storyName = 'add-email';
exports.default = AddEmail;
module.exports = exports['default'];

/***/ }),
/* 532 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddLabel = function (_AddLabelAbstractStor) {
  (0, _inherits3.default)(AddLabel, _AddLabelAbstractStor);

  function AddLabel() {
    (0, _classCallCheck3.default)(this, AddLabel);
    return (0, _possibleConstructorReturn3.default)(this, (AddLabel.__proto__ || (0, _getPrototypeOf2.default)(AddLabel)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddLabel, [{
    key: 'onSubmit',
    value: function onSubmit(label) {
      this.contextRequest('story', 'collab-value', 'label', label);
    }
  }, {
    key: 'getInfoMessage',
    value: function getInfoMessage() {
      return 'What is their name?';
    }
  }]);
  return AddLabel;
}(_shared.AddLabel);

exports.default = AddLabel;
module.exports = exports['default'];

/***/ }),
/* 533 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(117);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(108);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DeleteCollab = function (_AbstractStory) {
  (0, _inherits3.default)(DeleteCollab, _AbstractStory);

  function DeleteCollab() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DeleteCollab);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DeleteCollab.__proto__ || (0, _getPrototypeOf2.default)(DeleteCollab)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.id = parentStory.state._data.id;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DeleteCollab, [{
    key: 'updateUI',
    value: function updateUI() {}
  }, {
    key: 'storyProps',
    value: function storyProps() {
      var _this2 = this;

      return {
        header: 'Are you sure you want to delete?',
        onCancel: this.goBack,
        onSubmit: function () {
          var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {
            var collabId;
            return _regenerator2.default.wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    collabId = _this2.collabId;


                    _this2.context.request('story', 'deleteCollab', collabId);
                    _this2.cancel();

                  case 3:
                  case 'end':
                    return _context.stop();
                }
              }
            }, _callee, _this2);
          }));

          return function onSubmit() {
            return _ref2.apply(this, arguments);
          };
        }()
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['Confirm'], this.storyProps(), children);
    }
  }]);
  return DeleteCollab;
}(_AbstractStory3.default);

DeleteCollab.storyName = 'delete-nav';
exports.default = DeleteCollab;
module.exports = exports['default'];

/***/ }),
/* 534 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _deleteCollab = __webpack_require__(533);

var _deleteCollab2 = _interopRequireDefault(_deleteCollab);

var _addLabel = __webpack_require__(532);

var _addLabel2 = _interopRequireDefault(_addLabel);

var _addEmail = __webpack_require__(531);

var _addEmail2 = _interopRequireDefault(_addEmail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  AddEmail: _addEmail2.default,
  DeleteCollab: _deleteCollab2.default,
  AddLabel: _addLabel2.default
};
module.exports = exports['default'];

/***/ }),
/* 535 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiStoryMachine = __webpack_require__(28);

var _VanillaStruct = __webpack_require__(106);

var _VanillaStruct2 = _interopRequireDefault(_VanillaStruct);

var _style = __webpack_require__(148);

var _style2 = _interopRequireDefault(_style);

var _sub = __webpack_require__(542);

var _fafBreadcrumb = __webpack_require__(138);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @SEE :display
// import DataWrap from 'lib/../routes/data-wrap'

// @TODO:
// - [ ] could .querySelectorAll('.cta') and add event listener, then go back to the prev story
// - [ ] need to allow mousedown
var StoryState = (0, _VanillaStruct2.default)({
  siteId: undefined,
  ctaId: undefined,
  currentKey: undefined,

  _data: {
    default: {
      type: undefined,
      value: undefined,
      item: undefined,
      label: undefined
    }
  },
  updateAt: {
    set: function set(_ref) {
      var key = _ref.key,
          value = _ref.value;

      var ctas = this._data;
      ctas[key] = value;
      return {
        _data: ctas
      };
    }
  },

  data: {
    get: function get() {
      return this._data;
    },
    set: function set(ctas) {
      return {
        _data: ctas
      };
    }
  }
});

var createVNode = Inferno.createVNode;

var CTAStory = (0, _fafBreadcrumb.backToChoose)(_class = (0, _fafBreadcrumb.upodateFAFd)(_class = (0, _fafBreadcrumb.addToFAFd)(_class = function (_Story) {
  (0, _inherits3.default)(CTAStory, _Story);
  (0, _createClass3.default)(CTAStory, [{
    key: 'focus',

    // static name = 'cta-story'
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.updateFabInitial();
      this.updateFAFInitial();
      // this.contextRequest('storyline', 'to-story', 'AddLabel')
    }

    // @NOTE: for Data usage, just wrap in DataWrap

  }, {
    key: 'display',
    value: function display(children) {
      if (!children) return null;
      return createVNode(2, 'div', {
        'id': 'WizardViewContainer-' + 'choose-cta',
        'className': 'Wizard'
      }, [createVNode(2, 'div', {
        'className': 'Wizard-bg'
      }), createVNode(2, 'div', {
        'className': 'WizardViewContainer slideLeft',
        'id': 'WizardViewContainer-' + 'choose-cta'
      }, createVNode(2, 'div', null, [_style2.default, children]))]);
    }
  }, {
    key: 'fabToPrevious',
    value: function fabToPrevious() {
      this.contextRequest('FAB', 'update', this.previousFAB);
    }
  }, {
    key: 'fabToFirst',
    value: function fabToFirst() {
      this.contextRequest('FAB', 'update', this.firstFAB);
    }
  }, {
    key: 'updateFAB',
    value: function updateFAB() {
      if (!this.firstFAB) this.firstFAB = this._contextStores.FAB.state.toJS();

      this.previousFAB = this._contextStores.FAB.state.toJS();

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      this.contextRequest.apply(this, ['FAB', 'update'].concat(args));
    }
  }]);

  function CTAStory() {
    var _ref2;

    (0, _classCallCheck3.default)(this, CTAStory);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = CTAStory.__proto__ || (0, _getPrototypeOf2.default)(CTAStory)).call.apply(_ref2, [this].concat(args)));

    _this.name = 'CTAStory';
    _this.currentKey = 'layout';
    _this.state = new StoryState();
    _this.theme = null;
    _this.pillable = null;
    _this.shuffled = 0;
    _this.contextStores = {
      'browser': function browser(browserStore) {
        var currentKey = browserStore.state.currentKey;
        var ctaId = browserStore.state.ctaId;
        return _this.execute('merge', { ctaId: ctaId, currentKey: currentKey });
      },
      'cta': function cta(ctaStore) {
        var ctaId = _this.state.ctaId;
        var cta = ctaStore.state._data[ctaId];
        if (!cta) return;

        _this.execute('set', 'data', cta);

        // if (cta.url && cta.url.includes('tel:'))
        //   this.contextRequest('storyline', 'push-story', 'AddPhone')
        // else if (cta.url && cta.url.includes('mailto:'))
        //   this.contextRequest('storyline', 'push-story', 'AddEmail')

        return;
      }
    };
    _this.firstFAB = undefined;
    _this.previousFAB = {};
    _this.UI = {
      FAB: {
        'v-position': 'bottom',
        'h-position': 'right',
        icon: '+',
        // activeIcon: '+',
        // defaultChromaType: 'dark',
        show: true,
        active: true,
        // labelAsTip: true,
        theme: 'gooey2',
        pillable: true,

        onClick: function onClick() {
          // this.fabToFirst()
          // this.contextRequest('storyline', 'pop-story')

          // var eh = this._contextStores
          // this.contextRequest('storyline', 'replace-story', 'view-site')
          // window.resetFab()
        },

        actionList: [
        // @TODO:
        // - [ ] implement list
        // - [ ] support for label with gooey
        //
        // {
        //   label: 'Internal',
        //   icon: 'note',
        //   onClick: (e) => {
        //     this.contextRequest('storyline', 'push-story', 'AddInternal')
        //     this.updateFabBack()
        //     this.addToFAF({label: 'internal'})
        //   },
        // },
        {
          // labelAsTip: true,
          pillable: true,
          label: 'Gooey',
          icon: 'shuffle',
          onClick: function onClick(e) {
            var randomFab = (0, _extends3.default)({}, _this.UI.FAB);

            // @TODO: real shuffler
            if (!_this.theme || _this.theme === 'gooey2') {
              _this.theme = 'gooey';
              // randomFab.show = false
              // randomFab.shown = false
              randomFab.active = false;
              randomFab.pillable = true;
              randomFab.actionList.forEach(function (action) {
                action.pillable = true;
              });
            }
            // else if (this.theme === 'spring') {
            //   this.theme = 'gooey2'
            // }
            else if (_this.theme === 'gooey') {
                _this.theme = 'spring';
                randomFab.pillable = false;
                randomFab.actionList.forEach(function (action) {
                  action.pillable = false;
                });
              } else {
                _this.theme = 'gooey2';
                _this.shuffled = 0;
                randomFab.pillable = true;
                randomFab.actionList.forEach(function (action) {
                  action.pillable = true;
                });
              }

            randomFab.theme = _this.theme;
            if (_this.shuffled >= 4 && _this.shuffled <= 8) {
              randomFab.loading = true;
            } else {
              randomFab.loading = false;
            }

            _this.shuffled = _this.shuffled + 1;

            // this.fabToFirst()
            _this.updateFAB((0, _extends3.default)({}, randomFab));
            // this.contextRequest('storyline', 'pop-story')
          }
        }, {
          // labelAsTip: true,
          pillable: true,
          label: 'Link',
          icon: 'link',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddExternal');
            _this.updateFabBack();
            _this.addToFAF({ label: 'link' });
          }
        }, {
          // labelAsTip: true,
          pillable: true,
          label: 'Phone',
          icon: 'call',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddPhone');
            _this.updateFabBack();
            _this.addToFAF({ label: 'phone' });
          }
        }, {
          // labelAsTip: true,
          pillable: true,
          label: 'Email',
          icon: 'mail',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddEmail');
            _this.updateFabBack();
            _this.addToFAF({ label: 'email' });
          }
        }]
      },
      FAF: {
        show: true,

        actionList: [{
          label: 'choose',
          onClick: function onClick() {
            return _this.backToChoose();
          }
        }]
      }
    };
    _this.UIOG = {
      FAF: {
        show: true,
        actionList: [{
          label: 'choose',
          onClick: function onClick() {
            return _this.backToChoose();
          }
        }]
      }
    };

    setTimeout(function () {
      _this.actions = (0, _assign2.default)(_this.actions || {}, {
        'cta-delete': function ctaDelete(state) {},
        'cta-value': function ctaValue(state, type, data) {
          var prop = 'value';
          switch (type) {
            case 'item':
              prop = 'item';
            case 'tel':
            case 'email':
              prop = 'url';
              type = 'contact';

              debugger;
              _this.contextRequest('storyline', 'replace-story', 'AddLabel');
              // this.contextRequest('storyline', 'push-story', 'AddLabel')
              // this.contextRequest('storyline', 'to-story', 'AddLabel')
              // debugger
              _this.addToFAF({ label: 'label' });
              break;
            case 'label':
              prop = 'label';
              break;
            default:
              break;
          }
          debugger;
          state = state.set('updateAt', {
            key: prop,
            value: data
          });

          if (prop !== 'label') {
            state = state.set('updateAt', {
              key: 'type',
              value: type
            });
          }

          var currentCta = state._data;
          var isReady = currentCta.label;
          // debugger
          if (isReady) {
            return _this.execute('finish');
          }

          // this.eh = {...this.eh, ...obj}
          // debugger
          // state = state.merge(obj)

          return state;
        },

        finish: function finish(state) {
          var cta = state._data;
          debugger;

          this.contextRequest('cta', 'addOrEditCta', {
            ctaId: cta.id,
            value: cta.value,
            item: cta.item,
            label: cta.label,
            type: cta.type
          });
          this.contextRequest('storyline', 'to-story', 'CTAStory');
        }
      });
    }, 200);

    window.cta = _this;
    return _this;
  }

  (0, _createClass3.default)(CTAStory, [{
    key: 'updateFAFInitial',


    // {willActivate: () => {}}
    value: function updateFAFInitial() {
      // initial needs no faf

      this.contextRequest('FAF', 'update', {
        show: false
      });
    }
  }, {
    key: 'updateFabInitial',
    value: function updateFabInitial() {
      this.updateFAB(this.UI.FAB);
    }
  }, {
    key: 'updateFabBack',
    value: function updateFabBack() {
      var _this2 = this;

      this.updateFAB({
        'v-position': 'top',
        'h-position': 'right',
        active: true,
        show: true,
        shown: true,
        loading: true,

        label: 'continue',
        disable: false,

        icon: 'keyboard_arrow_left',
        activeIcon: 'keyboard_arrow_left',
        // defaultChromaType: 'dark',
        onClick: function onClick() {
          return _this2.backToChoose();
        }
      });
    }
  }, {
    key: 'willMount',
    value: function willMount() {
      this.contextRequest('storyline', 'register-story', 'AddLabel', _sub.AddLabel);
      this.contextRequest('storyline', 'register-story', 'AddExternal', _sub.AddExternal);
      this.contextRequest('storyline', 'register-story', 'AddInternal', _sub.AddInternal);
      this.contextRequest('storyline', 'register-story', 'AddPhone', _sub.AddPhone);
      this.contextRequest('storyline', 'register-story', 'AddEmail', _sub.AddEmail);
      this.contextRequest('storyline', 'register-story', 'DeleteCTA', _sub.DeleteCTA);
    }
  }]);
  return CTAStory;
}(_uiStoryMachine.Story)) || _class) || _class) || _class;

exports.default = CTAStory;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 536 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TODO: abstract
var AddEmail = function (_AbstractStory) {
  (0, _inherits3.default)(AddEmail, _AbstractStory);

  function AddEmail() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddEmail);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddEmail.__proto__ || (0, _getPrototypeOf2.default)(AddEmail)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.value = parentStory.state._data.value;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddEmail, [{
    key: 'updateUI',
    value: function updateUI() {}
  }, {
    key: 'storyProps',
    value: function storyProps() {
      var _this2 = this;

      return {
        value: this.value || '',
        type: 'email',
        header: 'Enter the email address',
        infoMessage: 'This should be a valid email',
        validate: 'isEmail',
        onChange: this.onChange,
        thresholdErrorMessage: 9,
        onCancel: this.goBack,
        onSubmit: function onSubmit(value) {
          _this2.contextRequest('story', 'cta-value', 'email', 'mailto:' + value);
        }
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['TextInput2'], this.storyProps(), children);
    }
  }]);
  return AddEmail;
}(_AbstractStory3.default);

AddEmail.storyName = 'add-email';
exports.default = AddEmail;
module.exports = exports['default'];

/***/ }),
/* 537 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddExternal = function (_AddExternalAbstractS) {
  (0, _inherits3.default)(AddExternal, _AddExternalAbstractS);

  function AddExternal() {
    (0, _classCallCheck3.default)(this, AddExternal);
    return (0, _possibleConstructorReturn3.default)(this, (AddExternal.__proto__ || (0, _getPrototypeOf2.default)(AddExternal)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddExternal, [{
    key: 'onSubmit',
    value: function onSubmit(value) {
      // @TODO: transformer req?
      if (!value.includes('://')) value = 'http://' + value;
      this.contextRequest('cta-story', 'cta-value', 'external', value);
    }
  }, {
    key: 'getInfoMessage',
    value: function getInfoMessage() {
      return 'Make sure to add valid url!';
    }
  }]);
  return AddExternal;
}(_shared.AddExternal);

exports.default = AddExternal;
module.exports = exports['default'];

/***/ }),
/* 538 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddInternal = function (_AddInternalAbstractS) {
  (0, _inherits3.default)(AddInternal, _AddInternalAbstractS);

  function AddInternal() {
    (0, _classCallCheck3.default)(this, AddInternal);
    return (0, _possibleConstructorReturn3.default)(this, (AddInternal.__proto__ || (0, _getPrototypeOf2.default)(AddInternal)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddInternal, [{
    key: 'onSubmit',
    value: function onSubmit(item) {
      this.contextRequest('story', 'cta-value', 'item', item);
    }
  }, {
    key: 'getHeader',
    value: function getHeader() {
      return 'Which item do you want to link to?';
    }
  }]);
  return AddInternal;
}(_shared.AddInternal);

exports.default = AddInternal;
module.exports = exports['default'];

/***/ }),
/* 539 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddLabel = function (_AddLabelAbstractStor) {
  (0, _inherits3.default)(AddLabel, _AddLabelAbstractStor);

  function AddLabel() {
    (0, _classCallCheck3.default)(this, AddLabel);
    return (0, _possibleConstructorReturn3.default)(this, (AddLabel.__proto__ || (0, _getPrototypeOf2.default)(AddLabel)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddLabel, [{
    key: 'onSubmit',
    value: function onSubmit(label) {
      this.contextRequest('story', 'cta-value', 'label', label);
    }
  }, {
    key: 'getInfoMessage',
    value: function getInfoMessage() {
      return 'This will be the in on your call to action.';
    }
  }]);
  return AddLabel;
}(_shared.AddLabel);

exports.default = AddLabel;
module.exports = exports['default'];

/***/ }),
/* 540 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddPhone = function (_AbstractStory) {
  (0, _inherits3.default)(AddPhone, _AbstractStory);

  function AddPhone() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddPhone);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddPhone.__proto__ || (0, _getPrototypeOf2.default)(AddPhone)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.value = parentStory.state._data.value;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddPhone, [{
    key: 'storyProps',
    value: function storyProps() {
      var _this2 = this;

      return {
        value: this.value || '',
        type: 'tel',
        header: 'Enter the phone number',
        infoMessage: 'Make sure to enter a valid phone number',
        thresholdErrorMessage: 6,
        keySet: /^\d+$/,
        validate: 'isPhone',
        onChange: this.onChange,
        onCancel: this.goBack,
        onSubmit: function onSubmit(value) {
          _this2.contextRequest('story', 'cta-value', 'tel', 'tel:' + value);
          // window.phone = this
          // this.parentStory.execute('cta-value', 'tel', `tel:${value}`)
          // contextRequest('CTAStory', 'cta-value', 'tel', `tel:112321312333123`)
        }
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['TextInput2'], this.storyProps(), children);
    }
  }]);
  return AddPhone;
}(_AbstractStory3.default);

AddPhone.storyName = 'add-phone';
exports.default = AddPhone;
module.exports = exports['default'];

/***/ }),
/* 541 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(117);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(108);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DeleteCTA = function (_AbstractStory) {
  (0, _inherits3.default)(DeleteCTA, _AbstractStory);

  function DeleteCTA() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DeleteCTA);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DeleteCTA.__proto__ || (0, _getPrototypeOf2.default)(DeleteCTA)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.id = parentStory.state._data.id;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DeleteCTA, [{
    key: 'updateUI',
    value: function updateUI() {}
  }, {
    key: 'storyProps',
    value: function storyProps() {
      var _this2 = this;

      return {
        header: 'Are you sure you want to delete?',
        onCancel: this.goBack,
        onSubmit: function () {
          var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {
            var ctaId;
            return _regenerator2.default.wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    ctaId = _this2.ctaId;

                    // window.G.actions.sites.deleteCta({ctaId})

                    _this2.context.request('story', 'deleteCta', ctaId);
                    _this2.cancel();

                  case 3:
                  case 'end':
                    return _context.stop();
                }
              }
            }, _callee, _this2);
          }));

          return function onSubmit() {
            return _ref2.apply(this, arguments);
          };
        }()
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['Confirm'], this.storyProps(), children);
    }
  }]);
  return DeleteCTA;
}(_AbstractStory3.default);

DeleteCTA.storyName = 'delete-cta';
exports.default = DeleteCTA;
module.exports = exports['default'];

/***/ }),
/* 542 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _addEmail = __webpack_require__(536);

var _addEmail2 = _interopRequireDefault(_addEmail);

var _deleteCta = __webpack_require__(541);

var _deleteCta2 = _interopRequireDefault(_deleteCta);

var _addExternal = __webpack_require__(537);

var _addExternal2 = _interopRequireDefault(_addExternal);

var _addInternal = __webpack_require__(538);

var _addInternal2 = _interopRequireDefault(_addInternal);

var _addPhone = __webpack_require__(540);

var _addPhone2 = _interopRequireDefault(_addPhone);

var _addLabel = __webpack_require__(539);

var _addLabel2 = _interopRequireDefault(_addLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import ChooseCTA from './choose-cta'

exports.default = {
  // ChooseCTA,
  AddExternal: _addExternal2.default,
  AddEmail: _addEmail2.default,
  DeleteCTA: _deleteCta2.default,
  AddInternal: _addInternal2.default,
  AddPhone: _addPhone2.default,
  AddLabel: _addLabel2.default
};
module.exports = exports['default'];

/***/ }),
/* 543 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _cta = __webpack_require__(535);

var _cta2 = _interopRequireDefault(_cta);

var _nav = __webpack_require__(544);

var _nav2 = _interopRequireDefault(_nav);

var _collab = __webpack_require__(530);

var _collab2 = _interopRequireDefault(_collab);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  CTAStory: _cta2.default,
  NavStory: _nav2.default,
  CollabStory: _collab2.default
};
module.exports = exports['default'];

/***/ }),
/* 544 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _utils = __webpack_require__(254);

var _uiStoryMachine = __webpack_require__(28);

var _VanillaStruct = __webpack_require__(106);

var _VanillaStruct2 = _interopRequireDefault(_VanillaStruct);

var _style = __webpack_require__(148);

var _style2 = _interopRequireDefault(_style);

var _sub = __webpack_require__(549);

var _fafBreadcrumb = __webpack_require__(138);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StoryState = (0, _VanillaStruct2.default)({
  siteId: undefined,
  navId: undefined,
  currentKey: undefined,

  _data: {
    default: {
      type: undefined,
      value: undefined,
      item: undefined,
      label: undefined
    }
  },
  updateAt: {
    set: function set(_ref) {
      var key = _ref.key,
          value = _ref.value;

      var navs = this._data;
      navs[key] = value;
      return {
        _data: navs
      };
    }
  },

  data: {
    get: function get() {
      return this._data;
    },
    set: function set(navs) {
      return {
        _data: navs
      };
    }
  }
});

var createVNode = Inferno.createVNode;

var NavStory = (0, _fafBreadcrumb.backToChoose)(_class = (0, _fafBreadcrumb.upodateFAFd)(_class = (0, _fafBreadcrumb.addToFAFd)(_class = function (_Story) {
  (0, _inherits3.default)(NavStory, _Story);
  (0, _createClass3.default)(NavStory, [{
    key: 'focus',
    value: function focus() {
      this.updateUI();
    }
  }, {
    key: 'updateUI',
    value: function updateUI() {
      this.updateFabInitial();
      this.updateFAFInitial();
      // this.contextRequest('storyline', 'to-story', 'AddLabel')
    }
  }, {
    key: 'display',
    value: function display(children) {
      if (!children) return null;
      return createVNode(2, 'div', {
        'id': 'WizardViewContainer-' + 'cta-nav',
        'className': 'Wizard'
      }, [createVNode(2, 'div', {
        'className': 'Wizard-bg'
      }), createVNode(2, 'div', {
        'className': 'WizardViewContainer slideLeft',
        'id': 'WizardViewContainer-' + 'choose-nav'
      }, createVNode(2, 'div', null, [_style2.default, children]))]);
    }
  }]);

  function NavStory() {
    var _ref2;

    (0, _classCallCheck3.default)(this, NavStory);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = NavStory.__proto__ || (0, _getPrototypeOf2.default)(NavStory)).call.apply(_ref2, [this].concat(args)));

    _this.name = 'NavStory';
    _this.currentKey = 'layout';
    _this.state = new StoryState();
    _this.contextStores = {
      'browser': function browser(browserStore) {
        var currentKey = browserStore.state.currentKey;
        var navId = browserStore.state.navId;
        return _this.execute('merge', { navId: navId, currentKey: currentKey });
      },
      'nav': function nav(navStore) {
        var navId = _this.state.navId;
        var nav = navStore.state._data[navId];
        if (!nav) return;

        _this.execute('set', 'data', nav);

        // if (nav.url && nav.url.includes('tel:'))
        //   this.contextRequest('storyline', 'push-story', 'AddPhone')
        // else if (nav.url && nav.url.includes('mailto:'))
        //   this.contextRequest('storyline', 'push-story', 'AddEmail')

        return;
      }
    };
    _this.UI = {
      FAB: {
        'v-position': 'bottom',
        'h-position': 'right',
        icon: '+',
        // activeIcon: '+',
        // defaultChromaType: 'dark',
        show: true,
        active: true,
        labelAsTip: true,

        onClick: function onClick() {},

        actionList: [
        // @TODO: if we have a nav
        {
          label: 'Remove nav',
          icon: 'delete',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'DeleteNav', _sub.DeleteNav);
            _this.updateFabBack();
            _this.addToFAF({ label: 'remove' });
          }
        },
        // {
        //   label: 'Internal',
        //   icon: 'note',
        //   onClick: (e) => {
        //     this.contextRequest('storyline', 'push-story', 'AddInternal')
        //     this.updateFabBack()
        //     this.addToFAF({label: 'internal'})
        //   },
        // },
        {
          label: 'Link',
          icon: 'link',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddExternal');
            _this.updateFabBack();
            _this.addToFAF({ label: 'link' });
          }
        }, {
          label: 'Label',
          icon: 'label',
          onClick: function onClick(e) {
            _this.contextRequest('storyline', 'push-story', 'AddLabel');
            _this.updateFabBack();
            _this.addToFAF({ label: 'label' });
          }
        }]
      },
      FAF: {
        show: true,

        actionList: [{
          label: 'choose',
          onClick: function onClick() {
            return _this.backToChoose();
          }
        }],
        addAction: function addAction(action) {
          var actions = this.actionList.reduce(function (a, b) {
            a[b.label] = b.label;
            return a;
          }, {});
          if (!actions[actions.label]) this.actionList.push(action);
        }
      }
    };

    setTimeout(function () {
      _this.actions = (0, _assign2.default)(_this.actions || {}, {
        'nav-delete': function navDelete(state) {},
        'nav-value': function navValue(state, type, data) {
          var prop = 'value';
          switch (type) {
            case 'item':
              prop = 'item';
            case 'label':
              prop = 'label';
              break;
            case 'url':
              break;
            default:
              break;
          }

          state = state.set('updateAt', {
            key: prop,
            value: data
          });

          if (prop !== 'label') {
            state = state.set('updateAt', {
              key: 'type',
              value: type
            });
          }

          var currentNav = state._data;
          var isReady = currentNav.label;
          // debugger
          if (isReady) {
            return _this.execute('finish');
          }

          // this.eh = {...this.eh, ...obj}
          // debugger
          // state = state.merge(obj)

          return state;
        },

        finish: function finish(state) {
          var nav = state._data;
          debugger;

          _this.contextRequest('nav', 'addOrEditNav', {
            navId: nav.id,
            value: nav.value,
            item: nav.item,
            label: nav.label,
            type: nav.type
          });
          _this.contextRequest('storyline', 'to-story', 'NavStory');
        }
      });
    }, 200);

    window.nav = _this;
    return _this;
  }

  (0, _createClass3.default)(NavStory, [{
    key: 'updateFAFInitial',
    value: function updateFAFInitial() {
      // initial needs no faf

      this.contextRequest('FAF', 'update', {
        show: false
      });
    }
  }, {
    key: 'updateFabInitial',
    value: function updateFabInitial() {
      this.contextRequest('FAB', 'update', this.UI.FAB);
    }
  }, {
    key: 'updateFabBack',
    value: function updateFabBack() {
      var _this2 = this;

      this.contextRequest('FAB', 'update', {
        'v-position': 'top',
        'h-position': 'right',
        active: true,
        show: true,
        shown: true,

        label: 'continue',
        disable: false,

        icon: 'keyboard_arrow_left',
        activeIcon: 'keyboard_arrow_left',
        // defaultChromaType: 'dark',
        onClick: function onClick() {
          return _this2.backToChoose();
        }
      });
    }
  }, {
    key: 'willMount',
    value: function willMount() {
      this.contextRequest('storyline', 'register-story', 'AddLabel', _sub.AddLabel);
      this.contextRequest('storyline', 'register-story', 'AddExternal', _sub.AddExternal);
      this.contextRequest('storyline', 'register-story', 'AddInternal', _sub.AddInternal);
      this.contextRequest('storyline', 'register-story', 'DeleteNav', _sub.DeleteNav);
    }
  }]);
  return NavStory;
}(_uiStoryMachine.Story)) || _class) || _class) || _class;

exports.default = NavStory;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 545 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddExternal = function (_AddExternalAbstractS) {
  (0, _inherits3.default)(AddExternal, _AddExternalAbstractS);

  function AddExternal() {
    (0, _classCallCheck3.default)(this, AddExternal);
    return (0, _possibleConstructorReturn3.default)(this, (AddExternal.__proto__ || (0, _getPrototypeOf2.default)(AddExternal)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddExternal, [{
    key: 'onSubmit',
    value: function onSubmit(value) {
      // @TODO: transformer req?
      if (!value.includes('://')) value = 'http://' + value;
      // this.contextRequest('nav-story', 'nav-value', 'external', value)
      // this..execute( 'nav-value', 'external', value)
      this.contextRequest('story', 'nav-value', 'url', value);
    }
  }, {
    key: 'getInfoMessage',
    value: function getInfoMessage() {
      return 'Make sure to add valid url!';
    }
  }]);
  return AddExternal;
}(_shared.AddExternal);

exports.default = AddExternal;
module.exports = exports['default'];

/***/ }),
/* 546 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddInternal = function (_AddInternalAbstractS) {
  (0, _inherits3.default)(AddInternal, _AddInternalAbstractS);

  function AddInternal() {
    (0, _classCallCheck3.default)(this, AddInternal);
    return (0, _possibleConstructorReturn3.default)(this, (AddInternal.__proto__ || (0, _getPrototypeOf2.default)(AddInternal)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddInternal, [{
    key: 'onSubmit',
    value: function onSubmit(item) {
      this.contextRequest('story', 'nav-value', 'item', item);
    }
  }, {
    key: 'getHeader',
    value: function getHeader() {
      return 'which item do you want to navigate to?';
    }
  }]);
  return AddInternal;
}(_shared.AddInternal);

exports.default = AddInternal;
module.exports = exports['default'];

/***/ }),
/* 547 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _shared = __webpack_require__(61);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddLabel = function (_AddLabelAbstractStor) {
  (0, _inherits3.default)(AddLabel, _AddLabelAbstractStor);

  function AddLabel() {
    (0, _classCallCheck3.default)(this, AddLabel);
    return (0, _possibleConstructorReturn3.default)(this, (AddLabel.__proto__ || (0, _getPrototypeOf2.default)(AddLabel)).apply(this, arguments));
  }

  (0, _createClass3.default)(AddLabel, [{
    key: 'onSubmit',
    value: function onSubmit(label) {
      this.contextRequest('story', 'nav-value', 'label', label);
    }
  }, {
    key: 'getInfoMessage',
    value: function getInfoMessage() {
      return 'This will be the in on your call to action.';
    }
  }]);
  return AddLabel;
}(_shared.AddLabel);

exports.default = AddLabel;
module.exports = exports['default'];

/***/ }),
/* 548 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _regenerator = __webpack_require__(117);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(108);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DeleteNav = function (_AbstractStory) {
  (0, _inherits3.default)(DeleteNav, _AbstractStory);

  function DeleteNav() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, DeleteNav);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DeleteNav.__proto__ || (0, _getPrototypeOf2.default)(DeleteNav)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.id = parentStory.state._data.id;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(DeleteNav, [{
    key: 'updateUI',
    value: function updateUI() {}
  }, {
    key: 'storyProps',
    value: function storyProps() {
      var _this2 = this;

      return {
        header: 'Are you sure you want to delete?',
        onCancel: this.goBack,
        onSubmit: function () {
          var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee() {
            var navId;
            return _regenerator2.default.wrap(function _callee$(_context) {
              while (1) {
                switch (_context.prev = _context.next) {
                  case 0:
                    navId = _this2.navId;


                    _this2.context.request('story', 'deleteNav', navId);
                    _this2.cancel();

                  case 3:
                  case 'end':
                    return _context.stop();
                }
              }
            }, _callee, _this2);
          }));

          return function onSubmit() {
            return _ref2.apply(this, arguments);
          };
        }()
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['Confirm'], this.storyProps(), children);
    }
  }]);
  return DeleteNav;
}(_AbstractStory3.default);

DeleteNav.storyName = 'delete-nav';
exports.default = DeleteNav;
module.exports = exports['default'];

/***/ }),
/* 549 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _deleteNav = __webpack_require__(548);

var _deleteNav2 = _interopRequireDefault(_deleteNav);

var _addExternal = __webpack_require__(545);

var _addExternal2 = _interopRequireDefault(_addExternal);

var _addInternal = __webpack_require__(546);

var _addInternal2 = _interopRequireDefault(_addInternal);

var _addLabel = __webpack_require__(547);

var _addLabel2 = _interopRequireDefault(_addLabel);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
  AddExternal: _addExternal2.default,
  DeleteNav: _deleteNav2.default,
  AddInternal: _addInternal2.default,
  AddLabel: _addLabel2.default
};
module.exports = exports['default'];

/***/ }),
/* 550 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddExternal = function (_AbstractStory) {
  (0, _inherits3.default)(AddExternal, _AbstractStory);

  function AddExternal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddExternal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddExternal.__proto__ || (0, _getPrototypeOf2.default)(AddExternal)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.value = parentStory.state._data.value;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddExternal, [{
    key: 'updateUI',
    value: function updateUI() {}
  }, {
    key: 'storyProps',
    value: function storyProps() {
      return {
        value: this.value || '',
        header: 'Enter your link',
        placeholder: 'http://...',

        // FIXME: add more information, what is a valid url?
        infoMessage: this.getInfoMessage(),

        // don't show error message if the length still below 6
        thresholdErrorMessage: 6,
        validate: 'isURL',

        onChange: this.onChange,
        onCancel: this.goBack,
        onSubmit: this.onSubmit.bind(this)
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['TextInput2'], this.storyProps(), children);
    }
  }]);
  return AddExternal;
}(_AbstractStory3.default);

AddExternal.storyName = 'add-external';
exports.default = AddExternal;
module.exports = exports['default'];

/***/ }),
/* 551 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory2 = __webpack_require__(47);

var _AbstractStory3 = _interopRequireDefault(_AbstractStory2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddInternal = function (_AbstractStory) {
  (0, _inherits3.default)(AddInternal, _AbstractStory);

  function AddInternal() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddInternal);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddInternal.__proto__ || (0, _getPrototypeOf2.default)(AddInternal)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.value = parentStory.state._data.value;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddInternal, [{
    key: 'storyProps',
    value: function storyProps() {
      return {
        header: this.getHeader(),
        onCancel: this.goBack,
        onSubmit: this.onSubmit.bind(this)
      };
    }
  }, {
    key: 'display',
    value: function display(children) {
      return _infernoCompat2.default.createElement(_steps2.default['ChooseItem2'], this.storyProps(), children);
    }
  }]);
  return AddInternal;
}(_AbstractStory3.default);

AddInternal.storyName = 'add-email';
exports.default = AddInternal;
module.exports = exports['default'];

/***/ }),
/* 552 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _steps = __webpack_require__(46);

var _steps2 = _interopRequireDefault(_steps);

var _AbstractStory = __webpack_require__(47);

var _AbstractStory2 = _interopRequireDefault(_AbstractStory);

var _uiStoryMachine = __webpack_require__(28);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var AddLabel = function (_Story) {
  (0, _inherits3.default)(AddLabel, _Story);

  function AddLabel() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddLabel);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddLabel.__proto__ || (0, _getPrototypeOf2.default)(AddLabel)).call.apply(_ref, [this].concat(args))), _this), _this.contextStores = {
      store: function store(parentStory) {
        _this.value = parentStory.state._data.value;
        _this.label = parentStory.state._data.label;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddLabel, [{
    key: 'storyProps',
    value: function storyProps() {
      return {
        value: this.label || this.value || '',
        header: 'How should it be labeled?',
        infoMessage: this.getInfoMessage(),
        validate: 'minLength1',
        onChange: this.onChange,
        onCancel: this.goBack,
        onSubmit: this.onSubmit.bind(this)
      };
    }
  }, {
    key: 'willMount',
    value: function willMount() {
      // debugger
    }
  }, {
    key: 'focus',
    value: function focus() {
      // debugger
    }
  }, {
    key: 'display',
    value: function display(children) {
      // debugger
      return _infernoCompat2.default.createElement(_steps2.default['TextInput2'], this.storyProps(), children);
    }
  }]);
  return AddLabel;
}(_uiStoryMachine.Story);

AddLabel.storyName = 'add-label';
exports.default = AddLabel;
module.exports = exports['default'];

/***/ }),
/* 553 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Store = function () {
  function Store(name, actions, state) {
    var _this = this;

    (0, _classCallCheck3.default)(this, Store);


    this.name = name;
    this.actions = actions;
    this.initialState = state;
    this.state = state;
    this.dirtyState = undefined;
    this.willChange = undefined;

    var handlers = [];

    this.commit = function () {
      _this.willChange = false;
      _this.state = _this.dirtyState;
      _this.dirtyState = undefined;
      _this.didChange();
    };

    this.request = this.request.bind(this);

    this.didChange = function () {

      _this.mountStateIfNeeded(_this.state);

      handlers.forEach(function (handler) {
        handler(_this);
      });
    };

    this.mountedComponent = undefined;

    this.lastMountedState = undefined;

    this.mountStateIfNeeded = function (state) {

      var mounted = _this.mountedComponent;

      // check if equals b/c mounted component setsState immediately on willReceiveProps
      if (mounted) {

        if (_this.lastMountedState && state.equals(_this.lastMountedState)) return;

        _this.lastMountedState = state;

        mounted.setState((0, _defineProperty3.default)({}, name, state));
      }
    };

    this.defaultActions = {

      'connect': function connect(state, handler) {
        var isDeferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;

        if (typeof handler !== 'function') throw new Error('Contextual.Store ' + name + ' connect action accepts a funcion not ' + handler);

        if (!handlers.includes(handler)) {

          handlers.push(handler);

          // call handler if just adding
          if (!isDeferred) {
            handler(_this);
          }
          (0, _raf2.default)(function () {
            handler(_this);
          });
        }

        return state;
      },

      'disconnect': function disconnect(state, handler) {
        var index = handlers.indexOf(handler);

        if (index === -1) throw new Error('Contextual.Store ' + name + ' disconnect action cant find ' + handler + ', you\'re probably returning new instance of function :)');

        handlers.splice(index, 1);

        return state;
      },

      'get-state': function getState(state, callback) {
        callback(state);
        return state;
      },

      'replace-state': function replaceState(state, newState) {
        if (state.equals(newState)) return state;
        return newState;
      },

      'merge': function merge(state) {
        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        if (args.length === 1) {
          var mergeable = args[0];
          // check if needed...
          if (mergeable.equals && mergeable.equals(state)) return state;
          return state.merge(mergeable);
        }
        return state.merge.apply(state, args);
      },

      'merge-in': function mergeIn(state) {
        for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
          args[_key2 - 1] = arguments[_key2];
        }

        return state.mergeIn.apply(state, args);
      },

      'merge-deep': function mergeDeep(state) {
        if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 1) {
          var mergeable = arguments.length <= 1 ? undefined : arguments[1];
          // check if needed...
          if (mergeable.equals && mergeable.toJS) {
            if (mergeable.equals(state)) return state;
            return state.merge(mergeable);
          }
        }
        throw new Error('Contextual.Store ' + name + ' merge-deep action only accepts one arg of type Immutable');
      },

      'mount': function mount(state, comp) {
        if (_this.mountedComponent) throw new Error('Store cant have more than one mounted component');

        _this.mountedComponent = comp;

        var componentWillReceiveProps = comp.componentWillReceiveProps,
            componentWillUnmount = comp.componentWillUnmount,
            props = comp.props;


        comp.componentWillReceiveProps = function () {
          for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
          }

          if (componentWillReceiveProps) componentWillReceiveProps.apply(comp, args);
          var nextProps = args[0];


          var newState = _this.state.merge(nextProps);
          if (newState.equals(_this.state)) return;
          _this._setState(newState);

          // setState immediately...
          _this.mountStateIfNeeded(newState);
        };

        comp.componentWillUnmount = function () {
          for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
            args[_key4] = arguments[_key4];
          }

          if (componentWillUnmount) componentWillUnmount.apply(comp, args);
          _this.lastMountedState = undefined;
          _this.mountedComponent = undefined;
        };

        if (props) state = state.merge(props);

        // setState immediately...
        _this.mountStateIfNeeded(state);

        return state;
        // return state.merge()
      }

    };
  }

  (0, _createClass3.default)(Store, [{
    key: 'mount',
    value: function mount(componentInstance) {
      return this.request('mount', componentInstance);
    }
  }, {
    key: 'getCurrentState',
    value: function getCurrentState() {
      return this.dirtyState ? this.dirtyState : this.state;
    }
  }, {
    key: 'request',
    value: function request(actionName) {
      var _action;

      var action = this.actions[actionName];
      if (!action) action = this.defaultActions[actionName];

      if (!action) throw new Error('Contextual.Store ' + name + ' does not provide action: ' + actionName);

      var startState = this.getCurrentState();

      // action methods called with this === store

      for (var _len5 = arguments.length, payload = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
        payload[_key5 - 1] = arguments[_key5];
      }

      return this._setState((_action = action).call.apply(_action, [this, startState].concat(payload)));
    }
  }, {
    key: '_setState',
    value: function _setState(state) {
      this.dirtyState = state;

      if (!this.state.equals(this.dirtyState)) {

        if (this.willChange) return;

        this.willChange = true;

        // defering commit
        (0, _raf2.default)(this.commit);
      } else {
        if (this.willChange) _raf2.default.cancel(this.commit);
        this.dirtyState = undefined;
        this.willChange = false;
      }
    }
  }]);
  return Store;
}();

exports.default = Store;
module.exports = exports['default'];

/***/ }),
/* 554 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _get3 = __webpack_require__(49);

var _get4 = _interopRequireDefault(_get3);

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _Store = __webpack_require__(553);

var _Store2 = _interopRequireDefault(_Store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES = ['arguments', 'callee', 'caller', 'length', 'name', 'prototype', 'type'];

function cloneComponentProps(source, target) {
  (0, _getOwnPropertyNames2.default)(source).forEach(function (key) {
    if (KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES.indexOf(key) < 0 && !target.hasOwnProperty(key)) {
      var descriptor = (0, _getOwnPropertyDescriptor2.default)(source, key);
      (0, _defineProperty2.default)(target, key, descriptor);
    }
  });
}

var Contextual = {

  Store: _Store2.default,

  make: function make(name, _ref) {
    var actions = _ref.actions,
        state = _ref.state;


    var store = new _Store2.default(name, actions, state);

    var ContextualComponent = function (_React$Component) {
      (0, _inherits3.default)(ContextualComponent, _React$Component);

      function ContextualComponent() {
        (0, _classCallCheck3.default)(this, ContextualComponent);
        return (0, _possibleConstructorReturn3.default)(this, (ContextualComponent.__proto__ || (0, _getPrototypeOf2.default)(ContextualComponent)).apply(this, arguments));
      }

      (0, _createClass3.default)(ContextualComponent, [{
        key: 'render',
        value: function render() {
          return this.props.children;
        }
      }, {
        key: 'request',
        value: function request() {
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          var storeName = args[0];

          // catch request

          if (storeName === name) return store.request.apply(store, (0, _toConsumableArray3.default)(args.slice(1)));

          if (this.context && this.context.__contextual_names__) {
            if (this.context.__contextual_names__.includes(storeName)) {
              var _context;

              // bubble request
              return (_context = this.context).request.apply(_context, args);
            }
          }

          throw new Error('Contextual: Component not found for request (' + storeName + ', ' + args[1] + ', ...)');
        }
      }, {
        key: 'getChildContext',
        value: function getChildContext() {

          var __contextual_names__ = this.context.__contextual_names__;

          if (!__contextual_names__) {
            __contextual_names__ = [name];
          } else if (!__contextual_names__.includes(name)) {
            __contextual_names__ = [name].concat(__contextual_names__);
          }

          return {
            request: this.request,
            __contextual_names__: __contextual_names__
          };
        }
      }]);
      return ContextualComponent;
    }(_infernoCompat2.default.Component);

    ContextualComponent.contextTypes = {
      request: _infernoCompat2.default.PropTypes.func,
      __contextual_names__: _infernoCompat2.default.PropTypes.array
    };

    ContextualComponent.childContextTypes = {
      request: _infernoCompat2.default.PropTypes.func,
      __contextual_names__: _infernoCompat2.default.PropTypes.array
    };

    // ContextualComponent.propTypes = {
    //   children: React.PropTypes.object.isRequired,
    // }

    return ContextualComponent;
  },

  enhance: function enhance(ComponentToEnhance, name, _ref2) {
    var actions = _ref2.actions,
        state = _ref2.state;

    var Enhanced = function (_ComponentToEnhance) {
      (0, _inherits3.default)(Enhanced, _ComponentToEnhance);

      function Enhanced() {
        var _ref3;

        (0, _classCallCheck3.default)(this, Enhanced);

        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }

        var _this2 = (0, _possibleConstructorReturn3.default)(this, (_ref3 = Enhanced.__proto__ || (0, _getPrototypeOf2.default)(Enhanced)).call.apply(_ref3, [this].concat(args)));

        _this2.store = new _Store2.default(name, actions, state);
        _this2.isAwesome = 'boobs';
        _this2.request = _this2.request.bind(_this2);
        return _this2;
      }

      (0, _createClass3.default)(Enhanced, [{
        key: 'request',
        value: function request() {
          var _get2;

          for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
            args[_key3] = arguments[_key3];
          }

          if ((0, _get4.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'request', this)) (_get2 = (0, _get4.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'request', this)).call.apply(_get2, [this].concat(args));

          var requestedStoreName = args[0];

          // catch request

          if (requestedStoreName === name) return this.store.request.apply(this.store, args.slice(1));

          if (this.context && this.context.__contextual_names__) {
            if (this.context.__contextual_names__.includes(requestedStoreName)) {
              var _context2;

              // bubble request
              return (_context2 = this.context).request.apply(_context2, args);
            }
          }
          throw new Error('Contextual: Component not found for request (' + requestedStoreName + ', ' + args[1] + ', ...)');
        }
      }, {
        key: 'getChildContext',
        value: function getChildContext() {
          var superChildContext = (0, _get4.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'getChildContext', this) ? (0, _get4.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'getChildContext', this).call(this) : {};

          var childContext = (0, _extends3.default)({}, superChildContext);

          var __contextual_names__ = this.context.__contextual_names__;

          if (!__contextual_names__) {
            __contextual_names__ = [name];
          } else if (!__contextual_names__.includes(name)) {
            __contextual_names__ = [name].concat(__contextual_names__);
          }

          childContext.request = this.request;
          childContext.__contextual_names__ = __contextual_names__;

          return childContext;
        }
      }]);
      return Enhanced;
    }(ComponentToEnhance);

    // Class inheritance uses Object.create and because of __proto__ issues
    // with IE <10 any static properties of the superclass aren't inherited and
    // so need to be manually populated.
    // See http://babeljs.io/docs/advanced/caveats/#classes-10-and-below-


    cloneComponentProps(ComponentToEnhance, Enhanced);

    if (false) {
      // This also fixes React Hot Loader by exposing the original components top
      // level prototype methods on the enhanced prototype as discussed in
      // https://github.com/FormidableLabs/radium/issues/219.
      cloneComponentProps(ComponentToEnhance.prototype, Enhanced.prototype);
    }

    // if (Enhancer.propTypes && Enhancer.propTypes.style) {
    //  Enhancer.propTypes = {
    //    ...Enhancer.propTypes,
    //    style: PropTypes.oneOfType([
    //      PropTypes.array,
    //      PropTypes.object
    //    ])
    //  };
    // }

    Enhanced._isContextualEnhanced = true;

    Enhanced.displayName = ComponentToEnhance.displayName || ComponentToEnhance.name || 'ContextualEnhanced';

    Enhanced.contextTypes = (0, _extends3.default)({}, Enhanced.contextTypes, {
      request: _infernoCompat2.default.PropTypes.func,
      __contextual_names__: _infernoCompat2.default.PropTypes.array
    });

    Enhanced.childContextTypes = (0, _extends3.default)({}, Enhanced.childContextTypes, {
      request: _infernoCompat2.default.PropTypes.func,
      __contextual_names__: _infernoCompat2.default.PropTypes.array
    });

    return Enhanced;
  }

};

exports.default = Contextual;
module.exports = exports['default'];

/***/ }),
/* 555 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  transparent: true,
  height: 155,
  width: 131,
  color: 'black',
  src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIMAAACbCAYAAABBGCiQAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAEexJREFUeJztXet12zgTvdyz/6OtQIhZwMoVhKogcgWRK4hVgeUKJFdgpQIrFZipINoCeIytYPVVwO8HBhIEAeBDfIAW7jk6TvgAQfBiZjAYDICAgICAgICAgICAgIA6iPI877sOvSFmbARglXF+33ddfMAffVegZ8zoF4BAhq8ARjFjgRC4YjKQipAk+NpnXXzB1ZIBQGL599XimsmgSgMWMzbprSae4JrJoNsJ33qphUe4SjKQwTjSDl+9EXmVZIDZYLx6VXGtZLBJgatWFVdHBouKkLhqVTF4dzSJ9kfYP7AORj8b0gqP32WcLypc7zUGTwYAiBljAF4BdKnznzLOlx0+r3V8CDJIxIytADy0/Jg9gLuM87Tl53SOD0UGAIgZSyCkRFm1UQVbAPcZ5/sWyu4dH44MwGHe4RXNupkXGefrBsvzDh+SDBIxY0sI4/IS7CCkwe7yGvmND00G4DDaeIV7BGHDBkIifEi1oOPDkwE4qI3/Kt62/kjDxjK4FqcTq3FP0nAdvMe1kKGOm3lC/ourwbWQoa6b+arc016QIWZs3mLZDPXUBNBiOFzMWOLbLKkXZACwalEku3r3AsBfsM9HJGR8toGv8GyWtHcyKLOIbYlkU4NzALcZ5+uM833G+RTAk+X+turlXZh+72TAURQ33ktI2uiieANBhBMnEk063UIQxVS/Jus1Ac2e+qQqfCCD7B1tWO9qz9tDeBKtcwtEkFuIOYhDGS2oCpX4ScNl10avZKBJJbWhmxabstF3ENJgU3QDqY07APcQBGqjXmp53tgNfUsGXQQ31jCKilhnnN9mnPMq9xNxphBEakxVKCpCwht/Rt9k0Htckw0zATC9xKVMamOKczviEpgI74Uh2dvcBPWQ34ZTH3qqOGbsHed+j13G+W0P1TlBn5LBphK+dFqLDmFQERJeqIo+yWATjW1Y777ApQ56VxWNqQkKJCmLT3DHKm4A/FuhvHUfMQfkMKviJ/gGu2ucA/hRoaxdxvm2+LLy+LPBsraoH0SiY17yOuk76Cv4JIUYacwbKIuhfFTWGtVC+kuhUQNSpsVBM41ThB1ElDLv4FlO0ETbCu0E4aqQ5G9UIki0MprooHG8W7PQwdqN1snf2tCSLOcXNNs43q9ZaGntRifkb93P0GDjDGbNQoNrNzolfydOJ7K6X1C/cQbniGpg7Ubn5O/MA0mN84ZqaoND9IzBrlmoKRl7sYk6czrVZPhoyEQg/FPjHt50JcqgMzJYAk2K8BFyNNaZ8ewlFWGX7ui6H3WwORq1XJNV0ItLvksy1I1VqNSYURQtoyh6j6Ioj6LoNYqiER2fmY7TOUbHVsqxN8Nv3mbdNSQX3FsLnZCBWG5TEXuIqCKbbVBaVURRlEC4dHcQLtsZgFUURQzCst8rx1/pHjmVrs8z/FJ+e9T7OC6p9kR1qXNvK2hybsIF28dMIUYLewAbh+X9FadxiS5sAdzneb6PougBwuc/p3N3eZ5zkgpz+ruCMNhOxHKe50v57yiK3gDwPM83JevgUhEnvoOYsV8wD7tnEJ2kM3SlJkwsX2ScT9VRBkUl3eEYeyhRSjLkeZ7meX5HREjo8C8Af9N5TsfkjOgkz/NpnuemqGgAB2mTAHguU4eCOm8BfFadSDTP8BnnE0+dG8+tk8HQQzhozYLpekvjjMirVwok+l9xVBeXGGOPEOTcVLxP7wCLjPM70xDbsXajU1XRhWRQibCBYc2CDkvjlGoYIsIbBOmmeZ7vQfaIYjR+or+8oKwEJBWonCqQ7y0jsws9qIa1Gx9LMkB8RDn1Wsm9So0jA1ILG0YhAiCINKFjP+nYKoqiGYQNwaX9QB99BGAURVGikEZKhUqucEW8byCCcks7zrS1G92qijzPW/vdjMejm/H49814zBoo5/VmPJ64roNQDbn2e6NzK+XYfxD2AiB6vn5Pohxf1qjv6mY8njfQfvOb8XjV5jdSf1eRuUWChpgsz/O035r4iasiQ4AbfS+iCfAIgQwBBwQyBBwQyBBwwCDJ4GuMg6/1KovBkYGCZC5NAdw4iAje5Fqog8GRATTV7MNCVQ1fMfB1okMkg+x9vonkmfZ3cBgUGbQ4Sm9Esrbv1WDD9AZFBpz2Op9UhZpTIumrEpdiaGTQpYEvIlmtx2AjugdDBkuofe+qwpKNZZCqYjBkgFkK+KAqvE3YVRVDIoNNCiRdVsIA04cfpKoYBBkKQu17E8mOhF3AAFVFL/EMBR/XhARur+O0yvNtS9xrbEfwDfYsNXuISO/S6DvvRFfrJk6Qcb6PGfuK5pJavBVfAuC4YMd1/jua0fly1XkZcHS8RsKEXiOdGsjbUAUpRFAuL7qwwxxNgEdJSHoPe2tpQ1IdlfMdtJSGSMUeol6VIq/bRO9kkGhoQ1IdHKLXpXULaClH0w4ebpzqDRmAizck1dGY+G1Yna0hJELvakGHV2QADmrjBfWNuFbEbwPqTC4kKruAuHN4RwaJmkZc6+K3pjpLUdJ47RPeOp3K7BpjwK4DPbypcc/OdyIAHpNBixEoiy5cwHWeMQjXtLdkQD13bhdzAnVmSr3apc4Gn8lQ96O2uUstQ32/Q+/T7UXwkgwFKqJoiXybkiFxnNvBbU+47vUCXpIB9t4t0+AsYN9IrE1VYavXBiIPwz3MaYgAP2IvnPCVDKaPeZIGh7yK+oakEm3sUqunIwKOybrulXptqV6poRivDUnvyGBQEdY0OMqGpAuc9sY2Gl0vU9brjIwZ59ySo8lru8E7MuC0V29QIg0OEUVuSAoIVdG09a7W66nMxqlaGiLAc1XhIxkSGMRvEZQNSaUEaXL3XKki9hDkXJa916DOvFUVXpGBevMeFvFbBFIbMpdk0mDVZjDkcKxYL6nO/A2H6yp5VMmEVhclAru2spr+eTtRFdA9vFITAf0ikCHggECGgAMCGQIOCGQIOCCQIeCA6GY8Tjp6Fh9C6JeEErswgdi85B/f9t9uGn+i/BKwS7FFxbWHXUH78F/orx5PUWd/ykHhT4iZtTGE+5a1+Cwvs6DFjL1hAIEnXeBPKfoqrAtYwLzT3AiiV83h6Ye3YAHxzt/Q3lK6QeDEHU3i8r3gnqlrsoZItcL5UvWU5vi9BNX7HXYi97I/dZc4GU2QgccvKZBm6O5Rb31Bb6Cp8rTvevQJ09CSN1EwESJtoqwO8eGNRBdMZChakcQrlK+HfQV4DBMZ/ue6oYqvgGyLtFKNAnpDF2l8fsAyQqHgV+nUUQ23XxASaFtn6TpFTMnkW58o+kmeYxCpeuTIYQ/gZ5W1nbThquqL2EEYyLWX2VOdE4hhvjqq+QWxVrNS5BcZxLKeX7TTcn/vnToY6IIM8iVS4GS04Vook9Dfl5ixDYQlz00XKh/+b/qbaJekyrW2xBsJig3eccyYTBVgrHfM2BYipN9YV8s9M4hV3bZhbULXlUo1QO37AEH4ovaV5T5nnC8bnZuIGXugpfQH0Ohik3HO6cXfceqLkMGvEcS2x3oPmAN418uNGZvHjOUQO9y/QDRA4qibvMaEMr1ujmIfysxUV0t9RuTwesUpEdYA/oII7lUlzQjAKmbs1baNAXWM3xDkUq95ovKmEH4VrpX7BWhwoorE7wqWqGRqoFecN+ZUikBab3AHsxH7QrkRJDjES/ISdVvCnqIPKLfpeQqRkW1Kf12G9ouLEPQxTZ7PTcb5gjpQCrP7fgbRzrYymXbqKeN8mXGe0m8NyyIfExnOLiqJue2EkgZHx8ayJmJhOAYAj3LpHL3YEuLFXLp6BHdyDTWng+sD/yIJl9LfW7hVy4tj7cYbztXCHtp7EyG44f65YQmhLbGJcfERBNFk2QnQkGSgl/5uOTeCmQjAcY/qE1Aj2D7MShWT9GIbR/WKXMyqVKhkAJIvxUUgUw9eWupkM5bTorKpPeaWOhrfiY6fDP0rkyFmbBIzlii/Bwim23Tpg+Nc6niUkSgQYlDvFc7hMARZ7nCuN/coZy+4YJNiAJCo0oE+mrHTwP6+/1qOqzkfrIR3reCiERSX/68zmvhd8Xrby/OCoVgKu3j/jlNp4CpnSz1YL3sdMza5NOtaxnkaM8Zhn/H9hqP0mMPeMWwSxiV5ZnTeJf1eY8buHCOcZzRtQJpQkGeBF9zuOj/RLGpXg1ldzA3mf0od59QPZV3y5/hYLrJK/4HrPSYAfseMLU2jkIzzNRnt1SUDDQEPKMikWntKmIairksm8Me7aRPlwNFPMIJbnC8tp8aOstXhuQvSiP4eM/YMYbhz/aKLnU4Z57uYsSmE+mDa6b8dt17aK30iQ4ridIBFHaNOdtwJcPgGHMXBSZIUj+Qgey7yQFbuzZQl/gnnowaXg6bI6AOEqmCWc66yh4Yd3IZoGdyjWgjjDGIfzg2E13RvIkPdRt7CPoSsC452Q/F8wejSvSbIkL1H9USqcwgBcFtraGmpzB5i2PajapkO1LY5BgbWRCE0VCxyhpkwiRmrNTdhZZ30zimHyljCtZ6Fy22OJpE4zqVlCmgq0wy59O8h5nn0eQgXvrW9iKbNyKE2yMBq3vfJcY7T36L6JjWfDeDcuUSkWGecf4aQ2GlBEaxtMrgqwFw32mbmCG0tyGE170sc534CBzXqIoTNOVcImr212msksaXn1QoTGVzDwUogo8imKljBB3eJTd0ucZXj6rUXo8B/sNeCUlz2FCPXfh1wCNc3c11EM5Yb23kTGYos0aTgvA7rwwvKsjawoUwXcdo2QvV5EhV6DOgGbjvqsabtwOnv2cSYATYH2d5EhqLKuDxiJjzB3gCuZFc2A/PZszWbNmfRTo9KMs0UahgBeCuSEDFjLGbszTCNPSuRHdcmKbcnZCiZ1n9WIN5PQA1g26ZvbhJtdMz0UjKGQYdLtTUlGc46AbmQmeFaGS9whiJRjWNE03vM2CpmbKbMEM8pYusdQqqavoM1jiI2Z7mVePpDuTBBOaeRZC8rcS2AQwpdGyFMYVwmcZfC0MBUb1dvGDn8/lXAtOfOYZYKO4joLW4rqOQiIwYx/f8K4Vl8g/g+czp/bwniHeE4MXWoM7WTKRJKlsWjm/FYRt3U8Txy+i3KzACS5FkZKsRxDDLR1zzuQQGbWllznEY5l63rTo2W1spcwi7290odv8Bs76xRYTMyUgd6vGIRdtC2XorrLx7eQ9k3S7qjO3HgZJxvY8ZSCHarH53hXBpwCOvbOMNG2KPZySpp+X+hOjHlnJzk0bGDGD666mlExvma5gbmKF74u4U9pP8OQjpKkjLDNSpkndcqcfve8dY2LNtdGnTSFEj/2npuo/W0tUedeQtSCyZY6xySggYcEHI6BRwQyBBwQCBDwAGBDBeCnEGs73o0gehmPHZZkGepdyxjWqMvQAeNq1cQwzCjE0op/7M6VIuPKYaM6YBo5s4EY/odur5WaiFlKaHq7HK2Ab0XDO2ZQDiDjOmRZHvogcjavTpSiPc2lbeExZfyR8Z5JH+yIOWYtaGUez7Twx9LrC98hGi0uWNCRvru9Qo/audNUOsuf0vH9ZVB7/EbgrD3EItk5drFw/K/jvGkfIt7CD/Dm2N4CQjynbRVE9HRPGbsB0QvYY5LHyDG67cQbF5BBF3o5aXSERMz9kTlMwjHTFow5h5pDbBvcG2EhPQYqu7gHYC7mDHW5yQaPXtDjr13iLqmlssn2lKEXW0yKP7+TxAfyjS1LK8dgVZBUVj3M0QvSiwf94nKfIRgupQKRRHEE5yKzRQGwl0IGZ6+kQdikfdhQv+2urthdl41HuVNHYgXXKZ7fKeXSAY5xZzQX9dubjJid0I6UDaAkbn0MhsI6fADghi2Fdsqukgv+BMikORBmaL+ByL0v2iTtEnM2EjzAJaJBa0EUsEM7mmGMxulNhlko5Od8AKL2FdFPE71/XfQ/HtmTlGzgFA9sqeXSRamqwnAHSJnur5ItWwgPvojSbwNxDyKnM+wPesZouO8xYzJQNUZhPrkF4bKj5X3YDhKUlfeCV1NXD60JHG5hugtpqnng+GXHRNGpDiKfGN0DvUe+TJlJ4GkmlB/84rXO6OFlCUBW4h3e8cx34K1jkT4BSgEgO5bUTmXSrM5Tqe55TR66rhnhfN3DwgICAgICAgICAgICAi4BP8HUnw1O98ogHQAAAAASUVORK5CYII='
};
module.exports = exports['default'];

/***/ }),
/* 556 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

var _uiSprung = __webpack_require__(64);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var springs = new _uiSprung.Springs({ id: 'overlay-springs' });
springs.set('show', 0);
springs.set('scale', 2);
springs.set('y', -64);
springs.commit();
var createVNode = Inferno.createVNode;
var sprungSheet = createVNode(16, _uiSprung.SprungSheet, {
  'springs': springs,
  children: function children(_ref) {
    var vals = _ref.vals,
        _ = _ref._;
    var show = vals.show,
        scale = vals.scale,
        y = vals.y;

    var scope = "#overlay-renderer";
    return '\n      ' + scope + ' {\n        visibility: ' + (show <= 0 ? 'hidden' : 'inherit') + ' !important;\n        opacity: ' + show + ';\n        transform: scale(' + scale + ') translate3d(0,' + y + 'px,0);\n      }\n      body {\n        overflow-y: ' + (show === 0 ? 'auto' : 'hidden') + ' !important;\n      }\n    ';
  }
}, null, null, 'sprung-sheet');

var OverlayState = (0, _immutable.Struct)({
  renderers: {
    default: (0, _immutable.Map)()
  },
  show: {
    default: false
  },
  current: undefined,

  // computed

  render: {
    cache: false,
    deps: ['current', 'renderers'],
    get: function get(current, renderers) {
      return renderers.get(current);
    }
  },

  sprungSheet: {
    cache: false,
    get: function get() {
      return sprungSheet;
    }
  }
});

var initialState = new OverlayState();

var OverlayStore = function (_Store) {
  (0, _inherits3.default)(OverlayStore, _Store);

  function OverlayStore() {
    var _ref2;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, OverlayStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref2 = OverlayStore.__proto__ || (0, _getPrototypeOf2.default)(OverlayStore)).call.apply(_ref2, [this].concat(args))), _this), _this.state = initialState, _this.name = 'overlay', _this.actions = {
      'show': function show(state, name) {
        if (!name) return state.set('show', true);
        springs.set('show', 1);
        springs.set('scale', 1);
        springs.set('y', 0, { start: -320 });
        springs.commit();
        return state.merge({
          'show': true,
          'current': name
        });
      },
      'hide': function hide(state) {
        springs.set('show', 0);
        springs.set('scale', 2);
        springs.set('y', -64);
        springs.commit();
        return state.set('show', false);
      },
      'toggle': function toggle(state, name) {
        if (this.state.get('show')) return this.actions.hide(state);
        return this.actions.show(state, name);
      },
      'setRenderer': function setRenderer(state, name, renderer) {
        return state.setIn(['renderers', name], renderer);
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return OverlayStore;
}(_cymatics.Store);

exports.default = OverlayStore;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 557 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _OverlayStore = __webpack_require__(556);

var _OverlayStore2 = _interopRequireDefault(_OverlayStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// <Overlay />

var createVNode = Inferno.createVNode;

var Overlay = function (_React$Component) {
  (0, _inherits3.default)(Overlay, _React$Component);

  function Overlay() {
    (0, _classCallCheck3.default)(this, Overlay);
    return (0, _possibleConstructorReturn3.default)(this, (Overlay.__proto__ || (0, _getPrototypeOf2.default)(Overlay)).apply(this, arguments));
  }

  (0, _createClass3.default)(Overlay, [{
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', null, [this.props.children, createVNode(16, OverlayRenderer)]);
    }
  }]);
  return Overlay;
}(_infernoCompat2.default.Component);

Overlay.displayName = 'Overlay';


Overlay = (0, _cymatics.installStore)(Overlay, 'overlay', function (component) {
  return new _OverlayStore2.default(component);
});

// <OverlayRenderer />

var OverlayRenderer = function (_React$Component2) {
  (0, _inherits3.default)(OverlayRenderer, _React$Component2);

  function OverlayRenderer() {
    var _ref;

    var _temp, _this2, _ret;

    (0, _classCallCheck3.default)(this, OverlayRenderer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref = OverlayRenderer.__proto__ || (0, _getPrototypeOf2.default)(OverlayRenderer)).call.apply(_ref, [this].concat(args))), _this2), _this2.state = {
      overlay: undefined
    }, _temp), (0, _possibleConstructorReturn3.default)(_this2, _ret);
  }

  (0, _createClass3.default)(OverlayRenderer, [{
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      var _this3 = this;

      var overlayState = nextState.overlay;
      if (!overlayState) return;
      var show = overlayState.get('show');
      if (!show) return;
      this.context.request('FAB', 'update', {
        defaultChromaType: 'dark',
        show: true,
        icon: 'x',
        'v-position': 'top',
        onClick: function onClick() {
          _this3.context.request('FAB', 'use-prev', { active: false });
          _this3.context.request('overlay', 'hide');
        }
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var overlayState = this.state.overlay;
      if (!overlayState) return null;
      var show = overlayState.get('show');
      return createVNode(2, 'div', {
        'id': 'overlay-container',
        'style': OverlayRenderer.rootStyle
      }, createVNode(2, 'div', {
        'id': 'overlay-renderer',
        'style': { position: 'absolute', top: 0, left: 0, width: '100vw', maxHeight: '100vh', backfaceVisibility: 'hidden', visibility: 'hidden', overflowY: 'scroll' }
      }, [overlayState.get('sprungSheet'), overlayState.get('render')]));
    }
  }]);
  return OverlayRenderer;
}(_infernoCompat2.default.Component);

OverlayRenderer.displayName = 'OverlayRenderer';
OverlayRenderer.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
OverlayRenderer.rootStyle = {
  zIndex: 1000,
  position: 'fixed',
  top: 0,
  left: 0,
  backfaceVisibility: 'hidden'
};


OverlayRenderer = (0, _cymatics.connectState)(OverlayRenderer, ['overlay'], function (overlay) {
  return { overlay: overlay };
});

exports.default = Overlay;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 558 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SectionBase = function (_React$Component) {
  (0, _inherits3.default)(SectionBase, _React$Component);

  function SectionBase() {
    (0, _classCallCheck3.default)(this, SectionBase);
    return (0, _possibleConstructorReturn3.default)(this, (SectionBase.__proto__ || (0, _getPrototypeOf2.default)(SectionBase)).apply(this, arguments));
  }

  (0, _createClass3.default)(SectionBase, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          className = _props.className,
          props = (0, _objectWithoutProperties3.default)(_props, ['id', 'className']);

      this.id = id;
      this.className = className;
      return _infernoCompat2.default.createElement('section', (0, _extends3.default)({}, props, { id: id, className: className }), this.renderChildren());
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      return this.props.children;
    }
  }]);
  return SectionBase;
}(_infernoCompat2.default.Component);

SectionBase.displayName = 'SectionBase';
exports.default = (0, _uiDesignable2.default)(SectionBase, {

  designverse: {

    'area-width--full': {
      style: '\n      :scope {\n        pad-l -- 0 !important\n        pad-r -- 0 !important\n      }\n      '
    },

    'theme--mandarin': {
      style: '\n\n      :scope {\n        color -- chroma-meta\n        background -- chroma-bg\n\n        pos -- relative\n        pad-t -- 8em\n        pad-b -- 12em\n        pad-l -- 1goldx\n        pad-r -- 1goldx\n\n        d--flex\n        flex-wrap -- wrap\n        justify-content -- space-between\n        flx-aln -- start\n\n        fnt -- txt\n        fnt-sz -- txt-l\n\n        //flx-dir -- col\n        //max-h -- 1400\n\n        &.section--article {\n          bg -- chroma-box\n        }\n\n        > .semantic-role--context {\n          w -- 100%\n          //w -- 50%\n          //h -- 100%\n        }\n        > .semantic-role--subject {\n          pos -- r\n          mar-b -- 2em\n        }\n\n        .text-group {\n          text-align -- center\n          mar-l -- auto\n          mar-r -- auto\n          mar-b -- 2em-txt\n          > * {\n            mar-b -- 2em-txt\n          }\n          color -- chroma-meta\n        }\n        .title {\n          fnt -- d2\n          fnt-sz -- d-l\n          color -- chroma-title\n        }\n        .sub-title {\n          fnt -- d2\n          fnt-sz -- txt\n          txt-transform -- uppercase\n          color -- chroma-text-pop2\n          d -- inline-block\n          pos -- relative\n          text-align -- center\n          mar-l -- auto\n          mar-r -- auto\n          &:before, &:after {\n            content -- \'\'\n            position -- absolute\n            margin-top -- 0.63em\n            width -- 2.5em //calc(50% - 2.5em - .5em)\n            height -- .1em\n            background-color -- chroma-inverse-text-pop2\n            opacity -- 0.4\n          }\n          &:before {\n            right -- -3.5em\n          }\n          &:after {\n            left -- -3.5em\n          }\n        }\n\n        .text {\n          text-align -- center\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          max-width -- 36em\n          ln-h -- 1.5\n          &.large {\n            color -- chroma-text\n            fnt-sz -- d-s\n            max-width -- 100%\n          }\n        }\n\n        .quote {\n          text-align -- center\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          fnt-sz -- d\n          fnt -- d\n          color -- chroma-box-pop\n          pad -- 1em 0\n        }\n\n\n        &.typ--large {\n          .title {\n            fnt-sz -- d-xxl\n          }\n        }\n\n        .typ.sz--txt-m {\n          fnt-sz -- txt\n        }\n\n\n        .component--site-logo {\n          d -- block\n          w -- 21em\n          max-w -- 33.3333333%\n          mar-l -- auto\n          mar-r -- auto\n        }\n\n        //TODO!!!!\n        .layout-flickr {\n          w -- 100%\n          pad -- 2em 0\n        }\n\n        .motion-hoverable {\n          transition -- transform .3s\n          transform -- translate3d(0,0,0)\n          bf-viz -- hidden\n\n          &:hover {\n            transform -- scale(1.1)\n          }\n\n          &.box.inset {\n            transition -- transform .3s, box-shadow .2s\n            &:hover {\n              box-sh -- l\n            }\n          }\n\n          .graphic {\n            transition -- transform .4s, box-shadow .2s\n            bf-viz -- hidden\n          }\n          &:hover {\n            .graphic {\n              transform -- scale(1.2)\n            }\n            .graphic-box {\n              box-sh -- l\n            }\n          }\n\n          .typ-title {\n            transition -- color .3s, opacity .2s\n            color -- chroma-text-pop2\n            o -- .8\n          }\n          .typ-desc {\n            transition -- color .3s\n          }\n\n          &:hover {\n            .typ-title {\n              color -- chroma-text-pop\n              o -- 1\n            }\n            .typ-desc {\n              color -- chroma-text\n            }\n          }\n        }\n\n        .graphic-box {\n            box-sh -- m\n            bg -- chroma-box-pop\n          &:nth-child(even) {\n            bg -- chroma-box-pop2\n          }\n        }\n\n        .media {\n          bg -- chroma-inverse-bg\n        }\n      }\n\n\n      '
    },

    'theme--frontenac': {
      style: '\n\n      :scope {\n        color -- chroma-text\n        background -- chroma-bg\n\n        pos -- relative\n        pad-t -- 8em\n        pad-b -- 12em\n        pad-l -- 1goldx\n        pad-r -- 1goldx\n\n        d--flex\n        flex-wrap -- wrap\n        justify-content -- space-between\n        flx-aln -- start\n\n        fnt -- txt\n        fnt-sz -- txt-l\n\n        //flx-dir -- col\n        //max-h -- 1400\n\n        &.section--article {\n          bg -- chroma-box\n        }\n\n        &.pad-b--s {\n          pad-b -- 4em\n        }\n\n        &.pad-b--xs {\n          pad-b -- 1em\n        }\n\n        > .semantic-role--context {\n          w -- 100%\n          //w -- 50%\n          //h -- 100%\n        }\n        > .semantic-role--subject {\n          pos -- r\n          mar-b -- 2em\n        }\n\n        .text-group {\n          text-align -- center\n          mar-l -- auto\n          mar-r -- auto\n          mar-b -- 2em-txt\n          > * {\n            mar-b -- 2em-txt\n          }\n          color -- chroma-meta\n        }\n        .title {\n          fnt -- d2\n          fnt-sz -- d-l\n          color -- chroma-title\n        }\n        .sub-title {\n          fnt -- d2\n          fnt-sz -- txt\n          txt-transform -- uppercase\n          color -- chroma-text-pop2\n          d -- inline-block\n          pos -- relative\n          text-align -- center\n          mar-l -- auto\n          mar-r -- auto\n          &:before, &:after {\n            content -- \'\'\n            position -- absolute\n            margin-top -- 0.63em\n            width -- 2.5em //calc(50% - 2.5em - .5em)\n            height -- .1em\n            background-color -- chroma-inverse-text-pop2\n            opacity -- 0.4\n          }\n          &:before {\n            right -- -3.5em\n          }\n          &:after {\n            left -- -3.5em\n          }\n        }\n\n        .text {\n          text-align -- justify\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          max-width -- 36em\n          ln-h -- 1.5\n          &.large {\n            color -- chroma-text\n            fnt-sz -- d-s\n            max-width -- 100%\n          }\n        }\n\n        .quote {\n          text-align -- justify\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          fnt-sz -- d-s\n          fnt -- d\n          color -- chroma-box-pop\n          pad -- 1em 0\n\n          &:before {\n            d -- block\n            content -- \'\\201C\'\n            fnt-sz -- d-xxl\n            pos -- absolute\n            l -- -0.5em\n            t -- -20px\n            color -- chroma-meta\n          }\n\n          > cite {\n            fnt-sz -- txt\n            color -- chroma-meta\n          }\n        }\n\n        &.typ--large {\n          .title {\n            fnt-sz -- d-xxl\n          }\n        }\n\n        .typ.sz--txt-m {\n          fnt-sz -- txt\n        }\n\n\n        .component--site-logo {\n          d -- block\n          w -- 21em\n          max-w -- 33.3333333%\n          mar-l -- auto\n          mar-r -- auto\n        }\n\n        //TODO!!!!\n        .layout-flickr {\n          w -- 100%\n          pad -- 2em 0\n        }\n\n        .motion-hoverable {\n          transition -- transform .3s\n          transform -- translate3d(0,0,0)\n          bf-viz -- hidden\n\n          &:hover {\n            transform -- scale(1.1)\n          }\n\n          &.box.inset {\n            transition -- transform .3s, box-shadow .2s\n            &:hover {\n              box-sh -- l\n            }\n          }\n\n          .graphic {\n            transition -- transform .4s, box-shadow .2s\n            bf-viz -- hidden\n          }\n          &:hover {\n            .graphic {\n              transform -- scale(1.2)\n            }\n            .graphic-box {\n              box-sh -- l\n            }\n          }\n\n          .typ-title {\n            transition -- color .3s, opacity .2s\n            color -- chroma-text-pop2\n            o -- .8\n          }\n          .typ-desc {\n            transition -- color .3s\n            color -- chroma-meta\n          }\n\n          &:hover {\n            .typ-title {\n              color -- chroma-text-pop\n              o -- 1\n            }\n            .typ-desc {\n              color -- chroma-text\n            }\n          }\n        }\n\n        .graphic-box {\n            box-sh -- m\n            bg -- chroma-box-pop\n          &:nth-child(even) {\n            bg -- chroma-box-pop2\n          }\n        }\n\n        .media {\n          bg -- chroma-inverse-bg\n        }\n\n        .component--ornament {\n          fill -- chroma-meta\n          w -- 100%\n          mar-b -- 0\n\n          &.ornament--top {\n            mar-b -- 0\n          }\n\n          &.ornament--bottom {\n            mar-b -- 1em\n          }\n\n          > .ornament-renderer {\n            pos -- relative\n          }\n        }\n\n        .section-separator {\n          w -- 100vw\n          h -- 5em\n          pos -- absolute\n          r -- 0\n\n          &.section-separator--top {\n            t -- 0\n          }\n\n          &.section-separator--bottom {\n            b -- 0\n          }\n        }\n\n        &.layout--video {\n          h -- 47vw\n          pad-b -- 0\n          pad-t -- 0\n          mar-t -- calc(100vw * -0.09)\n          overflow -- hidden\n        }\n      }\n\n\n      '
    },

    'theme--kak': {
      style: '\n\n      :scope {\n        color -- chroma-meta\n        background -- chroma-bg\n\n        pos -- relative\n        pad-t -- 8em\n        pad-b -- 12em\n        pad-l -- 1goldx\n        pad-r -- 1goldx\n\n        d--flex\n        flex-wrap -- wrap\n        justify-content -- space-between\n        flx-aln -- start\n\n        fnt -- txt\n        fnt-sz -- txt-l\n\n        //flx-dir -- col\n        //max-h -- 1400\n\n        &.section--article {\n          bg -- chroma-box\n        }\n\n        > .semantic-role--context {\n          w -- 100%\n          //w -- 50%\n          //h -- 100%\n        }\n        > .semantic-role--subject {\n          pos -- r\n          mar-b -- 2em\n        }\n\n        .text-group {\n          text-align -- center\n          mar-l -- auto\n          mar-r -- auto\n          mar-b -- 2em-txt\n          > * {\n            mar-b -- 2em-txt\n          }\n          color -- chroma-meta\n        }\n        .title {\n          fnt -- d2\n          fnt-sz -- d-l\n          color -- chroma-title\n        }\n        .sub-title {\n          fnt -- d2\n          fnt-sz -- txt\n          txt-transform -- uppercase\n          color -- chroma-text-pop2\n          d -- inline-block\n          pos -- relative\n          text-align -- center\n          mar-l -- auto\n          mar-r -- auto\n          &:before, &:after {\n            content -- \'\'\n            position -- absolute\n            margin-top -- 0.63em\n            width -- 2.5em //calc(50% - 2.5em - .5em)\n            height -- .1em\n            background-color -- chroma-inverse-text-pop2\n            opacity -- 0.4\n          }\n          &:before {\n            right -- -3.5em\n          }\n          &:after {\n            left -- -3.5em\n          }\n        }\n\n        .text {\n          text-align -- justify\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          max-width -- 36em\n          ln-h -- 1.5\n          &.large {\n            color -- chroma-text\n            fnt-sz -- d-s\n            max-width -- 100%\n          }\n        }\n\n        .quote {\n          text-align -- justify\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          fnt-sz -- d-s\n          fnt -- d\n          color -- chroma-box-pop\n          pad -- 1em 0\n\n          &:before {\n            d -- block\n            content -- \'\\201C\'\n            fnt-sz -- d-xxl\n            pos -- absolute\n            l -- -0.5em\n            t -- -20px\n            color -- chroma-meta\n          }\n\n          > cite {\n            fnt-sz -- txt\n            color -- chroma-meta\n          }\n        }\n\n\n        &.typ--large {\n          .title {\n            fnt-sz -- d-xxl\n          }\n        }\n\n        &.typ--s {\n          .title {\n            fnt-sz -- txt-s\n          }\n        }\n\n        .typ.sz--txt-m {\n          fnt-sz -- txt\n        }\n\n        .component--site-logo {\n          d -- block\n          w -- 21em\n          max-w -- 33.3333333%\n          mar-l -- auto\n          mar-r -- auto\n        }\n\n        //TODO!!!!\n        .layout-flickr {\n          w -- 100%\n          pad -- 2em 0\n        }\n\n        .motion-hoverable {\n          transition -- transform .3s\n          transform -- translate3d(0,0,0)\n          bf-viz -- hidden\n\n          &:hover {\n            transform -- scale(1.1)\n          }\n\n          &.box.inset {\n            transition -- transform .3s, box-shadow .2s\n            &:hover {\n              box-sh -- l\n            }\n          }\n\n          .graphic {\n            transition -- transform .4s, box-shadow .2s\n            bf-viz -- hidden\n          }\n          &:hover {\n            .graphic {\n              transform -- scale(1.2)\n            }\n            .graphic-box {\n              box-sh -- l\n            }\n          }\n\n          .typ-title {\n            transition -- color .3s, opacity .2s\n            color -- chroma-text-pop2\n            o -- .8\n          }\n          .typ-desc {\n            transition -- color .3s\n          }\n\n          &:hover {\n            .typ-title {\n              color -- chroma-text-pop\n              o -- 1\n            }\n            .typ-desc {\n              color -- chroma-text\n            }\n          }\n        }\n\n        .graphic-box {\n            box-sh -- m\n            bg -- chroma-box-pop\n          &:nth-child(even) {\n            bg -- chroma-box-pop2\n          }\n        }\n\n        .media {\n          bg -- chroma-inverse-bg\n        }\n\n        &.layout--gallery {\n          pad -- 0\n          mar -- 0\n\n          > .component--layout-flickr {\n            mar -- 1em\n            pad -- 0\n          }\n        }\n\n        &.pad-b--s {\n          pad-b -- 4em\n        }\n\n        &.pad-b--xs {\n          pad-b -- 1em\n        }\n\n        .component--ornament {\n          fill -- chroma-inverse-bg\n        }\n      }\n\n      '
    },

    'layout--offset': {
      style: '\n        :scope.layout--offset {\n          > .text:not(.large) {\n            max-w -- 66.66666%\n            w -- 30em\n            min-w -- 20em\n            pad -- 0 3em\n          }\n          > .semantic-role--context {\n            mar-b -- 4em-txt-l\n          }\n          > .semantic-role--subject {\n            mar-b -- 3em-txt-l\n            pos -- r\n          }\n          > .text.next-subject--media {\n            z-index -- 1\n            w -- 66.6666666%\n            mar-l -- 0\n          }\n          > .text.next-subject--media + .media {\n            w -- 50%\n            mar-l -- 50%\n            mar-t -- -5em-txt-l\n            mar-b -- 4em-txt-l\n            o -- .66666\n\n            // TODO!!!!!!!!\n            max-h -- 18em-txt\n            pad-b -- 50%\n          }\n          .media-group {\n            mar-t -- 1em-txt-l\n            mar-b -- 4em-txt-l\n          }\n        }\n      '
    },
    'layout--h-text-stack': { style: '\n      :scope {\n        min-h -- 1em\n        pad -- 0\n        color -- text\n        o -- 1 !important\n        justify-content -- space-around\n        > .semantic-role--subject {\n          mar -- 0\n          pos -- r\n          bg -- chroma-box\n          w -- calc(100%/3)\n          min-w -- 20em\n          h -- 20em\n          d -- inline-flex\n          padding -- 8em 3em\n          margin -- 0\n          text-align -- left\n        }\n        p {\n          pos -- relative\n          mar-t -- 1.5em\n          fnt-sz -- txt\n          &::first-line {\n            fnt-sz -- txt-l\n            color -- chroma-inverse-box\n          }\n          &:before {\n            pos -- absolute\n            d -- block\n            t -- 6em\n            l -- 3em\n            h -- 3px\n            w -- 2em\n            content -- \'\'\n            bg -- chroma-text-pop\n          }\n          &:before {\n            bg -- linear-gradient(to right, chroma-text-pop 0%, chroma-text-pop2 100%)\n          }\n\n        }\n      }\n    ' },
    'layout--odd-ball-list': { style: '\n      :scope {\n         flx-dir -- col\n         .text {\n           fnt-sz -- txt-l\n           max-width -- 30em\n           color -- chroma-inverse-box\n           o -- .333333\n         }\n         h3 {\n           fnt -- txt\n           fnt-sz -- txt-l\n           color -- chroma-text-pop\n           &:nth-of-type(odd) {\n             color -- chroma-text-pop2\n           }\n           mar-t -- 1em\n           mar-l -- auto\n           mar-r -- auto\n         }\n\n         // .text:nth-of-type(odd) {\n         //   mar-l -- .25goldx\n         // }\n         // .text:nth-of-type(even) {\n         //   text-align -- r\n         //   mar-r -- .25goldx\n         // }\n       }\n    ' }
  }
});

// export default function(props) {
//    // NOTE: must slice! ==> console.log(children[children.length-1])
//    //var children = React.Children.toArray(props.children).slice()
//   var id = props.id
//   if (!id) throw new Error("ID!")
//    return (React.createElement('section', {...props})
//      </Style>
//    )
//  }

module.exports = exports['default'];

/***/ }),
/* 559 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var SectionDual = function (_React$Component) {
  (0, _inherits3.default)(SectionDual, _React$Component);

  function SectionDual() {
    (0, _classCallCheck3.default)(this, SectionDual);
    return (0, _possibleConstructorReturn3.default)(this, (SectionDual.__proto__ || (0, _getPrototypeOf2.default)(SectionDual)).apply(this, arguments));
  }

  (0, _createClass3.default)(SectionDual, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          className = _props.className,
          props = (0, _objectWithoutProperties3.default)(_props, ['id', 'className']);

      this.id = id;
      this.className = className;
      return _infernoCompat2.default.createElement('section', (0, _extends3.default)({}, props, { id: id, className: className }), this.renderChildren());
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      return [createVNode(2, 'div', {
        'className': 'layout-context'
      }, this.props.children[0], null, 'context'), createVNode(2, 'div', {
        'className': 'layout-subject'
      }, this.props.children[1], null, 'subject')];
    }
  }]);
  return SectionDual;
}(_infernoCompat2.default.Component);

SectionDual.displayName = 'SectionDual';
exports.default = (0, _uiDesignable2.default)(SectionDual, {

  style: '\n    :scope {\n      @breakpoint < media-m {\n        .layout-context {\n          h -- auto !important\n          w -- 100% !important\n          min-h -- 100vw\n        }\n        .layout-subject {\n          h -- auto !important\n          w -- 100% !important\n          min-h -- 100vw\n        }\n      }\n    }\n  ',
  designverse: {
    'style--thin-centered': {
      style: '\n        :scope.style--thin-centered {\n          fnt-sz -- txt-l\n\n          .icon {\n            color -- chroma-text-pop\n          }\n\n\n          .text-group {\n            mar-l -- 6em-txt-l\n            mar-r -- 6em-txt-l\n            mar-t -- 7em-txt-l\n            mar-b -- 8em-txt-l\n            > * {\n              text-align -- center\n              mar-r -- auto\n              mar-l -- auto\n            }\n            > .media {\n              pos -- r\n              h -- 6em\n              w -- 100%\n              bg -- none\n              .media_src {\n                bg-size -- contain\n              }\n            }\n          }\n          .quote {\n            max-width -- 36em\n            w -- 100%\n            ln-h -- 1.5\n            fnt -- d\n            color -- chroma-box-pop\n            pad -- 1em 0\n          }\n        }\n      '
    },

    'layout--more-context': {
      style: '\n        :scope.layout--more-context {\n          .layout-context {\n            w -- 66.66666666666666666%\n          }\n          .layout-subject {\n            w -- 33.33333333333333333%\n          }\n        }\n      '
    },

    'order--subject-first': {
      style: '\n        :scope.order--subject-first {\n          .layout-subject {\n            order -- -1\n          }\n        }\n      '
    },

    'theme--mandarin': {
      style: '\n      :scope {\n\n\n        color -- chroma-text\n        background -- chroma-bg\n\n        pos -- relative\n        pad-t -- 0\n        pad-b -- 0\n        pad-l -- 0\n        pad-r -- 0\n\n        d--flex\n        flex-wrap -- wrap\n        flx-jst -- mid\n        flx-aln -- start\n\n        fnt -- txt\n        fnt-sz -- txt\n\n        > * {\n          pos -- r\n\n          h -- 100%\n\n\n        }\n\n\n        fnt-sz -- txt-l\n        color -- chroma-meta\n\n        .text-group {\n          display -- flex\n          flex-direction -- column\n          justify-content -- center\n          mar-l -- 5em-txt-l\n          mar-r -- 6em-txt-l\n          mar-t -- 7em-txt-l\n          mar-b -- 8em-txt-l\n          > * {\n            mar-b -- 2em-txt\n          }\n        }\n        .text {\n          text-align -- justify\n          max-width -- 36em-txt\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          &.large {\n            color -- chroma-text\n            fnt-sz -- d-s\n            max-width -- 100%\n          }\n        }\n\n\n        //.context-unit:not(.has-title)\n        .layout-context {\n          bg -- chroma-box\n          w -- 50%\n            p {\n              color -- chroma-text2\n            }\n            p:first-child {\n              pos -- relative\n\n              fnt-sz -- d-s\n              color -- chroma-inverse-box\n\n              //&::first-line {\n              //  fnt-sz -- d-s\n              //  color -- chroma-inverse-box\n              //}\n\n              //&:before {\n              //  pos -- absolute\n              //  d -- block\n              //  t -- -1.5em\n              //  l -- 0\n              //  h -- 1px\n              //  w -- 2em\n              //  content -- \'\'\n              //  bg -- chroma-text-pop\n              //}\n              //&:before {\n              //  bg -- linear-gradient(to right, chroma-text-pop 0%, chroma-text-pop2 100%)\n              //}\n\n            }\n        }\n\n        .layout-subject {\n          w -- 50%\n          fnt-sz -- txt-s\n        }\n\n        li {\n          color -- chroma-text-pop2\n          position -- relative\n          margin-left -- 2em\n          &:before {\n            pos -- absolute\n            d -- block\n            top -- 50%\n            left -- -2em\n            height -- 1px\n            width -- 1em\n            content -- \'\'\n            background -- chroma-box-pop\n          }\n        }\n\n        .title {\n          fnt -- d2\n          fnt-sz -- d\n          color -- chroma-title\n        }\n\n\n\n\n\n\n        &.typ--large {\n          .title {\n            fnt-sz -- d-xxl\n          }\n        }\n\n        .typ.sz--txt-m {\n          fnt-sz -- txt\n        }\n\n\n        .component--site-logo {\n          d -- block\n          w -- 21em\n          max-w -- 33.3333333%\n          mar-l -- auto\n          mar-r -- auto\n        }\n\n        //TODO!!!!\n        .layout-flickr {\n          w -- 100%\n          pad -- 2em 0\n        }\n\n        .motion-hoverable {\n          transition -- transform .3s\n          transform -- translate3d(0,0,0)\n          bf-viz -- hidden\n\n          &:hover {\n            transform -- scale(1.1)\n          }\n\n          &.box.inset {\n            transition -- transform .3s, box-shadow .2s\n            &:hover {\n              box-sh -- l\n            }\n          }\n\n          .graphic {\n            transition -- transform .4s, box-shadow .2s\n            bf-viz -- hidden\n          }\n          &:hover {\n            .graphic {\n              transform -- scale(1.2)\n            }\n            .graphic-box {\n              box-sh -- l\n            }\n          }\n\n          .typ-title {\n            transition -- color .3s, opacity .2s\n            color -- chroma-text-pop2\n            o -- .8\n          }\n          .typ-desc {\n            transition -- color .3s\n            color -- chroma-meta\n          }\n\n          &:hover {\n            .typ-title {\n              color -- chroma-text-pop\n              o -- 1\n            }\n            .typ-desc {\n              color -- chroma-text\n            }\n          }\n        }\n\n        .graphic-box {\n            box-sh -- m\n            bg -- chroma-box-pop\n          &:nth-child(even) {\n            bg -- chroma-box-pop2\n          }\n        }\n\n        .media {\n          bg -- chroma-inverse-bg\n        }\n\n      }\n      '
    },

    'theme--frontenac': {
      style: '\n      :scope {\n        color -- chroma-text\n        background -- chroma-bg\n\n        pos -- relative\n        pad-t -- 0\n        pad-b -- 0\n        pad-l -- 0\n        pad-r -- 0\n\n        d--flex\n        flex-wrap -- wrap\n        flx-jst -- mid\n        flx-aln -- start\n\n        fnt -- txt\n        fnt-sz -- txt\n\n        > * {\n          pos -- r\n\n          h -- 100%\n\n\n        }\n\n        fnt-sz -- txt-l\n        color -- chroma-meta\n\n        .text-group {\n          display -- flex\n          flex-direction -- column\n          justify-content -- center\n          mar-l -- 5em-txt-l\n          mar-r -- 6em-txt-l\n          mar-t -- 7em-txt-l\n          mar-b -- 8em-txt-l\n          > * {\n            mar-b -- 2em-txt\n          }\n        }\n        .text {\n          text-align -- justify\n          max-width -- 36em-txt\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          &.large {\n            color -- chroma-text\n            fnt-sz -- d-s\n            max-width -- 100%\n          }\n        }\n\n\n        //.context-unit:not(.has-title)\n        .layout-context {\n          bg -- chroma-box\n          w -- 50%\n            p {\n              color -- chroma-text2\n            }\n            p:first-child {\n              pos -- relative\n\n              fnt-sz -- d-s\n              color -- chroma-inverse-box\n\n              //&::first-line {\n              //  fnt-sz -- d-s\n              //  color -- chroma-inverse-box\n              //}\n\n              //&:before {\n              //  pos -- absolute\n              //  d -- block\n              //  t -- -1.5em\n              //  l -- 0\n              //  h -- 1px\n              //  w -- 2em\n              //  content -- \'\'\n              //  bg -- chroma-text-pop\n              //}\n              //&:before {\n              //  bg -- linear-gradient(to right, chroma-text-pop 0%, chroma-text-pop2 100%)\n              //}\n\n            }\n        }\n\n        .layout-subject {\n          w -- 50%\n          fnt-sz -- txt-s\n        }\n\n        li {\n          color -- chroma-meta\n          position -- relative\n          margin-left -- 2em\n          &:before {\n            pos -- absolute\n            d -- block\n            top -- 50%\n            left -- -2em\n            height -- 1px\n            width -- 1em\n            content -- \'\'\n            background -- chroma-box-pop\n          }\n        }\n\n        .title {\n          fnt -- d2\n          fnt-sz -- d\n          color -- chroma-title\n        }\n\n\n\n        .quote {\n          text-align -- center\n          max-width -- 36em\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          fnt-sz -- d\n          fnt -- d\n          color -- chroma-box-pop\n          pad -- 1em 0\n        }\n\n\n        &.typ--large {\n          .title {\n            fnt-sz -- d-xxl\n          }\n        }\n\n        .typ.sz--txt-m {\n          fnt-sz -- txt\n        }\n\n\n        .component--site-logo {\n          d -- block\n          w -- 21em\n          max-w -- 33.3333333%\n          mar-l -- auto\n          mar-r -- auto\n        }\n\n        //TODO!!!!\n        .layout-flickr {\n          w -- 100%\n          pad -- 2em 0\n        }\n\n        .motion-hoverable {\n          transition -- transform .3s\n          transform -- translate3d(0,0,0)\n          bf-viz -- hidden\n\n          &:hover {\n            transform -- scale(1.1)\n          }\n\n          &.box.inset {\n            transition -- transform .3s, box-shadow .2s\n            &:hover {\n              box-sh -- l\n            }\n          }\n\n          .graphic {\n            transition -- transform .4s, box-shadow .2s\n            bf-viz -- hidden\n          }\n          &:hover {\n            .graphic {\n              transform -- scale(1.2)\n            }\n            .graphic-box {\n              box-sh -- l\n            }\n          }\n\n          .typ-title {\n            transition -- color .3s, opacity .2s\n            color -- chroma-text-pop2\n            o -- .8\n          }\n          .typ-desc {\n            transition -- color .3s\n            color -- chroma-meta\n          }\n\n          &:hover {\n            .typ-title {\n              color -- chroma-text-pop\n              o -- 1\n            }\n            .typ-desc {\n              color -- chroma-text\n            }\n          }\n        }\n\n        .graphic-box {\n            box-sh -- m\n            bg -- chroma-box-pop\n          &:nth-child(even) {\n            bg -- chroma-box-pop2\n          }\n        }\n\n        .media {\n          bg -- chroma-inverse-bg\n        }\n      }'
    },

    'theme--kak': {
      style: '\n      :scope {\n\n        color -- chroma-text\n        background -- chroma-bg\n\n        pos -- relative\n        pad-t -- 0\n        pad-b -- 0\n        pad-l -- 0\n        pad-r -- 0\n\n        d--flex\n        flex-wrap -- wrap\n        flx-jst -- mid\n        flx-aln -- start\n\n        fnt -- txt\n        fnt-sz -- txt\n\n        > * {\n          pos -- r\n\n          h -- 100%\n\n\n        }\n\n\n        fnt-sz -- txt-l\n        color -- chroma-meta\n\n        .text-group {\n          display -- flex\n          flex-direction -- column\n          justify-content -- center\n          mar-l -- 5em-txt-l\n          mar-r -- 6em-txt-l\n          mar-t -- 7em-txt-l\n          mar-b -- 8em-txt-l\n          > * {\n            mar-b -- 2em-txt\n          }\n        }\n        .text {\n          text-align -- justify\n          max-width -- 36em-txt\n          mar-r -- auto\n          mar-l -- auto\n          w -- 100%\n          ln-h -- 1.5\n          &.large {\n            color -- chroma-text\n            fnt-sz -- d-s\n            max-width -- 100%\n          }\n        }\n\n\n        //.context-unit:not(.has-title)\n        .layout-context {\n          bg -- chroma-box\n          w -- 50%\n            p {\n              color -- chroma-text2\n            }\n            p:first-child {\n              pos -- relative\n\n              fnt-sz -- d-s\n              color -- chroma-inverse-box\n\n              //&::first-line {\n              //  fnt-sz -- d-s\n              //  color -- chroma-inverse-box\n              //}\n\n              //&:before {\n              //  pos -- absolute\n              //  d -- block\n              //  t -- -1.5em\n              //  l -- 0\n              //  h -- 1px\n              //  w -- 2em\n              //  content -- \'\'\n              //  bg -- chroma-text-pop\n              //}\n              //&:before {\n              //  bg -- linear-gradient(to right, chroma-text-pop 0%, chroma-text-pop2 100%)\n              //}\n\n            }\n        }\n\n        .layout-subject {\n          w -- 50%\n          fnt-sz -- txt-s\n        }\n\n        li {\n          color -- chroma-meta\n          position -- relative\n          margin-left -- 2em\n          &:before {\n            pos -- absolute\n            d -- block\n            top -- 50%\n            left -- -2em\n            height -- 1px\n            width -- 1em\n            content -- \'\'\n            background -- chroma-box-pop\n          }\n        }\n\n        .title {\n          fnt -- d2\n          fnt-sz -- d\n          color -- chroma-title\n        }\n\n\n\n\n\n\n        &.typ--large {\n          .title {\n            fnt-sz -- d-xxl\n          }\n        }\n\n        .typ.sz--txt-m {\n          fnt-sz -- txt\n        }\n\n\n        .component--site-logo {\n          d -- block\n          w -- 21em\n          max-w -- 33.3333333%\n          mar-l -- auto\n          mar-r -- auto\n        }\n\n        //TODO!!!!\n        .layout-flickr {\n          w -- 100%\n          pad -- 2em 0\n        }\n\n        .motion-hoverable {\n          transition -- transform .3s\n          transform -- translate3d(0,0,0)\n          bf-viz -- hidden\n\n          &:hover {\n            transform -- scale(1.1)\n          }\n\n          &.box.inset {\n            transition -- transform .3s, box-shadow .2s\n            &:hover {\n              box-sh -- l\n            }\n          }\n\n          .graphic {\n            transition -- transform .4s, box-shadow .2s\n            bf-viz -- hidden\n          }\n          &:hover {\n            .graphic {\n              transform -- scale(1.2)\n            }\n            .graphic-box {\n              box-sh -- l\n            }\n          }\n\n          .typ-title {\n            transition -- color .3s, opacity .2s\n            color -- chroma-text-pop2\n            o -- .8\n          }\n          .typ-desc {\n            transition -- color .3s\n            color -- chroma-meta\n          }\n\n          &:hover {\n            .typ-title {\n              color -- chroma-text-pop\n              o -- 1\n            }\n            .typ-desc {\n              color -- chroma-text\n            }\n          }\n        }\n\n        .graphic-box {\n            box-sh -- m\n            bg -- chroma-box-pop\n          &:nth-child(even) {\n            bg -- chroma-box-pop2\n          }\n        }\n\n        .media {\n          bg -- chroma-inverse-bg\n        }\n\n      }\n      '
    }
  }
});

// NOTE: must slice! ==> console.log(children[children.length-1])
//var children = React.Children.toArray(props.children).slice()

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 560 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _baseComponent = __webpack_require__(139);

var _baseComponent2 = _interopRequireDefault(_baseComponent);

var _cymatics = __webpack_require__(12);

var _theDataModeler = __webpack_require__(62);

var _layoutverse = __webpack_require__(105);

var _deps = __webpack_require__(13);

var _sectionRenderer = __webpack_require__(561);

var _sectionRenderer2 = _interopRequireDefault(_sectionRenderer);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}

// D4

var sectionIndex = -1;
var count = 0;
var renderCache = {};

//function FIRE_EVENT(el, etype){
//  debugger
//  if (el.fireEvent) {
//    el.fireEvent('on' + etype);
//  } else {
//    var evObj = document.createEvent('Events');
//    evObj.initEvent(etype, true, false);
//    el.dispatchEvent(evObj);
//  }
//}

var isServerSide = false; // this.props.route.serverSide

var mountCount = 0;

var createVNode = Inferno.createVNode;

var SectionLayout = function (_Component) {
  (0, _inherits3.default)(SectionLayout, _Component);

  function SectionLayout() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SectionLayout);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SectionLayout.__proto__ || (0, _getPrototypeOf2.default)(SectionLayout)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      didSetup: false,
      siteData: undefined,
      nbSections: undefined,
      currentPath: undefined
    }, _this.__id = 'SectionLayout-' + count++, _this.stateCache = {}, _this.httpRequest = null, _this.sectionRenderer = function (index) {

      //this.requestNextSectionsIfNeeded(index)


      var id = "section-index--" + index;
      if (renderCache[id]) return renderCache[id];

      var nodeProps = {
        tag: "div",
        className: "section-layout-node",
        key: id,
        id: id,
        index: index,
        style: { position: 'relative', transform: 'none', height: 'initial' }
      };

      // console.log('index sectionRenderer: ', index)
      renderCache[id] = createVNode(16, _layoutverse.LayoutNode, (0, _extends3.default)({}, nodeProps, {
        children: _this.props.children[index]
      }));
      // <SectionRenderer index={index} />
      return renderCache[id];
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SectionLayout, [{
    key: 'setupIfNeeded',
    value: function setupIfNeeded() {
      if (this.state.didSetup) return;
      this.setState({ didSetup: true }, NOOP);
    }
  }, {
    key: 'setupFAB',
    value: function setupFAB() {
      //raf(()=>{
      //  this.context.request('storyline', 'push-story', 'view-site')//'-color-shuffle')
      //})
    }
  }, {
    key: 'setupOverlay',
    value: function setupOverlay() {
      //     this.context.request('overlay', 'setRenderer', 'pricing', React.createElement( componentRegistry.PricingTable, {key: 'pricing-table-overlay'}))
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      if (mountCount === 0) {
        this.context.request('styleverse', 'add-css', 'component--SectionLayout', '\n        .section-layout {\n          flex-wrap: wrap;\n        }\n      ');
      }
      mountCount++;
      this.setupIfNeeded();
      this.setupFAB();
      this.setupOverlay();
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate() {
      //this.setupIfNeeded()
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setupIfNeeded();
    }

    // componentWillReceiveProps(nextProps) {
    //   this.setupIfNeeded()
    //   if (this.state.currentPath !== window.location.pathname) {
    //     this.stateCache[this.state.currentPath] = this.state;
    //
    //     if (this.stateCache[window.location.pathname]) {
    //       this.setState(this.stateCache[window.location.pathname], NOOP);
    //     } else {
    //       let loadingComp = React.createElement(componentRegistry.LoadingDefault, {key: 'loading'});
    //       this.ajaxLoadContent(window.location.pathname);
    //       this.setState({sections: [loadingComp], currentPath: window.location.pathname}, NOOP);
    //     }
    //   }
    // }

    // shouldComponentUpdate(nextProps, nextState) {
    //   if (this.state.currentPath === window.location.pathname &&
    //       this.state.sections === nextState.sections) {
    //     return false;
    //   }
    //   return true;
    // }

  }, {
    key: 'getItemCount',
    value: function getItemCount() {
      // TODO!!!!
      var children = this.props.children;

      if (!children) return 0;
      var itemCount = children.length;
      return itemCount;
    }
  }, {
    key: 'render',
    value: function render() {
      var itemCount = this.getItemCount();
      if (!itemCount) return null;
      var id = this.props.id || "section-layout__" + this.__id;
      var className = this.className || '';
      className += " section-layout layout";
      return createVNode(16, _layoutverse.Layout, {
        'id': id,
        'className': className,
        'type': 'list',
        'virtual': false,
        'draggableOrder': false,
        'trailingPreloadScreenfuls': .5,
        'trailingDisplayScreenfuls': 1,
        'leadingDisplayScreenfuls': 1.5,
        'leadingPreloadScreenfuls': 1,
        'itemCount': itemCount,
        'renderer': this.sectionRenderer,
        'retainRendered': true,
        'layoutSheet': '\n            :node {\n              min-h -- 100vh\n              w -- 100vw\n            }\n            :child-nodes {\n              h -- 100vh\n              w -- 100vw\n            }\n            :layout {\n              sizing -- dynamic\n              gutter -- 1\n            }\n          '
      });
      /*
      <div className="section-layout layout">
        {this.state.sections}
      </div>
      */
    }
  }, {
    key: 'requestNextSectionsIfNeeded',


    //sectionRenderer = (index) => {
    //  this.requestNextSectionsIfNeeded(index)
    //  let id = "section-index--"+index
    //  if (renderCache[id]) return renderCache[id]
    //  // console.log('index sectionRenderer: ', index)
    //  renderCache[id] = (
    //    <LayoutNode tag="div" className="section-layout-node" key={id} id={id} index={index} layoutSheet={`
    //      :node {
    //        h -- intrinsic
    //      }
    //      `}>
    //      <SectionRenderer index={index} />
    //    </LayoutNode>
    //  )
    //  return renderCache[id]
    //}

    value: function requestNextSectionsIfNeeded(index) {
      if (index >= this.state.nbSections * 1 / 2) {
        if (this.state.siteData) {
          if (!isServerSide) {
            this.context.request('site', 'load-next-page');
          }
        }
      }
    }
  }]);
  return SectionLayout;
}(_baseComponent2.default);

SectionLayout.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
exports.default = SectionLayout;
// export default connectState(SectionLayout, ['site.data', 'site.nbSections'], function (siteData, nbSections) {
//   return {siteData, nbSections}
// });

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 561 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _baseComponent = __webpack_require__(139);

var _baseComponent2 = _interopRequireDefault(_baseComponent);

var _layoutverse = __webpack_require__(105);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}

var createVNode = Inferno.createVNode;

var SectionRenderer = function (_Component) {
  (0, _inherits3.default)(SectionRenderer, _Component);

  function SectionRenderer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SectionRenderer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SectionRenderer.__proto__ || (0, _getPrototypeOf2.default)(SectionRenderer)).call.apply(_ref, [this].concat(args))), _this), _this.renderedSection = undefined, _this.handleSite = function (store) {
      var rendered = store.renderSectionAtIndex(_this.props.index);
      _this.setState({ rendered: rendered }, NOOP);
      return;

      /*
      let appPayload = store.get('appPayload')
       if (appPayload && !appPayload.equals(this.state.appPayload)) {
        let inDesignMode = !this.state.inDesignMode
        this.setState({inDesignMode, appPayload}, NOOP)
      }
       let sectionConfigByIndex = store.get('sectionConfigByIndex')
      let sectionConfig = sectionConfigByIndex(this.props.index)
       if (sectionConfig.get('IS_HACK')) {
        this.setState({sectionConfig, rendered: sectionConfig.get('render')()}, NOOP)
        return
      }
       let itemsByIds = store.get('itemsByIds')
       let items = itemsByIds(sectionConfig.get('itemsToRenderIds'))
       if (!this.state.sectionConfig || !this.state.items.equals(items) || !this.state.sectionConfig.equals(sectionConfig)) {
        let data = store.get('data')
        let rendered = this.getSectionRenderer(sectionConfig, items, data)
        this.setState({items, sectionConfig, rendered, data}, NOOP)
      }
      return
      */
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SectionRenderer, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.context.request('site', 'connect', this.handleSite);
      // let store = this.context.request('site', 'getStore')
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.context.request('site', 'disconnect', this.handleSite);
    }
  }, {
    key: 'render',
    value: function render() {
      var rendered = this.state.rendered || null;

      return rendered;
      // TODO!!!!!!!!!!!!!!!

      var buttonStyle = { opacity: 0, position: 'absolute' };
      // if (this.state.inDesignMode) {
      //     buttonStyle = {opacity: 0, position: 'absolute'}
      // }
      var sectionRendered = this.state.sectionVariation ? this.state.sectionVariation : rendered;

      return createVNode(2, 'div', {
        'id': 'design-mode',
        'style': { width: '100%' }
      }, sectionRendered, {
        'onClick': this.onClickNextDesign.bind(this)
      }, 'boob');

      // return this.state.rendered
    }
  }, {
    key: 'onClickNextDesign',


    // getSectionRenderer(sectionConfig, items, data) {
    //   let componentToRender = componentRegistry[sectionConfig.get('componentId')]
    //   let index = this.props.index
    //   let id = 'section-renderer-index--' + index
    //   // TODO - refactor contracts to immutable in all components.
    //   let contracts = sectionConfig.get('contracts')
    //   return React.createElement(
    //     componentToRender,
    //     {
    //       itemsToRender: items,
    //       contracts: contracts.toJS(),
    //       sectionId: id,
    //       siteData: data,
    //       sectionIndex: index,
    //       key: id,
    //     }
    //   )
    // }
    value: function onClickNextDesign(e) {
      // TODO
      return null;

      /*
      if (!this.state.inDesignMode) return
      let items = this.state.items
      let validCompVar = ['DualBasic', 'DualBasic', 'DeviceLaptop', 'MonoBasic', 'MonoHeadline', 'MultiBasic', 'MultiCtxOnSubGrid']
        if (items && items.size === 1) {
        let item = items.get(0)
        let validComps = []
         let allComps = componentRegistry.allComponents
        let valid = false
        for (let i = 0, len = allComps.length; i < len; i++) {
          let comp = componentRegistry.allComponents[i]
           if (comp.componentverse.id !== this.state.sectionConfig.get('componentId') &&
              comp.componentverse.id !== this.state.variationId &&
              validCompVar.indexOf(comp.componentverse.id) > -1) {
            valid = comp.componentverse.Y_inlets[0].inlets['1'](item)
            if (valid) {
              validComps.push(comp.componentverse.id)
            }
          }
        }
         if (validComps.length) {
          let sectionConfig = this.state.sectionConfig
          let newSectionConfig = sectionConfig.set('componentId', validComps[0])
           let sectionVariation = this.getSectionRenderer(newSectionConfig, this.state.items, this.state.data)
          this.setState({sectionVariation, variationId: validComps[0]})
        } else if (this.state.sectionVariation) {
          this.setState({sectionVariation: null, variationId: null})
        }
        else {
          return
        }
        let node = this.context.stores['layout-node']
        node.layout.get('virtualizer').reflowAt(this.props.index)
        window.layoutverse.node_needs_measure(node.get('id'),node.layout.get('id'))
         // setTimeout(()=>{
        //  window.layoutverse.sheet_didRender()
        //  //let v = this.context.stores.viewport.state
        // //   this.context.stores.viewport.execute('set', 'height', v.get('height')+.1)
        // },200)
      }
      */
    }
  }]);
  return SectionRenderer;
}(_baseComponent2.default);

SectionRenderer.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired,
  stores: _infernoCompat2.default.PropTypes.object.isRequired
};
exports.default = SectionRenderer;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 562 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(103);

var _uiInlineSvg = __webpack_require__(143);

var _uiInlineSvg2 = _interopRequireDefault(_uiInlineSvg);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var displayName = 'SiteLogo';

var createVNode = Inferno.createVNode;

var SiteLogo = function (_Component) {
  (0, _inherits3.default)(SiteLogo, _Component);

  function SiteLogo() {
    var _ref;

    (0, _classCallCheck3.default)(this, SiteLogo);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = SiteLogo.__proto__ || (0, _getPrototypeOf2.default)(SiteLogo)).call.apply(_ref, [this].concat(args)));

    _this.handleSiteStore = function (store) {
      var src = store.get('data.config.logo');
      if (!src) return;
      src = src.trim();
      var isSVG = src.substr(-3) === 'svg';
      _this.setState({
        src: src,
        isSVG: isSVG
      });
    };

    _this.state = {
      src: undefined,
      isSVG: undefined
    };
    return _this;
  }

  (0, _createClass3.default)(SiteLogo, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.context.request('site', 'connect', this.handleSiteStore);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.context.request('site', 'disconnect', this.handleSiteStore);
    }
  }, {
    key: 'render',
    value: function render() {
      var _state = this.state,
          src = _state.src,
          isSVG = _state.isSVG;

      if (!src) return null;

      var ref = '';
      if (typeof window !== 'undefined' && window.theGridSiteType === 'permalink') {
        ref = '../';
      }

      var children = createVNode(2, 'img', {
        'src': src
      });

      if (isSVG) {
        //children = null
        children = createVNode(16, _uiInlineSvg2.default, {
          'src': src,
          'cacheGetRequests': true,
          children: children
        }, null, null, 'isvg');
      }

      // TODO: handle SVG!
      var p = this.elProps();
      var id = p.id;
      //if (!className) className = ''

      return createVNode(34, 'a', (0, _extends3.default)({}, p, {
        'href': ref + 'index.html'
      }), [createVNode(16, _styleverse.Style, {
        'scope': "#" + id,
        children: '\n          :scope svg * {\n            //fill -- chroma-text-pop !important\n            stroke -- chroma-text-pop !important\n          }\n        '
      }, null, null, 'style'), children]);
    }
  }]);
  return SiteLogo;
}(_deps.Component);

SiteLogo.contextTypes = {
  request: _deps.React.PropTypes.func.isRequired
};

SiteLogo.displayName = displayName;

exports.default = SiteLogo;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 563 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _siteStruct = __webpack_require__(564);

var _siteStruct2 = _interopRequireDefault(_siteStruct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var sectionIndex = -1;

var getSectionId = function getSectionId(section) {
  var id = section.itemsToRenderIds.length ? section.itemsToRenderIds[0] : '';
  return 'section-' + section.componentId + id;
};

var initialState = new _siteStruct2.default();

var SiteStore = function (_Store) {
  (0, _inherits3.default)(SiteStore, _Store);

  function SiteStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SiteStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SiteStore.__proto__ || (0, _getPrototypeOf2.default)(SiteStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'site', _this.state = initialState, _this.deferCommit = false, _this.httpRequest = null, _this.storyline = undefined, _this.handleStoryline = function (store) {
      var currentAppPayload = _this.state.get('appPayload');
      var newAppPayload = store.get('payload');
      if (newAppPayload && !store.get('payload').equals(currentAppPayload)) {
        _this.store.request('set', 'appPayload', newAppPayload);
      }
    }, _this.onNextPageLoad = function () {
      //raf(()=>{
      _this.execute('handle-next-page-load');
      //})
    }, _this.actions = {

      'getStore': function getStore(state) {
        return state;
      },

      'load-next-page': function loadNextPage(state) {
        var url = state.get('nextPageUrl');
        if (!url) return state;
        if (url.indexOf('.html') === -1) {
          if (url.charAt(0) === '/') url = url.slice(1);
          if (url.indexOf('/') === url.length - 1) url = url.slice(0, -1);
          url = url + '/index.html';
        }

        _this.httpRequest = new XMLHttpRequest();
        _this.httpRequest.onreadystatechange = _this.onNextPageLoad;
        _this.httpRequest.open('GET', url);
        _this.httpRequest.send();

        return state;
      },

      'handle-next-page-load': function handleNextPageLoad(state) {
        var httpRequest = _this.httpRequest;
        var newSections = void 0;
        if (httpRequest.readyState === XMLHttpRequest.DONE) {
          if (httpRequest.status === 200) {
            var regex = new RegExp('<script id="pageReactInitStateScript">(.*?)</script>');
            var scriptContent = regex.exec(httpRequest.responseText);
            var initStateScript = scriptContent[1];

            initStateScript = initStateScript.substring("window.pageReactInitState ='".length, initStateScript.length);
            initStateScript = JSON.parse(initStateScript);

            // TODO - remove hack to inject pricing table. Inject thru Ed structured post.
            initStateScript.sections.push({
              componentId: 'PricingTable',
              itemsToRenderIds: ['pricing-table'],
              contracts: {}
            });

            state = state.set('payload', initStateScript);
          } else {
            // TODO - handle failing request
          }
        }

        return state;
      },

      'open-article': function openArticle(state, article) {
        return state;
      },

      'set-app-payload': function setAppPayload(state, appPayload) {
        var newState = state.set('appPayload', appPayload);
        return newState;
      }

    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  // store config


  (0, _createClass3.default)(SiteStore, [{
    key: 'handleContextStores',


    // store lifecycle
    value: function handleContextStores(_ref2) {
      var storyline = _ref2.storyline;

      this.storyline = storyline;
    }
  }, {
    key: 'willMount',
    value: function willMount(obj) {
      if (obj) this.request('merge', obj);
      //if (payload) this.request('set', 'payload', payload)
      if (this.storyline) this.storyline.request('connect', this.handleStoryline);
    }
  }, {
    key: 'willGetProps',
    value: function willGetProps(obj) {
      if (obj) this.request('merge', obj);
      //if (payload) this.request('set', 'payload', payload)
    }
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      if (this.storyline) this.storyline.request('disconnect', this.handleStoryline);
      this.storyline = undefined;
    }

    // store implementation

  }]);
  return SiteStore;
}(_cymatics.Store);

exports.default = SiteStore;
module.exports = exports['default'];

/***/ }),
/* 564 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _theDataModeler = __webpack_require__(62);

// TODO: REMOVE
//import SEMANTIC_SPACE_HACK from '../../SEMANTIC_SPACE_HACK';
var SECTIONS_TO_INSERT = []; //SEMANTIC_SPACE_HACK.get('rendered')

var DID_INJECT_STATIC = false;

var SiteStruct = (0, _immutable.Struct)({

  data: undefined,

  // data: {
  //   deps: ['payload', 'nbSections'],
  //   get: function(payload) {
  //     return new SiteDataStruct(payload.siteData)
  //   },
  // },


  // sections: [
  // componentId: compId,
  // itemsToRenderIds: [],
  // contracts: section['the-stylist'],
  //],
  // contracts: grid['the-stylist'],
  // siteData: jsonSiteData,
  // inputs
  // TODO - data is not immutable.
  _payload: undefined,
  payload: {
    get: function get() {
      return this.get('_payload');
    },
    set: function set(val) {
      var current = this.get('_payload');
      var that = this;

      // TODO HACK TO REMOVE LoadMoreWButton section injected by data-modeler
      var lastSection = val.sections[val.sections.length - 1];
      if (lastSection && lastSection.componentId === "LoadMoreWButton") {
        val.sections.pop();
      }
      // TODO HACK TO REMOVE Cta section injected by data-modeler
      var firstSection = val.sections[0];
      if (firstSection && firstSection.componentId === "Cta") {
        val.sections.shift();
      }

      if (current) {
        current.sections = current.sections.concat(val.sections);
        current.siteData._items = current.siteData._items.concat(val.siteData._items);
        current.siteData.links = val.siteData.links;
        that = that.set('nbSections', current.sections.length);
        that = that.set('_payload', current);
        return that;
      }

      // TODO HACK insert to new sections... FUCK
      else if (!DID_INJECT_STATIC) {
          DID_INJECT_STATIC = true;
          var inserted = 0;
          var cursor = 0;
          while (inserted < SECTIONS_TO_INSERT.length) {
            val.sections.splice(cursor, 0, { IS_HACK: true, render: function (i) {
                return SECTIONS_TO_INSERT[i];
              }.bind(undefined, inserted)
            });
            cursor++;
            inserted++;
          }
        }

      // Inserts in intervals
      // // TODO HACK insert to new sections... FUCK
      //       else if (!DID_INJECT_STATIC) {
      //         DID_INJECT_STATIC = true
      //         let inserted = 0
      //         let cursor = 0
      //         while (inserted < SECTIONS_TO_INSERT.length) {
      //           if (cursor === 2) {
      //             cursor += 1
      //           } else {
      //             cursor += 2
      //           }
      //
      //           val.sections.splice(cursor,0,{ IS_HACK: true, render: function(i){
      //               return SECTIONS_TO_INSERT[i]
      //             }.bind(undefined, inserted)
      //           })
      //           inserted++
      //         }
      //       }

      that = that.set('nbSections', val.sections.length);
      that = that.set('_payload', val);
      return that;
    }
  },

  siteContract: {
    deps: ['payload', 'nbSections'],
    get: function get(data) {
      return data.contracts;
    }
  },

  nextPageUrl: {
    deps: ['data'],
    get: function get(data) {
      var links = data.get('links');
      var nextPageUrl = null;
      if (links && links.size) {
        links.forEach(function (link) {
          if (link.get('rel') !== 'next') return false;
          nextPageUrl = link.get('href');
        });
      }
      return nextPageUrl;
    }
  },

  // Sections ------------------------------------------------------------------

  nbSections: undefined,

  sectionConfigs: {
    deps: ['payload', 'nbSections'],
    get: function get(payload) {
      return (0, _immutable.fromJS)(payload.sections);
    }
  },

  sectionConfigByIndex: {
    params: ['index'],
    deps: ['sectionConfigs', 'sectionConfigOverrides'],
    get: function get(index, sectionConfigs, sectionConfigOverrides) {
      if (sectionConfigOverrides && sectionConfigOverrides.get(sectionIndex)) {
        return sectionConfigOverrides.get(sectionIndex);
      }
      return sectionConfigs.get(index);
    }
  },

  _sectionConfigOverrides: undefined,
  sectionConfigOverrides: {
    get: function get() {
      return this.get('_sectionConfigOverrides');
    },
    set: function set(sectionContracts, index) {
      var that = this;
      var current = this.get('_sectionConfigOverrides');
      if (!current) {
        var map = {};
        map[index] = sectionContracts;
        that = that.set('_sectionConfigOverrides', new _immutable.Map(map));
      } else {
        var newOverrides = current.setIn(index, sectionContracts);
        that = that.set('_sectionConfigOverrides', newOverrides);
      }

      return that;
    }
  },

  // items --------------------------------------------------------------------

  itemsByIds: {
    params: ['itemIds'],
    deps: ['data.items'],
    get: function get(itemIds, items) {
      var result = [];
      for (var i = 0, len = items.size; i < len; i++) {
        var item = items.get(i);
        if (itemIds.includes(item.get('id'))) {
          result.push(item);
        } else if (itemIds instanceof Array) {
          if (itemIds[0].startsWith('header-item') && item.get('id').startsWith('header-item')) {
            result.push(item);
          }
        } else if (itemIds.get(0).startsWith('header-item') && item.get('id').startsWith('header-item')) {
          result.push(item);
        }
      }
      return (0, _immutable.fromJS)(result);
    }
  },

  // app -----------------------------------------------------------------------
  _appPayload: undefined,
  appPayload: {
    get: function get() {
      return this.get('_appPayload');
    },
    set: function set(appPayload) {
      var that = this;
      that = that.set('_appPayload', appPayload);
      return that;
    }
  }
}, {
  setter: function setter(key, val) {
    if (key === 'payload') return val;
    return this.merge(val);
  }
});

exports.default = SiteStruct;
module.exports = exports['default'];

/***/ }),
/* 565 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _deps = __webpack_require__(103);

var createVNode = Inferno.createVNode;


var chromaStyles = {

  default: function _default(scope) {
    return createVNode(16, _deps.Style, {
      'perfFrame': true,
      'perf': true,
      'scope': scope,
      children: '\n\n        //section:scope {\n        //\n        //  @? chroma.type === \'light\' {\n        //\n        //    border-t -- 1px solid rgba(255,255,255,.7)\n        //\n        //  }\n        //\n        //}\n\n        :scope {\n\n          clr -- chroma-text\n\n          h1 {\n            clr -- chroma-title\n          }\n\n          h2 {\n            clr -- chroma-title2\n          }\n\n          h3 {\n            clr -- chroma-title2\n          }\n\n          .meta {\n            clr -- chroma-meta\n          }\n\n          // ctas\n\n          .cta {\n            txt-sh--n\n            box-sh -- m\n\n            trans-- color .3s, background-color .3s\n\n            & {\n              bg-clr -- chroma-box-pop\n\n              > * {\n                clr -- chroma-box-pop-text\n              }\n            }\n\n            &:nth-child(even) {\n              bg-clr -- chroma-box-pop2\n\n              > * {\n                clr -- chroma-box-pop2-text\n              }\n            }\n\n            &:hover {\n              bg-clr -- chroma-selection-more-opaque\n\n              > * {\n                clr -- chroma-text\n              }\n\n            }\n\n            &:focus {\n              otln -- n\n            }\n          }\n\n          // links\n\n          a, a:visited {\n            clr -- chroma-text-pop\n          }\n          a:nth-child(even), a:nth-child(even):visited {\n            clr -- chroma-text-pop2\n          }\n\n          .layout > *:nth-child(even) {\n            a {\n              clr -- chroma-text-pop2\n            }\n            a:visited {\n              clr -- chroma-text-pop2\n            }\n            a:nth-child(even) {\n              clr -- chroma-text-pop\n            }\n            a:nth-child(even):visited {\n              clr -- chroma-text-pop\n            }\n          }\n\n          ::selection {\n            bg-color -- chroma-selection\n            color -- chroma-selection-text\n            text-shadow -- none\n          }\n        }\n      '
    }, null, null, 'chromaStyles-default');
  }

};

exports.default = chromaStyles;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 566 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _deps = __webpack_require__(103);

var _chroma = __webpack_require__(565);

var _chroma2 = _interopRequireDefault(_chroma);

var _typography = __webpack_require__(567);

var _typography2 = _interopRequireDefault(_typography);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var Styles = function Styles(props) {
  var scope = props.scope,
      chroma = props.chroma,
      typography = props.typography,
      children = props.children;


  if (!scope) throw new Error("components/styles requires {scope} in props");

  if (!chroma) chroma = 'default';
  if (!typography) typography = 'default';

  return createVNode(2, 'span', null, [_chroma2.default[chroma](scope), _typography2.default[typography](scope), children || null], null, 'styles-sss');
};

exports.default = Styles;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 567 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _deps = __webpack_require__(103);

var createVNode = Inferno.createVNode;


var typographyStyles = {

  default: function _default(scope) {
    return createVNode(16, _deps.Style, {
      'perfFrame': true,
      'perf': true,
      'scope': scope,
      children: '\n        :scope {\n\n          & {\n            //fnt -- txt\n            fnt-sz -- txt\n            ln-h -- 1.5\n          }\n          h1 {\n            fnt -- d2\n            fnt-sz -- d-l\n            ln-h -- 1.125em\n          }\n\n          h2 {\n            fnt -- d2\n            fnt-sz -- d\n            ln-h -- 1.25em\n          }\n\n          h3 {\n            fnt -- d3\n            fnt-sz -- d-s\n            ln-h -- 1.5em\n          }\n\n          quote {\n            fnt-sz -- d-s\n            ln-h -- 1.5em\n          }\n\n          .cta {\n            fnt--d3\n            fnt-sz--txt\n            pad-t--.75em\n            pad-b--1em\n            pad-l--1.5em\n            pad-r--1.5em\n\n            box-szg -- content-box\n\n            cursor -- pointer\n            box-szg -- content-box\n          }\n\n        }\n      '
    }, null, null, 'typographyStyles-default');
  }

};

exports.default = typographyStyles;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 568 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var Response = __webpack_require__(214);
var extractResponseProps = __webpack_require__(215);
var extend = __webpack_require__(135);

function RequestError(message, props) {
  var err = new Error(message);
  err.name = 'RequestError';
  this.name = err.name;
  this.message = err.message;
  if (err.stack) {
    this.stack = err.stack;
  }

  this.toString = function () {
    return this.message;
  };

  for (var k in props) {
    if (props.hasOwnProperty(k)) {
      this[k] = props[k];
    }
  }
}

RequestError.prototype = extend(Error.prototype);
RequestError.prototype.constructor = RequestError;

RequestError.create = function (message, req, props) {
  var err = new RequestError(message, props);
  Response.call(err, extractResponseProps(req));
  return err;
};

module.exports = RequestError;

/***/ }),
/* 569 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


console.log('@the-grid/httpplease');
'use strict';

var cleanURL = __webpack_require__(573),
    XHR = __webpack_require__(572),
    delay = __webpack_require__(570),
    RequestError = __webpack_require__(568),
    Response = __webpack_require__(214),
    Request = __webpack_require__(213),
    extend = __webpack_require__(135),
    once = __webpack_require__(571);

var i,
    createError = RequestError.create;

function factory(defaults, plugins) {
  defaults = defaults || {};
  plugins = plugins || [];

  function http(req, cb) {
    var xhr, plugin, done, k, timeoutId, supportsLoadAndErrorEvents;

    req = new Request(extend(defaults, req));

    for (i = 0; i < plugins.length; i++) {
      plugin = plugins[i];
      if (plugin.processRequest) {
        plugin.processRequest(req);
      }
    }

    // Give the plugins a chance to create the XHR object
    for (i = 0; i < plugins.length; i++) {
      plugin = plugins[i];
      if (plugin.createXHR) {
        xhr = plugin.createXHR(req);
        break; // First come, first serve
      }
    }
    xhr = xhr || new XHR();

    req.xhr = xhr;

    // Use a single completion callback. This can be called with or without
    // an error. If no error is passed, the request will be examined to see
    // if it was successful.
    done = once(delay(function (rawError) {
      clearTimeout(timeoutId);
      xhr.onload = xhr.onerror = xhr.onabort = xhr.onreadystatechange = xhr.ontimeout = xhr.onprogress = null;

      var err = getError(req, rawError);

      var res = err || Response.fromRequest(req);
      for (i = 0; i < plugins.length; i++) {
        plugin = plugins[i];
        if (plugin.processResponse) {
          plugin.processResponse(res);
        }
      }

      // Invoke callbacks
      if (err && req.onerror) req.onerror(err);
      if (!err && req.onload) req.onload(res);
      if (cb) cb(err, err ? undefined : res);
    }));

    supportsLoadAndErrorEvents = 'onload' in xhr && 'onerror' in xhr;
    xhr.onload = function () {
      done();
    };
    xhr.onerror = done;
    xhr.onabort = function () {
      done();
    };

    // We'd rather use `onload`, `onerror`, and `onabort` since they're the
    // only way to reliably detect successes and failures but, if they
    // aren't available, we fall back to using `onreadystatechange`.
    xhr.onreadystatechange = function () {
      if (xhr.readyState !== 4) return;

      if (req.aborted) return done();

      if (!supportsLoadAndErrorEvents) {
        // Assume a status of 0 is an error. This could be a false
        // positive, but there's no way to tell when using
        // `onreadystatechange` ):
        // See matthewwithanm/react-inlinesvg#10.

        // Some browsers don't like you reading XHR properties when the
        // XHR has been aborted. In case we've gotten here as a result
        // of that (either our calling `about()` in the timeout handler
        // or the user calling it directly even though they shouldn't),
        // be careful about accessing it.
        var status;
        try {
          status = xhr.status;
        } catch (err) {}
        var err = status === 0 ? new Error('Internal XHR Error') : null;
        return done(err);
      }
    };

    // IE sometimes fails if you don't specify every handler.
    // See http://social.msdn.microsoft.com/Forums/ie/en-US/30ef3add-767c-4436-b8a9-f1ca19b4812e/ie9-rtm-xdomainrequest-issued-requests-may-abort-if-all-event-handlers-not-specified?forum=iewebdevelopment
    xhr.ontimeout = function () {/* noop */};
    xhr.onprogress = function () {/* noop */};

    xhr.open(req.method, req.url);

    if (req.timeout) {
      // If we use the normal XHR timeout mechanism (`xhr.timeout` and
      // `xhr.ontimeout`), `onreadystatechange` will be triggered before
      // `ontimeout`. There's no way to recognize that it was triggered by
      // a timeout, and we'd be unable to dispatch the right error.
      timeoutId = setTimeout(function () {
        req.timedOut = true;
        done();
        try {
          xhr.abort();
        } catch (err) {}
      }, req.timeout);
    }

    for (k in req.headers) {
      if (req.headers.hasOwnProperty(k)) {
        xhr.setRequestHeader(k, req.headers[k]);
      }
    }

    xhr.send(req.body);

    return req;
  }

  var method,
      methods = ['get', 'post', 'put', 'head', 'patch', 'delete'],
      verb = function verb(method) {
    return function (req, cb) {
      req = new Request(req);
      req.method = method;
      return http(req, cb);
    };
  };
  for (i = 0; i < methods.length; i++) {
    method = methods[i];
    http[method] = verb(method);
  }

  http.plugins = function () {
    return plugins;
  };

  http.defaults = function (newValues) {
    if (newValues) {
      return factory(extend(defaults, newValues), plugins);
    }
    return defaults;
  };

  http.use = function () {
    var newPlugins = Array.prototype.slice.call(arguments, 0);
    return factory(defaults, plugins.concat(newPlugins));
  };

  http.bare = function () {
    return factory();
  };

  http.Request = Request;
  http.Response = Response;
  http.RequestError = RequestError;

  return http;
}

module.exports = factory({}, [cleanURL]);

/**
 * Analyze the request to see if it represents an error. If so, return it! An
 * original error object can be passed as a hint.
 */
function getError(req, err) {
  if (req.aborted) return createError('Request aborted', req, { name: 'Abort' });

  if (req.timedOut) return createError('Request timeout', req, { name: 'Timeout' });

  var xhr = req.xhr;
  var type = Math.floor(xhr.status / 100);

  var kind;
  switch (type) {
    case 0:
    case 2:
      // These don't represent errors unless the function was passed an
      // error object explicitly.
      if (!err) return;
      return createError(err.message, req);
    case 4:
      // Sometimes 4XX statuses aren't errors.
      if (xhr.status === 404 && !req.errorOn404) return;
      kind = 'Client';
      break;
    case 5:
      kind = 'Server';
      break;
    default:
      kind = 'HTTP';
  }
  var msg = kind + ' Error: ' + 'The server returned a status of ' + xhr.status + ' for the request "' + req.method.toUpperCase() + ' ' + req.url + '"';
  return createError(msg, req);
}

/***/ }),
/* 570 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// Wrap a function in a `setTimeout` call. This is used to guarantee async
// behavior, which can avoid unexpected errors.

module.exports = function (fn) {
  return function () {
    var args = Array.prototype.slice.call(arguments, 0),
        newFunc = function newFunc() {
      return fn.apply(null, args);
    };
    setTimeout(newFunc, 0);
  };
};

/***/ }),
/* 571 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// A "once" utility.

module.exports = function (fn) {
  var result,
      called = false;
  return function () {
    if (!called) {
      called = true;
      result = fn.apply(this, arguments);
    }
    return result;
  };
};

/***/ }),
/* 572 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (typeof window !== 'undefined' && window !== null && window.XMLHttpRequest) {
    module.exports = window.XMLHttpRequest;
}

/***/ }),
/* 573 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = {
  processRequest: function processRequest(req) {
    req.url = req.url.replace(/[^%]+/g, function (s) {
      return encodeURI(s);
    });
  }
};

/***/ }),
/* 574 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _immutable = __webpack_require__(121);

var _immutable2 = _interopRequireDefault(_immutable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// enhance Map, Record, etc
// Immutable.Collection.Keyed = enhanceKeyed(Immutable.Collection.Keyed)

var Map = _immutable2.default.Map,
    List = _immutable2.default.List,
    Seq = _immutable2.default.Seq,
    Set = _immutable2.default.Set,
    Stack = _immutable2.default.Stack,
    Iterable = _immutable2.default.Iterable,
    OrderedMap = _immutable2.default.OrderedMap,
    OrderedSet = _immutable2.default.OrderedSet; // console.log('/////')


_immutable2.default.OMap = OrderedMap;
_immutable2.default.OSet = OrderedSet;
_immutable2.default.KeyedCollection = _immutable2.default.Collection.Keyed;
_immutable2.default.KeyedIterable = _immutable2.default.Iterable.Keyed;

Map.EMPTY = Map();
List.EMPTY = List();
Seq.EMPTY = Seq();
Set.EMPTY = Set();
Stack.EMPTY = Stack();
Iterable.EMPTY = Iterable();
_immutable2.default.OMap.EMPTY = _immutable2.default.OMap();
_immutable2.default.OSet.EMPTY = _immutable2.default.OSet();
console.log('Immutable', _immutable2.default);
exports.default = _immutable2.default;
module.exports = exports['default'];

/***/ }),
/* 575 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _setPrototypeOf = __webpack_require__(19);

var _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);

var _create = __webpack_require__(16);

var _create2 = _interopRequireDefault(_create);

var _iterator = __webpack_require__(66);

var _iterator2 = _interopRequireDefault(_iterator);

var _typeof3 = __webpack_require__(7);

var _typeof4 = _interopRequireDefault(_typeof3);

var _symbol = __webpack_require__(48);

var _symbol2 = _interopRequireDefault(_symbol);

var _immutable = __webpack_require__(121);

var _immutable2 = _interopRequireDefault(_immutable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _typeof = typeof _symbol2.default === "function" && (0, _typeof4.default)(_iterator2.default) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : (0, _typeof4.default)(obj);
} : function (obj) {
  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : (0, _typeof4.default)(obj);
};

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof4.default)(call)) === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof4.default)(superClass)));
  }subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;
}

console.log("!!!!!!!!!STRUCT");

var Record = _immutable2.default.Record;
// import StructRecord from './StructRecord'

var EMPTY_ARRAY = [];
var EMPTY_OBJ = {};
var DEFAULT_CACHE = true;

var Map = _immutable2.default.Map,
    List = _immutable2.default.List;

var defaultConfig = {
  defaultCache: true,
  cacheByHashCode: false,
  setter: function setter(key, val) {
    // setter must return struct instance
    return this.merge(val);
  }
};

//let _structTypeCount = 0

var Struct = function Struct(schema, config) {

  //let structTypeIndex = _structTypeCount
  //_structTypeCount++

  // config
  // ==============================================================

  if (config) {
    config = (0, _assign2.default)({}, defaultConfig, config);
  } else {
    config = defaultConfig;
  }

  var _config = config,
      defaultCache = _config.defaultCache,
      cacheByHashCode = _config.cacheByHashCode;

  // cache
  // ==============================================================

  var cache = void 0;
  var cacheKeyLastIndex = void 0;
  var pathsByString;

  var cacheWrite = function cacheWrite(key, path, val, cacheSetting) {
    if (typeof cacheSetting === 'number') {
      var keyCurrentIndex = void 0;
      var keyLastIndex = cacheKeyLastIndex[key];
      var keyCache = void 0;

      if (keyLastIndex === undefined) {
        cacheKeyLastIndex[key] = 0;

        keyCache = {
          vals: [val],
          paths: List.of(path)
        };
        cache[key] = keyCache;
        return val;
      } else {
        keyCurrentIndex = keyLastIndex + 1;
        if (keyCurrentIndex >= cacheSetting) keyCurrentIndex = 0;
        cacheKeyLastIndex[key] = keyCurrentIndex;

        keyCache = cache[key];
        keyCache['vals'][keyCurrentIndex] = val;
        keyCache['paths'] = keyCache['paths'].set(keyCurrentIndex, path);
        return val;
      }
    }

    if (!cache[key]) cache[key] = Map();
    cache[key] = cache[key].set(path, val);
    return val;
  };
  var cacheRead = function cacheRead(key, path, cacheSetting) {
    var fallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;

    var keyCache = cache[key];
    if (!keyCache) return fallback;

    if (typeof cacheSetting === 'number') {
      var paths = keyCache.paths;

      var pathIndex = paths.indexOf(path);
      if (pathIndex === -1) return fallback;
      return keyCache.vals[pathIndex];
    }

    return keyCache.get(path, fallback);
  };
  var cacheReset = function cacheReset() {
    cache = {};
    cacheKeyLastIndex = {};
    pathsByString = {};
  };
  cacheReset();

  // schema
  // ==============================================================

  var defaultValues = {};
  var settables = [];
  var getters = {};
  var setters = {};
  var initters = {};
  var keysWithParms = [];
  var depHashCodesByKey = void 0;
  //let requiredKeys = {}
  var construct = void 0;
  // let DEBUG = false

  var schemaKeys = [];

  var keyPathKeys = (0, _keys2.default)(schema);
  for (var i = 0, len = keyPathKeys.length; i < len; i++) {
    var keyPath = keyPathKeys[i];

    // special case `construct` key
    var keyConfig = schema[keyPath];
    if (keyPath === 'construct') {
      construct = keyConfig;
      continue;
    }

    schemaKeys.push(keyPath);

    //if (keyPath === 'DEBUG') {
    //  DEBUG = keyConfig
    //  continue
    //}

    var rootKey = keyPath.split('.')[0];
    var isRootKey = rootKey === keyPath;

    // assign defaultValues
    var defaultValue = undefined;

    // if keyConfig is default value
    var keyConfigTypeof = typeof keyConfig === 'undefined' ? 'undefined' : _typeof(keyConfig);
    if (keyConfigTypeof === 'string' || keyConfigTypeof === 'number' || keyConfigTypeof === 'function' || keyConfig instanceof Array || keyConfig === undefined || keyConfig === null || keyConfig.toJS && keyConfig.equals && keyConfig.hashCode) {
      defaultValue = keyConfig;
    } else if (keyConfigTypeof) {
      defaultValue = keyConfig.default;
    }

    if (isRootKey) {
      defaultValues[rootKey] = defaultValue;
    } else {
      if (defaultValue !== undefined) throw new Error('Struct({ ' + keyPath + ': cannot have default, only root keys');
      if (!defaultValues.hasOwnProperty(rootKey)) defaultValues[rootKey] = defaultValue;
    }

    // move along
    if (!keyConfig) {
      settables.push(keyPath);
      if (!isRootKey) settables.push(rootKey);
      continue;
    }

    // store getters & setters
    var setter = keyConfig.set;
    var getter = keyConfig.get;
    var initter = keyConfig.init;
    var deps = keyConfig.deps ? keyConfig.deps : EMPTY_ARRAY;
    var depMap = keyConfig.depMap ? keyConfig.depMap : EMPTY_OBJ;
    var depHashCode = keyConfig.depHashCode ? keyConfig.depHashCode : undefined;
    //if (depHashCode) depHashCode.__is_depHashCode = true
    var instanceCache = keyConfig.instanceCache === false ? keyConfig.instanceCache : true;
    var params = keyConfig.params ? keyConfig.params : EMPTY_ARRAY;
    // cache getters by default
    var _cache = keyConfig.cache === undefined ? defaultCache : !keyConfig.cache ? false // 0 is set to false
    : typeof keyConfig.cache === 'number' ? keyConfig.cache : true;

    if (getter) getters[keyPath] = { getter: getter, deps: deps, depMap: depMap, params: params, cache: _cache, instanceCache: instanceCache, depHashCode: depHashCode };
    if (setter) setters[keyPath] = setter;
    if (initter) initters[keyPath] = initter;
    if (keyConfig.params) keysWithParms.push(keyPath);
    if (keyConfig.depHashCode) {
      if (!depHashCodesByKey) depHashCodesByKey = {};
      depHashCodesByKey[keyPath] = depHashCode;
    }

    // computed props should not exist as normal Record prop
    // otherwise, equals and other methods will execute getter
    if (getter) {
      delete defaultValues[rootKey];
    }

    // which keys are settable with normal Immutable set
    if (setter || initter) {
      settables.push(keyPath);
      if (!isRootKey) settables.push(rootKey);
    } else if (!getter) {
      settables.push(keyPath);
      if (!isRootKey) settables.push(rootKey);
    }
  }

  // flatten deps

  var flattenDeps = function flattenDeps(key, deps, depMap, flattenedDeps) {
    if (!flattenedDeps) flattenedDeps = [];
    for (var _i = 0, _len = deps.length; _i < _len; _i++) {
      var depKey = deps[_i];
      if (depKey === key) throw new Error('Struct: deps cycle detected with key: ' + key);
      var inner = getters[depKey];

      if (inner && !depMap[depKey] && !inner.depHashCode) {
        // recurse
        flattenDeps(key, inner.deps, EMPTY_OBJ, flattenedDeps);
      } else {
        flattenedDeps.push(depKey);
      }
    }
    return flattenedDeps;
  };

  // deps="*" === allDeps
  var allDeps = (0, _keys2.default)(defaultValues);
  var computedKeyKeys = (0, _keys2.default)(getters);
  for (var _i2 = 0, _len2 = computedKeyKeys.length; _i2 < _len2; _i2++) {
    var computedKey = computedKeyKeys[_i2];
    var computer = getters[computedKey];
    var computerDeps = computer.deps;
    if (computerDeps === '*') {
      computer.deps = allDeps;
      computer.flattenedDeps = allDeps;
    } else {
      computer.flattenedDeps = flattenDeps(computedKey, computerDeps, computer.depMap);
    }
  }

  // StructType
  // ==============================================================

  // TODO StructRecord
  //let RecordType = StructRecord.prototype.MAKE(defaultValues)
  var RecordType = Record(defaultValues);

  var _get = RecordType.prototype.get;
  var _set = RecordType.prototype.set;
  var _toJS = RecordType.prototype.toJS;

  var StructType = function (_RecordType) {
    _inherits(StructType, _RecordType);

    function StructType(values) {
      var _this, _ret;

      _classCallCheck(this, StructType);

      for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key = 1; _key < _len3; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (construct) values = construct.apply(undefined, [values].concat(args));

      var newValues = {};
      if (!values) return _ret = (_this = _possibleConstructorReturn(this, _RecordType.call(this, newValues)), _this), _possibleConstructorReturn(_this, _ret);
      var keyKeys = (0, _keys2.default)(values);
      var objToMerge = void 0;
      for (var _i3 = 0, _len4 = keyKeys.length; _i3 < _len4; _i3++) {
        var key = keyKeys[_i3];

        if (initters[key] || setters[key]) {
          var _val2 = values[key];
          if (!objToMerge) objToMerge = {};
          if (initters[key]) {
            objToMerge = (0, _assign2.default)(objToMerge, initters[key](_val2, values));
          } else {
            objToMerge = (0, _assign2.default)(objToMerge, setters[key](_val2, values));
          }
          continue;
        }

        if (!values.hasOwnProperty(key)) continue;
        var val = values[key];

        // if undefined, use defaultValues, which will go through possible set or int
        if (val === undefined) val = defaultValues[key];

        if (getters[key]) continue;else {
          newValues[key] = val;
        }
      }
      if (objToMerge) newValues = (0, _assign2.default)(newValues, objToMerge);
      return _possibleConstructorReturn(this, _RecordType.call(this, newValues));

      //this.get = this.get.bind(this)
      //this.set = this.set.bind(this)
    }

    // get()
    // ---------------------------------------------------

    StructType.prototype.get = function get(path, fallback, inputParamVals) {

      if (path === 'StructType') return StructType;

      var depHashCode = depHashCodesByKey ? depHashCodesByKey[path] : undefined;
      var depHashCodeVal = void 0;
      // on-instance fast-track cache works with deps not params
      if (this.__get_fast && this.__get_fast[path]) return this.__get_fast[path];
      if (this.__get_fast_by_dep_hash && this.__get_fast_by_dep_hash[path]) {
        //depHashCodeVal = depHashCode.apply(this, inputParamVals)
        depHashCodeVal = depHashCode.call(this);
        var cached = this.__get_fast_by_dep_hash[path][depHashCodeVal];
        if (cached !== undefined) return cached;
      }

      var resultOrFallback;

      var computer = getters[path];
      if (!computer) {
        if (typeof path !== 'string') return _get.call(this, path, fallback);

        if (!path.includes('.')) {
          resultOrFallback = _get.call(this, path);
          if (resultOrFallback === undefined) return fallback;
          return resultOrFallback;
        }
        var paths = path.split('.'); /*pathsByString[path]
                                     if (!paths) {
                                     paths = path.split('.')
                                     pathsByString[path] = paths
                                     }
                                     */

        // hanlde dot syntax
        // return this.getIn(paths, fallback)
        var getCursor = this;
        var getKey;
        for (var i = 0; i < paths.length; i++) {
          getKey = paths[i];
          resultOrFallback = !getCursor.get ? getCursor[getKey] : getCursor.get(getKey);
          if (resultOrFallback === undefined) return fallback;
          getCursor = resultOrFallback;
        }
        return resultOrFallback;
      }

      // else cache & return computed getter
      // TODO
      // is fallback still valid w/ computed props? dont think so...

      var params = computer.params;
      if (params.length > 0 && !(inputParamVals instanceof Array)) {
        // if no params, return the computed function
        // instance methods & vals not from prototype do not survive immutable cloning, have to ensure the methods are bound
        if (!this['_didBindMethod--' + path]) {
          this['_didBindMethod--' + path] = true;
          this[path] = this[path].bind(this);
          // for (let i = 0, len = keysWithParms.length; i < len; i++) {
          //   const key = keysWithParms[i]
          //   this[key] = this[key].bind(this)
          // }
        }
        return this[path];
      }
      //let inputParamVals = args[2] instanceof Array ? args[2] : EMPTY_ARRAY
      var deps = computer.deps;

      var hasParams = params.length > 0 ? true : false;
      var hasDeps = deps.length > 0 ? true : false;

      // on-instance fast-track cache works with deps not params
      //if (!hasParams && hasDeps && this.__get_fast) return this.__get_fast[path]

      var paramCountCeil = params.length + deps.length;

      // do not cache when zero dependencies
      if (paramCountCeil === 0) {
        resultOrFallback = computer.getter.apply(this);
        // fallback only if undefined, not null or falsy
        if (resultOrFallback === undefined) return fallback;
        return resultOrFallback;
      }

      var computedParams = inputParamVals || [];
      var depVals = [];
      var cachePathCursor = void 0;
      var cachePath = void 0;
      var cacheSetting = computer.cache;
      if (cacheSetting) {
        if (depHashCode) {
          if (!depHashCodeVal) depHashCodeVal = depHashCode.call(this);
          cachePathCursor = depHashCodeVal;
          cachePath = null;
        } else {
          cachePathCursor = '';
          cachePath = [];
        }
      }

      var shouldBuildCachePath = cacheSetting && cachePath !== null;

      if (hasParams) {
        if (shouldBuildCachePath) {
          for (var _i4 = 0; _i4 < computedParams.length; _i4++) {
            var _val = computedParams[_i4];

            if (!_val) {
              cachePathCursor += ' ';
              cachePathCursor += _val;
              continue;
            }
            if (cacheByHashCode && _val.hashCode && typeof _val.hashCode === 'function') {
              cachePathCursor += ' ';
              cachePathCursor += _val.hashCode();
              continue;
            }
            var typeOfDepVal = typeof _val === 'undefined' ? 'undefined' : _typeof(_val);
            if (typeOfDepVal === 'number' || typeOfDepVal === 'string' || typeOfDepVal === 'boolean' || typeOfDepVal === 'undefined' || _val === null) {
              cachePathCursor += ' ';
              cachePathCursor += _val;
            } else if (cacheByHashCode && _val._HASH_CODE) {
              cachePathCursor += ' ';
              cachePathCursor += _val._HASH_CODE;
            } else {
              if (cachePathCursor) cachePath.push(cachePathCursor);
              cachePath.push(_val);
              cachePathCursor = '';
            }
          }
        }

        if (computedParams.length !== params.length) {
          for (var _i5 = 0; computedParams.length !== params.length; _i5++) {
            computedParams.push(undefined);
            if (!shouldBuildCachePath) continue;
            cachePathCursor += ' ';
            cachePathCursor += undefined;
          }
        }
      }

      if (hasDeps) {
        var _depMap = computer.depMap;
        var paramCount = computedParams.length + deps.length;
        var startIndex = paramCount - paramCountCeil;
        for (var _i6 = startIndex, _len5 = deps.length; _i6 < _len5; _i6++) {
          var depKey = deps[_i6];

          //// if dep has params, return the function to be used
          //if (keysWithParms.includes( depKey )) {
          //  let depComputer = getters[depKey]
          //  depVals.push( this[depKey] )
          //}
          //// otherwise return get and return val
          //else {
          //depVals.push( this.get(depKey) )
          //}

          var _val3 = this.get(depKey);
          var mapFunc = _depMap[depKey];
          if (mapFunc) {
            _val3 = mapFunc.call.apply(mapFunc, [this, _val3].concat(inputParamVals));
          }
          computedParams.push(_val3);

          if (!shouldBuildCachePath) continue;

          if (depHashCodesByKey && depHashCodesByKey[depKey]) {
            cachePathCursor += ' ';
            cachePathCursor += depHashCodesByKey[depKey].call(this);
            continue;
          }

          if (!_val3) {
            cachePathCursor += ' ';
            cachePathCursor += _val3;
            continue;
          }
          if (cacheByHashCode && _val3.hashCode && typeof _val3.hashCode === 'function') {
            cachePathCursor += ' ';
            cachePathCursor += _val3.hashCode();
            continue;
          }
          var _typeOfDepVal = typeof _val3 === 'undefined' ? 'undefined' : _typeof(_val3);
          if (_typeOfDepVal === 'number' || _typeOfDepVal === 'string' || _typeOfDepVal === 'boolean' || _typeOfDepVal === 'undefined') {
            cachePathCursor += ' ';
            cachePathCursor += _val3;
          } else if (cacheByHashCode && _val3._HASH_CODE) {
            cachePathCursor += ' ';
            cachePathCursor += _val3._HASH_CODE;
          } else {
            if (cachePathCursor) cachePath.push(cachePathCursor);
            cachePath.push(_val3);
            cachePathCursor = '';
          }
        }
      }

      // do not cache if configured so
      if (!cacheSetting) {
        resultOrFallback = computer.getter.apply(this, computedParams);
        // fallback only if undefined, not null or falsy
        if (resultOrFallback === undefined) return fallback;
        return resultOrFallback;
      }

      // cache cache baby

      var flattenedDeps = computer.flattenedDeps;

      if (flattenedDeps.length > 0 && cachePath !== null) {
        for (var _i7 = 0, _len6 = flattenedDeps.length; _i7 < _len6; _i7++) {
          var fdepKey = flattenedDeps[_i7];
          var indexInDeps = deps.indexOf(fdepKey);
          // if we dont alread have value from normal deps
          if (indexInDeps === -1) {
            if (depHashCodesByKey && depHashCodesByKey[fdepKey]) {
              cachePathCursor += ' ';
              cachePathCursor += depHashCodesByKey[fdepKey].call(this);
              continue;
            }

            var _val4 = this.get(fdepKey);
            if (!_val4) {
              cachePathCursor += ' ';
              cachePathCursor += _val4;
              continue;
            }
            if (cacheByHashCode && _val4.hashCode && typeof _val4.hashCode === 'function') {
              cachePathCursor += ' ';
              cachePathCursor += _val4.hashCode();
              continue;
            }
            var _typeOfDepVal2 = typeof _val4 === 'undefined' ? 'undefined' : _typeof(_val4);
            if (_typeOfDepVal2 === 'number' || _typeOfDepVal2 === 'string' || _typeOfDepVal2 === 'boolean' || _typeOfDepVal2 === 'undefined' || _val4 === null) {
              cachePathCursor += ' ';
              cachePathCursor += _val4;
            } else if (cacheByHashCode && _val4._HASH_CODE) {
              cachePathCursor += ' ';
              cachePathCursor += _val4._HASH_CODE;
            } else {
              if (cachePathCursor) cachePath.push(cachePathCursor);
              cachePath.push(_val4);
              cachePathCursor = '';
            }
          }
        }
      }

      if (cachePath === null || !cachePath.length) {
        cachePath = cachePathCursor;
      } else {
        if (cachePathCursor) cachePath.push(cachePathCursor);
        // TODO: use hashCode?
        //cachePath = List(cachePath).hashCode()
        cachePath = List(cachePath);
      }

      // let cachePath = (inputParamVals)
      //         ? List(inputParamVals.concat(flattendDepVals))
      //         : (flattendDepVals)
      //           ? List(flattendDepVals)
      //           // TODO ?
      //           : 'PATH'

      var computedVal = cacheRead(path, cachePath, cacheSetting);
      if (computedVal === undefined) {
        computedVal = computer.getter.apply(this, computedParams);
        cacheWrite(path, cachePath, computedVal, cacheSetting);
      }
      // on-instance fast-track cache, works w/o params only
      if (computer.instanceCache) {
        if (depHashCode) {
          if (!this.__get_fast_by_dep_hash) this.__get_fast_by_dep_hash = {};
          if (!this.__get_fast_by_dep_hash[path]) this.__get_fast_by_dep_hash[path] = {};
          if (depHashCodeVal === undefined) depHashCodeVal = depHashCode.call(this);
          this.__get_fast_by_dep_hash[path][depHashCodeVal] = computedVal;
        } else if (!hasParams) {
          if (!this.__get_fast) this.__get_fast = {};
          this.__get_fast[path] = computedVal;
        }
      }

      resultOrFallback = computedVal;
      // fallback only if undefined, not null or falsy
      if (resultOrFallback === undefined) return fallback;
      return resultOrFallback;
    };

    // set()
    // ---------------------------------------------------

    StructType.prototype.set = function set(path, val) {
      if (typeof path !== 'string') return _set.call(this, path, val);

      var setter = setters[path];
      if (setter) {
        if (!this.recursingSets) this.recursingSets = {};
        if (!this.recursingSets[path]) {
          this.recursingSets[path] = true;
          var _val = setter.call(this, val);
          if (_val === undefined) return this;
          var _result = config.setter.call(this, path, _val);
          this.recursingSets[path] = false;
          return _result;
        }
      }

      if (!path.includes('.')) {
        if (!settables.includes(path)) return this;
        return _set.call(this, path, val);
      }
      var paths = pathsByString[path];
      if (!paths) {
        paths = path.split('.');
        pathsByString[path] = paths;
      }

      return this.setIn(paths, val);
    };

    // toJS( includeComputed = false )
    // ---------------------------------------------------


    StructType.prototype.toJS = function toJS(includeComputed) {
      if (!includeComputed) return _toJS.call(this);

      var result = {};
      for (var _i8 = 0, _len7 = schemaKeys.length; _i8 < _len7; _i8++) {
        var key = schemaKeys[_i8];
        var val = this.get(key);
        if (!val) {
          result[key] = val;
          continue;
        }
        result[key] = val.toJS ? val.toJS(includeComputed) : val;
      }
      return result;
    };

    return StructType;
  }(RecordType);

  //if (DEBUG) {
  //  let oget = StructType.prototype.get
  //  StructType.prototype.get = function (...args) {
  //    console.log("Struct::get", ...args)
  //    let val = oget.call(this, ...args)
  //    console.log("==>", val)
  //  }
  //}

  var _loop = function _loop(_i9, _len8) {
    var key = keysWithParms[_i9];
    if (StructType.prototype[key]) throw new Error('Can\'t add getter with params of key that clashes with prototype, key: ' + key);
    StructType.prototype[key] = function () {
      for (var _len9 = arguments.length, args = Array(_len9), _key2 = 0; _key2 < _len9; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return this.get(key, undefined, args);
    };
  };

  for (var _i9 = 0, _len8 = keysWithParms.length; _i9 < _len8; _i9++) {
    _loop(_i9, _len8);
  }

  StructType.schema = schema;
  StructType.cacheReset = cacheReset;

  return StructType;
};

exports.default = Struct;
module.exports = exports["default"];

/***/ }),
/* 576 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

var _ = __webpack_require__(62);

var _linkify = __webpack_require__(140);

var _linkify2 = _interopRequireDefault(_linkify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var titleBlockType = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];
var mediaBlockType = ['video', 'audio'];
var frameType = mediaBlockType.concat(['interactive']);
var textuals = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'text', 'quote', 'list', 'code'];

var BlockStruct = (0, _immutable.Struct)({
  construct: function construct(block) {
    return (0, _assign2.default)({
      _title: block.title,
      _caption: block.caption,
      _text: block.text,
      _html: block.html,
      _cover: block.cover
    }, block);
  },


  id: undefined,
  item: undefined,
  type: undefined,
  src: undefined,
  url: undefined,
  created_at: undefined,
  updated_at: undefined,
  ctaType: undefined,
  label: undefined,
  _title: undefined,
  _caption: undefined,
  _text: undefined,
  _html: undefined,
  _cover: undefined,

  metadata: {
    init: function init(metadata) {
      metadata = new _.MetadataStruct(metadata);
      return { metadata: metadata };
    }
  },

  // TODO: metadata?
  cover: {
    deps: ['_cover', 'metadata'],
    get: function get(cover, metadata) {
      if (cover) {
        return new _.CoverStruct((0, _assign2.default)({}, cover, { metadata: metadata }));
      }
      return false;
    }
  },

  canBeContextCover: {
    deps: ['title', 'description', 'text', 'cover'],
    get: function get(title, description, text, cover) {
      // only if simple cover
      // can have attribution or caption
      if (cover && !title && !description && !text) return true;
      return false;
    }
  },

  html: {
    deps: ['_html', 'metadata.publisherName'],
    get: function get(html, publisherName) {
      if (html) {
        html = (0, _linkify2.default)(html, publisherName);
        return html;
      }
      return undefined;
    }
  },

  starred: {
    deps: ['metadata'],
    get: function get(metadata) {
      if (metadata) return metadata.get('starred', false);
      return false;
    }
  },

  title: {
    deps: ['_title', 'type', '_text', 'metadata'],
    get: function get(_title, type, text, metadata) {
      var title = undefined;
      if (_title && _title.length > 0) {
        title = _title;
      } else if (titleBlockType.indexOf(type) > -1) {
        if (text && text.length > 0) {
          title = text;
        }
      } else if (metadata) {
        var metatitle = metadata.get('title');
        if (metatitle && metatitle.length > 0) {
          title = metatitle;
        }
      }
      return title;
    }
  },

  description: {
    deps: ['metadata'],
    get: function get(metadata) {
      if (metadata) return metadata.get('description');
      return false;
    }
  },

  caption: {
    deps: ['_caption', 'metadata'],
    get: function get(_caption, metadata) {
      if (_caption && _caption.length > 0) {
        return _caption;
      }
      return metadata ? metadata.get('caption') : false;
    }
  },

  text: {
    deps: ['_text', 'type', 'metadata.publisherName', 'isTemplate'],
    get: function get(text, type, publisherName, isTemplate) {
      if (!text || text.length === 0) {
        return null;
      }
      if (type === 'cta' || isTemplate) return text;
      return (0, _linkify2.default)(text, publisherName);
    }
  },

  isTemplate: {
    deps: ['_text'],
    get: function get(text) {
      if (!text) return false;
      return text.startsWith('{{') && text.endsWith('}}');
    }
  },

  ctaStructs: {
    deps: ['type', 'url', 'ctaType', 'text', 'metadata.openAsModal'],
    get: function get(type, url, ctaType, text, openAsModal) {
      if (type === 'cta') {
        return new _.CtaStruct({
          type: ctaType,
          href: url,
          label: text,
          openAsModal: openAsModal
        });
      }

      if (mediaBlockType.includes(type)) {
        return new _.CtaStruct({
          type: 'iframe',
          icon: 'play'
        });
      }
    }
  },

  frame: {
    deps: ['type', 'metadata.isBasedOnUrl', 'html'],
    get: function get(type, href, html) {
      if (frameType.includes(type) && (html || href)) {
        return (0, _immutable.Map)({ href: href, html: html });
      }
      return false;
    }
  },

  textStructs: {
    deps: ['title', 'text', 'description', 'type', 'html', 'id', 'item', 'isTemplate'],
    get: function get(title, text, description, type, html, id, item, isTemplate) {
      if (type === 'cta' || isTemplate) return [];
      if (textuals.includes(type)) return [this];

      var texts = [];

      if (title) {
        texts.push(new BlockStruct({
          id: id + '-title',
          item: item,
          title: title,
          type: 'h2'
        }));
      }

      if (text && text !== title) {
        texts.push(new BlockStruct({
          id: id + '-text',
          text: text,
          item: item,
          type: 'text'
        }));
      }

      if (description && description !== text) {
        texts.push(new BlockStruct({
          id: id + '-description',
          text: description,
          item: item,
          type: 'text'
        }));
      }

      return texts;
    }
  },

  templateStruct: {
    deps: ['_text', 'isTemplate'],
    get: function get(text, isTemplate) {
      if (text && isTemplate && text.indexOf('$class') === -1) {
        return this;
      }
      return false;
    }
  },

  textLongestWordLength: {
    deps: ['_text'],
    get: function get(text) {
      if (text) {
        var words = text.split(' ');
        var length = 0;
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = (0, _getIterator3.default)(words), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var word = _step.value;

            if (word.length > length) length = word.length;
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }

        return length;
      }
      return 0;
    }
  },

  getHtmlTextuals: {
    params: ['nbTextuals'],
    deps: ['html'],
    get: function get(nbTextuals, html) {
      var textuals = [];
      var textsRgx = html.match(/<p>(.*?)<\/p>/g);
      if (textsRgx) {
        var texts = textsRgx.map(function (tag) {
          return tag;
        });
        if (texts) textuals = textuals.concat(texts);
      }

      if (textuals.length < nbTextuals) {
        var quotesRgx = html.match(/<quote>(.*?)<\/quote>/g);
        if (quotesRgx) {
          var quotes = quotesRgx.map(function (tag) {
            return tag;
          });
          if (quotes) textuals = textuals.concat(quotes);
        }
      }

      if (textuals.length < nbTextuals) {
        var listsRgx = html.match(/<ul>(.*?)<\/ul>/g);
        if (listsRgx) {
          var lists = listsRgx.map(function (tag) {
            return tag;
          });
          if (lists) textuals = textuals.concat(lists);
        }
      }

      if (textuals.length > 0) {
        return (0, _immutable.List)(textuals.slice(0, nbTextuals));
      }

      return undefined;
    }
  },

  canFilter: {
    deps: ['metadata.coverPrefs'],
    get: function get(coverPrefs) {
      if (coverPrefs) return coverPrefs.get('filter', true);
      return true;
    }
  },

  canCrop: {
    deps: ['metadata.coverPrefs'],
    get: function get(coverPrefs) {
      if (coverPrefs) return coverPrefs.get('crop', true);
      return true;
    }
  },

  canOverlay: {
    deps: ['metadata.coverPrefs'],
    get: function get(coverPrefs) {
      if (coverPrefs) return coverPrefs.get('overlay', true);
      return true;
    }
  },

  navigation: {
    init: function init(navigation) {
      if (navigation && navigation.length > 0) {
        // transform .name to .title
        for (var i = 0; i < navigation.length; i++) {
          var navItem = navigation[i];
          if (navItem.name) {
            navItem.title = navItem.name;
            delete navItem.name;
          }
          navigation[i] = navItem;
        }
      }

      navigation = (0, _immutable.fromJS)(navigation);
      return { navigation: navigation };
    }
  },

  footer: {
    init: function init(footer) {
      footer = (0, _immutable.fromJS)(footer);
      return { footer: footer };
    }
  },

  link: {
    init: function init(link) {
      link = (0, _immutable.fromJS)(link);
      return { link: link };
    }
  }

});

exports.default = BlockStruct;
module.exports = exports['default'];

/***/ }),
/* 577 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var types = ['context', 'subject'];
var iframeType = ['audio', 'video', 'interactive', 'location'];
var textuals = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'text', 'quote', 'list', 'code'];

var ContentUnitStruct = (0, _immutable.Struct)({

  // input
  // ============================

  blocks: undefined,
  type: undefined, // context | subject
  itemMeta: undefined, // only if type context
  computeText: {
    default: true
  },
  computeOthers: {
    default: true
  },

  // computed
  // ============================
  className: {
    cache: 1,
    deps: ['type', 'has-cover', 'has-cta', 'has-template', 'has-text', 'has-title', 'has-frame', 'has-meta'],
    get: function get(type, has_cover, has_cta, has_template, has_text, has_title, has_frame, has_meta) {
      var className = 'content-unit ' + type + '-unit';
      if (has_cover) className += ' has-cover';
      if (has_cta) className += ' has-cta';
      if (has_template) className += ' has-template';
      if (has_text) className += ' has-text';
      if (has_title) className += ' has-title';
      if (has_frame) className += ' has-frame';
      if (has_meta) className += ' has-meta';
      return className;
    }
  },

  'has-cover': {
    deps: ['cover'],
    get: function get(cover) {
      return !!cover;
    }
  },
  'has-cta': {
    deps: ['cta'],
    get: function get(cta) {
      return !!cta;
    }
  },
  'has-template': {
    deps: ['template'],
    get: function get(template) {
      return !!template;
    }
  },
  'has-text': {
    deps: ['text'],
    get: function get(text) {
      return !!text;
    }
  },
  'has-frame': {
    deps: ['frame'],
    get: function get(frame) {
      return !!frame;
    }
  },
  'has-meta': {
    deps: ['meta'],
    get: function get(meta) {
      return !!meta;
    }
  },
  'has-title': {
    deps: ['blocks', 'computeText'],
    get: function get(blocks, computeText) {
      if (computeText) {
        for (var i = 0; i < blocks.size; i++) {
          var block = blocks.get(i);
          if (block.get('title')) return true;
        }
      }
      return false;
    }
  },

  cover: {
    deps: ['blocks', 'computeOthers'],
    get: function get(blocks, computeOthers) {
      if (computeOthers) {
        for (var i = 0; i < blocks.size; i++) {
          var block = blocks.get(i);
          var cover = block.get('cover');
          if (cover) return cover;
        }
      }
      return false;
    }
  },

  text: {
    deps: ['blocks', 'computeText'],
    get: function get(blocks, computeText) {
      if (computeText) {
        var texts = [];
        for (var i = 0; i < blocks.size; i++) {
          var block = blocks.get(i);
          texts = texts.concat(block.get('textStructs'));
        }
        if (texts.length) return (0, _immutable.List)(texts);
      }
      return false;
    }
  },

  template: {
    deps: ['blocks'],
    get: function get(blocks) {
      var templates = [];
      for (var i = 0; i < blocks.size; i++) {
        var block = blocks.get(i);
        templates = templates.concat(block.get('templateStruct'));
      }
      if (templates.length) return (0, _immutable.List)(templates);
      return false;
    }
  },

  cta: {
    deps: ['blocks', 'computeText'],
    get: function get(blocks, computeText) {
      if (computeText) {
        var ctas = [];
        for (var i = 0; i < blocks.size; i++) {
          var block = blocks.get(i);
          var cta = block.get('ctaStructs');
          if (cta) ctas.push(cta);
        }
        if (ctas.length) return (0, _immutable.List)(ctas);
      }
      return false;
    }
  },

  frame: {
    deps: ['blocks', 'computeOthers'],
    get: function get(blocks, computeOthers) {
      if (computeOthers) {
        var frame = void 0;
        for (var i = 0; i < blocks.size; i++) {
          var block = blocks.get(i);
          frame = block.get('frame');
          if (frame) return frame;
        }
      }
      return false;
    }
  },

  meta: {
    deps: ['itemMeta', 'blocks'],
    get: function get(itemMeta, blocks) {
      if (itemMeta) return itemMeta;
      for (var i = 0; i < blocks.size; i++) {
        var meta = blocks.get(i).get('metadata');
        if (meta) return meta;
      }
      return false;
    }
  },

  split: {
    deps: ['blocks', 'type', 'itemMeta', 'text', 'cover', 'cta', 'frame'],
    get: function get(blocks, type, itemMeta, text, cover, cta, frame) {
      if (text && (cover || cta || frame)) {
        return (0, _immutable.List)([new ContentUnitStruct({ type: 'context', blocks: blocks, computeOthers: false, itemMeta: itemMeta }), new ContentUnitStruct({ type: 'subject', blocks: blocks, computeText: false })]);
      }
      return false;
    }
  }
});

exports.default = ContentUnitStruct;
module.exports = exports['default'];

/***/ }),
/* 578 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var CoverStruct = (0, _immutable.Struct)({

  metadata: undefined,

  src: undefined,
  original: undefined,
  altsrc: undefined,
  imgflosrc: undefined,
  blurredUrl: undefined,

  resized: undefined,
  ratio: undefined,
  aspect: undefined,
  orientation: undefined,

  width: undefined,
  height: undefined,
  rotation: undefined,

  animated: undefined,
  unsalvageable: undefined,

  scene: {
    init: function init(scene) {
      if (scene) {
        scene = (0, _immutable.fromJS)(scene);
        return { scene: scene };
      }
      return undefined;
    }
  },

  textregions: {
    init: function init(textregions) {
      if (textregions && textregions.length > 0) {
        textregions = (0, _immutable.fromJS)(textregions);
        return { textregions: textregions };
      }
      return undefined;
    }
  },

  hasTextTop: {
    init: function init(hasTextTop) {
      hasTextTop = (0, _immutable.fromJS)(hasTextTop);
      return { hasTextTop: hasTextTop };
    }
  },

  hasTextBottom: {
    init: function init(hasTextBottom) {
      hasTextBottom = (0, _immutable.fromJS)(hasTextBottom);
      return { hasTextBottom: hasTextBottom };
    }
  },

  hasTextLeft: {
    init: function init(hasTextLeft) {
      hasTextLeft = (0, _immutable.fromJS)(hasTextLeft);
      return { hasTextLeft: hasTextLeft };
    }
  },

  hasTextRight: {
    init: function init(hasTextRight) {
      hasTextRight = (0, _immutable.fromJS)(hasTextRight);
      return { hasTextRight: hasTextRight };
    }
  },

  hasTextXMiddle: {
    init: function init(hasTextXMiddle) {
      hasTextXMiddle = (0, _immutable.fromJS)(hasTextXMiddle);
      return { hasTextXMiddle: hasTextXMiddle };
    }
  },

  hasTextYMiddle: {
    init: function init(hasTextYMiddle) {
      hasTextYMiddle = (0, _immutable.fromJS)(hasTextYMiddle);
      return { hasTextYMiddle: hasTextYMiddle };
    }
  },

  easyTextRegions: {
    init: function init(easyTextRegions) {
      if (easyTextRegions && easyTextRegions.length > 0) {
        easyTextRegions = (0, _immutable.fromJS)(easyTextRegions);
        return { easyTextRegions: easyTextRegions };
      }
      return undefined;
    }
  },

  all_faces: {
    init: function init(all_faces) {
      all_faces = (0, _immutable.fromJS)(all_faces);
      return { all_faces: all_faces };
    }
  },

  lines: {
    init: function init(lines) {
      lines = (0, _immutable.fromJS)(lines);
      return { lines: lines };
    }
  },

  closest_aspect: {
    init: function init(closest_aspect) {
      closest_aspect = (0, _immutable.fromJS)(closest_aspect);
      return { closest_aspect: closest_aspect };
    }
  },

  transparent: {
    init: function init(transparent) {
      transparent = (0, _immutable.fromJS)(transparent);
      return { transparent: transparent };
    }
  },

  lightness: {
    init: function init(lightness) {
      lightness = (0, _immutable.fromJS)(lightness);
      return { lightness: lightness };
    }
  },

  saturation: {
    init: function init(saturation) {
      saturation = (0, _immutable.fromJS)(saturation);
      return { saturation: saturation };
    }
  },

  pictureImgfloUrls: {
    init: function init(pictureImgfloUrls) {
      if (pictureImgfloUrls && pictureImgfloUrls.length > 0) {
        pictureImgfloUrls = (0, _immutable.fromJS)(pictureImgfloUrls);
        return { pictureImgfloUrls: pictureImgfloUrls };
      }
      return undefined;
    }
  },

  faces: {
    init: function init(faces) {
      if (faces && faces.length > 0) {
        faces = (0, _immutable.fromJS)(faces);
        return { faces: faces };
      }
      return undefined;
    }
  },

  colors: {
    init: function init(colors) {
      colors = (0, _immutable.fromJS)(colors);
      return { colors: colors };
    }
  },

  saliency: {
    init: function init(saliency) {
      saliency = (0, _immutable.fromJS)(saliency);
      return { saliency: saliency };
    }
  },

  exif: {
    init: function init(exif) {
      exif = (0, _immutable.fromJS)(exif);
      return { exif: exif };
    }
  },

  resolution: {
    deps: ['width', 'height'],
    get: function get(width, height) {
      if (width && height) {
        var surface = height * width;

        if (surface <= 66000) return 'icon';
        if (surface > 66000 && surface <= 150000) return 'low';
        if (surface > 150000 && surface <= 600000) return 'medium';
        if (surface > 600000) return 'high';
      }
      return undefined;
    }
  },

  filmstrip: {
    deps: ['width', 'height'],
    get: function get(width, height) {
      if (width && height) {
        var aspectRatio = width / height;

        if (aspectRatio > 2.5) return 'panorama';
        if (aspectRatio < .4) return 'tower';
      }
      return undefined;
    }
  },

  isHeroCover: {
    deps: ['isFullMobileResolution', 'isFullDesktopResolution', 'orientation'],
    get: function get(isFullMobileResolution, isFullDesktopResolution, orientation) {
      return isFullMobileResolution && isFullDesktopResolution && orientation === 'landscape';
    }
  },

  isFullMobileResolution: {
    deps: ['width', 'height'],
    get: function get(width, height) {
      if (width && height) {
        if (width >= 320 && height >= 640) return true;
        return false;
      }
      return undefined;
    }
  },

  isFullDesktopResolution: {
    deps: ['width', 'height'],
    get: function get(width, height) {
      if (width && height) {
        if (width >= 1280 && height >= 640) return true;
        return false;
      }
      return undefined;
    }
  },

  focalPoint: {
    deps: ['faces', 'saliency', 'width', 'height', 'scene'],
    get: function get(faces, saliency, width, height, scene) {
      var focalPoint = ['50%', '50%'];

      // Give faces-only priority, followed by scene
      if (faces) {
        var face = faces.get(0);
        focalPoint = [Math.min(1, (face.get('x') + face.get('width') / 2) / width) * 100 + '%', Math.min(1, (face.get('y') + face.get('height') / 2) / height) * 100 + '%'];
      } else if (scene) {
        var center = scene.get('center');
        if (center) {
          focalPoint = [Math.min(1, center.get('x') / width) * 100 + '%', Math.min(1, center.get('y') / height) * 100 + '%'];
        }
      } else if (saliency) {
        var bbox = saliency.get('bbox');
        if (bbox) {
          focalPoint = [Math.min(1, (bbox.get('x') + bbox.get('width') / 2) / width) * 100 + '%', Math.min(1, (bbox.get('y') + bbox.get('height') / 2) / height) * 100 + '%'];
        }
      }
      return focalPoint;
    }
  }
});

exports.default = CoverStruct;
module.exports = exports['default'];

/***/ }),
/* 579 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var CtaStruct = (0, _immutable.Struct)({
  type: undefined,
  href: undefined,
  label: undefined,
  icon: undefined
});

exports.default = CtaStruct;
module.exports = exports['default'];

/***/ }),
/* 580 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

var _ = __webpack_require__(62);

var _linkify = __webpack_require__(140);

var _linkify2 = _interopRequireDefault(_linkify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var titleType = ['h1', 'h2', 'h3'];
var subtitleType = ['h4', 'h5', 'h6'];
var mediaType = ['video', 'audio'];
var textualType = ['text', 'quote', 'list'];
var nonContextType = ['interactive', 'location'];

var ItemStruct = (0, _immutable.Struct)({
  construct: function construct(item) {
    var _item = (0, _assign2.default)({ _title: item.title, index: count }, item);
    count++;
    return _item;
  },


  id: undefined,
  index: undefined,
  created_by: undefined,
  updated_by: undefined,
  created_at: undefined,
  updated_at: undefined,
  published: undefined,
  score: undefined,
  path: undefined,
  _title: undefined,
  dsClassifier: undefined,

  getMono: {
    deps: ['contextUnit', 'subjectUnits'],
    get: function get(contextUnit, subjectUnits) {
      if (contextUnit && !subjectUnits.size) return contextUnit;
      if (!contextUnit && subjectUnits.size === 1) return subjectUnits.get(0);
      return false;
    }
  },

  getDual: {
    deps: ['contextUnit', 'subjectUnits'],
    get: function get(contextUnit, subjectUnits) {
      if (contextUnit && subjectUnits) {
        if (subjectUnits.size > 1) {
          return false;
        } else if (subjectUnits.size === 1) {
          return new _immutable.List([contextUnit, subjectUnits.get(0)]);
        }
      }

      if (contextUnit) {
        return contextUnit.get('split');
      }

      if (subjectUnits && subjectUnits.size === 2) {
        return subjectUnits;
      }

      return false;
    }
  },

  getMulti: {
    deps: ['contextUnit', 'subjectUnits'],
    get: function get(contextUnit, subjectUnits) {
      if (subjectUnits && subjectUnits.size > 1) {
        if (!contextUnit) {
          return subjectUnits;
        } else {
          return subjectUnits.push(contextUnit);
        }
      }
      return false;
    }
  },

  contextUnit: {
    deps: ['id', 'starred', 'titlesSB', 'subtitlesSB', 'textualsSB', 'metadata'],
    get: function get(id, blocks, titlesSB, subtitlesSB, textualsSB, metadata) {
      var contextBlocks = void 0;
      var potentialSimpleCoveredBlocks = [];

      var nonTemplateBlocks = blocks.filter(function (block) {
        return !block.get('isTemplate');
      });

      if (nonTemplateBlocks.size === 1) {
        contextBlocks = nonTemplateBlocks;
      } else {
        // all simple
        contextBlocks = blocks.filter(function (block) {
          var type = block.get('type');
          if (type === 'cta') return true;

          if (nonContextType.includes(type)) return false;

          // get the textual blocks
          // TODO: enforce title shit...
          if (titleType.includes(type) || subtitleType.includes(type) || textualType.includes(type) || type === 'code') {
            if (type === 'text' && block.get('isTemplate')) return false;
            return !block.get('metadata.isReshare');
          }

          if (block.get('canBeContextCover')) potentialSimpleCoveredBlocks.push(block);

          return false;
        });
      }

      // if no contextBlocks then ignore blocks where canBeContextCover === true
      if (!contextBlocks || !contextBlocks.size) return false;

      // only one can be the context cover
      if (potentialSimpleCoveredBlocks.length) contextBlocks = contextBlocks.push(potentialSimpleCoveredBlocks[0]);

      return new _.ContentUnitStruct({
        type: 'context',
        blocks: contextBlocks,
        itemMeta: metadata
      });
    }
  },

  subjectUnits: {
    deps: ['id', 'starred', 'contextUnit'],
    get: function get(id, blocks, contextUnit) {
      var subjectBlocks = void 0;
      if (!contextUnit) {
        subjectBlocks = blocks.filter(function (block) {
          // remove templates for adding $class
          if (block.get('isTemplate') && block.get('text').indexOf('$class') !== -1) return false;
          return true;
        });
      } else {
        var contextBlocks = contextUnit.get('blocks');
        subjectBlocks = blocks.filter(function (block) {
          // remove templates for adding $class
          if (block.get('isTemplate') && block.get('text').indexOf('$class') !== -1) return false;
          // ensure blocks are not in context
          return !contextBlocks.includes(block);
        });
      }

      if (!subjectBlocks || !subjectBlocks.size) return false;

      return subjectBlocks.map(function (subjectBlock) {
        return new _.ContentUnitStruct({
          type: 'subject',
          blocks: _immutable.List.of(subjectBlock)
        });
      });
    }
  },

  metadata: {
    init: function init(metadata) {
      metadata = new _.MetadataStruct(metadata);
      return { metadata: metadata };
    }
  },

  url: {
    deps: ['metadata'],
    get: function get(metadata) {
      if (metadata) {
        var url = metadata.get('url');
        return url ? url : metadata.get('isBasedOnUrl');
      }
      return undefined;
    }
  },

  isStarred: {
    deps: ['metadata.starred'],
    get: function get(starred) {
      return starred;
    }
  },

  inFeed: {
    deps: ['metadata'],
    get: function get(metadata) {
      return metadata.get('inFeed', false);
    }
  },

  hasPage: {
    deps: ['metadata'],
    get: function get(metadata) {
      return metadata.get('hasPage', false);
    }
  },

  inNav: {
    deps: ['metadata'],
    get: function get(metadata) {
      return metadata.get('inNav', false);
    }
  },

  author: {
    deps: ['metadata'],
    get: function get(metadata) {
      return metadata.get('author');
    }
  },

  publisher: {
    deps: ['metadata'],
    get: function get(metadata) {
      return metadata.get('publisher', false);
    }
  },

  description: {
    deps: ['metadata'],
    get: function get(metadata) {
      return metadata.get('description', false);
    }
  },

  content: {
    init: function init(content) {
      var blockStructs = content.map(function (block) {
        return new _.BlockStruct(block);
      });
      return { content: new _immutable.List(blockStructs) };
    }
  },

  title: {
    deps: ['_title', 'metadata', 'titlesSB', 'articlesSB', 'starred'],
    get: function get(_title, metadata, titlesSB, articlesSB, starred) {
      var title = undefined;
      if (_title && _title.length > 0) {
        title = _title;
      } else if (metadata && metadata.get('title') && metadata.get('title').length > 0) {
        title = metadata.get('title');
      } else if (titlesSB.count() > 0) {
        var titleSB = titlesSB.get(0);
        if (titleSB) {
          title = titleSB.get('title');
        }
      } else if (articlesSB.count() > 0) {
        var articleSB = articlesSB.get(0);
        if (articleSB) {
          title = articleSB.get('title');
        }
      } else {
        var i = 0;
        var nbStarred = starred.count();
        while (i < nbStarred) {
          title = starred.get(i).get('title');
          if (title) {
            break;
          }
          i++;
        }
      }
      return title;
    }
  },

  starred: {
    deps: ['content'],
    get: function get(content) {
      return content.filter(function (block) {
        return block.get('starred', false);
      });
    }
  },

  starredBlockMap: {
    deps: ['starred'],
    get: function get(starred) {
      var mapPerType = {};
      starred.forEach(function (block) {
        var blockType = block.get('type');
        if (titleType.indexOf(blockType) !== -1) blockType = 'title';else if (subtitleType.indexOf(blockType) !== -1) blockType = 'subtitle';else if (mediaType.indexOf(blockType) !== -1) blockType = 'media';else if (textualType.indexOf(blockType) !== -1) blockType = 'textual';

        if (!mapPerType[blockType]) {
          mapPerType[blockType] = [];
        }
        mapPerType[blockType].push(block);
      });
      mapPerType = (0, _immutable.fromJS)(mapPerType);
      return (0, _immutable.Map)(mapPerType);
    }
  },

  starredPerType: {
    params: ['type'],
    deps: ['starredBlockMap'],
    get: function get(type, starredBlockMap) {
      return starredBlockMap.get(type, _immutable.List.EMPTY);
    }
  },

  canBeRendered: {
    params: ['schema'],
    deps: ['starred', 'starredBlockMap'],
    cache: false,
    get: function get(schema, starred, starredBlockMap) {
      var starBlockCount = starred.count();
      var schemaKeys = (0, _keys2.default)(schema);

      for (var i = 0; i < schemaKeys.length; i++) {
        var key = schemaKeys[i];
        var sblocks = starredBlockMap.get(key, _immutable.List.EMPTY);
        var def = schema[key];

        if (def instanceof Array) {
          var _def = (0, _slicedToArray3.default)(def, 2),
              min = _def[0],
              max = _def[1];

          var sbCount = sblocks.count();
          if (min <= sbCount && sbCount <= max) {
            starBlockCount -= sbCount;
          } else {
            return false;
          }
        } else {
          if (sblocks.count() === def) {
            starBlockCount -= def;
          } else {
            return false;
          }
        }
      }
      return starBlockCount === 0;
    }
  },

  cover: {
    deps: ['starred'],
    get: function get(starred) {
      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = (0, _getIterator3.default)(starred), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var block = _step.value;

          var cover = block.get('cover');
          if (cover) return cover;
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return undefined;
    }
  },

  allSBWithCovers: {
    deps: ['mediasSB', 'imagesSB', 'articlesSB'],
    get: function get(mediasSB, imagesSB, articlesSB) {
      return _immutable.List.EMPTY.concat(mediasSB).concat(imagesSB).concat(articlesSB);
    }
  },

  allCovers: {
    deps: ['allSBWithCovers'],
    get: function get(allSBWithCovers) {
      var covers = [];
      var cover = void 0;
      for (var i = 0; i < allSBWithCovers.count(); i++) {
        var block = allSBWithCovers.get(i);
        cover = block.get('cover');
        if (cover) covers.push(cover);
      }
      if (covers.length === 0) return undefined;
      return new _immutable.List(covers);
    }
  },

  // Starred blocks --- SB = starred blocks
  titlesSB: {
    deps: ['starredPerType'],
    cache: false,
    get: function get(starredPerType) {
      return starredPerType('title');
    }
  },

  subtitlesSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('subtitle');
    }
  },

  mediasSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('media');
    }
  },

  textualsSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('textual');
    }
  },

  interactivesSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('interactive');
    }
  },

  totalTextualsLength: {
    deps: ['textualsSB'],
    get: function get(textuals) {
      if (!textuals) {
        return 0;
      }
      return textuals.reduce(function (totalLength, textBlock) {
        if (textBlock.get('type') === 'list') {
          var html = textBlock.get('html').replace('<ol>', '').replace('</ol>', '').replace('<li>', '').replace('</li>', '');

          return totalLength + html.length;
        }
        if (!textBlock.get('text')) {
          return totalLength;
        }

        return totalLength + textBlock.get('text').length;
      }, 0);
    }
  },

  codesSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('code');
    }
  },

  imagesSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('image');
    }
  },

  ctasSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('cta');
    }
  },

  articlesSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('article');
    }
  },

  placeholdersSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('placeholder');
    }
  },

  locationsSB: {
    deps: ['starredPerType'],
    get: function get(starredPerType) {
      return starredPerType('location');
    }
  },

  allSBWithCover: {
    deps: ['mediasSB', 'imagesSB', 'articlesSB'],
    get: function get(mediasSB, imagesSB, articlesSB) {
      return _immutable.List.EMPTY.concat(mediasSB).concat(imagesSB).concat(articlesSB);
    }
  },

  isNavigation: {
    deps: ['metadata.@type'],
    get: function get(type) {
      if (type === 'navigation') return true;
      return false;
    }
  },

  isFooter: {
    deps: ['metadata.@type'],
    get: function get(type) {
      if (type === 'footer') return true;
      return false;
    }
  },

  isCta: {
    deps: ['metadata.@type'],
    get: function get(type) {
      if (type === 'cta') return true;
      return false;
    }
  },

  isSiteHeader: {
    deps: ['metadata.@type'],
    get: function get(type) {
      if (type === 'header') return true;
      return false;
    }
  },

  isNextPage: {
    deps: ['metadata.@type'],
    get: function get(type) {
      return type === 'nextpage';
    }
  },

  isFeed: {
    deps: ['isNavigation', 'isFooter', 'isCta', 'isSiteHeader', 'isNextPage'],
    get: function get(isNavigation, isFooter, isCta, isSiteHeader, isNextPage) {
      return !(isNavigation || isFooter || isCta || isSiteHeader || isNextPage);
    }
  },

  canFilterAllCovers: {
    deps: ['allSBWithCover'],
    get: function get(allSBWithCover) {
      var _iteratorNormalCompletion2 = true;
      var _didIteratorError2 = false;
      var _iteratorError2 = undefined;

      try {
        for (var _iterator2 = (0, _getIterator3.default)(allSBWithCover), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
          var block = _step2.value;

          if (!block.get('canFilter')) return false;
        }
      } catch (err) {
        _didIteratorError2 = true;
        _iteratorError2 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion2 && _iterator2.return) {
            _iterator2.return();
          }
        } finally {
          if (_didIteratorError2) {
            throw _iteratorError2;
          }
        }
      }

      return true;
    }
  },

  canCropAllCovers: {
    deps: ['allSBWithCover'],
    get: function get(allSBWithCover) {
      var _iteratorNormalCompletion3 = true;
      var _didIteratorError3 = false;
      var _iteratorError3 = undefined;

      try {
        for (var _iterator3 = (0, _getIterator3.default)(allSBWithCover), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
          var block = _step3.value;

          if (!block.get('canCrop')) return false;
        }
      } catch (err) {
        _didIteratorError3 = true;
        _iteratorError3 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion3 && _iterator3.return) {
            _iterator3.return();
          }
        } finally {
          if (_didIteratorError3) {
            throw _iteratorError3;
          }
        }
      }

      return true;
    }
  },

  canOverlayAllCovers: {
    deps: ['allSBWithCover'],
    get: function get(allSBWithCover) {
      var _iteratorNormalCompletion4 = true;
      var _didIteratorError4 = false;
      var _iteratorError4 = undefined;

      try {
        for (var _iterator4 = (0, _getIterator3.default)(allSBWithCover), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
          var block = _step4.value;

          if (!block.get('canOverlay')) return false;
        }
      } catch (err) {
        _didIteratorError4 = true;
        _iteratorError4 = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion4 && _iterator4.return) {
            _iterator4.return();
          }
        } finally {
          if (_didIteratorError4) {
            throw _iteratorError4;
          }
        }
      }

      return true;
    }
  },

  $class: {
    deps: ['author', 'publisher', 'canFilterAllCovers', 'canCropAllCovers', 'canOverlayAllCovers', 'allCovers', 'isNavigation', 'isFooter', 'isCta', 'id', 'starredPerType', 'dsClassifier'],
    get: function get(author, publisher, canFilterAllCovers, canCropAllCovers, canOverlayAllCovers, allCovers, isNavigation, isFooter, isCta, id, starredPerType, dsClassifier) {
      var classes = [id];

      if (author) classes.push('item:w-author');
      if (publisher) classes.push('item:w-publisher');
      if (author || publisher) classes.push('item:w-attribution');

      if (canFilterAllCovers) {
        classes.push('item:can-cover-filter');
      } else {
        classes.push('item:dont-cover-filter');
      }

      if (canCropAllCovers) {
        classes.push('item:can-cover-crop');
      } else {
        classes.push('item:dont-cover-crop');
      }

      if (canOverlayAllCovers) {
        classes.push('item:can-cover-overlay');
      } else {
        classes.push('item:dont-cover-overlay');
      }

      if (allCovers) {
        if (allCovers.count() === 0) {
          classes.push('item:wo-image');
        } else {
          for (var i = 0; i < allCovers.count(); i++) {
            var cover = allCovers.get(i);
            if (cover.get('faces') && classes.indexOf('item:w-cover-face') === -1) {
              classes.push('item:w-cover-face');
            }

            if (cover.get('saliency') && classes.indexOf('item:w-cover-saliency') === -1) {
              classes.push('item:w-cover-saliency');
            }

            if (cover.get('orientation')) {
              var orientation = 'item:w-cover-' + cover.get('orientation');
              if (classes.indexOf(orientation) === -1) classes.push(orientation);
            }

            if (cover.get('animated')) {
              var animated = 'item:w-cover-' + cover.get('animated');
              if (classes.indexOf(animated) === -1) classes.push(animated);
            }

            if (cover.get('resolution')) {
              var resolution = 'item:w-cover-' + cover.get('resolution') + '-res';
              if (classes.indexOf(resolution) === -1) classes.push(resolution);
            }

            if (cover.get('filmstrip')) {
              var filmstrip = 'item:w-cover-' + cover.get('filmstrip') + '-res';
              if (classes.indexOf(filmstrip) === -1) classes.push(filmstrip);
            }

            if (cover.get('isFullMobileResolution') && classes.indexOf('item:w-cover-full-mobile-res') === -1) {
              classes.push('item:w-cover-full-mobile-res');
            }

            if (cover.get('isFullDesktopResolution') && classes.indexOf('item:w-cover-full-desktop-res') === -1) {
              classes.push('item:w-cover-full-desktop-res');
            }
          }
        }
      }

      if (starredPerType('interactive').count() > 0) {
        classes.push('item:w-interactive');
      }

      // TODO - remove, temporary classification for the-grid.io
      var textBlocks = starredPerType('textual');
      var classTemplate = void 0;
      if (textBlocks) {
        textBlocks.forEach(function (block) {
          if (block.get('isTemplate')) {
            var template = block.get('text');
            if (template.indexOf('$class') > -1) {
              template = template.slice(1);
              template = template.substr(0, template.length - 1).replace(/'/g, '"').replace(/‘/g, '"').replace(/’/g, '"');
              template = JSON.parse(template);

              if (Array.isArray(template.$class)) {
                classes = classes.concat(template.$class);
              }
            }
          }
        });
      }

      if (isNavigation) classes.push('item:is-navigation');
      if (isFooter) classes.push('item:is-footer');
      if (isCta) classes.push('item:is-cta');
      if (id === 'next-page-item') classes.push('item:w-nextpage');

      var classList = (0, _immutable.List)(classes);
      if (dsClassifier && typeof dsClassifier === 'function') {
        var dsClasses = dsClassifier(this, classList);
        if (dsClasses && dsClasses.length > 0) {
          classList = classList.concat(dsClasses);
        }
      }

      return classList;
    }
  }
});

exports.default = ItemStruct;
module.exports = exports['default'];

/***/ }),
/* 581 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var siteMediaCount = 0;

function getRandomInt() {
  var max = 1000000;
  return Math.floor(Math.random() * max);
}

var itemBuilder = {
  buildNavigation: function buildNavigation(navigation) {
    var navTransformed = navigation;
    if (navTransformed && typeof navTransformed.toJS() === 'function') {
      navTransformed = navTransformed.toJS();
      if (navTransformed && navTransformed.length > 0) {
        // transform .name to .title
        for (var i = 0; i < navigation.length; i++) {
          var navItem = navigation[i];
          if (navItem.name) {
            navItem.title = navItem.name;
            delete navItem.name;
          }
          navigation[i] = navItem;
        }
      }
    }

    return {
      id: 'site-navigation-item',
      metadata: {
        starred: true,
        '@type': 'navigation'
      },
      content: [{
        id: 'site-navigation-block',
        type: 'navigation',
        html: '',
        metadata: {
          starred: true
        },
        navigation: navigation
      }]
    };
  },
  buildFooter: function buildFooter(rssLink) {
    return {
      id: 'site-footer-item',
      metadata: {
        starred: true,
        '@type': 'footer'
      },
      content: [{
        id: 'site-footer-block',
        type: 'footer',
        html: '',
        metadata: {
          starred: true
        },
        footer: {
          rss: rssLink
        }
      }]
    };
  },
  buildNextPage: function buildNextPage(nextPageLink) {
    return {
      id: 'next-page-item-' + getRandomInt(),
      metadata: {
        starred: true,
        '@type': 'nextpage'
      },
      content: [{
        id: 'next-page-block',
        type: 'nextpage',
        html: '',
        metadata: {
          starred: true
        },
        link: nextPageLink
      }]
    };
  },

  // .media, .type {phone|email|internal-link|external-link}?
  // .data.type {video|follow|contact|purchase}?
  // @TODO: remove .id?
  buildCtaItem: function buildCtaItem(siteConfig) {
    var siteHeader = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

    var title = siteConfig.get('title');
    var description = siteConfig.get('description');
    var ctas = siteConfig.get('purpose');
    var item = void 0;

    var itemType = void 0;
    if (siteHeader) {
      itemType = 'header';
    } else {
      itemType = 'cta';
    }

    if (title || description || ctas) {
      item = {
        id: 'header-item-' + getRandomInt(),
        metadata: {
          starred: true,
          '@type': itemType
        },
        content: []
      };

      if (!title && !description && ctas) title = siteConfig.get('name');

      if (title) {
        item.content.push({
          id: 'cta-title-' + getRandomInt(),
          type: 'h1',
          html: '<h1>' + title + '</h1>',
          metadata: {
            starred: true
          },
          text: title
        });
      }

      if (description) {
        item.content.push({
          id: 'cta-subtitle-' + getRandomInt(),
          type: 'h2',
          html: '<h2>' + description + '</h2>',
          metadata: {
            starred: true
          },
          text: description
        });
      }

      if (ctas) {
        for (var i = 0; i < ctas.count(); i++) {
          var cta = ctas.get(i);
          var ctaType = cta.get('type');
          var ctaUrl = cta.get('url') || cta.get('value');

          if (ctaType && ctaUrl) {
            var label = cta.get('label');
            var html = void 0;

            if (ctaType === 'external') {
              if (!(ctaUrl.indexOf('http://') === 0 || ctaUrl.indexOf('https://') === 0)) {
                ctaUrl = 'http://' + ctaUrl;
              }
              html = '<a href="' + ctaUrl + '">' + label + '</a>';
            } else if (ctaType === 'internal') {
              if (ctaUrl.indexOf('/index.html') === -1) {
                ctaUrl += '/index.html';
              }
              html = '<a href="/' + ctaUrl + '">' + label + '</a>';
            } else if (ctaType === 'contact') {
              html = '<a href="' + ctaUrl + '">' + label + '</a>';
            } else {
              html = ctaUrl;
            }

            item.content.push({
              id: 'cta-block-' + getRandomInt(),
              type: 'cta',
              metadata: {
                starred: true,
                '@type': 'cta'
              },
              html: html,
              text: label,
              label: label,
              ctaType: ctaType,
              url: ctaUrl
            });
          }
        }
      }

      var siteMedias = siteConfig.get('site_media');
      if (siteMedias && siteMedias.count() > 0) {
        if (siteMediaCount >= siteMedias.count()) siteMediaCount = 0;
        item.content.push(siteMedias.get(siteMediaCount).toJS());
        siteMediaCount++;
      }
    }

    return item;
  }
};

exports.default = itemBuilder;
module.exports = exports['default'];

/***/ }),
/* 582 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

var _linkify = __webpack_require__(140);

var _linkify2 = _interopRequireDefault(_linkify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MetadataStruct = (0, _immutable.Struct)({
  construct: function construct(metadata) {
    return (0, _assign2.default)({
      authors: metadata.author,
      _description: metadata.description,
      _caption: metadata.caption
    }, metadata);
  },


  '@type': undefined,
  isBasedOnUrl: undefined,
  permalinkUrl: undefined,
  url: undefined,
  inLanguage: undefined,
  starred: undefined,
  inFeed: undefined,
  hasPage: undefined,
  height: undefined,
  inNav: undefined,
  text: undefined,
  openAsModal: undefined,

  _description: undefined,
  _caption: undefined,

  title: {
    init: function init(title) {
      if (title && title.length > 0) {
        return { title: title };
      }
      return undefined;
    }
  },

  keywords: {
    init: function init(keywords) {
      keywords = (0, _immutable.fromJS)(keywords);
      return { keywords: keywords };
    }
  },

  via: {
    init: function init(via) {
      via = (0, _immutable.fromJS)(via);
      return { via: via };
    }
  },

  isReshare: {
    deps: ['author', 'publisher'],
    get: function get(author, publisher) {
      if (author || publisher) return true;
      return false;
    }
  },

  description: {
    deps: ['_description', 'publisherName'],
    get: function get(description, publisherName) {
      if (description && description.length > 0) {
        description = (0, _linkify2.default)(description, publisherName);
        return description;
      }
      return undefined;
    }
  },

  caption: {
    deps: ['_caption', 'publisherName'],
    get: function get(caption, publisherName) {
      if (caption && caption.length > 0) {
        caption = (0, _linkify2.default)(caption, publisherName);
        return caption;
      }
      return undefined;
    }
  },

  author: {
    deps: ['authors'],
    get: function get(authors) {
      if (authors) {
        var author = authors.get(0);
        var name = author.get('name');
        if (name && name.length > 0) {
          return author;
        }
        return undefined;
      }
    }
  },

  avatarSrc: {
    deps: ['author'],
    get: function get(author) {
      if (author) {
        var avatar = author.get('avatar');
        if (avatar) {
          return avatar.get('src');
        }
      }
      return undefined;
    }
  },

  authors: {
    init: function init(authors) {
      if (authors && authors.length > 0) {
        authors = (0, _immutable.fromJS)(authors);
        return { authors: authors };
      }
      return undefined;
    }
  },

  publisher: {
    init: function init(publisher) {
      if (publisher && (publisher.name && publisher.name.length > 0 || publisher.url && publisher.url.length > 0)) {
        publisher = (0, _immutable.fromJS)(publisher);
        return { publisher: publisher };
      }
      return undefined;
    }
  },

  publisherName: {
    deps: ['publisher'],
    get: function get(publisher) {
      if (publisher) return publisher.get('name');
      return undefined;
    }
  },

  htmlAuthor: {
    deps: ['author'],
    get: function get(author) {
      if (author) {
        var url = author.get('url');
        var name = author.get('name');
        if (url) {
          return '<a href="' + url + '">' + name + '</a>';
        } else {
          return '<span>' + name + '</span>';
        }
      }
      return undefined;
    }
  },

  htmlPublisher: {
    deps: ['publisher'],
    get: function get(publisher) {
      if (publisher) {
        var url = publisher.get('url');
        var domain = publisher.get('domain');
        var name = publisher.get('name');

        if (url) {
          return '<a href="' + url + '">' + name + '</a>';
        } else if (domain) {
          var domainUrl = 'http://' + domain;
          return '<a href="' + domainUrl + '">' + name + '</a>';
        } else {
          return '<span>' + name + '</span>';
        }
      }
      return undefined;
    }
  },

  htmlAttributions: {
    deps: ['htmlAuthor', 'htmlPublisher'],
    get: function get(htmlAuthor, htmlPublisher) {
      if (htmlAuthor && htmlPublisher) {
        return htmlAuthor + ' / ' + htmlPublisher;
      }
      if (htmlAuthor) return htmlAuthor;
      if (htmlPublisher) return htmlPublisher;
      return undefined;
    }
  },

  coverPrefs: {
    init: function init(coverPrefs) {
      coverPrefs = (0, _immutable.fromJS)(coverPrefs);
      return { coverPrefs: coverPrefs };
    }
  },

  geo: {
    init: function init(geo) {
      geo = (0, _immutable.fromJS)(geo);
      return { geo: geo };
    }
  },

  address: {
    init: function init(address) {
      address = (0, _immutable.fromJS)(address);
      return { address: address };
    }
  },

  hasMap: {
    init: function init(hasMap) {
      hasMap = (0, _immutable.fromJS)(hasMap);
      return { hasMap: hasMap };
    }
  }

});

exports.default = MetadataStruct;
module.exports = exports['default'];

/***/ }),
/* 583 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _Struct;

var _immutable = __webpack_require__(6);

var _ = __webpack_require__(62);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SiteConfigStruct = (0, _immutable.Struct)((_Struct = {

  name: undefined,
  title: undefined,
  description: undefined,
  style: undefined,
  favicon: undefined,
  logo: undefined,

  cta: {
    init: function init(cta) {
      cta = (0, _immutable.fromJS)(cta);
      return { cta: cta };
    }
  },

  profiles: {
    init: function init(profiles) {
      if (profiles && profiles.length > 0) {
        profiles = (0, _immutable.fromJS)(profiles);
        return { profiles: profiles };
      }
      return undefined;
    }
  },

  contact_details: {
    init: function init(contact_details) {
      if (contact_details && contact_details.length > 0) {
        contact_details = (0, _immutable.fromJS)(contact_details);
        return { contact_details: contact_details };
      }
      return undefined;
    }
  },

  social_links: {
    init: function init(social_links) {
      if (social_links && (0, _keys2.default)(social_links).length > 0) {
        social_links = (0, _immutable.fromJS)(social_links);
        return { social_links: social_links };
      }
      return undefined;
    }
  },

  secondary_navigation: {
    init: function init(secondary_navigation) {
      if (secondary_navigation && secondary_navigation.length > 0) {
        secondary_navigation = (0, _immutable.fromJS)(secondary_navigation);
        return { secondary_navigation: secondary_navigation };
      }
      return undefined;
    }
  },

  purpose: {
    init: function init(purpose) {
      if (purpose && purpose.length > 0) {
        purpose = (0, _immutable.fromJS)(purpose);
        return { purpose: purpose };
      }
      return { purpose: undefined };
    }
  },

  analytics: {
    init: function init(analytics) {
      analytics = (0, _immutable.fromJS)(analytics);
      return { analytics: analytics };
    }
  },

  image_filters: {
    init: function init(image_filters) {
      image_filters = (0, _immutable.fromJS)(image_filters);
      return { image_filters: image_filters };
    }
  },

  opengraph: {
    init: function init(opengraph) {
      opengraph = (0, _immutable.fromJS)(opengraph);
      return { opengraph: opengraph };
    }
  },

  content_rating: {
    init: function init(content_rating) {
      content_rating = (0, _immutable.fromJS)(content_rating);
      return { content_rating: content_rating };
    }
  },

  collections: {
    init: function init(collections) {
      collections = (0, _immutable.fromJS)(collections);
      return { collections: collections };
    }
  },

  color: {
    init: function init(color) {
      if (color && color.brandColors && color.brandColors.length === 0) {
        color.brandColors = undefined;
      }
      color = (0, _immutable.fromJS)(color);
      return { color: color };
    }
  },

  layout_spectrum: undefined,

  typography_spectrum: undefined,

  site_lang: undefined,

  content: {
    init: function init(content) {
      content = (0, _immutable.fromJS)(content);
      return { content: content };
    }
  },

  author: {
    init: function init(author) {
      author = (0, _immutable.fromJS)(author);
      return { author: author };
    }
  }

}, (0, _defineProperty3.default)(_Struct, 'profiles', {
  init: function init(profiles) {
    profiles = (0, _immutable.fromJS)(profiles);
    return { profiles: profiles };
  }
}), (0, _defineProperty3.default)(_Struct, 'auto_approve', undefined), (0, _defineProperty3.default)(_Struct, 'coverPrefs', {
  init: function init(coverPrefs) {
    coverPrefs = (0, _immutable.fromJS)(coverPrefs);
    return { coverPrefs: coverPrefs };
  }
}), (0, _defineProperty3.default)(_Struct, 'site_media', {
  init: function init(site_media) {
    if (site_media && site_media.length > 0) {
      site_media = (0, _immutable.fromJS)(site_media);
      return { site_media: site_media };
    }
    return undefined;
  }
}), _Struct));

exports.default = SiteConfigStruct;
module.exports = exports['default'];

/***/ }),
/* 584 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getIterator2 = __webpack_require__(40);

var _getIterator3 = _interopRequireDefault(_getIterator2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

var _ = __webpack_require__(62);

var _itemsBuilder = __webpack_require__(581);

var _itemsBuilder2 = _interopRequireDefault(_itemsBuilder);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SiteDataStruct = (0, _immutable.Struct)({
  construct: function construct(siteData) {
    return (0, _assign2.default)({
      _items: siteData.items,
      _config: siteData.config
    }, siteData);
  },


  id: undefined,
  number: undefined,
  ordered: undefined,
  site: undefined,
  paginate: undefined,
  title: undefined,
  navigable: undefined,
  type: undefined,
  siteUrl: undefined,
  siteId: undefined,
  user: undefined,
  dsClassifier: undefined,

  _config: undefined,

  config: {
    deps: ['_config', '_items'],
    get: function get(config, items) {
      if (!config.site_media || config.site_media.length === 0) {
        var siteMediaCovers = [];

        var addHeroCover = function addHeroCover(item) {
          var blocksWCover = item.get('allSBWithCovers');
          for (var i = 0; i < blocksWCover.count(); i++) {
            if (siteMediaCovers.length > 5) return;
            var block = blocksWCover.get(i);
            var cover = block.get('cover');
            if (cover && cover.get('isHeroCover')) {
              siteMediaCovers.unshift(block);
            }
          }
        };

        for (var i = 1; i < items.count(); i++) {
          addHeroCover(items.get(i));
        }

        config.site_media = siteMediaCovers;
      }
      return new _.SiteConfigStruct(config);
    }
  },

  navigation: {
    init: function init(navigation) {
      if (navigation && navigation.length > 0) {
        // transform .name to .title
        for (var i = 0; i < navigation.length; i++) {
          var navItem = navigation[i];
          if (navItem.name) {
            navItem.title = navItem.name;
            delete navItem.name;
          }
          navigation[i] = navItem;
        }

        navigation = (0, _immutable.fromJS)(navigation);
        return { navigation: navigation };
      }
      return undefined;
    }
  },

  links: {
    init: function init(links) {
      if (links && links.length > 0) {
        links = (0, _immutable.fromJS)(links);
        return { links: links };
      }
      return undefined;
    }
  },

  _items: {
    init: function init(_items) {
      var itemStructs = _items.map(function (item) {
        return new _.ItemStruct(item);
      });
      return { _items: (0, _immutable.List)(itemStructs) };
    }
  },

  items: {
    deps: ['_items', 'navigation', 'links', 'config', 'type'],
    get: function get(_items, navigation, links, config, type) {
      var __items = _items.toJS();
      if (type === 'index' || type === 'permalink') {
        var siteHeaderItem = _itemsBuilder2.default.buildCtaItem(config, true);
        if (siteHeaderItem) __items.unshift(siteHeaderItem);
      } else if (__items.length > 8 && config.get('purpose')) {
        var ctaItem = _itemsBuilder2.default.buildCtaItem(config);
        if (ctaItem) __items.unshift(ctaItem);
      }

      if (navigation) __items.unshift(_itemsBuilder2.default.buildNavigation(navigation));

      var rssLink = void 0;
      if (links && links.count() > 0) {
        var nextPageLink = void 0;
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
          for (var _iterator = (0, _getIterator3.default)(links), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var link = _step.value;

            if (link.get('rel') === 'next') {
              nextPageLink = link;
            } else if (link.get('href') === 'rss.xml') {
              rssLink = link;
            }
          }
        } catch (err) {
          _didIteratorError = true;
          _iteratorError = err;
        } finally {
          try {
            if (!_iteratorNormalCompletion && _iterator.return) {
              _iterator.return();
            }
          } finally {
            if (_didIteratorError) {
              throw _iteratorError;
            }
          }
        }

        if (nextPageLink) __items.push(_itemsBuilder2.default.buildNextPage(nextPageLink));
      }

      if (rssLink) __items.push(_itemsBuilder2.default.buildFooter(rssLink));

      var items = __items.map(function (item) {
        return new _.ItemStruct(item);
      });

      return (0, _immutable.List)(items);
    }
  },

  $class: {
    deps: ['number', 'config', 'dsClassifier'],
    get: function get(nbItems, config, dsClassifier) {
      var classes = [];

      if (nbItems === 1) {
        classes.push('site:w-single-item');
      } else {
        classes.push('site:w-multiple-item');
      }

      if (config) {
        var coverPrefs = config.get('coverPrefs');

        if (coverPrefs) {
          if (!coverPrefs.get('filter', true)) classes.push('site:dont-cover-filter');
          if (!coverPrefs.get('crop', true)) classes.push('site:dont-cover-crop');
          if (!coverPrefs.get('overlay', true)) classes.push('site:dont-cover-overlay');
        }

        if (config.get('title') || config.get('description')) {
          classes.push('site:w-header');
        }

        var siteHeaderContent = config.get('content');
        if (siteHeaderContent && siteHeaderContent.size) {
          classes.push('site:w-site-media');
          var containVideo = false;
          siteHeaderContent.forEach(function (media) {
            if (media.get('type') === 'video') containVideo = true;
          });

          if (containVideo) classes.push('site:w-site-media--video');
        }
      }

      var classList = (0, _immutable.List)(classes);
      if (dsClassifier && typeof dsClassifier === 'function') {
        var dsClasses = dsClassifier(this, classList);
        if (dsClasses && dsClasses.length > 0) {
          classList = classList.concat(dsClasses);
        }
      }

      return classList;
    }
  }
});

exports.default = SiteDataStruct;
module.exports = exports['default'];

/***/ }),
/* 585 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _utilClassname = __webpack_require__(145);

var _utilClassname2 = _interopRequireDefault(_utilClassname);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var ActionGroup = function (_React$Component) {
  (0, _inherits3.default)(ActionGroup, _React$Component);

  function ActionGroup() {
    (0, _classCallCheck3.default)(this, ActionGroup);
    return (0, _possibleConstructorReturn3.default)(this, (ActionGroup.__proto__ || (0, _getPrototypeOf2.default)(ActionGroup)).apply(this, arguments));
  }

  (0, _createClass3.default)(ActionGroup, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          className = _props.className,
          style = _props.style,
          children = _props.children;

      this.className = _utilClassname2.default.add(className, 'ActionGroup');
      this.id = id || this._id;
      return createVNode(2, 'div', {
        'id': this.id,
        'className': this.className,
        'style': style
      }, this.renderChildren(), null, 'ActionGroup');
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      return _infernoCompat2.default.Children.toArray(this.props.children).slice();
    }
  }]);
  return ActionGroup;
}(_infernoCompat2.default.Component);

ActionGroup.displayName = 'ActionGroup';
exports.default = (0, _uiDesignable2.default)(ActionGroup, {
  sharedCSS: '\n      .ActionGroup {\n        width: 100%;\n        display: flex;\n        flex-direction: row;\n        align-items: flex-start;\n        justify-content: center;\n      }\n    ',
  style: '\n      :scope {\n        .cta {\n          d -- flex\n          cursor -- pointer\n          pad-t--.75em\n          pad-b--1em\n          pad-l--1.25em\n          pad-r--1.25em\n          mar -- 0 1em\n          box-szg -- content-box\n\n          .icon, .label {\n            mar-l -- .25em\n            mar-r -- .25em\n          }\n        }\n        .cta {\n          txt-sh--n\n          trans-- color .3s, background-color .3s\n\n          & {\n            bg-clr -- chroma-box-pop\n\n            > * {\n              clr -- chroma-box-pop-text\n            }\n          }\n\n          &:nth-child(even) {\n            bg-clr -- chroma-box-pop2\n\n            > * {\n              clr -- chroma-box-pop2-text\n            }\n          }\n\n          &:hover {\n            bg-clr -- chroma-text-pop\n\n            > * {\n              clr -- chroma-box\n            }\n\n          }\n\n          &:focus {\n            otln -- n\n          }\n\n        }\n      }\n    '
});
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 586 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

exports.default = function (_props) {
  // TODO!!!!!!
  var className = _props.className,
      label = _props.label,
      icon = _props.icon,
      props = (0, _objectWithoutProperties3.default)(_props, ['className', 'label', 'icon']);

  className += ' cta';
  var children = [];
  if (icon) children.push(el(_uiIcon2.default, { key: 'icon' }, icon));
  if (label) children.push(el('span', { key: 'label', className: 'label' }, label));
  return el('button', (0, _extends3.default)({}, props, { className: className }), children);
};

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiIcon = __webpack_require__(78);

var _uiIcon2 = _interopRequireDefault(_uiIcon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;

module.exports = exports['default'];

/***/ }),
/* 587 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiMedia = __webpack_require__(144);

var _uiMedia2 = _interopRequireDefault(_uiMedia);

var _uiRibbon = __webpack_require__(71);

var _uiRibbon2 = _interopRequireDefault(_uiRibbon);

var _inferno = __webpack_require__(51);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var w_1of3_min = 72 * 9 / 3;

var w__1of3 = '\n:scope {\n  @? breakpoint.width > ' + w_1of3_min * 3 + ' {\n    min-width -- ' + w_1of3_min + '\n    max-width -- calc(66.6666666666% - 1em)\n    width -- calc(33.33333333% - 1em)\n  }\n  @? breakpoint.width > ' + w_1of3_min * 2 + ' {\n    width -- calc(50% - 1em)\n  }\n  @? {\n    width -- calc(100% - 1em)\n  }\n}\n';

var designverse = {

  'w--1of4': {
    style: '\n      :scope {\n        min-width -- ' + 72 * 9 / 4 + '\n        max-width -- calc(50% - 1em)\n        width -- calc(25% - 1em)\n      }\n    '
  },
  'w--1of3': {
    style: w__1of3
  },
  'w--1of2': {
    style: '\n      :scope {\n        @? breakpoint.width > ' + 72 * 9 / 2 * 2 + ' {\n          min-width -- ' + 72 * 9 / 2 + ' !important\n          max-width -- calc(100% - 1em) !important\n          width -- calc(50% - 1em) !important\n        }\n        @? {\n          width -- calc(100% - 1em) !important\n        }\n\n      }\n    '
  },

  //'typ-group_h--l': {
  //  style: `
  //    :scope {
  //      .typ-group {
  //        min-h -- 9em
  //      }
  //    }

  //  `,
  //},

  'style--silk': {
    style: '\n\n    ' + w__1of3 + '\n\n      :scope {\n        bg -- transparent !important\n        box-sh -- none !important\n\n        .typ-group {\n          min-h -- 9em\n        }\n        .card-title {\n          fnt--d3\n          fnt-sz--txt-l\n          text-align -- center\n          mar -- 1em 2em 1.5em\n        }\n        .card-description {\n          fnt -- txt\n          fnt-sz--txt-s\n          text-align -- center\n          mar -- 0 1em\n          min-h -- 2.5em\n          txt-aln -- center\n        }\n        &:nth-of-type(even) {\n          .card-title {\n            color -- chroma-text-pop\n            o -- .8\n          }\n        }\n        &:nth-of-type(odd) {\n          .card-title {\n            color -- chroma-text-pop2\n            o -- .8\n          }\n        }\n        .card-media {\n          pos -- relative\n          t -- 0\n          l -- 0\n          r -- 0\n          h -- 0\n          w -- 100%\n          pad-b -- 56.25%\n        }\n      }\n    '
  },

  'style--rookie': {
    style: '\n\n      ' + w__1of3 + '\n\n      :scope {\n        bg -- chroma-box\n        box-sh -- m\n        overflow -- hidden\n\n        .card-title {\n          fnt--d3\n          fnt-sz--txt\n          text-align -- center\n          mar -- 1em 2em .5em\n        }\n        .card-description {\n          fnt -- txt\n          fnt-sz--txt-xs\n          text-align -- center\n          mar -- 0 3em\n          h -- 6em\n          overflow-y -- hidden\n        }\n\n        .card-logo {\n          pos -- absolute\n          t -- calc((56.25%/2) - 2em) /* center-y == parent\'s 16/9 division */\n          l -- calc(50% - 4em)\n        }\n        .card-avatar {\n          pos -- absolute\n          t -- calc((56.25%/2) - 2em) /* center-y == parent\'s 16/9 division */\n          l -- calc(50% - 2em)\n          border-rad -- 50%\n        }\n\n        .card-text-group {\n          h -- 7em\n        }\n        .card-media {\n          pos -- relative\n          t -- 0\n          l -- 0\n          r -- 0\n          h -- 0\n          w -- 100%\n          pad-b -- 56.25%\n        }\n      }\n    '
  },

  'style--descript': {
    style: '\n\n      ' + w__1of3 + '\n\n      :scope {\n        bg -- chroma-box\n        box-sh -- m\n        overflow -- hidden\n\n        .card-title {\n          fnt--d3\n          fnt-sz--txt-s\n          text-align -- center\n          mar -- 1em 2em .5em\n        }\n        .card-description {\n          order -- -1\n          fnt -- txt\n          fnt-sz--txt\n          text-align -- center\n          min-h -- 6em\n          overflow-y -- hidden\n\n          color -- chroma-text2\n        }\n\n        .card-logo, .card-avatar {\n          order -- -2\n          mar-t -- -3.5em\n          mar-b -- 1em\n          mar-l -- auto\n          mar-r -- auto\n          h -- 3em\n        }\n\n        //.card-logo {\n        //  //pos -- absolute\n        //  //t -- calc((56.25%/2) - 2em) /* center-y == parent\'s 16/9 division */\n        //  //l -- calc(50% - 4em)\n        //}\n        //.card-avatar {\n        //  pos -- absolute\n        //  t -- calc((56.25%/2) - 2em) /* center-y == parent\'s 16/9 division */\n        //  l -- calc(50% - 2em)\n        //  border-rad -- 50%\n        //}\n\n        .card-text-group {\n          pos -- r\n          z-index -- 1\n          pad -- 3em-txt-s 3em-txt-s\n          min-h -- 10em\n          d--flex\n          flx-dir -- col\n        }\n        .card-media {\n          pos -- relative\n          t -- 0\n          l -- 0\n          r -- 0\n          h -- 0\n          w -- 100%\n          pad-b -- 56.25%\n        }\n      }\n    '
  },

  'style--quotable-row': {
    style: '\n\n    :scope {\n      w -- 100%\n\n      .card-content {\n        pos -- r\n        d -- flex\n        flx-dir -- row\n\n        .card-media {\n          w -- 66.666666666666%\n          t -- 0\n          l -- 0\n          r -- 0\n          h -- 100%\n        }\n        .card-logo, .card-avatar {\n          order -- -2\n          mar-l -- auto\n          mar-r -- auto\n          mar-b -- 1em\n          h -- 3em\n        }\n        .card-text-group {\n          w -- 33.333333333333%\n\n          @breakpoint < media-m {\n            w -- 100%\n          }\n\n          mar -- 2em\n          pad -- 3em-txt-s 3em-txt-s\n\n          d--flex\n          flx-dir -- col\n          pos -- r\n          > * {\n            z-index -- 1\n          }\n\n          &:before {\n            z-index -- 0\n            content -- \'\'\n            pos -- a\n            t -- 0\n            r -- 0\n            l -- 0\n            b -- 0\n            bg -- chroma-box\n            o -- .9\n          }\n        }\n      }\n    }\n\n      :scope {\n        bg -- chroma-box\n        box-sh -- m\n        overflow -- hidden\n\n        .card-title {\n          fnt--d3\n          fnt-sz--txt-s\n          text-align -- center\n          mar -- 1em 2em .5em\n        }\n        .card-description {\n          order -- -1\n          fnt -- txt\n          fnt-sz--txt-l\n          text-align -- center\n          overflow-y -- hidden\n\n          color -- chroma-text\n        }\n\n\n        .card-avatar {\n          border-rad -- 50%\n        }\n        .card-text-group {\n          min-h -- 7em\n        }\n        .card-media {\n\n        }\n      }\n  '
  }
};

var sharedCSS = '\n  .card {\n    flex-grow: 0;\n    margin: 1em auto;\n    position: relative;\n  }\n  .card-content {\n    top: 0; bottom: 0; left: 0; right: 0;\n  }\n  .card-logo {\n    width: 8em;\n    height: 4em;\n    background-color: transparent !important;\n  }\n  .card-avatar {\n    width: 4em;\n    height: 4em;\n    border-radius: 50%;\n  }\n';

function handleClick(that, event) {
  window.open(that.props['url'], '_blank');
}

var createVNode = Inferno.createVNode;

var Card = function (_React$Component) {
  (0, _inherits3.default)(Card, _React$Component);

  function Card() {
    (0, _classCallCheck3.default)(this, Card);
    return (0, _possibleConstructorReturn3.default)(this, (Card.__proto__ || (0, _getPrototypeOf2.default)(Card)).apply(this, arguments));
  }

  (0, _createClass3.default)(Card, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          className = _props.className,
          style = _props.style;

      this.id = id || this._id;
      this.className = className ? className : '';
      this.className += ' card motion-hoverable box inset';
      return createVNode(2, 'div', {
        'id': this.id,
        'className': this.className,
        'style': style
      }, this.renderChildren(), {
        'onClick': (0, _inferno.linkEvent)(this, handleClick)
      }, 'Card');
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      return [this.renderContent()];
    }
  }, {
    key: 'renderContent',
    value: function renderContent() {
      return createVNode(2, 'div', {
        'className': 'card-content'
      }, [renderMedia(this.props), renderTextGroup(this.props), renderRibbon(this.props)], null, 'content');
    }
  }]);
  return Card;
}(_infernoCompat2.default.Component);

Card.displayName = 'Card';


function renderMedia(_ref) {
  var videoSrc = _ref.videoSrc,
      imageSrc = _ref.imageSrc;

  if (!videoSrc && !imageSrc) return null;
  return createVNode(16, _uiMedia2.default, {
    'className': 'card-media',
    'imageSrc': imageSrc,
    'videoSrc': videoSrc
  }, null, null, 'media');
}
function renderAvatar(_ref2) {
  var avatarSrc = _ref2.avatarSrc,
      logoSrc = _ref2.logoSrc;

  var src = avatarSrc;
  var className = 'card-avatar graphic-box';
  var backgroundSize = 'cover';
  if (!src) {
    src = logoSrc;
    className = 'card-logo';
    backgroundSize = 'contain';
  }
  if (!src) return null;
  return createVNode(2, 'div', {
    'className': className + " graphic inset",
    'style': {
      backgroundImage: 'url(' + src + ')',
      backgroundSize: backgroundSize,
      backgroundRepeat: 'no-repeat',
      backgroundPosition: '50% 50%'
    }
  }, null, null, 'avatar');
}
function renderTextGroup(props) {
  var title = props.title,
      description = props.description;

  var avatar = renderAvatar(props);
  var textChildren = [];
  if (avatar) {
    textChildren.push(avatar);
  }
  if (title) {
    textChildren.push(createVNode(2, 'h2', {
      'className': 'card-title typ-title'
    }, title, null, 'title'));
  }
  if (description) {
    textChildren.push(createVNode(2, 'p', {
      'className': 'card-description typ-desc'
    }, description, null, 'description'));
  }
  if (textChildren.length) {
    return createVNode(2, 'div', {
      'className': 'card-text-group typ-group'
    }, textChildren, null, 'text-group');
  }
  return null;
}

function renderRibbon(_ref3) {
  var ribbon = _ref3.ribbon;

  if (!ribbon) return null;
  return createVNode(16, _uiRibbon2.default, {
    children: ribbon
  }, null, null, 'ribbon');
}

Card = (0, _uiDesignable2.default)(Card, {
  designverse: designverse,
  sharedCSS: sharedCSS
});

exports.default = Card;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 588 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Component = undefined;

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

if (!G) var G = { debug: false };

var count = 0;

var maxRecursions = 2;

// let globalIgnoredDiffPaths = ['props.routes', 'props.location', 'props.route', 'props.children', 'props.perf']
var globalIgnoredDiffPaths = ['props.routes', 'props.route', 'props.children', 'props.perf', 'props.debug'];
// let globalIgnoredDiffPaths = []

var setStateHmmmm = function setStateHmmmm(partialState, callback) {
  this.updater.enqueueSetState(this, partialState);
  if (callback) {
    this.updater.enqueueCallback(this, callback, 'setState');
  }
};

var Component = function (_React$Component) {
  (0, _inherits3.default)(Component, _React$Component);

  function Component() {
    var _ref;

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    (0, _classCallCheck3.default)(this, Component);

    // id selector helpers
    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Component.__proto__ || (0, _getPrototypeOf2.default)(Component)).call.apply(_ref, [this].concat(args)));

    _this._instanceCount = count;
    count++;

    var prefix = _this.constructor.displayName;
    if (!prefix) prefix = 'Component';
    prefix += '-';

    _this.id = prefix + _this._instanceCount;
    _this.getId = function (postfix) {
      var id = _this.props.id || _this.id;
      if (postfix) return id + '-' + postfix;
      return id;
    };
    // if (!this.$) {
    //   this.$ = (postfix) => {
    //      return '#' + this.getId(postfix)
    //    }
    // }
    _this.sel = function (postfix) {
      return '#' + _this.getId(postfix);
    };

    // debugging
    _this.debug = false;

    _this._log = function () {
      var _console;

      for (var _len2 = arguments.length, messages = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        messages[_key2] = arguments[_key2];
      }

      var name = _this.constructor.displayName || _this.constructor.name;
      messages = ['DEBUG #' + (_this._instanceCount - 1) + '/' + count + ' x' + _this.renderCount + ' ' + name].concat(messages);
      if (messages[messages.length - 1].css) {
        messages = ['%c %s', messages.pop().css].concat(messages);
      }
      messages.push({ id: _this.id });
      /*eslint-disable */
      (_console = console).log.apply(_console, (0, _toConsumableArray3.default)(messages));
      /*eslint-enable */
    };
    _this._warn = function () {
      var _console2;

      for (var _len3 = arguments.length, messages = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        messages[_key3] = arguments[_key3];
      }

      /*eslint-disable */
      (_console2 = console).warn.apply(_console2, (0, _toConsumableArray3.default)(['DEBUG ' + _this.constructor.name + ' ::'].concat(messages)));
      /*eslint-enable */
    };

    _this.perfLog = function () {
      for (var _len4 = arguments.length, messages = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        messages[_key4] = arguments[_key4];
      }

      // messages.push({props, nextProps, state:this.state, nextState})
      messages.push({ css: 'background: hsl(0,50%,50%); color: hsl(0,00%,100%)' });
      messages = ['shouldComponentUpdate()'].concat(messages);
      _this._log.apply(_this, (0, _toConsumableArray3.default)(messages));
    };

    // setTimeout(()=>{
    //  this._log('INIT')
    // },1)

    // perf ignore diffPaths
    // this.perfIgnoredPaths = ['props...']


    // perf flags

    _this.FORCE_UPDATE = false;
    _this.perfCheckState = false;
    _this.perfCheckFunctions = false;
    _this.perfIgnorePropChanges = false;

    // wrap setState

    var setState = _this.setState;
    _this.setState = function () {
      for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        args[_key5] = arguments[_key5];
      }

      // if not checking state, force rerender on setState
      if (!_this.perfCheckState) {
        _this.FORCE_UPDATE = true;
        return setState.apply(_this, args);
      }

      var newState = args[0];

      var oldState = _this.state;
      var keys = (0, _keys2.default)(newState);

      var log = undefined;
      if (_this.debug || G.debug) {
        log = _this.perfLog;
      }

      // check if new (differing) state is actually set
      for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        var newVal = newState[key];
        var oldVal = oldState[key];
        var stateValsDoDiffer = _this.doDiffer(newVal, oldVal, 0, 'state.' + key, log);
        if (stateValsDoDiffer) {
          if (log) _this._log('FORCE_UPDATE: setState {' + key + '} VALS DO DIFFER **/');
          _this.FORCE_UPDATE = true;
          return setStateHmmmm.apply(_this, args);
        }
      }

      // if stateVals do not differ, do nothing :)
      return;
    };

    // let componentWillMount = this.componentWillMount
    // this.componentWillMount = (...args) => {
    //  this.FORCE_UPDATE = false
    //  return componentWillMount.apply(this,args)
    // }
    // let componentWillReceiveProps = this.componentWillReceiveProps
    // this.componentWillReceiveProps = (...args) => {
    //  this.FORCE_UPDATE = false
    //  return componentWillReceiveProps.apply(this,args)
    // }


    // perf - renderCount
    _this.renderCount = 0;
    var render = _this.render;
    _this.render = function () {
      for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
      }

      _this.FORCE_UPDATE = false;
      _this.renderCount++;
      return render.apply(_this, args);
    };
    return _this;
  }

  (0, _createClass3.default)(Component, [{
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }, {
    key: 'elProps',
    value: function elProps() {
      var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

      if (obj.id) throw new Error('elProps({id}), id is already provided automatically in ' + this);
      var rootProps = (0, _assign2.default)({ id: this.getId() }, obj);
      var className = obj.className || '';
      className += ' ';
      className += this.props.className || '';
      var style = (0, _assign2.default)({}, obj.style, this.props.style);
      if (className !== ' ') rootProps.className = className;
      if ((0, _keys2.default)(style).length !== 0) rootProps.style = style;

      if (this.props.onClick) {
        if (rootProps.onClick) throw new Error(this.constructor.name + '::elProps() onClick is being passed down through props!');
        rootProps.onClick = this.props.onClick;
      }
      return rootProps;
    }
  }, {
    key: 'doDiffer',
    value: function doDiffer(prev, next) {
      var recursions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
      var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';
      var log = arguments[4];


      if (recursions > maxRecursions) {
        if (log) log('!IMMUTABLE & RECURSIONS > ' + maxRecursions, { path: path });
        return false;
      }

      if (this.constructor.perfProps && path.indexOf('props.') === 0) {
        if (!this.constructor.perfProps.includes(path.split('.')[1])) {
          if (log) log('IGNORED: NOT IN constructor.perfProps', { path: path, prev: prev, next: next });
          return false;
        }
        // else check if it differs!
      } else if (globalIgnoredDiffPaths.includes(path)) {
        if (log) log('IGNORED', { path: path, prev: prev, next: next });
        return false;
      }

      if (this.perfIgnoredPaths) {
        if (this.perfIgnoredPaths.includes(path)) return false;
      }

      var nextType = typeof next === 'undefined' ? 'undefined' : (0, _typeof3.default)(next);
      if (next === null || next === undefined) nextType = 'falsy';
      var prevType = typeof prev === 'undefined' ? 'undefined' : (0, _typeof3.default)(prev);
      if (prev === null || prev === undefined) prevType = 'falsy';
      if (nextType !== prevType) {
        if (log) log('TYPES !==', { path: path, prevType: prevType, nextType: nextType });
        return true;
      }

      if (prevType === 'falsy' || nextType === 'falsy') {
        if (prev === next) {
          return false;
        }
        if (log) log('null !==', { path: path, prev: prev, next: next });
        return true;
      }

      // check immutables
      else if (next.equals && next.toJS) {
          if (!next.equals(prev)) {
            if (log) {
              log('IMMUTABLES !equals', { path: path, prev: prev.toJS(), next: next.toJS() });
              log('IMMUTABLES !equals, INSPECTING JS OBJ NOW....', { path: path, prev: prev.toJS(), next: next.toJS() });
              this.doDiffer(prev.toJS(), next.toJS(), recursions + 1, path, log);
            }
            return true;
          }
          return false;
        } else if (nextType === 'function') {
          if (!this.perfCheckFunctions || next === prev) {
            return false;
          }
          if (log) log('FUNCs !==', { path: path });
          return true;
        } else if (nextType === 'number' || nextType === 'string' || nextType === 'boolean') {
          if (next === prev) {
            return false;
          }
          if (log) log('Num/String/Boolean !==', { path: path, prev: prev, next: next });
          return true;
        } else if (next instanceof Array) {
          if (next.length !== prev.length) {
            if (log) log('Array lengths !==', { path: path });
            return true;
          }
          var a = 0;
          while (a < next.length) {
            var doDiffer = this.doDiffer(prev[a], next[a], recursions + 1, path + '[' + a + ']', log);
            if (doDiffer) return true;
            a++;
          }
          // console.log('shouldComponentUpdate: ?? Array', prev, next)
        } else if (nextType === 'object') {

          var nextKeys = (0, _keys2.default)(next);
          var nextKeysString = nextKeys.join(',');
          var prevKeys = (0, _keys2.default)(prev);
          var prevKeysString = prevKeys.join(',');

          if (nextKeysString !== prevKeysString) {
            if (log) log('Object.keys !==', { path: path, prevKeysString: prevKeysString, nextKeysString: nextKeysString });
            return true;
          }

          if (nextKeys.length === 0 && prevKeys.length == 0) {
            return false;
          }

          var k = 0;
          while (k < nextKeys.length) {
            var key = nextKeys[k];
            k++;

            var valsDoDiffer = this.doDiffer(prev[key], next[key], recursions + 1, path + '.' + key, log);
            if (valsDoDiffer) return true;
          }
          // if (log) log('?? Object', {key, path}, prev, next)
        } else {
          if (log) log('shouldComponentUpdate: ???????', { path: path, prev: prev, next: next, prevType: prevType, nextType: nextType });
        }

      return false;
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {

      var FORCE_UPDATE = this.FORCE_UPDATE;
      this.FORCE_UPDATE = false;

      if (this.props.perf === false || this.perf === false) return true;

      var props = this.props;
      var log = undefined;
      if (this.debug || G.debug) log = this.perfLog;
      // this._log(this.props,nextProps)


      // component is forced updated

      if (FORCE_UPDATE) {
        if (log) {
          this._log('this.FORCE_UPDATE from state change, INPSECTING STATE ANYWAY....', { state: this.state, nextState: nextState });
          // let debugCheckStatesDoDiffer = this.doDiffer(this.state, nextState, 0, 'state', log)
          // if (!debugCheckStatesDoDiffer) log('this.perfCheckState=false STATE === NEXTSTATE', {state: this.state, nextState})
        }
        return true;
      }

      // check if next props differ

      var propsDoDiffer = false;
      if (!this.perfIgnorePropChanges) propsDoDiffer = this.doDiffer(props, nextProps, 0, 'props', log);
      if (propsDoDiffer) {
        // if (log) this._log('shouldComponentUpdate: PROPS DIFFER')
        return true;
      }

      // if (!this.perfCheckState) return false
      // let statesDoDiffer = this.doDiffer(this.state, nextState, 0, 'state', log)
      // if (statesDoDiffer) {
      //  //if (log) this._log('shouldComponentUpdate: STATES DIFFER **/')
      //  return true
      // }


      if (log) this._log('shouldComponentUpdate()', { css: 'background: hsl(90,50%,50%); color: hsl(0,00%,100%)' });

      // do not update

      return false;
    }
  }]);
  return Component;
}(_infernoCompat2.default.Component);

exports.default = Component;
exports.Component = Component;

/***/ }),
/* 589 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(49);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * TODO:
 * - options param? {cache:..}
 * - or, use lowest cache val of deps???
 */

// import {cloneComponentProps} from 'lib/cloneComponentProps'
var createVNode = Inferno.createVNode;
var connectState = function connectState(Component, deps, callback, o) {
  var method = o && o.method ? o.method : 'setState';

  // Unpack deps
  var storeNames = [];
  var depStructSchema = {};
  // let storeDepMap = {}

  /**
   * loop through our dependencies
   * get the store name out
   *
   * map to an object to use in a struct
   *
   * @example
   * app.propertyName
   * storeName = app
   */
  deps.forEach(function (depPath) {
    var firstDotIndex = depPath.indexOf('.');
    var hasDot = firstDotIndex === -1;
    var storeName = hasDot ? depPath : depPath.substr(0, firstDotIndex);

    if (!storeNames.includes(storeName)) {
      storeNames.push(storeName);
      depStructSchema[storeName] = undefined;
    }

    // if (!storeDepMap[storeName]) storeDepMap[storeName] = []
    // let storePath = (hasDot)
    //   ? depPath.substr( firstDotIndex + 1, depPath.length )
    //   : '*'
    // storeDepMap[storeName].push( storePath )
  });

  var needsDebounce = storeNames.length > 1;

  // Finalize dynamically generated Struct
  var getKey = 0;

  depStructSchema['stateValues'] = {
    deps: deps,
    get: function get() {
      getKey++;
      var stateValues = callback.apply(undefined, arguments);
      return { stateValues: stateValues, getKey: getKey };
    }
  };
  var DepStruct = (0, _immutable.Struct)(depStructSchema);
  var initialDepStruct = new DepStruct({});

  // Extend passsed Component
  if (Component._hasContextualConnectedState) throw new Error('contextual.connectState can only be applied once to a component');

  // TODO: allow multiple connects? hmm...

  var Connected = function (_Component) {
    (0, _inherits3.default)(Connected, _Component);

    function Connected() {
      var _ref;

      (0, _classCallCheck3.default)(this, Connected);

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Connected.__proto__ || (0, _getPrototypeOf2.default)(Connected)).call.apply(_ref, [this].concat(args)));

      _this._depStruct = initialDepStruct;
      _this._lastDepGetKey = 0;
      _this._depStruct_toMerge = undefined;

      if (!_this.state) _this.state = {};

      _this._setContextState = function (name, state) {
        if (!_this._depStruct_toMerge) _this._depStruct_toMerge = {};
        _this._depStruct_toMerge[name] = state;
        return _this._commitContextStates();

        // if (!needsDebounce) return this._commitContextStates()
        //
        // raf.cancel(this._commitContextStates)
        // return raf(this._commitContextStates)

        // return this._commitContextStatesDebounced()
      };

      _this._commitContextStates = function () {
        var nextDepStruct = _this._depStruct.merge(_this._depStruct_toMerge);

        _this._depStruct_toMerge = undefined;

        var _nextDepStruct$get = nextDepStruct.get('stateValues'),
            stateValues = _nextDepStruct$get.stateValues,
            getKey = _nextDepStruct$get.getKey;

        if (getKey === _this._lastDepGetKey) return;

        // TODO
        // let shouldSetState = false
        // for (let key in stateValues) {
        //  let val = stateValues[key]
        //  ...
        // }

        _this._lastDepGetKey = getKey;
        _this._depStruct = nextDepStruct;

        if (stateValues === undefined) throw new Error('connectState cannot return undefined, if you dont want to updateState then return null');
        if (stateValues === null) return;
        _this[method](stateValues);
      };

      // TODO DEFER?
      // this._commitContextStatesDebounced = debounce( this._commitContextStates, 16 )
      // this._commitContextStatesDebounced = this._commitContextStates

      _this._handleConnectedStore = function (store) {
        var storeName = store.name;
        var storeState = store.state;

        var currentStoreState = _this._depStruct.get(storeName);
        if (storeState === currentStoreState) return;
        if (currentStoreState && storeState.equals(currentStoreState)) return;

        _this._setContextState(storeName, storeState);
      };
      return _this;
    }

    (0, _createClass3.default)(Connected, [{
      key: 'componentWillMount',
      value: function componentWillMount() {
        var _this2 = this;

        if ((0, _get3.default)(Connected.prototype.__proto__ || (0, _getPrototypeOf2.default)(Connected.prototype), 'componentWillMount', this)) (0, _get3.default)(Connected.prototype.__proto__ || (0, _getPrototypeOf2.default)(Connected.prototype), 'componentWillMount', this).call(this);

        // if store installed locally
        var request = this.request;
        // else use context.request
        if (!request) request = this.context.request;

        storeNames.forEach(function (storeName) {
          request(storeName, 'connect', _this2._handleConnectedStore);
        });
      }
    }, {
      key: 'render',
      value: function render() {
        if ((0, _get3.default)(Connected.prototype.__proto__ || (0, _getPrototypeOf2.default)(Connected.prototype), 'render', this)) return (0, _get3.default)(Connected.prototype.__proto__ || (0, _getPrototypeOf2.default)(Connected.prototype), 'render', this).call(this);
        if (this.props.children && this.props.children.length > 1) return createVNode(2, 'div', null, this.props.children);
        return this.props.children;
      }
    }, {
      key: 'componentWillUnmount',
      value: function componentWillUnmount() {
        var _this3 = this;

        if ((0, _get3.default)(Connected.prototype.__proto__ || (0, _getPrototypeOf2.default)(Connected.prototype), 'componentWillUnmount', this)) (0, _get3.default)(Connected.prototype.__proto__ || (0, _getPrototypeOf2.default)(Connected.prototype), 'componentWillUnmount', this).call(this);

        // if store installed locally
        var request = this.request;
        // else use context.request
        if (!request) request = this.context.request;

        storeNames.forEach(function (storeName) {
          request(storeName, 'disconnect', _this3._handleConnectedStore);
        });
      }
    }]);
    return Connected;
  }(Component);

  // b/c cross-browser & hot-reload issues


  (0, _deps.cloneComponentProps)(Component, Connected);

  Connected._hasContextualConnectedState = true;

  Connected.displayName = Component.displayName || Component.name || 'ContextualConnected';

  Connected.contextTypes = (0, _extends3.default)({}, Connected.contextTypes, {
    request: _infernoCompat2.default.PropTypes.func,
    __contextual_names__: _infernoCompat2.default.PropTypes.array
  });

  return Connected;
};

exports.default = connectState;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 590 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get5 = __webpack_require__(49);

var _get6 = _interopRequireDefault(_get5);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _store = __webpack_require__(218);

var _store2 = _interopRequireDefault(_store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

/**
 * essentially connects the store to the context
 * and points requests to the right place
 *
 * @TODO:
 * - [ ] add @example
 * - [ ] should not need `__contextual_names__`
 * - [ ] pass in array of stores
 * - [ ] do not require attachment to root context
 *
 * @decorator
 *
 * @param  {string|(Store|Fn)} name of the store - can also be just store
 * @param  {Store|fn} storeCallback
 * @param  {Object}
 * @return null
 */
var enhance = function enhance(ComponentToEnhance, name, installStore, config) {
  /**
   * let defaultConfig = {
   *   setInstallerMethodName: false,
   * }
   * if (!config) config = defaultConfig
   * let setInstallerMethodName = config.setInstallerMethodName
   * let installerMethodName
   * if (!!setInstallerMethodName) installerMethodName = setInstallerMethodName
   * else installerMethodName =  "___install-store-"+name
   */

  if (installStore.isStore === true) {
    var StoreClazz = installStore;
    installStore = function installStore(_ref) {
      var name = _ref.name,
          component = _ref.component;

      return new StoreClazz({ name: name, component: component });
    };
  } else if (typeof installStore !== 'function') {
    var storeConfig = installStore;
    installStore = function installStore(_ref2) {
      var name = _ref2.name,
          component = _ref2.component;
      var state = storeConfig.state,
          actions = storeConfig.actions;

      return new _store2.default({ name: name, actions: actions, state: state });
    };
  }

  // @TODO: @autobind

  var Enhanced = function (_ComponentToEnhance) {
    (0, _inherits3.default)(Enhanced, _ComponentToEnhance);

    function Enhanced() {
      var _ref3;

      (0, _classCallCheck3.default)(this, Enhanced);

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var _this = (0, _possibleConstructorReturn3.default)(this, (_ref3 = Enhanced.__proto__ || (0, _getPrototypeOf2.default)(Enhanced)).call.apply(_ref3, [this].concat(args)));

      count++;
      // this.store = installStore({name, component: this})
      _this.store = undefined;
      _this.stores = undefined;
      _this.request = _this.request.bind(_this);
      return _this;
    }

    (0, _createClass3.default)(Enhanced, [{
      key: 'componentWillMount',
      value: function componentWillMount() {
        var _get2;

        this.__installStoreIfNeeded();

        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }

        if ((0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillMount', this)) (_get2 = (0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillMount', this)).call.apply(_get2, [this].concat(args));
      }
    }, {
      key: 'componentWillUnmount',
      value: function componentWillUnmount() {
        var _get3;

        // if this.store has contextStores obj, {storeName: storeHandler, ...}
        var contextStores = this.store.contextStores;
        if (contextStores) {
          var storeNames = (0, _keys2.default)(contextStores);
          for (var i = 0; i < storeNames.length; i++) {
            var storeName = storeNames[i];
            // TODO support required / optional stores w/ {storeName}!
            var store = this.context.stores[storeName];
            var handler = contextStores[storeName];
            if (store) {
              store.execute('disconnect', handler);
            }
          }
        }

        this._DID_INSTALL_STORE = false;

        if (this.store.recycle) this.store.recycle();

        // remove reference on unmounted component to parent stores
        this.stores = undefined;

        for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
          args[_key3] = arguments[_key3];
        }

        if ((0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillUnmount', this)) (_get3 = (0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'componentWillUnmount', this)).call.apply(_get3, [this].concat(args));
      }
    }, {
      key: 'request',
      value: function request() {
        var _get4;

        for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
          args[_key4] = arguments[_key4];
        }

        if ((0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'request', this)) (_get4 = (0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'request', this)).call.apply(_get4, [this].concat(args));

        var requestedStoreName = args[0];

        // catch request

        if (requestedStoreName === name) return this.store.request.apply(this.store, args.slice(1));

        if (this.context && this.context.__contextual_names__) {
          if (this.context.__contextual_names__.includes(requestedStoreName)) {
            var _context;

            // bubble request
            return (_context = this.context).request.apply(_context, args);
          }
        }
        throw new Error('Contextual: Component not found for request (' + requestedStoreName + ', ' + args[1] + ', ...)');
      }
    }, {
      key: '__installStoreIfNeeded',
      value: function __installStoreIfNeeded() {
        // Setup the new store hierarchy
        if (!this._DID_INSTALL_STORE) {
          this._DID_INSTALL_STORE = true;
          if (this.willInstallStore) this.willInstallStore.call(this);

          this.store = installStore({ name: name, component: this });
          if (this.store.awake) this.store.awake();
          // add installed store to object of stores by storeName, to be sent down through context
          this.stores = (0, _assign2.default)({}, this.context.stores, (0, _defineProperty3.default)({}, name, this.store));
          // if this.store has contextStores obj, {storeName: storeHandler, ...}
          var contextStores = this.store.contextStores;
          if (this.store._handleContextStores) this.store._handleContextStores(this.context.stores);
          if (this.store.handleContextStores) this.store.handleContextStores(this.context.stores);
          if (contextStores) {
            var storeNames = (0, _keys2.default)(contextStores);
            for (var i = 0; i < storeNames.length; i++) {
              var storeName = storeNames[i];
              // TODO: support required / optional stores w/ {storeName}!

              // getting store from `this.context.stores` not `this.stores` to allow binding to parent context stores of same name
              var store = this.context.stores[storeName];
              var handler = contextStores[storeName];
              if (store) {
                store.execute('connect', handler);
              }
            }
          }

          if (this.didInstallStore) this.didInstallStore.call(this, this.store);
        }
      }
    }, {
      key: 'getChildContext',
      value: function getChildContext() {
        this.__installStoreIfNeeded();

        // console.log(ComponentToEnhance.displayName, this.props.id ,'---- getChildContext ',this)

        var superChildContext = (0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'getChildContext', this) ? (0, _get6.default)(Enhanced.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhanced.prototype), 'getChildContext', this).call(this) : {};
        var childContext = (0, _extends3.default)({}, superChildContext);
        var __contextual_names__ = this.context.__contextual_names__;
        if (!__contextual_names__) {
          __contextual_names__ = [name];
        } else if (!__contextual_names__.includes(name)) {
          __contextual_names__ = [name].concat(__contextual_names__);
        }
        childContext.request = this.request;
        childContext.__contextual_names__ = __contextual_names__;
        childContext.stores = this.stores;

        return childContext;
        // this.___childContext__ = childContext
        // return this.___childContext__
        // Setup childContext
      }
    }]);
    return Enhanced;
  }(ComponentToEnhance);

  // b/c cross-browser & hot-reload issues


  (0, _deps.cloneComponentProps)(ComponentToEnhance, Enhanced);

  Enhanced._isContextualEnhanced = true;

  Enhanced.displayName = ComponentToEnhance.displayName || ComponentToEnhance.name || 'ContextualEnhanced';

  Enhanced.contextTypes = (0, _extends3.default)({}, Enhanced.contextTypes, {
    stores: _infernoCompat2.default.PropTypes.object,
    request: _infernoCompat2.default.PropTypes.func,
    __contextual_names__: _infernoCompat2.default.PropTypes.array
  });

  Enhanced.childContextTypes = (0, _extends3.default)({}, Enhanced.childContextTypes, {
    stores: _infernoCompat2.default.PropTypes.object,
    request: _infernoCompat2.default.PropTypes.func,
    __contextual_names__: _infernoCompat2.default.PropTypes.array
  });

  return Enhanced;
};

exports.default = enhance;
module.exports = exports['default'];

/***/ }),
/* 591 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _deps = __webpack_require__(13);

var defaultActions = {

  'connect': function connect(state, handler) {
    var _this = this;

    var isDeferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;

    if (typeof handler !== 'function') throw new Error('Contextual.Store ' + name + ' connect action accepts a funcion not ' + handler);

    var handlers = this.handlers;


    if (!handlers.includes(handler)) {
      handlers.push(handler);

      if (!this._shouldCommit(state)) return state;

      if (isDeferred === undefined) isDeferred = this.deferCommit;

      // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      // console.log('STORE DEFAULT ACTIONS CONNECT TODO??????')
      // call handler if just adding
      if (!isDeferred) {
        handler(this);
      }

      // raf( () => {
      //  handler(this)
      // })
      setTimeout(function () {
        handler(_this);
      }, 1);
    }

    return state;
  },

  'disconnect': function disconnect(state, handler) {
    var handlers = this.handlers;

    var index = handlers.indexOf(handler);

    if (index === -1) throw new Error('Contextual.Store ' + name + ' disconnect action cant find ' + handler + ', you\'re probably returning new instance of function :)');

    handlers.splice(index, 1);

    return state;
  },

  'get-state': function getState(state, callback) {
    callback(state);
    return state;
  },

  'replace-state': function replaceState(state, newState) {
    if (state.equals(newState)) return state;
    return newState;
  },

  'set': function set(state, key, val) {
    var newState = state.set(key, val);
    if (newState.equals(state)) return state;
    return newState;
  },

  'set-in': function setIn(state, keys, val) {
    var newState = state.setIn(keys, val);
    if (newState.equals(state)) return state;
    return newState;
  },

  'merge': function merge(state) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    if (args.length === 1) {
      var mergeable = args[0];
      // check if needed...
      if (mergeable.equals && mergeable.equals(state)) return state;
      return state.merge(mergeable);
    }
    return state.merge.apply(state, args);
  },

  'merge-in': function mergeIn(state) {
    for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      args[_key2 - 1] = arguments[_key2];
    }

    return state.mergeIn.apply(state, args);
  },

  'merge-deep': function mergeDeep(state) {
    if ((arguments.length <= 1 ? 0 : arguments.length - 1) === 1) {
      var mergeable = arguments.length <= 1 ? undefined : arguments[1];
      // check if needed...
      if (mergeable.equals && mergeable.toJS) {
        if (mergeable.equals(state)) return state;
        return state.merge(mergeable);
      }
    }
    throw new Error('Contextual.Store ' + name + ' merge-deep action only accepts one arg of type Immutable');
  }

};

exports.default = defaultActions;
module.exports = exports['default'];

/***/ }),
/* 592 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

var _Device = __webpack_require__(104);

var _Device2 = _interopRequireDefault(_Device);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var DeviceIcons = function (_Component) {
  (0, _inherits3.default)(DeviceIcons, _Component);

  function DeviceIcons() {
    (0, _classCallCheck3.default)(this, DeviceIcons);
    return (0, _possibleConstructorReturn3.default)(this, (DeviceIcons.__proto__ || (0, _getPrototypeOf2.default)(DeviceIcons)).apply(this, arguments));
  }

  (0, _createClass3.default)(DeviceIcons, [{
    key: 'render',
    value: function render() {
      var selectable = this.props.selectable;


      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: "device-icons" })), [createVNode(16, _styleverse.Style, {
        'perf': true,
        children: '\n\n          .device-icons {\n            pos -- a\n            l -- 1goldx\n            r -- 1goldx\n            b -- 0\n            h -- 2goldy\n\n            d -- flx\n            flx-dir -- row\n            flx-jst -- mid\n            flx-aln -- mid\n          }\n          .device-icon {\n            pos -- relative\n            d -- flx\n            flx-dir -- row\n            flx-jst -- mid\n            flx-aln -- mid\n\n            h -- 100%\n\n            fnt-sz -- txt-l\n            clr -- chroma-dark-meta\n            pad-l -- 1.5em\n            pad-r -- 1.5em\n            o--.88\n          }\n          .device-icon:hover {\n            clr -- chroma-dark-text-pop2\n          }\n\n          .device-icon:after {\n            content -- \'\'\n            d --block\n            pos -- absolute\n            h -- 4\n            w -- 100%\n            b -- 0\n          }\n          .device-icon:hover:after {\n            bg-clr -- chroma-dark-text\n          }\n          .device-icon.selected {\n            clr -- chroma-dark-text-pop\n            o--1\n          }\n          .device-icon.selected:after {\n            bg-clr -- chroma-dark-box-pop2\n          }\n\n        '
      }), _Device2.default.types.map(function (item) {
        var type = item;
        var iconText = type === 'ipad' ? 'tablet_mac' : type === 'macbook' ? 'laptop' : type === 'full' ? 'zoom_out_map' : 'phone_iphone';

        var className = selectable.isItemSelected(item) ? 'selected' : '';
        className += ' device-icon';

        return createVNode(2, 'a', {
          'className': className
        }, createVNode(2, 'i', {
          'className': 'material-icons'
        }, iconText), {
          'onClick': selectable.itemToggler(item)
        }, type);
      })]);
    }
  }]);
  return DeviceIcons;
}(_uiComponentDeprecated2.default);

DeviceIcons.displayName = "DeviceIcons";
var PropTypes = _infernoCompat2.default.PropTypes;


DeviceIcons.propTypes = {
  selectable: PropTypes.object.isRequired
};

exports.default = DeviceIcons;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 593 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Icons = __webpack_require__(592);

var _Icons2 = _interopRequireDefault(_Icons);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Icons2.default;
module.exports = exports['default'];

/***/ }),
/* 594 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _Device = __webpack_require__(104);

var _Device2 = _interopRequireDefault(_Device);

var _uiIframe = __webpack_require__(631);

var _uiIframe2 = _interopRequireDefault(_uiIframe);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var DeviceIFrame = function DeviceIFrame(props) {
  var url = props.url,
      DeviceProps = (0, _objectWithoutProperties3.default)(props, ['url']);


  return createVNode(16, _Device2.default, (0, _extends3.default)({}, DeviceProps, {
    children: function children(_ref) {
      var type = _ref.type,
          screenWidth = _ref.screenWidth;

      var pixelWidth = void 0;
      if (type === 'iphone') {
        pixelWidth = 480;
      } else if (type === 'macbook') {
        pixelWidth = 1440;
      } else if (type === 'ipad') {
        pixelWidth = 760;
      } else if (type === 'full') {
        pixelWidth = 2000;
      } else {
        throw new Error("Device.IFrame doesn't recognize type: " + type);
      }
      var percentSize = pixelWidth / screenWidth * 100 + '%';
      var scale = screenWidth / pixelWidth;
      var iframeStyle = {
        transformOrigin: '0% 0%',
        width: percentSize,
        height: percentSize,
        transform: 'scale(' + scale + ')'
      };
      return createVNode(16, _uiIframe2.default, {
        'url': url,
        'iframeStyle': iframeStyle
      });
    }
  }));
};

var PropTypes = _infernoCompat2.default.PropTypes;


DeviceIFrame.propTypes = {
  url: PropTypes.string.isRequired,
  type: PropTypes.string.isRequired
};

exports.default = DeviceIFrame;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 595 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _IFrame = __webpack_require__(594);

var _IFrame2 = _interopRequireDefault(_IFrame);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _IFrame2.default;
module.exports = exports['default'];

/***/ }),
/* 596 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _Device = __webpack_require__(104);

var _Device2 = _interopRequireDefault(_Device);

var _uiSelectableDeprecated = __webpack_require__(668);

var _uiSelectableDeprecated2 = _interopRequireDefault(_uiSelectableDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;


var DeviceSelectable = function DeviceSelectable(props) {

  return createVNode(16, _uiSelectableDeprecated2.default, {
    'multi': false,
    'required': true,
    'items': _Device2.default.typesList,
    children: props.children
  });
};

var PropTypes = _infernoCompat2.default.PropTypes;


DeviceSelectable.propTypes = {
  children: PropTypes.func.isRequired
};

exports.default = DeviceSelectable;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 597 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Selectable = __webpack_require__(596);

var _Selectable2 = _interopRequireDefault(_Selectable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Selectable2.default;
module.exports = exports['default'];

/***/ }),
/* 598 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.renderStyle = exports.computeLayout = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _2 = function _2(val, width) {
  val = Number(val);
  return val * width / 100;
};

var deviceSpecs = {

  full: {
    ratio: 1 / 2,
    screenWidthScaler: 98,
    screenHeightScaler: 100 * 16 / 9 - 6
  },

  macbook: {
    ratio: 100 / 69,
    screenWidthScaler: 95.56,
    screenHeightScaler: 59.55
  },

  ipad: {
    ratio: 100 / 124,
    screenWidthScaler: 86,
    screenHeightScaler: 107
  },

  iphone: {
    ratio: 100 / 205.2,
    screenWidthScaler: 95.56,
    screenHeightScaler: 159.64
  }
};

var computeLayout = function computeLayout(type, width, height) {

  var boundingRatio = width / height;

  var _deviceSpecs$type = deviceSpecs[type],
      ratio = _deviceSpecs$type.ratio,
      screenWidthScaler = _deviceSpecs$type.screenWidthScaler,
      screenHeightScaler = _deviceSpecs$type.screenHeightScaler;

  // if bounds are wider ratio than device's ratio, size by height

  if (boundingRatio > ratio) {
    width = ratio * height;
  }
  // otherwise just size by width
  else {
      height = width / ratio;
    }

  return {
    type: type,
    width: width,
    height: height,
    screenWidth: _2(screenWidthScaler, width),
    screenHeight: _2(screenHeightScaler, width)
  };
};

var createVNode = Inferno.createVNode;
var renderStyle = function renderStyle(component, _ref) {
  var width = _ref.width,
      height = _ref.height,
      screenWidth = _ref.screenWidth,
      screenHeight = _ref.screenHeight,
      type = _ref.type;
  var sel = component.sel;

  //width = 100

  var p = {
    perf: true,
    key: 'styles-for-type--' + type,
    type: type,
    width: width,
    screenWidth: screenWidth,
    screenHeight: screenHeight,
    w: width + 'px',
    h: height + 'px',
    _: function _(val) {
      return _2(val, width) + 'px';
    }

  };

  var deviceStyle = void 0;

  if (type === 'macbook') {
    //if (type) {
    deviceStyle = createVNode(16, _styleverse.Style, (0, _extends3.default)({}, p, {
      children: '\n\n      ' + sel('pca-hold') + ' {\n        pos -- r\n        w -- props.w\n        h -- props.h\n        mar -- 0 props._(12.5)\n      }\n      ' + sel('pca-main') + ' {\n        d -- block\n        pos -- relative\n        w -- props.w\n        h -- props._(64)\n        bdr-t-l-rad -- props._(3)\n        bdr-t-r-rad -- props._(3)\n\n        bg-clr -- chroma-inverse-box\n        bdr -- props._(3) solid chroma-meta\n        box-sh -- inset 0 0 1px black\n      }\n\n      // camera light\n      ' + sel('pca-main') + ':after {\n        content -- \'\'\n        pos -- absolute\n        t -- props._(-1.75)\n        l -- 50%\n        tf -- translate(-50%,0)\n        w -- 3\n        h -- 3\n        bdr-rad -- 100%\n\n        bg-clr -- chroma-selection\n      }\n\n      ' + sel('pca-inner') + ' {\n        pos -- r\n        d -- block\n        ovf -- auto\n        w -- 100%\n        h -- 100%\n\n        box-sh -- 0 0 0 1px chroma-dark-meta\n      }\n      ' + sel('pca-sub') + ' {\n        d -- block\n        txt-aln -- center\n        pos -- relative\n        h -- props._(3)\n        tf -- translateY( props._(-1.375) )\n      }\n\n      // bottom of labtop\n      ' + sel('pca-top') + ' {\n        pos -- absolute\n        b -- 0\n        l -- props._(-9)\n        d -- block\n        w -- props._(118)\n        h -- props._(3)\n        bdr-b-l-rad -- props._(11)\n        bdr-b-r-rad -- props._(11)\n\n        o -- 1\n        z-idx -- 2\n        bdr-t -- solid props._(.333333) white\n        bg-clr -- chroma-meta\n        box-sh -- 0 props._(1.5) props._(2) hsla(0,0%,0%,.3), inset 0 props._(2) props._(3.5) chroma-box\n      }\n\n      // bottom inset thingy\n      ' + sel('pca-bot') + ' {\n        d -- block\n        w -- props._(40)\n        h -- props._(1)\n        pos -- absolute\n        t -- 0\n        l -- 50%\n\n        bdr-rad -- 0 0 props._(45) props._(45)\n        z-idx -- 2\n        tf -- translate(-50%,0)\n\n        bg-clr -- chroma-meta\n        box-sh -- inset 0 props._(.5) props._(2) chroma-line\n        bdr-b -- solid 1px white\n        o -- 1\n      }\n\n\n    '
    }));
  }

  if (type === 'ipad') {
    deviceStyle = createVNode(16, _styleverse.Style, (0, _extends3.default)({}, p, {
      children: '\n\n      ' + sel('pca-hold') + ' {\n        pos -- r\n        w -- props.w\n        h -- props.h\n      }\n      ' + sel('pca-main') + ' {\n        d -- b\n        pos -- r\n        w -- props.w\n        h -- props.h\n\n        bdr-rad -- props._(5)\n        bdr   -- props._(7) solid\n        bdr-b -- props._(10) solid\n\n        bdr-clr -- chroma-box\n        bg-clr -- chroma-meta\n        box-sh -- 0 0 0 props._(.5) white, 0 8px 21px hsla(0,0%,0%,.3), inset 0 0 1px chroma-dark-meta\n      }\n\n      //\n      ' + sel('pca-main') + ':after {\n        content -- \'\'\n        pos -- a\n        t -- props._(-4)\n        l -- 50%\n        tf -- translate(-50%,0)\n        w -- props._(1.1)\n        h -- props._(1.1)\n\n        bdr-rad -- 100%\n\n        bg-clr -- chroma-selection\n      }\n\n      ' + sel('pca-inner') + ' {\n        pos -- r\n        d -- block\n        ovf -- auto\n        w -- 100%\n        h -- 100%\n\n        box-sh -- 0 0 0 1px white\n      }\n      ' + sel('pca-sub') + ' {\n        d -- block\n        txt-aln -- center\n        pos -- absolute\n        h -- 0\n        l -- 0\n        r -- 0\n        b -- 0\n      }\n\n      // home button\n      ' + sel('pca-sub') + ' ' + sel('pca-bot') + ' {\n        d -- block\n        bdr-rad -- 100%\n        w -- props._(6)\n        h -- props._(6)\n        mar -- props._(-2) auto 0 auto\n        bg-clr -- transparent\n        z-idx -- 2\n        tf -- translate(0,-100%)\n\n        box-sh -- 0 0 0 props._(1) chroma-box-pop\n      }\n      ' + sel('pca-hold') + ':hover ' + sel('pca-bot') + ' {\n        box-sh -- 0 0 0 props._(.9) chroma-box-pop\n        bg-clr -- white\n      }\n\n    '
    }));
  }

  if (type === 'full') {
    deviceStyle = createVNode(16, _styleverse.Style, (0, _extends3.default)({}, p, {
      children: '\n\n      ' + sel('pca-hold') + ' {\n        pos -- r\n        w -- props.w\n        h -- props.h\n      }\n      ' + sel('pca-main') + ' {\n        d -- b\n        pos -- r\n        w -- props.w\n        h -- props.h\n\n        bdr-rad -- props._(2)\n        bdr-t   -- props._(4) solid\n        bdr-b -- props._(2) solid\n\n        bdr-clr -- chroma-box\n        bg-clr -- chroma-meta\n        box-sh -- 0 0 0 props._(.5) white, 0 8px 21px hsla(0,0%,0%,.3), inset 0 0 1px chroma-dark-meta\n      }\n\n      // light\n      ' + sel('pca-main') + ':after {\n        content -- \'\'\n        pos -- a\n        t -- props._(-2)\n        l -- props._(2)\n        tf -- translate(0,-50%)\n        w -- props._(1.1)\n        h -- props._(1.1)\n\n        bdr-rad -- 100%\n\n        bg-clr -- chroma-box-pop\n      }\n\n      ' + sel('pca-main') + ':before {\n        content -- \'\'\n        pos -- a\n        t -- props._(-2)\n        l -- props._(5)\n        tf -- translate(0,-50%)\n        w -- props._(1.1)\n        h -- props._(1.1)\n\n        bdr-rad -- 100%\n\n        bg-clr -- chroma-box-pop2\n      }\n\n      ' + sel('pca-inner') + ' {\n        pos -- r\n        d -- block\n        ovf -- auto\n        w -- 100%\n        h -- 100%\n\n        box-sh -- 0 0 0 1px white\n      }\n      ' + sel('pca-sub') + ' {\n        d -- block\n        txt-aln -- center\n        pos -- absolute\n        h -- 0\n        l -- 0\n        r -- 0\n        b -- 0\n      }\n\n      // home button\n      ' + sel('pca-sub') + ' ' + sel('pca-bot') + ' {\n        d -- block\n        bdr-rad -- 100%\n        w -- props._(6)\n        h -- props._(6)\n        mar -- props._(-2) auto 0 auto\n        bg-clr -- transparent\n        z-idx -- 2\n        tf -- translate(0,-100%)\n\n        box-sh -- 0 0 0 props._(1) chroma-box-pop\n\n        o--0\n      }\n      ' + sel('pca-hold') + ':hover ' + sel('pca-bot') + ' {\n        box-sh -- 0 0 0 props._(.9) chroma-box-pop\n        bg-clr -- white\n      }\n\n    '
    }));
  }

  if (type === 'iphone') {
    deviceStyle = createVNode(16, _styleverse.Style, (0, _extends3.default)({}, p, {
      children: '\n\n      ' + sel('pca-hold') + ' {\n        pos -- r\n        w -- props.w\n        h -- props._(205.2)\n      }\n      ' + sel('pca-main') + ' {\n        d -- b\n        pos -- r\n        w -- props.w\n        h -- props._(205.2)\n\n        bdr-rad -- props._(11.3)\n        bdr   -- props._(3) solid\n        bdr-t -- props._(23) solid\n        bdr-b -- props._(23.6) solid\n\n        bdr-clr -- chroma-box\n        bg-clr -- chroma-meta\n        box-sh -- 0 0 0 props._(.5) white, 0 8px 21px hsla(0,0%,0%,.3), inset 0 0 1px chroma-dark-meta\n      }\n\n      // iphone camera hole\n      ' + sel('pca-main') + ':after {\n        content -- \'\'\n        pos -- a\n        t -- props._(-13)\n        l -- 50%\n        tf -- translate(-50%,0)\n        w -- props._(3)\n        h -- props._(3)\n\n        bdr-rad -- 100%\n        tf -- translate( props._(-18) ,0)\n\n        bg-clr -- chroma-selection\n      }\n\n\n      // iphone speaker line\n      ' + sel('pca-main') + ':before {\n        content -- ""\n        pos -- absolute\n        t -- props._(-5)\n        l -- 50%\n        o -- 1\n        w -- props._(20)\n        h -- props._(1)\n        tf -- translate( props._(-9) , props._(-7.5) )\n        bdr-rad -- props._(1)\n\n        bg-clr -- chroma-line\n      }\n      ' + sel('pca-inner') + ' {\n        pos -- r\n        d -- block\n        ovf -- auto\n        w -- 100%\n        h -- 100%\n\n        box-sh -- 0 0 0 1px white\n      }\n      ' + sel('pca-sub') + ' {\n        d -- block\n        txt-aln -- center\n        pos -- absolute\n        h -- 0\n        l -- 0\n        r -- 0\n        b -- 0\n      }\n\n      // home button\n      ' + sel('pca-bot') + ' {\n        d -- block\n        bdr-rad -- 100%\n        w -- props._(14)\n        h -- props._(14)\n        mar -- 0 auto\n        bg-clr -- transparent\n        z-idx -- 2\n        tf -- translate(0, props._(-18.8) )\n\n        box-sh -- 0 0 0 props._(1.1) chroma-box-pop\n      }\n      ' + sel('pca-hold') + ':hover ' + sel('pca-bot') + ' {\n        box-sh -- 0 0 0 props._(1) chroma-box-pop\n        bg-clr -- white\n      }\n\n    '
    }));
  }

  return createVNode(2, 'span', null, [deviceStyle, createVNode(16, _styleverse.Style, {
    'perf': true,
    children: '\n        ' + sel() + ' {\n          pos -- a\n          w -- 100%\n          h -- 100%\n          d -- flx\n          flx-aln -- mid\n          flx-jst -- mid\n        }\n        ' + sel('pca-hold') + ' {\n          trans -- all .3s ease-out\n        }\n        ' + sel('pca-main') + ' {\n          trans -- all .3s ease-out\n        }\n        ' + sel('pca-main') + ':after {\n          trans -- all .3s ease-out\n        }\n        // iphone speaker line\n        ' + sel('pca-main') + ':before {\n          trans -- all .3s ease-out\n        }\n        ' + sel('pca-inner') + ' {\n          trans -- all .3s ease-out\n        }\n        ' + sel('pca-sub') + ' {\n          trans -- all .3s ease-out\n        }\n        // home button\n        ' + sel('pca-sub') + ' ' + sel('pca-bot') + ' {\n          trans -- all .3s ease-out\n        }\n      '
  })]);
};

exports.computeLayout = computeLayout;
exports.renderStyle = renderStyle;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 599 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

exports.default = function (scope) {
  return createVNode(16, _styleverse.Style, {
    'scope': scope,
    children: '\n    :scope {\n      trans -- width .4s cubic-bezier(0.215, 0.61, 0.355, 1), background-color .4s\n      trans-delay -- .1s\n      ovf--hidden\n    }\n    :scope:hover {\n      // TODO!!!!\n      w--10em\n    }\n\n    :scope .action-icon {\n      tf--translate3d(0px,0px,0px)\n      trans-- opacity .33s, transform .33s cubic-bezier(0.215, 0.61, 0.355, 1)\n      trans-delay -- .1s\n    }\n    :scope:hover .action-icon {\n      tf--translate3d(6em,0px,0px)\n      o--0\n    }\n\n    :scope .action-label {\n      pos--a\n      t--0\n      r--0\n      l--0\n      b--0\n\n      tf--translate3d(-6em,0px,0px)\n\n      o--0\n      trans-- opacity 1s, transform .25s cubic-bezier(0.215, 0.61, 0.355, 1)\n      trans-delay -- .1s\n    }\n    :scope:hover .action-label {\n      o--1\n      tf--translate3d(0px,0px,0px)\n    }\n\n'
  }, null, null, 'action-button-pillable-style');
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 600 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

exports.default = function (scope) {
  return createVNode(16, _styleverse.Style, {
    'scope': scope,
    children: '\n  :scope {\n    d--flx\n    flx-aln--mid\n    flx-jst--mid\n    cur -- pointer\n  }\n\n  :scope .action-label {\n    txt-aln--center\n    d--flex\n    flx-jst--mid\n    flx-aln--mid\n    whs--nowrap\n\n    pad-l -- 1.5em\n    pad-r -- 1.5em\n  }\n\n  :scope:not(.pillable).with-icon.with-label {\n    &.layout--h-label-icon {\n      .action-icon {\n        order -- 1\n      }\n      .action-label {\n        pad-r -- 0\n      }\n    }\n    &.layout--h-icon-label {\n      .action-icon {\n        order -- 0\n      }\n      .action-label {\n        pad-l -- 0\n      }\n    }\n  }\n'
  }, null, null, 'default-style');
};

module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 601 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

function ActionLink(props) {
  var id = props.id;
  if (!id) throw new Error('ActionLink requires id');
  var className = props.className || '';
  className += ' action-link';
  var label = props.label,
      onClick = props.onClick,
      attrs = (0, _objectWithoutProperties3.default)(props, ['label', 'onClick']);

  return createVNode(2, 'div', (0, _extends3.default)({
    'id': id,
    'className': className
  }, attrs), label, {
    'onClick': onClick
  });
}
ActionLink.displayName = 'ActionLink';
exports.default = ActionLink;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 602 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var id = 'action-list-static-style';
var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': id,
  'fabSize': 60 + 'px',
  'linkHeight': 90 + 'px',
  children: '\n      #fab {\n        .action-list {\n          pos -- absolute\n          min-w -- props.fabSize\n          t -- 0\n        }\n        .action-link {\n          fnt -- d2\n          fnt-sz -- props.fabSize\n          ln-h -- props.linkHeight\n          h -- props.linkHeight\n          whs -- nw\n          pos -- absolute\n          t -- 0\n          l -- 0\n          tf-origin -- 0% 50%\n          txt-aln -- left\n        }\n      }\n    '
}, null, null, id);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 603 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

// import {fromTo} from '@the-grid/multiverse-ui'

var _defaults = {
  show: true,
  active: false,
  canDeactivate: true,
  icon: '+', // 'live_help',
  activeIcon: 'x',
  pop: 4,
  appButton: undefined,
  overlayProps: (0, _immutable.Map)({ show: true }),
  onClick: undefined,
  actionList: undefined,
  chroma: { type: 'light' },
  'v-position': 'bottom',
  'h-position': 'right',

  // @TODO: req from scroll store?
  // align offset from element
  // should be element, or querySelector first selection
  alignWith: undefined,

  // @TODO: shadowed-goo, @see theme/gooey/svg
  // 'gooey', 'springs'
  theme: 'springs',
  labelAsTip: false,
  loading: false
};

exports.default = {
  _defaults: {
    cache: false,
    get: function get() {
      return _defaults;
    }
  },

  active: { default: _defaults.active },
  show: { default: false },
  canDeactivate: { default: _defaults.canDeactivate },
  chroma: { default: _defaults.chroma },
  icon: { default: _defaults.icon },
  activeIcon: { default: _defaults.activeIcon },
  pop: { default: _defaults.pop },
  overlayProps: { default: _defaults.overlayProps },
  appButton: {
    set: function set(appButton) {
      if (!appButton) return undefined;
      if (!appButton.toJS) appButton = (0, _immutable.fromJS)(appButton);
      return { appButton: appButton.merge({
          isAppButton: true,
          id: 'app-button',
          key: 'app-button'
        }) };
    }
  },
  onClick: undefined,
  _actionList: undefined,
  actionList: {
    deps: ['_actionList', 'appButton'],
    get: function get(_actionList, appButton) {
      if (!appButton) return _actionList;
      if (!_actionList) return _immutable.List.of(appButton);
      return _actionList.push(appButton);
    },
    set: function set(_actionList) {
      return { _actionList: _actionList };
    }
  },
  'v-position': undefined,
  'h-position': undefined,
  theme: undefined,
  labelAsTip: undefined,
  loading: undefined
};

// headerFABProps: {
//  deps: [
//    'defaultFABProps.headerFAB','headerFAB',
//    'headerHeight','navHeight','fabSize','scrollTop','fabX',
//    'currentActivated', 'isScrolling',
//    'viewportWidth', 'viewportHeight',
//  ],
//  get: function (
//    defaultProps, setProps,
//    headerHeight,navHeight,fabSize,scrollTop,fabX,
//    currentActivated,
//    isScrolling, viewportWidth, viewportHeight,
//  ) {
//
//    let active = currentActivated === 'headerFAB'
//    let y
//    let x = fabX
//
//    let computedProps = {
//      active,
//      fabSize,
//      isScrolling, viewportWidth, viewportHeight,
//    }
//    if (active) {
//      computedProps.label = undefined
//      computedProps.icon = 'x'
//    }
//    else if (currentActivated) {
//      computedProps.show = false
//    }
//
//    if (!headerHeight) headerHeight = 0
//    if (headerHeight <= 0) {
//      y = 0
//      computedProps.show = false
//    }
//    else {
//      let headerVizHeight = Math.max( headerHeight - scrollTop, 0 )
//
//      // center in visible pixels of header
//      y = headerVizHeight / 2 - fabSize/2
//
//      // right above bottom header
//      let yMax = headerHeight - fabSize * 1.5 - scrollTop
//
//      if (y > yMax) {
//        y = navHeight - fabSize/2
//        computedProps.chromaType = 'light'
//        computedProps.label = undefined
//      }
//
//      //if ( y + fabSize > headerHeight)
//    }
//
//    return defaultProps.merge(setProps, computedProps, {x, y})
//  }
// },

// mainFAB_styleProps: {
//  deps: [
//    //'headerFABProps.show', 'headerFABProps.y',
//    'mainFAB',
//    'headerHeight','navHeight','fabSize','scrollTop','fabX',
//    'currentActivated', 'isScrolling', 'viewportWidth', 'viewportHeight',
//  ],
//  get: function (
//    //otherShow, otherY,
//    setProps,
//    headerHeight,navHeight,fabSize,scrollTop,fabX,
//    currentActivated, isScrolling, viewportWidth, viewportHeight,
//  ) {
//
//    let active = currentActivated === 'mainFAB'
//    let y
//    let x = fabX
//
//    let computedProps = {
//      active,
//      fabSize,
//      isScrolling, viewportWidth, viewportHeight,
//    }
//    if (active) {
//      computedProps.label = undefined
//      computedProps.icon = 'x'
//    }
//    else if (currentActivated) {
//      computedProps.show = false
//    }
//
//    if (!headerHeight) headerHeight = 0
//    let yMin = navHeight + fabSize/2
//
//    // ensure gap
//    //if (otherShow) yMin = Math.max( yMin, otherY + fabSize * 1.5 )
//
//    let yMax = headerHeight + fabSize
//    y = Math.max(yMin, yMax - fabSize/2 - scrollTop)
//
//    computedProps.y = y
//    computedProps.x = x
//    return defaultProps.merge(setProps).merge(computedProps)
//  }
// },
//
// helpFABProps: {
//  deps: [
//    'mainFABProps.show', 'mainFABProps.y',
//    'helpFAB',
//    'fabSize','fabX','scrollBottom','footerHeight',
//    'currentActivated', 'isScrolling', 'viewportWidth', 'viewportHeight',
//  ],
//  get: function (
//    mainShow, mainY,
//    defaultProps, setProps,
//    fabSize,fabX,scrollBottom,footerHeight,
//    currentActivated, isScrolling, viewportWidth, viewportHeight,
//  ) {
//
//    let active = currentActivated === 'helpFAB'
//    let y
//    let x = fabX
//
//    let computedProps = {
//      active,
//      fabSize,
//      isScrolling, viewportWidth, viewportHeight,
//    }
//    if (active) {
//      computedProps.label = undefined
//      computedProps.icon = 'x'
//    }
//    else if (currentActivated) {
//      computedProps.show = false
//    }
//
//    y = viewportHeight - (fabSize * 1.5)
//
//    if (footerHeight) {
//      // must be above footer
//      if (scrollBottom < footerHeight) {
//        y -= footerHeight - scrollBottom
//      }
//      // if foooter not viz, move up a little for footerFAB
//      else {
//        y -= .5 * fabSize
//      }
//    }
//
//    // must be below mainFAB
//    if (mainShow) {
//      let topEdge = mainY + fabSize * 2
//      if (topEdge > y) {
//        y = topEdge
//      }
//    }
//
//    return defaultProps.merge(setProps, computedProps, {x, y})
//  }
// },

// footerFABProps: {
//  deps: [
//    'helpFABProps.y',
//    'defaultFABProps.footerFAB','footerFAB',
//    'footerHeight','fabSize','fabX',
//    'currentActivated', 'isScrolling', 'viewportWidth', 'viewportHeight',
//
//  ],
//  get: function (
//    helpY,
//    defaultProps, setProps,
//    footerHeight,fabSize,fabX,
//    currentActivated, isScrolling, viewportWidth, viewportHeight,
//  ) {
//
//    let active = currentActivated === 'footerFAB'
//    let y
//    let x = fabX
//
//
//    let computedProps = {
//      active,
//      fabSize,
//      isScrolling, viewportWidth, viewportHeight,
//    }
//    if (active) {
//      computedProps.label = undefined
//      computedProps.icon = 'x'
//    }
//    else if (currentActivated) {
//      computedProps.show = false
//    }
//
//    if (!footerHeight) footerHeight = 0
//    if (footerHeight <= 0) {
//      computedProps.show = false
//    }
//    else {
//      let peakingY = viewportHeight - fabSize * .5
//
//      y = peakingY
//
//      let targetY = helpY + fabSize * 2
//      let targetBottom = targetY + fabSize
//      if ( viewportHeight - targetBottom > footerHeight / 2  ) {
//        y = targetY
//      }
//
//      // ensure gap between
//      if (y - helpY < fabSize * 1.5) y = helpY + fabSize * 1.5
//
//      // remove if not peaking
//      if (y > peakingY) y = viewportHeight
//
//    }
//
//    return defaultProps.merge(setProps, computedProps, {x, y})
//  }
// },

// mainFABLayout: {
//  deps: ['headerFABLayout','headerHeight','navHeight','fabSize','scrollTop','fabX'],
//  get: function (headerFABLayout, headerHeight,navHeight,fabSize,scrollTop,fabX) {
//
//    if (!headerHeight) headerHeight = 0
//
//    let yMin = Math.max(
//        navHeight + fabSize/2,
//        // ensure gap
//        headerFABLayout.y + fabSize * 1.5
//    )
//    let yMax = headerHeight + fabSize
//    let y = Math.max(yMin, yMax - fabSize/2 - scrollTop)
//    let x = fabX
//    return { x, y, canLayout: true }
//  }
// },
//
// helpFABLayout: {
//  deps: 'mainFABLayout,viewportHeight,fabSize,fabX,scrollBottom,footerHeight'.split(','),
//  get: function (mainFABLayout,viewportHeight,fabSize,fabX,scrollBottom,footerHeight) {
//
//
//    if (!footerHeight) footerHeight = 0
//
//    let y = viewportHeight - (fabSize * 1.5)
//
//    // must be above footer
//    if (scrollBottom < footerHeight) {
//      y -= footerHeight - scrollBottom
//    }
//    // if foooter not viz, move up a little for footerFAB
//    else {
//      y -= .5 * fabSize
//    }
//
//    // must be below mainFAB
//    let topEdge = mainFABLayout.y + fabSize * 2
//    if (topEdge > y) {
//      y = topEdge
//    }
//
//
//    return { x, y, canLayout: true }
//  }
// },
//
//
//
// footerFABLayout: {
//  deps:         'viewportHeight,helpFABLayout,footerHeight,fabSize,fabX'.split(','),
//  get: function (viewportHeight,helpFABLayout,footerHeight,fabSize,fabX) {
//
//    let canLayout = true
//    if (!footerHeight) footerHeight = 0
//    if (footerHeight <= 0) canLayout = false
//
//    let y
//
//    let peakingY = viewportHeight - fabSize * .5
//
//    y = peakingY
//
//    let helpY = helpFABLayout.y
//    let targetY = helpY + fabSize * 2
//    let targetBottom = targetY + fabSize
//    if ( viewportHeight - targetBottom > footerHeight / 2  ) {
//      y = targetY
//    }
//
//    // ensure gap between
//    if (y - helpY < fabSize * 1.5) y = helpY + fabSize * 1.5
//
//    // remove if not peaking
//    if (y > peakingY) y = viewportHeight
//
//    let x = fabX
//    return { x, y, canLayout }
//  }
// },

module.exports = exports['default'];

/***/ }),
/* 604 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

var _fabSchema = __webpack_require__(603);

var _fabSchema2 = _interopRequireDefault(_fabSchema);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FABStruct = (0, _immutable.Struct)(_fabSchema2.default, { defaultCache: 1 });
var initialState = new FABStruct({});

var FABStore = function (_Store) {
  (0, _inherits3.default)(FABStore, _Store);

  function FABStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FABStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FABStore.__proto__ || (0, _getPrototypeOf2.default)(FABStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'FAB', _this.state = initialState, _this.deferCommit = true, _this.history = [], _this.actions = {
      'use-prev': function usePrev(state, obj) {
        _this.history.pop();
        var nextState = _this.history[_this.history.length - 1];
        if (obj) nextState = nextState.merge(obj);
        return nextState;
      },
      'update': function update(state, obj) {
        if (!obj) return state;
        // let toMerge = Object.assign({},state.get('_defaults'),obj)
        var nextState = state.merge(state.get('_defaults')).merge(obj);
        if (nextState === state || nextState.equals(state)) return state;
        if (_this.history.length >= 10) _this.history.shift();
        _this.history.push(nextState);
        return nextState;
      },
      'show': function show(state) {
        return state.set('show', true);
      },
      'hide': function hide(state) {
        return state.merge({
          active: false,
          show: false
        });
      },
      'activate-toggle': function activateToggle(state) {
        if (_this.state.get('active')) return _this.actions['deactivate'](state);
        return _this.actions['activate'](state);
      },
      'activate': function activate(state) {
        if (state.get('active')) return state;
        return state.set('active', true);
      },
      'deactivate': function deactivate(state) {
        if (!state.get('active')) return state;
        if (!state.get('canDeactivate')) return state;
        return state.set('active', false);
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(FABStore, [{
    key: 'shouldCommit',

    // scrollStore = undefined
    // viewportStore = undefined
    // handleContextStores({scroll, styleStore, viewport}) {
    //  if (!scroll || !viewport) throw new Error(`FABStore requires context.scroll?${!!scroll} & context.viewport?${!!viewport}`)
    //  this.scrollStore = scroll
    //  this.viewportStore = viewport
    //  this.scrollStore.execute('connect',this.handleScrollStore)
    //  this.viewportStore.execute('connect',this.handleViewportStore)
    // }
    // handleScrollStore = (store) => {
    //  console.log('FABStore handleScrollStore', store.toJS())
    //  this.execute('merge',{
    //    isScrolling: store.get('isScrolling'),
    //    scrollTop: store.get('scrollTop'),
    //  })
    //  //debugger
    // }
    // handleViewportStore = (store) => {
    //  console.log('FABStore handleViewportStore', store.toJS())
    //  this.execute('merge',{
    //    viewportWidth: store.get('viewportWidth'),
    //    viewportHeight: store.get('viewportHeight'),
    //  })
    //  //debugger
    // }
    value: function shouldCommit() {
      return true;
    }
  }, {
    key: 'willMount',
    value: function willMount() {}
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      // this.scrollStore.execute('disconnect',this.handleScrollStore)
      // this.viewportStore.execute('disconnect',this.handleViewportStore)
      this.state = initialState;
      // this.scrollStore = undefined
      // this.viewportStore = undefined
    }
  }]);
  return FABStore;
}(_cymatics.Store);

FABStore.displayName = 'FABStore';
exports.default = FABStore;
module.exports = exports['default'];

/***/ }),
/* 605 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _fabStore = __webpack_require__(604);

var _fabStore2 = _interopRequireDefault(_fabStore);

var _cymatics = __webpack_require__(12);

var _fab = __webpack_require__(221);

var _fab2 = _interopRequireDefault(_fab);

var _gooey = __webpack_require__(142);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var FABContext = function (_React$Component) {
  (0, _inherits3.default)(FABContext, _React$Component);

  function FABContext() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FABContext);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FABContext.__proto__ || (0, _getPrototypeOf2.default)(FABContext)).call.apply(_ref, [this].concat(args))), _this), _this.FAB_renders = undefined, _this._id = 'fab-' + count++, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(FABContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.willMount();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount();
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      var id = this.props.id || this._id;
      return createVNode(34, 'div', {
        'id': id,
        'className': 'fab-context'
      }, [_gooey.gooeySvg, this.props.children, createVNode(16, _fab2.default, {
        'id': id
      }, null, null, id)]);
    }
  }]);
  return FABContext;
}(_infernoCompat2.default.Component);

FABContext.displayName = 'FABContext';

FABContext = (0, _cymatics.installStore)(FABContext, 'FAB', _fabStore2.default);
exports.default = FABContext;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 606 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': 'fab-chroma-style',
  'perfFrame': true,
  children: '\n    #fab {\n\n      ::selection {\n        background -- none !important\n        color -- inherit !important\n      }\n\n      #app-button {\n        background -- transparent !important\n        box-sh -- none !important\n      }\n\n      .action-button {\n        bg-clr -- chroma-box\n        clr -- chroma-text-pop\n        box-sh -- l\n\n        .action-label {\n          clr -- chroma-title2\n        }\n\n        trans -- background-color .5s\n\n        .icon-line, .icon-svg-part {\n          trans -- background-color .5s, fill .5s\n        }\n        .icon-renderer svg polyline {\n          trans -- stroke .5s\n        }\n\n        .icon-line, .icon-svg-part {\n          fill -- chroma-text-pop2\n          bg-clr -- chroma-text-pop2\n        }\n        .icon-renderer svg polyline {\n          stroke -- chroma-text-pop2\n        }\n      }\n      .action-button:hover {\n        bg-clr -- chroma-inverse-box\n        clr -- chroma-inverse-text-pop\n\n        .action-label {\n          clr -- chroma-inverse-text-pop2\n        }\n      }\n      #fab_action-button {\n        bg-clr -- chroma-box-pop\n        clr -- chroma-box-pop-text\n        box-sh -- l\n\n        .icon-line, .icon-svg-part {\n          fill -- chroma-box-pop-text\n          bg-clr -- chroma-box-pop-text\n        }\n        .icon-renderer svg polyline {\n          stroke -- chroma-box-pop-text\n        }\n\n        &:hover {\n          bg-clr -- chroma-box-pop2\n          clr -- chroma-box\n          .icon-line {\n            bg-clr -- chroma-box\n          }\n        }\n      }\n      &.pop-1 #fab_action-button {\n        bg-clr -- chroma-line\n        clr -- chroma-meta\n        box-sh -- m\n\n        .icon-line, .icon-svg-part {\n          fill -- chroma-meta\n          bg-clr -- chroma-meta\n        }\n        .icon-renderer svg polyline {\n          stroke -- meta\n        }\n\n        &:hover {\n          bg-clr -- chroma-inverse-box\n          clr -- chroma-inverse-title\n\n          .icon-line, .icon-svg-part {\n            fill -- chroma-inverse-title\n            bg-clr -- chroma-inverse-title\n          }\n          .icon-renderer svg polyline {\n            stroke -- chroma-inverse-title\n          }\n        }\n      }\n      &.loading #fab_action-button {\n        chroma--loading-bg\n      }\n\n      // active-bg\n      // =======================\n\n      #fab-active-bg {\n        bg-clr -- chroma-box-pop\n      }\n      &.is-active #fab-active-bg {\n        bg-clr -- chroma-bg\n      }\n\n    }\n  '
}, null, null, 'fab-chroma-style');
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 607 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': 'fab-static-style',
  'fabSize': 60 + 'px',
  'fabSizeHalf': 60 / 2 + 'px',
  children: '\n      #fab {\n        o -- 1\n        d -- block\n        min-w -- props.fabSize\n        //h -- props.fabSize\n        pos -- fixed\n        t -- 0\n        l -- 0\n        bf-viz -- hidden\n        z-idx -- 2001\n        box-szg -- border-box\n\n        > * {\n          bf-viz -- hidden\n        }\n\n        // TYPOGRAPHY?\n        fnt--d3\n\n        .action-button {\n          pos -- absolute\n          t -- 0\n          r -- 0\n          tf-origin -- calc(100% - props.fabSizeHalf ) 50%\n          min-w -- props.fabSize\n          h -- props.fabSize\n          bdr-rad -- props.fabSizeHalf\n\n          .action-icon {\n            w -- props.fabSize\n            h -- props.fabSize\n            ln-h -- props.fabSize\n            txt-aln -- center\n          }\n        }\n\n        #fab-active-bg {\n          bf-viz -- hidden\n          pos -- fixed\n          bdr-rad -- 50%\n          t -- 0\n          l -- 0\n          o -- 1\n          tf-origin -- 50% 50%\n          trans -- background-color .3s, opacity .1s\n        }\n\n        #fab-active-bg-mask {\n          bf-viz -- hidden\n          pos -- fixed\n          t -- 0\n          l -- 0\n          ovf -- hidden\n          // box-sh -- inset 0px 1px 4px 0px rgba(0,0,0,0.5)\n        }\n      }\n    '
}, null, null, 'fab-static-style');
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 608 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isInteger = __webpack_require__(779);

var _isInteger2 = _interopRequireDefault(_isInteger);

exports.determineDirection = determineDirection;
exports.calculator = calculator;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bgSize = 512;

function alignWith(_ref) {
  var fab_x = _ref.fab_x,
      fab_y = _ref.fab_y,
      fab_size = _ref.fab_size,
      alignWith = _ref.alignWith;

  // ----------- align with
  // http://stackoverflow.com/questions/442404/retrieve-the-position-x-y-of-an-html-element
  if (alignWith.toJS) alignWith = alignWith.toJS();

  var el;
  if (alignWith.selector) el = document.querySelector(alignWith.selector);else el = alignWith.el;

  // var {top, right, bottom, left, inner: bool} = alignWith
  var rect = el.getBoundingClientRect();

  // right now just hardcoding `right bottom`
  // rect.top, rect.right, rect.bottom, rect.left

  // if (Number.isInteger(alignWith.top)) fab_y = rect.top
  // else if (Number.isInteger(alignWith.bottom)) fab_y = rect.bottom
  // if (Number.isInteger(alignWith.right)) fab_x = rect.right
  // else if (Number.isInteger(alignWith.left)) fab_x = rect.left

  // @TODO: if inner then - fabsize, if !inner + fabSize
  if ((0, _isInteger2.default)(alignWith.top)) fab_y = rect.top - fab_size;else if ((0, _isInteger2.default)(alignWith.bottom)) fab_y = rect.bottom - fab_size;
  if ((0, _isInteger2.default)(alignWith.right)) fab_x = rect.right;else if ((0, _isInteger2.default)(alignWith.left)) fab_x = rect.left;

  return { fab_x: fab_x, fab_y: fab_y, rect: rect, el: el };
}

function determineDirection(state) {
  var active = state.active,
      show = state.show,
      actionsCount = state.actionsCount,
      prevActionsCount = state.prevActionsCount,
      mouseDownIndex = state.mouseDownIndex,
      prevMouseDownIndex = state.prevMouseDownIndex,
      viewportWidth = state.viewportWidth,
      viewportHeight = state.viewportHeight,
      v_position = state.v_position,
      h_position = state.h_position,
      alignWith = state.alignWith,
      fab_x = state.fab_x,
      fab_y = state.fab_y,
      overrideXY = state.overrideXY,
      appButton = state.appButton;


  var fab_size = 60;
  if (!overrideXY) {
    if (h_position === 'right') fab_x = viewportWidth - fab_size - fab_size * .5;else if (h_position === 'left') fab_x = fab_size - fab_size * .5;

    if (v_position === 'bottom') fab_y = viewportHeight - fab_size - fab_size * .5;else if (v_position === 'top')
      // was fab_y = fab_size + fab_size * .5, but that just looks wrong
      fab_y = fab_size - fab_size * .5;
  }

  // set up variables for
  // if we should show actions
  // above or below
  var isInTopY = false;
  var isInRightX = false;
  var halfOfWidth = viewportWidth / 2;
  var halfOfHeight = viewportHeight / 2;
  if (fab_y < halfOfHeight) isInTopY = true;
  if (fab_x > halfOfWidth) isInRightX = true;

  if (alignWith) {
    ;

    var _alignWith = alignWith({ alignWith, fab_x, fab_y });

    fab_x = _alignWith.fab_x;
    fab_y = _alignWith.fab_y;
  }var targetScale = show ? 1 : 0; // this.EL ? 1 : 0
  var bgScaleTarget = 0;
  if (active) {
    var halfBg = bgSize / 2;
    var vpw2 = Math.pow(viewportWidth, 2);
    var vph2 = Math.pow(viewportHeight, 2);
    var sqrtvp = Math.sqrt(vpw2 + vph2);
    bgScaleTarget = sqrtvp / halfBg;
  }

  this.set('isInTopY', fab_size);
  this.set('isInRightX', fab_size);

  this.set('fab_size', fab_size);
  this.set('fab_y', fab_y); // s.fab_y = fabTop //spring(fabTop, {stiffness: 130, damping: 17})
  this.set('fab_x', fab_x);
  this.set('fab_spring', 1);

  if (mouseDownIndex === 0) {
    this.set('fab_scale', targetScale * .8);
    // s.fab_scale = targetScale*.8 //spring( targetScale*.8, {stiffness: 300, damping: 9})
  } else if (prevMouseDownIndex === 0) {
    this.set('fab_scale', targetScale);
    // s.fab_scale = targetScale //spring( targetScale, {stiffness: 300, damping: 9})
  } else {
    this.set('fab_scale', targetScale);
    // s.fab_scale = targetScale //spring( targetScale, {stiffness: 40, damping: 8})
  }

  this.set('fab_active', active);

  return {
    prevActionsCount: prevActionsCount,
    actionsCount: actionsCount,
    appButton: appButton,
    fab_size: fab_size,
    fab_x: fab_x,
    fab_y: fab_y
  };

  // console.debug('FAB-UPDATING', {
  //   ...this.state,
  //   // ...this._state,
  //   ...state,
  //   FABState,
  //   fab_size,
  //   fab_y,
  //   fab_x,
  //   isInTopY,
  //   isInRightX,
  //   fab_spring: 1,
  //   fab_active: active,
  //   bg_scale: bgScaleTarget,
  //   fab_scale: targetScale,
  // })
}

function calculator(state) {
  var active = state.active,
      show = state.show,
      actionsCount = state.actionsCount,
      prevActionsCount = state.prevActionsCount,
      mouseDownIndex = state.mouseDownIndex,
      prevMouseDownIndex = state.prevMouseDownIndex,
      viewportWidth = state.viewportWidth,
      viewportHeight = state.viewportHeight,
      appButton = state.appButton,
      v_position = state.v_position,
      h_position = state.h_position,
      alignWith = state.alignWith,
      overrideXY = state.overrideXY;


  var fab_y, fab_x;
  var fab_size = 60;

  if (!overrideXY) {
    if (h_position === 'right') fab_x = viewportWidth - fab_size - fab_size * .5;else if (h_position === 'left') fab_x = fab_size - fab_size * .5;

    if (v_position === 'bottom') fab_y = viewportHeight - fab_size - fab_size * .5;else if (v_position === 'top')
      // was fab_y = fab_size + fab_size * .5, but that just looks wrong
      fab_y = fab_size - fab_size * .5;
  }

  // if (!show && !hasShown) return null

  // set up variables for
  // if we should show actions
  // above or below
  var isInTopY = false;
  var isInRightX = false;
  var halfOfWidth = viewportWidth / 2;
  var halfOfHeight = viewportHeight / 2;
  if (fab_y < halfOfHeight) isInTopY = true;
  if (fab_x > halfOfWidth) isInRightX = true;

  if (alignWith) {
    ;

    var _alignWith2 = alignWith({ alignWith, fab_x, fab_y });

    fab_x = _alignWith2.fab_x;
    fab_y = _alignWith2.fab_y;
  }var targetScale = show ? 1 : 0; // this.EL ? 1 : 0
  var bgScaleTarget = 0;
  if (active) {
    var halfBg = bgSize / 2;
    var vpw2 = Math.pow(viewportWidth, 2);
    var vph2 = Math.pow(viewportHeight, 2);
    var sqrtvp = Math.sqrt(vpw2 + vph2);
    bgScaleTarget = sqrtvp / halfBg;
  }

  this.set('isInTopY', isInTopY);
  this.set('isInRightX', isInRightX);

  // TODO: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
  // let lastFABBottom = fabParentOffset + fabTop + fabOffset * 3 + fabSize / 2
  // let viewportBottomEdge = viewportHeight + scrollTop
  // if (lastFABBottom + fabGap > viewportBottomEdge) fabOffset = -84


  this.set('fab_size', fab_size);
  this.set('fab_y', fab_y); // s.fab_y = fabTop //spring(fabTop, {stiffness: 130, damping: 17})
  this.set('fab_x', fab_x);
  this.set('fab_spring', 1);

  if (mouseDownIndex === 0) {
    this.set('fab_scale', targetScale * .8);
    // s.fab_scale = targetScale*.8 //spring( targetScale*.8, {stiffness: 300, damping: 9})
  } else if (prevMouseDownIndex === 0) {
    this.set('fab_scale', targetScale);
    // s.fab_scale = targetScale //spring( targetScale, {stiffness: 300, damping: 9})
  } else {
    this.set('fab_scale', targetScale);
    // s.fab_scale = targetScale //spring( targetScale, {stiffness: 40, damping: 8})
  }

  this.set('fab_active', active);

  return {
    prevActionsCount: prevActionsCount,
    actionsCount: actionsCount,
    appButton: appButton,
    fab_size: fab_size,
    fab_x: fab_x,
    fab_y: fab_y,
    isInTopY: isInTopY,
    isInRightX: isInRightX
  };

  // if (!active && this.isDeactiveAndAtRest ) {
  //  this.set('bg_scale', 0)
  //  //springs.set('bg_anim', 1)
  //  //s.bg_scale = 0
  // }
  // else if (!active) {
  //  this.set('bg_scale', 0)
  //  //springs.set('bg_anim', 1)
  //  //s.bg_scale = 0 //spring( 0, {stiffness: 300, damping: 30})
  // }
  // else {
  //  this.set('bg_scale', bgScaleTarget)
  //  //springs.set('bg_anim', 1)
  //  //s.bg_scale = bgScaleTarget //spring(bgScaleTarget, {stiffness: 300, damping: 30})
  // }
}

/***/ }),
/* 609 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
function onClick(that, e) {
  var actionList = that.get('actionList');
  var rootOnClick = that.get('onClick');
  if (rootOnClick) {
    if (rootOnClick(e, that.state.FABState) === false) return;
  }
  if (actionList) {
    // let onClickAction = that.get('activeAction.icon.onClickAction')
    return that.context.request('FAB', 'activate-toggle');
  }
}
function onMouseUp(that) {
  if (!that.state.show || !that.state.mouseDown) return;
  that.prevMouseDownIndex = that.mouseDownIndex;
  that.mouseDownIndex = -1;
  that.setState({ mouseDown: false }, (function noop() { /* noop */ }));
}
function onMouseDown_0(that) {
  if (!that.state.show || that.state.mouseDown) return;
  that.mouseDownIndex = 0;
  that.setState({ mouseDown: true }, (function noop() { /* noop */ }));
}

exports.default = {
  onClick: onClick, onMouseUp: onMouseUp, onMouseDown_0: onMouseDown_0
};
module.exports = exports['default'];

/***/ }),
/* 610 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// .blobs {
//   filter:url('#goo');
//   position:absolute;
//   top:0;
//   left:0;
//   bottom:0;
//   right:0;
// }
// $dist-x:65px;
// ${distY}:65px;
// @keyframes blob-left-top-anim{
//   0%{
//     transform:scale(1.1) translate(0,0);
//   }
//   33%{
//     transform:scale(0.9) translate(-$dist-x,0);
//   }
//   62%{
//     transform:scale(0.7) translate(-$dist-x,-$dist-y);
//
//   }
//   94%{
//     transform:scale(1.1) translate(0,0);
//   }
// }
//
// @keyframes blob-right-top-anim{
//   0%{
//     transform:scale(1.1) translate(0,0);
//   }
//   33%{
//     transform:scale(0.9) translate($dist-x,0);
//   }
//   64%{
//     transform:scale(0.7) translate($dist-x,-$dist-y);
//   }
//   96%{
//     transform:scale(1.1) translate(0,0);
//   }
// }
// @keyframes blob-left-bottom-anim{
//   0%{
//     transform:scale(1.1) translate(0,0);
//   }
//   33%{
//     transform:scale(0.9) translate(-$dist-x,0);
//   }
//   66%{
//     transform:scale(0.7) translate(-$dist-x,$dist-y);
//   }
//   98%{
//     transform:scale(1.1) translate(0,0);
//   }
// }
//
// @keyframes blob-right-bottom-anim{
//   0%{
//     transform:scale(1.1) translate(0,0);
//   }
//   33%{
//     transform:scale(0.9) translate($dist-x,0);
//   }
//   68%{
//     transform:scale(0.7) translate($dist-x,$dist-y);
//   }
//   100%{
//     transform:scale(1.1) translate(0,0);
//   }
// }
// .blob{
//   position:absolute;
//   background:#e97b7a;
//   left:50%;
//   top:50%;
//   width:100px;
//   height:100px;
//   line-height:100px;
//   text-align:center;
//   color:white;
//   font-size:40px;
//   border-radius:100%;
//   margin-top:-50px;
//   margin-left:-50px;
//   animation:blob-left-top-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 4s infinite;
//
//   &:nth-child(2){
//     animation-name:blob-right-top-anim;
//   }
//   &:nth-child(3){
//     animation-name:blob-left-bottom-anim;
//   }
//   &:nth-child(4){
//     animation-name:blob-right-bottom-anim;
//   }
// }


// <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
// import React from 'react'

// var linkSel = `#fab .action-link`
var itemSel = '#fab .action-button';
var listSel = '#fab .action-list';
var triggerSel = '#fab_action-button';
var triggerActiveSel = '.is-active #fab_action-button';
var listActive = '#fab .action-list.active';
var listActiveButton = '#fab .action-list.active .action-button';
var listNotActiveButton = '#fab .action-list:not(.active) .action-button:not(#app-button)';
var listActiveActionButton = '#fab .action-list #app-button';
var groupSel = '#fab';

// @NOTE: cool
//
// @NOTE: can be done with inversed or non inversed item
// function transitionBubble() {
//   var inverseItem = inversed[index]
//   // var transitionDurationOg = (1000 / (inverseItem ? inverseItem : 2) - 1)
//   var transitionDurationOg = (inversed[index] * 300)
//   var transitionDelayOg = (inversed[index] * 100)
//   generatedStyles += `
//     ${itemSel}:nth-child(${item}){
//       transition-duration: ${transitionDurationOg}ms;
//       transition-delay: ${transitionDelayOg}ms;
//     }
//   `
// }

// #fab .action-list *:not(:last-child)
// to force bg color on all but app button

// horizontal
// function gooUp(index, transformPrefixY, itemPositionY) {
//   var keyframes = `
//   @keyframes goo-up-${index}-anim{
//     0%{
//       transform:scale(1.1) translate(0,0);
//     }
//     33%{
//       transform:scale(0.9) translate(-${itemPositionY}px,0);
//     }
//     62%{
//       transform:scale(0.7) translate(-${itemPositionY}px,-20);
//     }
//     94%{
//       transform:scale(1.1) translate(0,0);
//     }
//   }
//   `
//   var anim = `
//     animation:goo-up-${index}-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 4s infinite;
//   `
//
//   return {anim, keyframes}
// }
// function gooUpCatipiller(index, transformPrefixY, itemPositionY) {
//   var percent = 62
//   percent = percent - Math.floor(index * Math.random(0, 5) + index)
//   console.error({percent})
//
//   var keyframes = `
//   @keyframes goo-up-${index}-anim{
//     0%{
//       transform:scale(1.1) translate(0,0);
//     }
//     33%{
//       transform:scale(0.9) translate(0,-${itemPositionY / 2}px);
//     }
//     ${percent}%{
//       transform:scale(0.7) translate(0,-${itemPositionY / 1.1}px);
//     }
//     84%{
//       transform:scale(1.1) translate(0,-${itemPositionY}px);
//     }
//     /*
//     80%{
//       transform:scale(0.8) translate(0,-${itemPositionY}px);
//     }
//     94%{
//       transform:scale(1) translate(0,-${itemPositionY}px);
//     }
//     */
//   }
//   `
//
//   // 94%{
//   //   transform:scale(1.1) translate(0,0);
//   // }
//
//   var anim = `
//     animation:goo-up-${index}-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 3s infinite;
//     animation-delay: ${index * 100}ms;
//   `
//
//   return {anim, keyframes}
// }

// function gooUp(index, transformPrefixY, itemPositionY) {
//   var percent = 62
//   var percent2 = 84
//   percent = percent - Math.floor(index * Math.random(0, 5) + index)
//   percent2 = percent2 + Math.floor(Math.random(0, 10) + index)
//   // console.error({percent})
//
//   var keyframes = `
//   @keyframes goo-up-${index}-anim{
//     0%{
//       transform:scale(1.1) translate(0,0);
//     }
//     33%{
//       transform:scale(0.9) translate(0,-${itemPositionY / 2}px);
//     }
//     ${percent}%{
//       transform:scale(0.7) translate(0,-${itemPositionY / 1.1}px);
//     }
//     ${percent2}%{
//       transform:scale(1.1) translate(0,-${itemPositionY}px);
//     }
//     /*
//     80%{
//       transform:scale(0.8) translate(0,-${itemPositionY}px);
//     }
//     94%{
//       transform:scale(1) translate(0,-${itemPositionY}px);
//     }
//     */
//   }
//   `
//   // animation:goo-up-${index}-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 3s infinite;
//   var anim = `
//     animation:goo-up-${index}-anim ease-in-out 1s infinite;
//     animation-delay: ${index * 100}ms;
//   `
//
//   return {anim, keyframes}
// }

// function gooUpLavaLamp(index, transformPrefixY, itemPositionY) {
//   var percent = 62
//   var percent2 = 84
//   percent = percent - Math.floor(index * Math.random(0, 5) + index)
//   percent2 = percent2 + Math.floor(Math.random(0, 10) + index)
//   // console.error({percent})
//
//   var keyframes = `
//   @keyframes goo-up-${index}-anim{
//     0%{
//       transform:scale(1.1) translate(0,0);
//     }
//     33%{
//       transform:scale(0.9) translate(0,-${itemPositionY / 2}px);
//     }
//     34%{
//       transform:scale(1.1) translate(0,-${itemPositionY / 2}px);
//     }
//     66%{
//       transform:scale(1) translate(0,-${itemPositionY / 1}px);
//     }
//     70%{
//       transform:scale(1.1) translate(0,-${itemPositionY}px);
//     }
//     99%{
//       transform:scale(1) translate(0,-${itemPositionY}px);
//     }
//   }
//   `
//   // animation:goo-up-${index}-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 3s infinite;
//   var anim = `
//     animation:goo-up-${index}-anim ease-in-out 4s infinite;
//     animation-delay: ${index * 100}ms;
//   `
//
//   return {anim, keyframes}
// }
//
// function bubbleGoo(index, transformPrefixY, itemPositionY) {
//   var percent = 62
//   var percent2 = 84
//   percent = percent - Math.floor(index * Math.random(0, 5) + index)
//   percent2 = percent2 + Math.floor(Math.random(0, 10) + index)
//   // console.error({percent})
//
//   var nextToEachOther = index * 70
//   // var nextToEachOther = itemPositionY / 3
//
//   var keyframes = `
//   @keyframes goo-up-${index}-anim{
//     0%{
//       transform:scale(1.1) translate(0,0);
//     }
//     10%{
//       transform:scale(0.9) translate(0,-${nextToEachOther}px);
//     }
//     15%{
//       transform:scale(1.15) translate(0,-${nextToEachOther}px);
//     }
//     25%{
//       transform:scale(1) translate(0,-${nextToEachOther}px);
//     }
//     100%{
//       transform:scale(1) translate(0,-${itemPositionY}px);
//     }
//   }
//   `
//
//   // 100%{
//   //   transform:scale(1) translate(0,-${itemPositionY}px);
//   // }
//   // animation:goo-up-${index}-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 3s infinite;
//   var anim = `
//     animation:goo-up-${index}-anim cubic-bezier(0.72, 0.13, 0, 1.24) 5s infinite;
//     animation-delay: ${index * 100}ms;
//   `
//
//   return {anim, keyframes}
// }

function gooUp(index, transformPrefixY, itemPositionY) {
  var direction = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'forwards';

  var percent = 62;
  var percent2 = 84;
  percent = percent - Math.floor(index * Math.random(0, 5) + index);
  percent2 = percent2 + Math.floor(Math.random(0, 10) + index);
  // console.error({percent})

  var nextToEachOther = index * 70;
  // var nextToEachOther = itemPositionY / 3

  var keyframes = '\n  @keyframes goo-up-' + index + '-anim{\n    0%{\n      transform:scale(1.1) translate(0,0);\n    }\n    30%{\n      transform:scale(0.9) translate(0,-' + nextToEachOther + 'px);\n    }\n\n    100%{\n      transform:scale(1) translate(0,-' + itemPositionY + 'px);\n    }\n  }\n  ';

  // 100%{
  //   transform:scale(1) translate(0,-${itemPositionY}px);
  // }
  // animation:goo-up-${index}-anim cubic-bezier(0.770, 0.000, 0.175, 1.000) 3s infinite;
  var anim = '\n    animation:goo-up-' + index + '-anim cubic-bezier(0.72, 0.13, 0, 1.24) 2s ' + direction + ';\n    animation-delay: ' + index * 10 + 'ms;\n  ';

  return { anim: anim, keyframes: keyframes };
}

function makeAnimations(css) {
  var distX = '65px';
  var distY = '65px';

  css += '\n\n\n\n\n\n\n\n  @keyframes blob-left-top-anim{\n    0%{\n      transform:scale(1.1) translate(0,0);\n    }\n    33%{\n      transform:scale(0.9) translate(-' + distX + ',0);\n    }\n    62%{\n      transform:scale(0.7) translate(-' + distX + ',-' + distY + ');\n\n    }\n    94%{\n      transform:scale(1.1) translate(0,0);\n    }\n  }\n\n  @keyframes blob-right-top-anim{\n    0%{\n      transform:scale(1.1) translate(0,0);\n    }\n    33%{\n      transform:scale(0.9) translate(' + distX + ',0);\n    }\n    64%{\n      transform:scale(0.7) translate(' + distX + ',-' + distY + ');\n    }\n    96%{\n      transform:scale(1.1) translate(0,0);\n    }\n  }\n  @keyframes blob-left-bottom-anim{\n    0%{\n      transform:scale(1.1) translate(0,0);\n    }\n    33%{\n      transform:scale(0.9) translate(-' + distX + ',0);\n    }\n    66%{\n      transform:scale(0.7) translate(-' + distX + ',' + distY + ');\n    }\n    98%{\n      transform:scale(1.1) translate(0,0);\n    }\n  }\n\n  @keyframes blob-right-bottom-anim{\n    0%{\n      transform:scale(1.1) translate(0,0);\n    }\n    33%{\n      transform:scale(0.9) translate(' + distX + ',0);\n    }\n    68%{\n      transform:scale(0.7) translate(' + distX + ',' + distY + ');\n    }\n    100%{\n      transform:scale(1.1) translate(0,0);\n    }\n  }\n  ';
  return css;
}

var generatedStyles = '';
function makeStyles(state) {
  generatedStyles = '';
  var actionsCount = state.actionsCount,
      actions_y_offset = state.actions_y_offset,
      isInTopY = state.isInTopY,
      isInRightX = state.isInRightX;

  console.debug('========= STATE IN MAKE STYLES', (0, _extends3.default)({}, state));

  // generatedStyles = makeAnimations(makeAnimations)

  // vars
  var marginY = 'top';
  var alignItems = 'flex-end';
  var transformPrefixY = '';
  if (!isInTopY) {
    marginY = 'bottom';

    // prefix with `minus`
    transformPrefixY = '-';
  }
  if (!isInRightX) {
    alignItems = 'flex-start';
  }

  // display: none !important;
  // @TODO: remedy, hiding children when they aren't shown
  // width: 0 !important;
  // height: 0 !important;
  // width: auto !important;
  // height: auto !important;
  // overflow: hidden;
  // overflow: visible;

  // @TODO: animate width of with-children better
  // {$listSel} .with-children
  // generatedStyles += `
  //   .action-link-button-children,
  //   .action-link-button-children * {
  //     max-height: 0 !important;
  //     max-width: 0 !important;
  //     opacity: 0;
  //     transition: opacity .1s, max-width .5s, max-height .2s, transform .5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
  //   }
  //   ${listActive} .action-link-button-children.children-shown,
  //   ${listActive} .action-link-button-children.children-shown * {
  //     max-width: 1000px !important;
  //     max-height: 200px !important;
  //     opacity: 1;
  //     transition: opacity .1s, max-width 1s, max-height .5s, transform .5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
  //   }
  //
  //   ${listActive} .with-children {
  //     display: flex;
  //     justify-content: flex-end;
  //   }
  //
  //   ${listActive} .with-children i {
  //     left: calc(50% - 20px) !important;
  //   }
  // `

  // body {
  //   background-color: #673ab7 !important;
  // }

  // vars
  // config
  var count = 0;
  var menuItems = [];
  var actionsMinusActionButton = actionsCount - 1;
  while (actionsCount > count) {
    menuItems.push(++count);
  }

  var goo = '\n    filter: url(\'#goo\');\n  ';

  // if (di.browserIsLowPerf)
  //   goo = ``

  var ball = '\n    border-radius:100%;\n    width:70px;\n    height:70px;\n    line-height: 70px;\n    position:absolute;\n  ';
  // transform:translate3d(0,0,0);
  // transition:transform ease-out 200ms, color .3s, background-color .3s;

  // transition-timing-function:cubic-bezier(0.165, 0.840, 0.440, 1.000);
  // .menu-open:checked ~ .menu-item {
  // generatedStyles += `
  //   ${listActiveButton} {
  //     transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);
  //   }
  // `

  var inversed = menuItems.slice(0);
  inversed.reverse();

  menuItems.forEach(function (item, index) {
    // @NOTE: was 100 * item
    var transitionDuration = 90 + 200 * item;
    // transition-duration:180ms;
    // transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);

    // @TODO: lower this for safari to 400
    // @NOTE: testing -1 to have it go back slower?
    // @SEE transitionBubble
    // var transitionDurationOg = (1000 / (inverseItem ? inverseItem : 2) - 1)

    var inverseItem = inversed[index];

    var randomed = Math.floor(Math.random(0, 2));
    var offByOne = item + 2 || 1;
    var inverseOffByTwo = inverseItem + 2 || 1;
    var inverseOffRandom = inverseItem + randomed || 1;

    // * 100
    var transitionDurationOg = offByOne * 50; // by1
    var transitionDelayOg = inverseOffByTwo * 10; // by2


    // var itemPositionY = 100 * inverseItem
    var itemPositionY = 100 * item;
    // var important = ''
    // if (item === actionsCount) important = '!important'
    // transition-duration: ${transitionDuration}ms !important;
    // transform: translate3d(0, ${transformPrefixY}${itemPositionY}px, 0) ${important};

    var _gooUp = gooUp(item, transformPrefixY, itemPositionY),
        anim = _gooUp.anim,
        keyframes = _gooUp.keyframes;
    // var anims = gooUp(item, transformPrefixY, itemPositionY, 'backwards')
    // var anim2 = anims.anim

    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')
    // console.debug(item, inverseItem)
    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')

    // max-width: 0 !important;
    // opacity: 0;
    // ${itemSel}:nth-child(${item}).with-label {
    //   transition: ${transitionDelayOg / 3}ms;
    // }

    // ${itemSel}:nth-child(${item}) {
    //   transition-duration: ${transitionDurationOg}ms !important;
    //   transition-delay: ${transitionDelayOg}ms !important;
    // }
    //
    //
    // animation-fill-mode: backwards;
    // animation-fill-mode: forwards !important;
    //


    generatedStyles += '\n      ' + listNotActiveButton + ':nth-child(' + item + ') {\n        ' + goo + '\n      }\n\n      ' + listSel + ' > *:not(#app-button) {\n        box-shadow: none;\n      }\n      #app-button {\n        background-color: white;\n      }\n      #fab .action-button {\n        right: auto !important;\n      }\n    ';

    generatedStyles += keyframes;
    generatedStyles += '\n      ' + listActiveButton + ':nth-child(' + item + '):not(#app-button) {\n        ' + anim + '\n      }\n    ';
  });

  // transform: translate3d(0, ${transformPrefixY}${actionButtonY}px, 0) !important;
  var actionButtonY = 100 * menuItems.length;
  generatedStyles += '\n    ' + listActiveActionButton + ' {\n      transform: translate3d(-70px, 0, 0) !important;\n    }\n  ';

  // for menu
  // width:${width};
  // height:${height};


  // @NOTE: full width and height for no clipping
  /**
    position: absolute;
    top: 0px;
    bottom: 0;
    right: 0;
    overflow: hidden;
    right: 0;
    left: 0;
    min-width: 200%;
    min-height: 200%;
    transform: translate3d(-50%,-50%, 0px) !important;
    filter: url(#goo);
   */
  generatedStyles += '\n    ' + groupSel + ' {\n      ' + goo + '\n      width: 100%;\n      height: 1000%;\n      min-height: 1000%;\n      pointer-events: none;\n    }\n    ' + groupSel + ' > * {\n      pointer-events: all;\n    }\n\n    ' + itemSel + ' {\n      ' + ball + '\n    }\n\n   /* because it messes with the animation of gooey */\n   #fab-action-list .action-button:not(#app-button) {\n     display: flex !important;\n   }\n  ';
  return generatedStyles;
}

exports.default = makeStyles;
module.exports = exports['default'];

/***/ }),
/* 611 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
// import React from 'react'

// var linkSel = `#fab .action-link`
var itemSel = '#fab .action-button';
var listSel = '#fab .action-list';
var triggerSel = '#fab_action-button';
var triggerActiveSel = '.is-active #fab_action-button';
var listActive = '#fab .action-list.active';
var listActiveButton = '#fab .action-list.active .action-button';
var listNotActiveButton = '#fab .action-list:not(.active) .action-button:not(#app-button)';
var groupSel = '#fab';

// @NOTE: cool
//
// @NOTE: can be done with inversed or non inversed item
// function transitionBubble() {
//   var inverseItem = inversed[index]
//   // var transitionDurationOg = (1000 / (inverseItem ? inverseItem : 2) - 1)
//   var transitionDurationOg = (inversed[index] * 300)
//   var transitionDelayOg = (inversed[index] * 100)
//   generatedStyles += `
//     ${itemSel}:nth-child(${item}){
//       transition-duration: ${transitionDurationOg}ms;
//       transition-delay: ${transitionDelayOg}ms;
//     }
//   `
// }


// #fab .action-list *:not(:last-child)
// to force bg color on all but app button


var generatedStyles = '';
function makeStyles(state) {
  generatedStyles = '';
  var actionsCount = state.actionsCount,
      actions_y_offset = state.actions_y_offset,
      isInTopY = state.isInTopY,
      isInRightX = state.isInRightX;
  // console.debug('========= STATE IN MAKE STYLES', {...state})

  // vars

  var marginY = 'top';
  var alignItems = 'flex-end';
  var transformPrefixY = '';
  if (!isInTopY) {
    marginY = 'bottom';

    // prefix with `minus`
    transformPrefixY = '-';
  }
  if (!isInRightX) {
    alignItems = 'flex-start';
  }

  // display: none !important;
  // @TODO: remedy, hiding children when they aren't shown
  // width: 0 !important;
  // height: 0 !important;
  // width: auto !important;
  // height: auto !important;
  // overflow: hidden;
  // overflow: visible;

  // @TODO: animate width of with-children better
  // {$listSel} .with-children
  generatedStyles += '\n    .action-link-button-children,\n    .action-link-button-children * {\n      max-height: 0 !important;\n      max-width: 0 !important;\n      opacity: 0;\n      transition: opacity .1s, max-width .5s, max-height .2s, transform .5s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n    }\n    ' + listActive + ' .action-link-button-children.children-shown,\n    ' + listActive + ' .action-link-button-children.children-shown * {\n      max-width: 1000px !important;\n      max-height: 200px !important;\n      opacity: 1;\n      transition: opacity .1s, max-width 1s, max-height .5s, transform .5s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n    }\n\n    ' + listActive + ' .with-children {\n      display: flex;\n      justify-content: flex-end;\n    }\n\n    ' + listActive + ' .with-children i {\n      left: calc(50% - 20px) !important;\n    }\n  ';

  // body {
  //   background-color: #673ab7 !important;
  // }

  // vars
  var fg = '#00bcd4';

  // config
  var count = 0;
  var menuItems = [];
  var actionsMinusActionButton = actionsCount - 1;
  while (actionsCount > count) {
    menuItems.push(++count);
  }

  var goo = '\n    filter: url(\'#goo\');\n  ';

  // if (di.browserIsLowPerf)
  //   goo = ``

  var ball = '\n    border-radius:100%;\n    width:70px;\n    height:70px;\n    line-height: 70px\n    position:absolute;\n\n    /*\n    background:' + fg + ' !important;\n    margin-left:-40px;\n    top:20px;\n    color:white;\n    text-align:center;\n    line-height:80px;\n    , scale(.5)\n    */\n\n\n    transform:translate3d(0,0,0);\n    transition:transform ease-out 200ms, color .3s, background-color .3s;\n  ';

  // transition-timing-function:cubic-bezier(0.165, 0.840, 0.440, 1.000);
  // .menu-open:checked ~ .menu-item {
  generatedStyles += '\n    ' + listActiveButton + ' {\n      transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);\n    }\n  ';

  var inversed = menuItems.slice(0);
  inversed.reverse();

  menuItems.forEach(function (item, index) {
    // @NOTE: was 100 * item
    var transitionDuration = 90 + 200 * item;
    // transition-duration:180ms;
    // transition-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1);

    // @TODO: lower this for safari to 400
    // @NOTE: testing -1 to have it go back slower?
    // @SEE transitionBubble
    // var transitionDurationOg = (1000 / (inverseItem ? inverseItem : 2) - 1)

    var inverseItem = inversed[index];

    var randomed = Math.floor(Math.random(0, 2));
    var offByOne = item + 2 || 1;
    var inverseOffByTwo = inverseItem + 2 || 1;
    var inverseOffRandom = inverseItem + randomed || 1;

    // * 100
    var transitionDurationOg = offByOne * 50; // by1
    var transitionDelayOg = inverseOffByTwo * 10; // by2


    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')
    // console.debug(item, inverseItem)
    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')
    // console.debug('----------')

    // max-width: 0 !important;
    // opacity: 0;
    // ${itemSel}:nth-child(${item}).with-label {
    //   transition: ${transitionDelayOg / 3}ms;
    // }
    generatedStyles += '\n      ' + itemSel + ':nth-child(' + item + ') {\n        transition-duration: ' + transitionDurationOg + 'ms !important;\n        transition-delay: ' + transitionDelayOg + 'ms !important;\n      }\n\n      ' + listSel + ' > * {\n        box-shadow: none;\n      }\n    ';

    var itemPositionY = 110 * item;
    var important = '';
    if (item === actionsCount) important = '!important';

    // :not(.without-label) .action-label
    // generatedStyles += `
    //   ${listActiveButton}:nth-child(${item}).with-label {
    //     width: auto;
    //     border-radius: 30px;
    //     transition: ${transitionDuration * 1.5}ms !important;
    //   }
    // `

    generatedStyles += '\n      ' + listActiveButton + ':nth-child(' + item + ') {\n        transition-duration: ' + transitionDuration + 'ms !important;\n        transform: translate3d(0, ' + transformPrefixY + itemPositionY + 'px, 0) ' + important + ';\n      }\n    ';
  });

  // for menu
  // width:${width};
  // height:${height};

  generatedStyles += '\n    ' + groupSel + ' {\n      ' + goo + '\n      /*\n      width:650px;\n      height:150px;\n      position:absolute;\n      left:50%;\n      margin-left:-80px;\n      padding-top:20px;\n      padding-left:80px;\n      box-sizing:border-box;\n      font-size:20px;\n      text-align:left;\n      */\n    }\n    ' + itemSel + ' {\n      ' + ball + '\n    }\n\n\n    /* .menu-open-button */\n    ' + triggerSel + ' {\n      ' + ball + '\n      z-index:2;\n      transition-timing-function:cubic-bezier(0.175, 0.885, 0.320, 1.275);\n      transition-duration:400ms;\n      /*transform:scale(1.1,1.1) translate3d(0,0,0);*/\n      cursor:pointer;\n    }\n\n    /*\n    ' + itemSel + ':hover{\n      // background:white;\n      // color:' + fg + ';\n    }\n    making it bigger when hovering, then smaller when active\n    ' + triggerSel + ':hover{\n      transform:scale(1.2,1.2) translate3d(0,0,0);\n    }\n    .menu-open:checked+.menu-open-button{\n      transition-timing-function:linear;\n      transition-duration:200ms;\n      transform:scale(0.8,0.8) translate3d(0,0,0);\n    }\n    */\n\n\n   /* @TODO: @!IMPORTANT: temp disabling lables until styled, maybe tip */\n   /* ' + listSel + ' .action-label { display: none !important; } */\n\n   /* because it messes with the animation of gooey */\n   #fab-action-list .action-button:not(#app-button) {\n     display: flex !important;\n   }\n  ';
  return generatedStyles;
}

exports.default = makeStyles;
module.exports = exports['default'];

/***/ }),
/* 612 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(128, "svg", {
    "xmlns": "http://www.w3.org/2000/svg",
    "version": "1.1"
}, createVNode(2, "defs", null, [createVNode(2, "filter", {
    "id": "shadowed-goo"
}, [createVNode(2, "feGaussianBlur", {
    "in": "SourceGraphic",
    "result": "blur",
    "stdDeviation": "10"
}), createVNode(2, "feColorMatrix", {
    "in": "blur",
    "mode": "matrix",
    "values": "1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",
    "result": "goo"
}), createVNode(2, "feGaussianBlur", {
    "in": "goo",
    "stdDeviation": "3",
    "result": "shadow"
}), createVNode(2, "feColorMatrix", {
    "in": "shadow",
    "mode": "matrix",
    "values": "0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 -0.2",
    "result": "shadow"
}), createVNode(2, "feOffset", {
    "in": "shadow",
    "dx": "1",
    "dy": "1",
    "result": "shadow"
}), createVNode(2, "feComposite", {
    "in2": "shadow",
    "in": "goo",
    "result": "goo"
}), createVNode(2, "feComposite", {
    "in2": "goo",
    "in": "SourceGraphic",
    "result": "mix"
})]), createVNode(2, "filter", {
    "id": "goo"
}, [createVNode(2, "feGaussianBlur", {
    "in": "SourceGraphic",
    "result": "blur",
    "stdDeviation": "10"
}), createVNode(2, "feColorMatrix", {
    "in": "blur",
    "mode": "matrix",
    "values": "1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7",
    "result": "goo"
}), createVNode(2, "feComposite", {
    "in2": "goo",
    "in": "SourceGraphic",
    "result": "mix"
})])]));
module.exports = exports["default"];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 613 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiSprung = __webpack_require__(64);

var _styleverse = __webpack_require__(9);

var _calculator = __webpack_require__(608);

var _gooey = __webpack_require__(142);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint 'camelcase': 0 */

// @TODO: move calculations out of this
var FABSprings = function (_Springs) {
  (0, _inherits3.default)(FABSprings, _Springs);

  function FABSprings() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FABSprings);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FABSprings.__proto__ || (0, _getPrototypeOf2.default)(FABSprings)).call.apply(_ref, [this].concat(args))), _this), _this.stateWillUpdate = function (state) {
      var ready = state.gotFAB && state.gotViewport && state.gotScroll;
      if (!ready) return false;

      var _calculator$call = _calculator.calculator.call(_this, state),
          prevActionsCount = _calculator$call.prevActionsCount,
          actionsCount = _calculator$call.actionsCount,
          appButton = _calculator$call.appButton,
          fab_size = _calculator$call.fab_size,
          fab_x = _calculator$call.fab_x,
          fab_y = _calculator$call.fab_y,
          isInTopY = _calculator$call.isInTopY,
          isInRightX = _calculator$call.isInRightX;

      var that = _this;
      prevActionsCount = prevActionsCount || 0;
      actionsCount = actionsCount || 0;
      // if (actionsCount !== prevActionsCount) {
      if (actionsCount) {
        var action_y_setter = function action_y_setter(val, config) {
          if (!config) return val;
          var _config$meta = config.meta,
              i = _config$meta.i,
              isAppButton = _config$meta.isAppButton;

          if (!that.state.active && !isAppButton) return val;
          val = val + fab_size * -1.5;
          return val;
        };
        var prevId = 'fab';
        for (var i = 0; i < actionsCount; i++) {
          var isAppButton = i === actionsCount - 1 && !!appButton;
          var id = void 0;
          if (isAppButton) id = 'app-button';else id = 'actions_' + i;

          _this.set(id + '_x', prevId + '_x', { start: fab_x });
          _this.set(id + '_y', prevId + '_y', { set: action_y_setter, meta: { i: i, isAppButton: isAppButton }, start: fab_y });
          prevId = id;
        }
      }
      if (actionsCount < prevActionsCount) {
        for (var _i = prevActionsCount - 1; _i >= actionsCount; _i--) {
          if (_i === 0 && !!appButton) continue;
          var _id = 'actions_' + _i;
          _this.delete(_id + '_x');
          _this.delete(_id + '_y');
        }
      }
      _this.setState('prevActionsCount', actionsCount);

      return true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return FABSprings;
}(_uiSprung.Springs);

// headerHeight: 0,
// footerHeight: 0,
// viewportWidth: undefined,
// viewportHeight: undefined,
// fabSize: 60,
// navHeight: 0,
// //contentX: undefined,
// //contentWidth: undefined,
// scrollTop: undefined,
// scrollHeight: undefined,
// isScrolling: undefined,
//
// // computed layout props
//
// scrollBottom: {
//   cache: false,
//   deps:['scrollTop','scrollHeight','viewportHeight'],
//   get: function (scrollTop,scrollHeight,viewportHeight) {
//     return scrollHeight - scrollTop - viewportHeight
//   }
// },
//
// fabX: {
//   deps: ['viewportWidth','fabSize'],
//   get: function (viewportWidth, fabSize) {
//     return viewportWidth - 16 - (fabSize * 1.5)
//   }
// },
//
// fabGap: {
//   cache: false,
//   deps: ['fabSize'],
//   get: function (fabSize) {
//     return fabSize * 1.5
//   }
// },
//
// defaultChromaType: {
//   default: 'light',
// },


var createVNode = Inferno.createVNode;

var FABStyle = function (_React$Component) {
  (0, _inherits3.default)(FABStyle, _React$Component);

  function FABStyle() {
    var _ref2;

    var _temp2, _this2, _ret2;

    (0, _classCallCheck3.default)(this, FABStyle);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref2 = FABStyle.__proto__ || (0, _getPrototypeOf2.default)(FABStyle)).call.apply(_ref2, [this].concat(args))), _this2), _this2.handleFABStore = function (store) {
      // console.log('FABStyle handleFABStore!!!!!',store.toJS())
      var springs = _this2.springs;
      springs.setState('gotFAB', true);
      springs.setState('active', store.get('active'));
      springs.setState('show', store.get('show'));
      springs.setState('v_position', store.get('v-position'));
      springs.setState('h_position', store.get('h-position'));
      springs.setState('overlayProps', store.get('overlayProps'));
      springs.setState('appButton', store.get('appButton'));
      springs.setState('theme', store.get('theme'));
      var actionList = store.get('actionList');
      var actionsCount = actionList ? actionList.size || actionList.length : 0;
      // let actionsHash = actionList ? 'NONE' : actionList.hashCode()
      springs.setState('actionsCount', actionsCount);
      // springs.setState('actionsHash', actionsHash)
      springs.commit();
    }, _this2.handleViewportStore = function (store) {
      // console.log('FABStyle handleViewportStore!!!!!',store.toJS())
      var springs = _this2.springs;
      springs.setState('gotViewport', true);
      springs.setState('viewportWidth', store.get('width'));
      springs.setState('viewportHeight', store.get('height'));
      springs.commit();
    }, _this2.handleScrollStore = function (store) {
      // console.log('FABStyle handleScrollStore!!!!!',store.toJS())
      var springs = _this2.springs;
      springs.setState('gotScroll', true);
      springs.setState('scrollTop', store.get('scrollTop'));
      springs.setState('isScrolling', store.get('isScrolling'));
      springs.commit();
    }, _this2.isDeactiveAndAtRest = true, _this2.isActiveAndAtRest = true, _this2.springs = undefined, _temp2), (0, _possibleConstructorReturn3.default)(_this2, _ret2);
  }

  (0, _createClass3.default)(FABStyle, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.setupSprings();
      // this.updateSprings(this.props)
      this.context.request('FAB', 'connect', this.handleFABStore);
      this.context.request('viewport', 'connect', this.handleViewportStore);
      this.context.request('scroll', 'connect', this.handleScrollStore);
    }
    // componentWillReceiveProps(nextProps) {
    //   //this.updateSprings(nextProps)
    // }

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.teardownSprings();
      this.context.request('FAB', 'disconnect', this.handleFABStore);
      this.context.request('viewport', 'disconnect', this.handleViewportStore);
      this.context.request('scroll', 'disconnect', this.handleScrollStore);
    }
  }, {
    key: 'render',
    value: function render() {
      // console.log("FABStyle render", this.sprungSheet)
      return this.sprungSheet;
      // <StyleContext key="StyleContext" {...styleverseProps}>
      //     {this.sprungSheet}
      //   </StyleContext>
      // )
    }
  }, {
    key: 'updateSprings',
    value: function updateSprings(props) {}
  }, {
    key: 'teardownSprings',
    value: function teardownSprings() {
      this.springs.reset();
      this.springs = undefined;
      this.sprungSheet = undefined;
    }
  }, {
    key: 'setupSprings',
    value: function setupSprings() {
      var _this3 = this;

      var scope = '#fab';
      this.springs = new FABSprings({ id: scope });
      this.sprungSheet = createVNode(16, _uiSprung.SprungSheet, {
        'springs': this.springs,
        children: function children(springs) {
          var vals = springs.vals,
              state = springs.state;

          var css = '';

          if (!state) {
            return '\n              ' + scope + ' {\n                visibility: hidden;\n              }\n            ';
          }

          var fab_scale = vals.fab_scale,
              fab_y = vals.fab_y,
              fab_x = vals.fab_x,
              fab_size = vals.fab_size,
              fab_active = vals.fab_active,
              isInTopY = vals.isInTopY,
              isInRightX = vals.isInRightX;

          // calculate when at rest & deactive

          var active = state.active,
              show = state.show,
              appButton = state.appButton,
              theme = state.theme;

          if (show) {
            css += '\n              ' + scope + ' {\n                visibility: visible !important;\n              }\n            ';
          }

          // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
          var isScrolling = false;

          var isIdle = springs.getIsIdle();
          var isDeactiveAndAtRest = !active && isIdle;
          _this3.isDeactiveAndAtRest = isDeactiveAndAtRest;
          _this3.isActiveAndAtRest = !!active && isIdle;

          // let isActiveAndAtRest = _activeAndResting

          // FAB
          fab_scale = Math.max(fab_scale, 0);
          css += '\n            ' + scope + '_action-button {\n              ' + (fab_scale <= .1 ? 'opacity: 0;' : '') + '\n              transform: translate3d( ' + fab_x + 'px, ' + fab_y + 'px, 0px) scale(' + fab_scale + ');\n            }\n          ';
          if (fab_scale !== 1 || isScrolling) {
            css += '\n              ' + scope + '_action-button {\n                transition: none !important;\n                box-shadow: none !important;\n              }\n            ';
          } else {
            css += '\n              ' + scope + '_action-button {\n                transition: box-shadow .4s, background-color .1s !important;\n                transition-delay: .2s, 0s;\n              }\n            ';
            // ${!isDeactiveAndAtRest ? 'box-shadow: none !important;' : ''}
          }

          // bg
          if (isDeactiveAndAtRest && !active) {
            css += '\n              ' + scope + '-action-list .action-button:not(#app-button) {\n                display: none !important;\n              }\n            ';
          }
          // else {
          // transform: translate3d( ${fab_x + fabSize/2 - bgSize/2}px, ${0-(bgSize/2) + 1}px, 0px) scale(${bg_scale});
          // css += `
          //  ${scope}-active-bg {
          //    opacity: ${active ? .8 : 1};
          //    width: ${bgSize}px;
          //    height: ${bgSize}px;
          //    translate3d( ${fab_x + fab_size/2 - bgSize/2}px, ${0-(bgSize/2) + 1}px, 0px) scale(${bg_scale});
          //  }
          //  ${scope}-active-bg-mask {
          //    transform: translate3d( 0px, ${fab_y + fab_size/2}px, 0px);
          //    bottom: ${(bg_scale <= 0) ? 'FUCK' : '0px'} !important;
          //    right: ${(bg_scale <= 0) ? 'FUCK' : '0px'} !important;
          //  }
          // `
          /* TODO!!!
          ${scope}-active-bg-mask {
            overflow: ${(fabTop === fabTopMin) ? 'visible' : 'hidden'} !important;
          }
          */

          // console.debug('state...', {...state})
          // console.debug('vals...', {...vals})

          if (theme === 'gooey' || theme === 'gooey2') {
            // @see old/
            var gooedyup;
            if (theme === 'gooey2') gooedyup = (0, _gooey.gooeyStyleGenerator2)((0, _extends3.default)({}, state, vals, { scope: scope }));else if (theme === 'gooey') gooedyup = (0, _gooey.gooeyStyleGenerator)((0, _extends3.default)({}, state, vals, { scope: scope }));

            // @NOTE:
            // this transforms the whole fab to be at this transition
            // including the children
            // while the one above transforms only the button
            //
            // @TODO: move into gooey
            var action_x = vals['app-button' + '_x'];
            var action_y = vals['app-button' + '_y'];
            var action_css_sel = '#app-button';
            // transform: translate3d( ${action_x}px, ${action_y}px, 0px) scale(1) !important;
            //
            css += '\n              ' + action_css_sel + ' {\n                transform: translate3d(0, -100px, 0px) scale(1) !important;\n              }\n            ';

            css += '\n              ' + scope + ' {\n                transform: translate3d(' + fab_x + 'px, ' + fab_y + 'px, 0px) !important;\n              }\n              ' + scope + '_action-button {\n                ' + (fab_scale <= .1 ? 'opacity: 0;' : '') + '\n                transform: translate3d(0px, 0px, 0px) scale(' + fab_scale + ') !important;\n              }\n            ';

            // console.debug(gooedyup)
            css += gooedyup;
            return css;
          }

          // actions
          var actionsCount = state.actionsCount,
              actions_y_offset = state.actions_y_offset;

          var action_id, action_css_sel, scale;
          if (actionsCount) {
            for (var i = 0; i < actionsCount; i++) {
              var isAppButton = i === actionsCount - 1 && !!appButton;
              if (isAppButton) {
                action_id = 'app-button';
                action_css_sel = '#app-button';
                scale = 1;
              } else {
                action_id = 'actions_' + i;
                action_css_sel = '#fab-action-list-action-button-' + i;
                scale = Math.max(fab_active, 0);
              }
              var _action_x = vals[action_id + '_x'];
              var _action_y = vals[action_id + '_y'];
              css += '\n                  ' + action_css_sel + ' {\n                    transform: translate3d( ' + _action_x + 'px, ' + _action_y + 'px, 0px) scale(' + scale + ');\n                  }\n                ';
            }
          }
          return css;
        }
      }, null, null, 'SprungSheet-icon-morpher');
    }
  }]);
  return FABStyle;
}(_infernoCompat2.default.Component);

FABStyle.displayName = 'FABStyle';
FABStyle.contextTypes = {
  request: _infernoCompat.PropTypes.func.isRequired
};
exports.default = FABStyle;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 614 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
// import {Map} from '@the-grid/immutable'
// import {fromTo} from '@the-grid/multiverse-ui'

var _defaults = {
  show: false,
  active: false,
  pop: 4,
  onClick: undefined,
  actionList: undefined,
  actionList2: undefined,
  chroma: {
    type: 'dark'
  }
};

exports.default = {
  _defaults: {
    cache: false,
    get: function get() {
      return _defaults;
    }
  },
  chroma: {
    default: _defaults.chroma
  },
  active: {
    default: _defaults.active
  },
  show: {
    default: _defaults.show
  },
  pop: {
    default: _defaults.pop
  },
  onClick: undefined,
  actionList: undefined,
  actionList2: undefined
};
module.exports = exports['default'];

/***/ }),
/* 615 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

var _fafSchema = __webpack_require__(614);

var _fafSchema2 = _interopRequireDefault(_fafSchema);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FAFStruct = (0, _immutable.Struct)(_fafSchema2.default, { defaultCache: 1 });
var initialState = new FAFStruct({});

var FAFStore = function (_Store) {
  (0, _inherits3.default)(FAFStore, _Store);

  function FAFStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FAFStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FAFStore.__proto__ || (0, _getPrototypeOf2.default)(FAFStore)).call.apply(_ref, [this].concat(args))), _this), _this.deferCommit = true, _this.name = 'FAF', _this.state = initialState, _this.history = [], _this.actions = {
      'use-prev': function usePrev(state, obj) {
        debugger;
        _this.history.pop();
        var nextState = _this.history[_this.history.length - 1];
        if (obj) nextState = nextState.merge(obj);
        return nextState;
      },
      'update': function update(state, obj) {
        if (!obj) return state;
        // let toMerge = Object.assign({},state.get('_defaults'),obj)
        var nextState = state.merge(state.get('_defaults')).merge(obj);
        if (nextState === state || nextState.equals(state)) return state;
        if (_this.history.length >= 10) _this.history.shift();
        _this.history.push(nextState);

        // TODO: better way to update on change! maybe in component + actionKey
        var activeIndex = nextState.get('active');
        if (activeIndex !== false) {
          setTimeout(function () {
            if (_this.get('active') !== activeIndex) return;
            _this.getIn(['actionList', activeIndex, 'willActivate'], (function noop() { /* noop */ }))();
          }, 1);
        }
        return nextState;
      },
      'show-toggle': function showToggle(state) {
        if (state.get('show')) return _this.actions.hide(state);
        return _this.actions.show(state);
      },
      'show': function show(state) {
        return state.set('show', true);
      },
      'hide': function hide(state) {
        return state.merge({
          active: false,
          show: false
        });
      },
      'activate': function activate(state, index) {
        var prevIndex = state.get('active');
        if (prevIndex === index) return state;
        var actionList = state.get('actionList');
        if (!actionList.toJS) actionList = (0, _immutable.fromJS)(actionList);
        if (prevIndex !== false) actionList.getIn([prevIndex, 'willDeactivate'], (function noop() { /* noop */ }))();
        console.log('FAF +> activate ----------------- ', { actionList: state.toJS().actionList });
        setTimeout(function () {
          actionList.getIn([index, 'willActivate'], (function noop() { /* noop */ }))();
        }, 1);
        return state.set('active', index);
      },
      'deactivate': function deactivate(state) {
        var prevIndex = state.get('active');
        var actionList = state.get('actionList');
        if (prevIndex === false) return state;
        actionList.get([prevIndex, 'willDeactivate'], (function noop() { /* noop */ }))();
        return state.set('active', false);
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(FAFStore, [{
    key: 'willMount',

    // scrollStore = undefined
    // viewportStore = undefined
    // handleContextStores({scroll, styleStore, viewport}) {
    //  if (!scroll || !viewport) throw new Error(`FAFStore requires context.scroll?${!!scroll} & context.viewport?${!!viewport}`)
    //  this.scrollStore = scroll
    //  this.viewportStore = viewport
    //  this.scrollStore.execute('connect',this.handleScrollStore)
    //  this.viewportStore.execute('connect',this.handleViewportStore)
    // }
    // handleScrollStore = (store) => {
    //  console.log('FAFStore handleScrollStore', store.toJS())
    //  this.execute('merge',{
    //    isScrolling: store.get('isScrolling'),
    //    scrollTop: store.get('scrollTop'),
    //  })
    //  //debugger
    // }
    // handleViewportStore = (store) => {
    //  console.log('FAFStore handleViewportStore', store.toJS())
    //  this.execute('merge',{
    //    viewportWidth: store.get('viewportWidth'),
    //    viewportHeight: store.get('viewportHeight'),
    //  })
    //  //debugger
    // }
    // shouldCommit() {
    //   return true
    // }
    value: function willMount() {}
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      // this.scrollStore.execute('disconnect',this.handleScrollStore)
      // this.viewportStore.execute('disconnect',this.handleViewportStore)
      this.state = initialState;
      // this.scrollStore = undefined
      // this.viewportStore = undefined
    }
  }]);
  return FAFStore;
}(_cymatics.Store);

FAFStore.displayName = 'FAFStore';
exports.default = FAFStore;
module.exports = exports['default'];

/***/ }),
/* 616 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _fafStore = __webpack_require__(615);

var _fafStore2 = _interopRequireDefault(_fafStore);

var _faf = __webpack_require__(223);

var _faf2 = _interopRequireDefault(_faf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var FAFContext = function (_React$Component) {
  (0, _inherits3.default)(FAFContext, _React$Component);

  function FAFContext() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FAFContext);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FAFContext.__proto__ || (0, _getPrototypeOf2.default)(FAFContext)).call.apply(_ref, [this].concat(args))), _this), _this._id = 'faf-context-' + count++, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(FAFContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.willMount();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount();
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      var id = this.props.id || this._id;
      return createVNode(34, 'div', {
        'id': id,
        'className': 'faf-context'
      }, [this.props.children, createVNode(16, _faf2.default, {
        'id': id
      }, null, null, id)]);
    }
  }]);
  return FAFContext;
}(_infernoCompat2.default.Component);

FAFContext.displayName = 'FAFContext';

FAFContext = (0, _cymatics.installStore)(FAFContext, 'FAF', _fafStore2.default);
exports.default = FAFContext;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 617 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': 'faf-chroma-style',
  'perfFrame': true,
  children: '\n    #faf {\n\n      bg-clr -- chroma-box\n      box-sh -- 0 20px 0 chroma-bg\n      trans -- background-color .5s\n\n      ::selection {\n        background -- none !important\n      }\n\n      .faf_action-item {\n        clr -- chroma-inverse-bg\n        .label {\n          o -- .6\n        }\n        &:hover {\n          clr -- chroma-text\n          &:after {\n            bg -- chroma-meta\n          }\n          .label {\n            o -- 1\n          }\n        }\n        &.active {\n          clr -- chroma-text-pop\n          &:after {\n            bg -- chroma-box-pop\n          }\n          .label {\n            o -- 1\n          }\n        }\n      }\n\n    }\n  '
}, null, null, 'faf-chroma-style');
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 618 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiSprung = __webpack_require__(64);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bgSize = 512;

var FAFSprings = function (_Springs) {
  (0, _inherits3.default)(FAFSprings, _Springs);

  function FAFSprings() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FAFSprings);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FAFSprings.__proto__ || (0, _getPrototypeOf2.default)(FAFSprings)).call.apply(_ref, [this].concat(args))), _this), _this.updateCount = 0, _this.stateWillUpdate = function (state) {
      var ready = state.gotFAF; // && state.gotViewport && state.gotScroll)
      if (!ready) return false;
      var active = state.active,
          faf_show = state.faf_show,
          actionsCount = state.actionsCount,
          prevActionsCount = state.prevActionsCount;


      var faf_y, faf_x, faf_size;

      var show_y = 0;
      var hide_y = 64;
      faf_y = faf_show ? show_y : hide_y;
      _this.set('faf_y', faf_y, { start: _this.updateCount === 0 ? hide_y : undefined });
      _this.updateCount++;
      /*
      faf_size = 60
       faf_x = viewportWidth - faf_size - faf_size * .5
       //if (!show && !hasShown) return null
       let targetScale = show ? 1 : 0 // this.EL ? 1 : 0
       let bgScaleTarget = 0
      if (active) {
        bgScaleTarget = Math.sqrt(Math.pow(viewportWidth,2) + Math.pow(viewportHeight,2)) / (bgSize/2)
      }
       // TODO: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      //let lastFAFBottom = fafParentOffset + fafTop + fafOffset * 3 + fafSize / 2
      //let viewportBottomEdge = viewportHeight + scrollTop
      //if (lastFAFBottom + fafGap > viewportBottomEdge) fafOffset = -84
        this.set('faf_size', faf_size)
       this.set('faf_x', faf_x)
      this.set('faf_spring', 1)
       if (mouseDownIndex === 0) {
        this.set('faf_scale', targetScale*.8)
        //s.faf_scale = targetScale*.8 //spring( targetScale*.8, {stiffness: 300, damping: 9})
      }
      else if (prevMouseDownIndex === 0) {
        this.set('faf_scale', targetScale)
        //s.faf_scale = targetScale //spring( targetScale, {stiffness: 300, damping: 9})
      }
      else {
        this.set('faf_scale', targetScale)
        //s.faf_scale = targetScale //spring( targetScale, {stiffness: 40, damping: 8})
      }
       if (!active && this.isDeactiveAndAtRest ) {
        this.set('bg_scale', 0)
        //springs.set('bg_anim', 1)
        //s.bg_scale = 0
      }
      else if (!active) {
        this.set('bg_scale', 0)
        //springs.set('bg_anim', 1)
        //s.bg_scale = 0 //spring( 0, {stiffness: 300, damping: 30})
      }
      else {
        this.set('bg_scale', bgScaleTarget)
        //springs.set('bg_anim', 1)
        //s.bg_scale = bgScaleTarget //spring(bgScaleTarget, {stiffness: 300, damping: 30})
      }
         this.set('faf_active', active)
       var that = this
      prevActionsCount = prevActionsCount || 0
      actionsCount = actionsCount || 0
      //if (actionsCount !== prevActionsCount) {
      if (actionsCount) {
        let action_y_setter = function(val, config) {
          if (!config) return val
          if (!that.state.active) return val
          let i = config.meta
          val = val + (faf_size * -1.5 )
          return val
        }
        let prevId = 'faf'
        for (let i = 0; i < actionsCount; i++) {
          let id = 'actions_' + i
          this.set(id+'_x', prevId+'_x')
          this.set(id+'_y', prevId+'_y', {set: action_y_setter, meta: i})
          prevId = id
        }
      }
      if (actionsCount < prevActionsCount) {
        for (let i = prevActionsCount - 1; i >= actionsCount; i--) {
          let id = 'actions_' + i
          this.delete(id+'_x')
          this.delete(id+'_y')
        }
      }
      this.setState('prevActionsCount',actionsCount)
      */
      return true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return FAFSprings;
}(_uiSprung.Springs);

var createVNode = Inferno.createVNode;

var FAFStyle = function (_React$Component) {
  (0, _inherits3.default)(FAFStyle, _React$Component);

  function FAFStyle() {
    var _ref2;

    var _temp2, _this2, _ret2;

    (0, _classCallCheck3.default)(this, FAFStyle);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref2 = FAFStyle.__proto__ || (0, _getPrototypeOf2.default)(FAFStyle)).call.apply(_ref2, [this].concat(args))), _this2), _this2.handleFAFStore = function (store) {
      var springs = _this2.springs;
      springs.setState('gotFAF', true);
      springs.setState('active', store.get('active'));
      springs.setState('faf_show', store.get('show'));
      // springs.setState('v_position', store.get('v-position'))
      // springs.setState('overlayProps', store.get('overlayProps'))
      var actionList = store.get('actionList');
      var actionsCount = actionList ? actionList.size : 0;
      // let actionsHash = actionList ? 'NONE' : actionList.hashCode()
      springs.setState('actionsCount', actionsCount);
      // springs.setState('actionsHash', actionsHash)
      springs.commit();
    }, _this2.isDeactiveAndAtRest = true, _this2.isActiveAndAtRest = true, _this2.springs = undefined, _temp2), (0, _possibleConstructorReturn3.default)(_this2, _ret2);
  }

  (0, _createClass3.default)(FAFStyle, [{
    key: 'componentWillMount',

    // handleViewportStore = (store) => {
    //  var springs = this.springs
    //  springs.setState('gotViewport', true)
    //  springs.setState('viewportWidth', store.get('width'))
    //  springs.setState('viewportHeight', store.get('height'))
    //  springs.commit()
    // }
    // handleScrollStore = (store) => {
    //  var springs = this.springs
    //  springs.setState('gotScroll', true)
    //  springs.setState('scrollTop', store.get('scrollTop'))
    //  springs.setState('isScrolling', store.get('isScrolling'))
    //  springs.commit()
    // }
    value: function componentWillMount() {
      this.setupSprings();
      // this.updateSprings(this.props)
      this.context.request('FAF', 'connect', this.handleFAFStore);
      // this.context.request('viewport', 'connect', this.handleViewportStore)
      // this.context.request('scroll', 'connect', this.handleScrollStore)
    }
    // componentWillReceiveProps(nextProps) {
    //   //this.updateSprings(nextProps)
    // }

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.teardownSprings();
      this.context.request('FAF', 'disconnect', this.handleFAFStore);
      // this.context.request('viewport', 'disconnect', this.handleViewportStore)
      // this.context.request('scroll', 'disconnect', this.handleScrollStore)
    }
  }, {
    key: 'render',
    value: function render() {
      return this.sprungSheet;
      // <StyleContext key="StyleContext" {...styleverseProps}>
      //        {this.sprungSheet}
      //      </StyleContext>
      //    )
    }
  }, {
    key: 'updateSprings',
    value: function updateSprings(props) {}
  }, {
    key: 'teardownSprings',
    value: function teardownSprings() {
      this.springs.reset();
      this.springs = undefined;
      this.sprungSheet = undefined;
    }
  }, {
    key: 'setupSprings',
    value: function setupSprings() {
      var scope = '#faf';
      this.springs = new FAFSprings({ id: scope });
      this.sprungSheet = createVNode(16, _uiSprung.SprungSheet, {
        'springs': this.springs,
        children: function children(springs) {
          var vals = springs.vals,
              state = springs.state;

          var css = '';
          if (!state) {
            return '\n              ' + scope + ' {\n                visibility: hidden;\n              }\n            ';
          }
          var faf_scale = vals.faf_scale,
              faf_y = vals.faf_y,
              faf_x = vals.faf_x,
              bg_scale = vals.bg_scale,
              faf_size = vals.faf_size,
              faf_active = vals.faf_active;

          // calculate when at rest & deactive

          var active = state.active,
              faf_show = state.faf_show;

          css += '\n            ' + scope + ' {\n              visibility: visible !important;\n              transform: translate3d( 0px, ' + faf_y + 'px, 0px) !important;\n            }\n          ';

          /*
           // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
          let isScrolling = false
           let isIdle = springs.getIsIdle()
          let isDeactiveAndAtRest =  !active && isIdle
          this.isDeactiveAndAtRest = isDeactiveAndAtRest
          this.isActiveAndAtRest = !!active && isIdle
           //let isActiveAndAtRest = _activeAndResting
           // FAF
          faf_scale = Math.max(faf_scale, 0)
          css += `
            ${scope}_action-button {
              ${(faf_scale <= .1) ? 'opacity: 0;' : ''}
              transform: translate3d( ${faf_x}px, ${faf_y}px, 0px) scale(${faf_scale});
            }
          `
          if (faf_scale !== 1 || isScrolling) {
            css += `
              ${scope}_action-button {
                transition: none !important;
                box-shadow: none !important;
              }
            `
          }
          else {
            css += `
              ${scope}_action-button {
                transition: box-shadow .4s, background-color .1s !important;
                transition-delay: .2s, 0s;
                ${!isDeactiveAndAtRest ? 'box-shadow: none !important;' : ''}
              }
            `
          }
           // bg
          if (isDeactiveAndAtRest && !active) {
            css += `
              ${scope}-action-list {
                display: none !important;
              }
            `
          }
          else {
            //transform: translate3d( ${faf_x + fafSize/2 - bgSize/2}px, ${0-(bgSize/2) + 1}px, 0px) scale(${bg_scale});
            css += `
              ${scope}-active-bg {
                opacity: ${active ? .8 : 1};
                width: ${bgSize}px;
                height: ${bgSize}px;
                translate3d( ${faf_x + faf_size/2 - bgSize/2}px, ${0-(bgSize/2) + 1}px, 0px) scale(${bg_scale});
              }
              ${scope}-active-bg-mask {
                transform: translate3d( 0px, ${faf_y + faf_size/2}px, 0px);
                bottom: ${(bg_scale <= 0) ? 'FUCK' : '0px'} !important;
                right: ${(bg_scale <= 0) ? 'FUCK' : '0px'} !important;
              }
            `
             // actions
            let {
              actionsCount,
              actions_y_offset
            } = state
            if (actionsCount) {
              for (let i = 0; i < actionsCount; i++) {
                let action_id = 'actions_' + i
                let action_x = vals[action_id+'_x']
                let action_y = vals[action_id+'_y']
                css += `
                  #faf-action-list-action-button-${i} {
                    transform: translate3d( ${action_x}px, ${action_y}px, 0px) scale(${Math.max(faf_active, 0)});
                  }
                `
              }
            }
          }
          */
          return css;
        }
      }, null, null, 'SprungSheet-icon-morpher');
    }
  }]);
  return FAFStyle;
}(_infernoCompat2.default.Component);

FAFStyle.displayName = 'FAFStyle';
FAFStyle.contextTypes = {
  request: _infernoCompat.PropTypes.func.isRequired
};
exports.default = FAFStyle;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 619 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': 'faf-static-style',
  children: '\n      #faf {\n        o -- 1\n\n        d -- block !important\n        pos -- fixed\n        h -- 3em-txt\n        b -- 0\n        l -- 0\n        r -- 0\n        bf-viz -- hidden\n        tf -- translate3d(0,0,0)\n        z-idx -- 2000\n        box-szg -- border-box\n\n        .faf_content {\n          d -- flex\n          flx-dir -- row\n          flx-jst -- end\n          flx-aln -- mid\n          pos -- a\n          t -- 0\n          b -- 0\n          pad-l -- 125\n          pad-r -- 125\n          l -- 0\n          r -- 0\n        }\n\n        .faf_action-list {\n          d -- flex\n          flx-dir -- row\n          flx-aln -- mid\n\n\n          //min-w --  100%\n          //min-w --  24em-txt\n          min-w --  50%\n          max-w --  100%\n\n          h -- 100%\n\n          .faf_action-item {\n            pos -- relative\n            d -- flex\n            flx-dir -- row\n            flx-aln -- mid\n            flx-jst -- mid\n            pad-l -- 1em-txt\n            pad-r -- 1em-txt\n            h -- 100%\n\n            .faf_action-item_src {\n              bdr-rad -- 50%\n              w -- 32\n              h -- 32\n            }\n\n            &:after {\n              d -- block\n              content -- \'\'\n              pos -- a\n              l -- 0\n              r -- 0\n              t -- 0\n              h -- 4\n            }\n          }\n\n          &.primary {\n            flx-jst -- end\n            .faf_action-item {\n              flx-grow -- 0\n              min-w -- 6em-txt\n\n              //max-w -- 9em-txt //TODO!!!\n\n            }\n          }\n          &.secondary {\n            pos -- absolute\n            l -- 0\n          }\n        }\n\n\n\n\n        // TYPOGRAPHY ****************************\n\n        fnt -- d3\n        fnt-sz -- txt\n\n\n\n\n        //.action-button {\n        //  pos -- absolute\n        //  t -- 0\n        //  r -- 0\n        //  tf-origin -- calc(100% - props.fafSizeHalf ) 50%\n        //  min-w -- props.fafSize\n        //  h -- props.fafSize\n        //  bdr-rad -- props.fafSizeHalf\n        //\n        //  .action-icon {\n        //    w -- props.fafSize\n        //    h -- props.fafSize\n        //    ln-h -- props.fafSize\n        //    txt-aln -- center\n        //  }\n        //}\n\n        //#faf-active-bg {\n        //  bf-viz -- hidden\n        //  pos -- fixed\n        //  bdr-rad -- 50%\n        //  t -- 0\n        //  l -- 0\n        //  o -- 1\n        //  tf-origin -- 50% 50%\n        //  trans -- background-color .3s, opacity .1s\n        //}\n        //\n        //#faf-active-bg-mask {\n        //  bf-viz -- hidden\n        //  pos -- fixed\n        //  t -- 0\n        //  l -- 0\n        //  ovf -- hidden\n        //  // box-sh -- inset 0px 1px 4px 0px rgba(0,0,0,0.5)\n        //}\n      }\n    '
}, null, null, 'faf-static-style');
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 620 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FAF = exports.FAFContext = undefined;

var _fafContext = __webpack_require__(616);

var _fafContext2 = _interopRequireDefault(_fafContext);

var _faf = __webpack_require__(223);

var _faf2 = _interopRequireDefault(_faf);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-faf');
exports.default = _fafContext2.default;
exports.FAFContext = _fafContext2.default;
exports.FAF = _faf2.default;

/***/ }),
/* 621 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

// import {fromTo} from '@the-grid/multiverse-ui'

var _defaults = {
  show: false,
  active: false,
  render: undefined,
  onClick: undefined,
  actionList: undefined,
  actionList2: undefined,
  actionGroups: undefined,
  hideOnScroll: false,
  layoutSelector: '.section-layout',
  chroma: {
    type: 'dark'
  }
};

exports.default = {
  _defaults: {
    cache: false,
    get: function get() {
      return _defaults;
    }
  },
  show: {
    default: _defaults.show
  },
  render: undefined,
  onClick: undefined,
  actionList: undefined,
  actionList2: undefined,
  active: { default: _defaults.active },
  hideOnScroll: { default: _defaults.hideOnScroll },
  layoutSelector: { default: _defaults.layoutSelector },
  chroma: { default: _defaults.chroma }
};
module.exports = exports['default'];

/***/ }),
/* 622 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

var _fanSchema = __webpack_require__(621);

var _fanSchema2 = _interopRequireDefault(_fanSchema);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var FANStruct = (0, _immutable.Struct)(_fanSchema2.default, { defaultCache: 1 });
var initialState = new FANStruct({});
function NOOP() {}

var FANStore = function (_Store) {
  (0, _inherits3.default)(FANStore, _Store);

  function FANStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FANStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FANStore.__proto__ || (0, _getPrototypeOf2.default)(FANStore)).call.apply(_ref, [this].concat(args))), _this), _this.deferCommit = true, _this.name = 'FAN', _this.state = initialState, _this.lastScrollTop = undefined, _this.contextStores = {
      scroll: function scroll(store) {
        if (!_this.state.get('hideOnScroll')) return;

        // TODO: move to scrollStore
        var scrollDirection;
        var nextScrollTop = store.get('scrollTop');
        if (_this.lastScrollTop === undefined) {
          _this.lastScrollTop = nextScrollTop;
          return;
        }
        if (nextScrollTop === _this.lastScrollTop) return;
        scrollDirection = nextScrollTop > _this.lastScrollTop ? 'forward' : 'backward';
        // IMPORTANT: will only
        // this.lastScrollTop = nextScrollTop

        // Local logic....
        if (scrollDirection === 'forward') {
          _this.execute('hide');
        } else {
          _this.execute('show');
        }
      }
    }, _this.history = [], _this.actions = {
      'use-prev': function usePrev(state, obj) {
        _this.history.pop();
        var nextState = _this.history[_this.history.length - 1];
        if (obj) nextState = nextState.merge(obj);
        return nextState;
      },
      'update': function update(state, obj) {
        if (!obj) return state;
        // let toMerge = Object.assign({},state.get('_defaults'),obj)
        var nextState = state.merge(state.get('_defaults')).merge(obj);
        if (nextState === state || nextState.equals(state)) return state;
        if (_this.history.length >= 10) _this.history.shift();
        _this.history.push(nextState);

        // TODO: better way to update on change! maybe in component + actionKey
        var activeIndex = nextState.get('active');
        if (activeIndex !== false) {
          setTimeout(function () {
            if (_this.get('active') !== activeIndex) return;
            _this.getIn(['actionList', activeIndex, 'willActivate'], NOOP)();
          }, 1);
        }
        return nextState;
      },
      'show-toggle': function showToggle(state) {
        if (state.get('show')) return _this.actions.hide(state);
        return _this.actions.show(state);
      },
      'show': function show(state) {
        return state.set('show', true);
      },
      'hide': function hide(state) {
        return state.merge({
          // active: false,
          show: false
        });
      },
      'activate': function activate(state, index) {
        var prevIndex = state.get('active');
        if (prevIndex === index) return state;
        var actionList = state.get('actionList');

        // TODO !!!!!!!!!!!!!!!!!!!!!!!!!!!
        if (!actionList) return actionList = state.get('actionList2');

        if (prevIndex !== false) actionList.getIn([prevIndex, 'willDeactivate'], NOOP)();
        setTimeout(function () {
          actionList.getIn([index, 'willActivate'], NOOP)();
        }, 1);
        return state.set('active', index);
      },
      'deactivate': function deactivate(state) {
        var prevIndex = state.get('active');
        if (prevIndex === false) return state;
        actionList.get([prevIndex, 'willDeactivate'], NOOP)();
        return state.set('active', false);
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  // scrollStore = undefined
  // viewportStore = undefined
  // handleContextStores({scroll, styleStore, viewport}) {
  //  if (!scroll || !viewport) throw new Error(`FANStore requires context.scroll?${!!scroll} & context.viewport?${!!viewport}`)
  //  this.scrollStore = scroll
  //  this.viewportStore = viewport
  //  this.scrollStore.execute('connect',this.handleScrollStore)
  //  this.viewportStore.execute('connect',this.handleViewportStore)
  // }
  // handleScrollStore = (store) => {
  //  console.log('FANStore handleScrollStore', store.toJS())
  //  this.execute('merge',{
  //    isScrolling: store.get('isScrolling'),
  //    scrollTop: store.get('scrollTop'),
  //  })
  //  //debugger
  // }
  // handleViewportStore = (store) => {
  //  console.log('FANStore handleViewportStore', store.toJS())
  //  this.execute('merge',{
  //    viewportWidth: store.get('viewportWidth'),
  //    viewportHeight: store.get('viewportHeight'),
  //  })
  //  //debugger
  // }
  // shouldCommit() {
  //   return true
  // }


  (0, _createClass3.default)(FANStore, [{
    key: 'willMount',
    value: function willMount() {}
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      // this.scrollStore.execute('disconnect',this.handleScrollStore)
      // this.viewportStore.execute('disconnect',this.handleViewportStore)
      this.state = initialState;
      // this.scrollStore = undefined
      // this.viewportStore = undefined
    }
  }]);
  return FANStore;
}(_cymatics.Store);

FANStore.displayName = 'FANStore';
exports.default = FANStore;
module.exports = exports['default'];

/***/ }),
/* 623 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _cymatics = __webpack_require__(12);

var _fanStore = __webpack_require__(622);

var _fanStore2 = _interopRequireDefault(_fanStore);

var _fan = __webpack_require__(224);

var _fan2 = _interopRequireDefault(_fan);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var FANContext = function (_React$Component) {
  (0, _inherits3.default)(FANContext, _React$Component);

  function FANContext() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FANContext);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FANContext.__proto__ || (0, _getPrototypeOf2.default)(FANContext)).call.apply(_ref, [this].concat(args))), _this), _this._id = 'fan-context-' + count++, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(FANContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.willMount();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount();
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      var id = this.props.id || this._id;
      return createVNode(34, 'div', {
        'id': id,
        'className': 'fan-context'
      }, [this.props.children, createVNode(16, _fan2.default, {
        'id': id
      }, null, null, id)]);
    }
  }]);
  return FANContext;
}(_infernoCompat2.default.Component);

FANContext.displayName = 'FANContext';

FANContext = (0, _cymatics.installStore)(FANContext, 'FAN', _fanStore2.default);
exports.default = FANContext;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 624 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': 'fan-chroma-style',
  'perfFrame': true,
  children: '\n    // TODO\n    #fan {\n      box-sh -- m\n    }\n    #fan {\n      .fan_bg {\n        o -- 1\n        bg-clr -- chroma-box\n        trans -- background-color .5s\n      }\n      //&:hover {\n      //  .fan_bg {\n      //    o -- 1\n      //  }\n      //}\n\n      ::selection {\n        background -- none !important\n      }\n\n      .fan_action-item {\n        clr -- chroma-inverse-bg\n        .icon {\n          clr -- chroma-meta\n        }\n        .label {\n          o -- .6\n        }\n        &:hover {\n          clr -- chroma-text\n          &:after {\n            bg -- chroma-meta\n          }\n          .icon {\n            clr -- chroma-text2\n          }\n          .label {\n            o -- 1\n          }\n        }\n        &.active {\n          clr -- chroma-text-pop\n          &:after {\n            bg -- chroma-box-pop\n          }\n          .icon {\n            clr -- chroma-title\n          }\n          .label {\n            o -- 1\n          }\n        }\n      }\n\n    }\n  '
}, null, null, 'fan-chroma-style');
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 625 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiSprung = __webpack_require__(64);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bgSize = 512;

var FANSprings = function (_Springs) {
  (0, _inherits3.default)(FANSprings, _Springs);

  function FANSprings() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, FANSprings);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = FANSprings.__proto__ || (0, _getPrototypeOf2.default)(FANSprings)).call.apply(_ref, [this].concat(args))), _this), _this.updateCount = 0, _this.stateWillUpdate = function (state) {
      var ready = state.gotFAN; // && state.gotViewport && state.gotScroll)
      if (!ready) return false;
      var active = state.active,
          show = state.show,
          actionsCount = state.actionsCount,
          prevActionsCount = state.prevActionsCount;


      var fan_y, fan_x, fan_size;

      var show_y = 0;
      var hide_y = -60;
      fan_y = show ? show_y : hide_y;
      _this.set('fan_y', fan_y, { start: _this.updateCount === 0 ? hide_y : undefined, meta: { distance: hide_y * -1 } });
      _this.updateCount++;
      /*
      fan_size = 60
       fan_x = viewportWidth - fan_size - fan_size * .5
       //if (!show && !hasShown) return null
       let targetScale = show ? 1 : 0 // this.EL ? 1 : 0
       let bgScaleTarget = 0
      if (active) {
        bgScaleTarget = Math.sqrt(Math.pow(viewportWidth,2) + Math.pow(viewportHeight,2)) / (bgSize/2)
      }
       // TODO: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      //let lastFANBottom = fanParentOffset + fanTop + fanOffset * 3 + fanSize / 2
      //let viewportBottomEdge = viewportHeight + scrollTop
      //if (lastFANBottom + fanGap > viewportBottomEdge) fanOffset = -84
        this.set('fan_size', fan_size)
       this.set('fan_x', fan_x)
      this.set('fan_spring', 1)
       if (mouseDownIndex === 0) {
        this.set('fan_scale', targetScale*.8)
        //s.fan_scale = targetScale*.8 //spring( targetScale*.8, {stiffness: 300, damping: 9})
      }
      else if (prevMouseDownIndex === 0) {
        this.set('fan_scale', targetScale)
        //s.fan_scale = targetScale //spring( targetScale, {stiffness: 300, damping: 9})
      }
      else {
        this.set('fan_scale', targetScale)
        //s.fan_scale = targetScale //spring( targetScale, {stiffness: 40, damping: 8})
      }
       if (!active && this.isDeactiveAndAtRest ) {
        this.set('bg_scale', 0)
        //springs.set('bg_anim', 1)
        //s.bg_scale = 0
      }
      else if (!active) {
        this.set('bg_scale', 0)
        //springs.set('bg_anim', 1)
        //s.bg_scale = 0 //spring( 0, {stiffness: 300, damping: 30})
      }
      else {
        this.set('bg_scale', bgScaleTarget)
        //springs.set('bg_anim', 1)
        //s.bg_scale = bgScaleTarget //spring(bgScaleTarget, {stiffness: 300, damping: 30})
      }
         this.set('fan_active', active)
       var that = this
      prevActionsCount = prevActionsCount || 0
      actionsCount = actionsCount || 0
      //if (actionsCount !== prevActionsCount) {
      if (actionsCount) {
        let action_y_setter = function(val, config) {
          if (!config) return val
          if (!that.state.active) return val
          let i = config.meta
          val = val + (fan_size * -1.5 )
          return val
        }
        let prevId = 'fan'
        for (let i = 0; i < actionsCount; i++) {
          let id = 'actions_' + i
          this.set(id+'_x', prevId+'_x')
          this.set(id+'_y', prevId+'_y', {set: action_y_setter, meta: i})
          prevId = id
        }
      }
      if (actionsCount < prevActionsCount) {
        for (let i = prevActionsCount - 1; i >= actionsCount; i--) {
          let id = 'actions_' + i
          this.delete(id+'_x')
          this.delete(id+'_y')
        }
      }
      this.setState('prevActionsCount',actionsCount)
      */
      return true;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return FANSprings;
}(_uiSprung.Springs);

var createVNode = Inferno.createVNode;

var FANStyle = function (_React$Component) {
  (0, _inherits3.default)(FANStyle, _React$Component);

  function FANStyle() {
    var _ref2;

    var _temp2, _this2, _ret2;

    (0, _classCallCheck3.default)(this, FANStyle);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret2 = (_temp2 = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref2 = FANStyle.__proto__ || (0, _getPrototypeOf2.default)(FANStyle)).call.apply(_ref2, [this].concat(args))), _this2), _this2.handleFANStore = function (store) {
      var springs = _this2.springs;
      springs.setState('gotFAN', true);
      springs.setState('active', store.get('active'));
      springs.setState('show', store.get('show'));
      springs.setState('layoutSelector', store.get('layoutSelector'));
      // springs.setState('v_position', store.get('v-position'))
      // springs.setState('overlayProps', store.get('overlayProps'))
      var actionList = store.get('actionList');
      var actionsCount = actionList ? actionList.size : 0;
      // let actionsHash = actionList ? 'NONE' : actionList.hashCode()
      springs.setState('actionsCount', actionsCount);
      // springs.setState('actionsHash', actionsHash)
      springs.commit();
    }, _this2.isDeactiveAndAtRest = true, _this2.isActiveAndAtRest = true, _this2.springs = undefined, _temp2), (0, _possibleConstructorReturn3.default)(_this2, _ret2);
  }

  (0, _createClass3.default)(FANStyle, [{
    key: 'componentWillMount',

    // handleViewportStore = (store) => {
    //  var springs = this.springs
    //  springs.setState('gotViewport', true)
    //  springs.setState('viewportWidth', store.get('width'))
    //  springs.setState('viewportHeight', store.get('height'))
    //  springs.commit()
    // }
    // handleScrollStore = (store) => {
    //  var springs = this.springs
    //  springs.setState('gotScroll', true)
    //  springs.setState('scrollTop', store.get('scrollTop'))
    //  springs.setState('isScrolling', store.get('isScrolling'))
    //  springs.commit()
    // }
    value: function componentWillMount() {
      this.setupSprings();
      // this.updateSprings(this.props)
      this.context.request('FAN', 'connect', this.handleFANStore);
      // this.context.request('viewport', 'connect', this.handleViewportStore)
      // this.context.request('scroll', 'connect', this.handleScrollStore)
    }
    // componentWillReceiveProps(nextProps) {
    //   //this.updateSprings(nextProps)
    // }

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.teardownSprings();
      this.context.request('FAN', 'disconnect', this.handleFANStore);
      // this.context.request('viewport', 'disconnect', this.handleViewportStore)
      // this.context.request('scroll', 'disconnect', this.handleScrollStore)
    }
  }, {
    key: 'render',
    value: function render() {
      return this.sprungSheet;
      // <StyleContext key="StyleContext" {...styleverseProps}>
      //        {this.sprungSheet}
      //      </StyleContext>
      //    )
    }
  }, {
    key: 'updateSprings',
    value: function updateSprings(props) {}
  }, {
    key: 'teardownSprings',
    value: function teardownSprings() {
      this.springs.reset();
      this.springs = undefined;
      this.sprungSheet = undefined;
    }
  }, {
    key: 'setupSprings',
    value: function setupSprings() {
      var scope = '#fan';
      this.springs = new FANSprings({ id: scope });
      this.sprungSheet = createVNode(16, _uiSprung.SprungSheet, {
        'springs': this.springs,
        children: function children(springs) {
          var vals = springs.vals,
              state = springs.state;

          var css = '';
          if (!state) {
            return '\n              ' + scope + ' {\n                visibility: hidden;\n              }\n            ';
          }
          var fan_scale = vals.fan_scale,
              fan_y = vals.fan_y,
              fan_x = vals.fan_x,
              bg_scale = vals.bg_scale,
              fan_size = vals.fan_size,
              fan_active = vals.fan_active;
          var active = state.active,
              show = state.show,
              layoutSelector = state.layoutSelector;

          css += '\n            ' + scope + ' {\n              visibility: visible !important;\n              transform: translate3d( 0px, ' + fan_y + 'px, 0px) !important;\n            }\n          ';
          if (layoutSelector) {
            var distance = springs.getSpring('fan_y').meta.distance;

            css += '\n              ' + layoutSelector + ' {\n                margin-top: ' + (fan_y + distance) + 'px;\n              }\n            ';
          }

          /*
           // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
          let isScrolling = false
           let isIdle = springs.getIsIdle()
          let isDeactiveAndAtRest =  !active && isIdle
          this.isDeactiveAndAtRest = isDeactiveAndAtRest
          this.isActiveAndAtRest = !!active && isIdle
           //let isActiveAndAtRest = _activeAndResting
           // FAN
          fan_scale = Math.max(fan_scale, 0)
          css += `
            ${scope}_action-button {
              ${(fan_scale <= .1) ? 'opacity: 0;' : ''}
              transform: translate3d( ${fan_x}px, ${fan_y}px, 0px) scale(${fan_scale});
            }
          `
          if (fan_scale !== 1 || isScrolling) {
            css += `
              ${scope}_action-button {
                transition: none !important;
                box-shadow: none !important;
              }
            `
          }
          else {
            css += `
              ${scope}_action-button {
                transition: box-shadow .4s, background-color .1s !important;
                transition-delay: .2s, 0s;
                ${!isDeactiveAndAtRest ? 'box-shadow: none !important;' : ''}
              }
            `
          }
           // bg
          if (isDeactiveAndAtRest && !active) {
            css += `
              ${scope}-action-list {
                display: none !important;
              }
            `
          }
          else {
            //transform: translate3d( ${fan_x + fanSize/2 - bgSize/2}px, ${0-(bgSize/2) + 1}px, 0px) scale(${bg_scale});
            css += `
              ${scope}-active-bg {
                opacity: ${active ? .8 : 1};
                width: ${bgSize}px;
                height: ${bgSize}px;
                translate3d( ${fan_x + fan_size/2 - bgSize/2}px, ${0-(bgSize/2) + 1}px, 0px) scale(${bg_scale});
              }
              ${scope}-active-bg-mask {
                transform: translate3d( 0px, ${fan_y + fan_size/2}px, 0px);
                bottom: ${(bg_scale <= 0) ? 'FUCK' : '0px'} !important;
                right: ${(bg_scale <= 0) ? 'FUCK' : '0px'} !important;
              }
            `
             // actions
            let {
              actionsCount,
              actions_y_offset
            } = state
            if (actionsCount) {
              for (let i = 0; i < actionsCount; i++) {
                let action_id = 'actions_' + i
                let action_x = vals[action_id+'_x']
                let action_y = vals[action_id+'_y']
                css += `
                  #fan-action-list-action-button-${i} {
                    transform: translate3d( ${action_x}px, ${action_y}px, 0px) scale(${Math.max(fan_active, 0)});
                  }
                `
              }
            }
          }
          */
          return css;
        }
      }, null, null, 'SprungSheet-icon-morpher');
    }
  }]);
  return FANStyle;
}(_infernoCompat2.default.Component);

FANStyle.displayName = 'FANStyle';
FANStyle.contextTypes = {
  request: _infernoCompat.PropTypes.func.isRequired
};
exports.default = FANStyle;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 626 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
exports.default = createVNode(16, _styleverse.Style, {
  'id': 'fan-static-style',
  children: '\n      // TODO\n      #fan {\n        t -- 0\n\n        .fan_content {\n          flx-jst -- btwn\n        }\n\n        .fan_action-list {\n          min-w --  0\n          flx-jst -- btwn\n        }\n        .fan_action-list:first-child {\n          mar-r -- auto\n        }\n\n        .fan_action-item {\n          &:after {\n            b -- 0\n          }\n        }\n      }\n      #fan {\n        o -- 1\n\n        d -- block !important\n        pos -- fixed\n        h -- 3em-txt-s\n\n        l -- 0\n        r -- 0\n        bf-viz -- hidden\n        tf -- translate3d(0,0,0)\n        z-idx -- 2000\n        box-szg -- border-box\n\n        .fan_bg {\n          pos -- a\n          t -- 0\n          b -- 0\n          l -- 0\n          r -- 0\n        }\n\n        .fan_content {\n          d -- flex\n          flx-dir -- row\n          flx-jst -- mid\n          flx-aln -- mid\n          pos -- a\n          t -- 0\n          b -- 0\n          l -- 0\n          r -- 0\n        }\n\n        .fan_action-list {\n          d -- flex\n          flx-dir -- row\n          flx-aln -- mid\n          h -- 100%\n        }\n\n        .fan_action-item {\n          pos -- relative\n          d -- flex\n          flx-dir -- row\n          flx-aln -- mid\n          flx-jst -- mid\n          flx-grow -- 1\n          pad-l -- 1em-txt\n          pad-r -- 1em-txt\n          h -- 100%\n          min-w -- 6em-txt\n\n          .fan_action-item_src {\n            bdr-rad -- 50%\n            w -- 32\n            h -- 32\n          }\n\n          &:after {\n            d -- block\n            content -- \'\'\n            pos -- a\n            l -- 0\n            r -- 0\n            h -- 4\n          }\n        }\n\n\n        // TYPOGRAPHY ****************************\n\n        fnt -- d3\n        fnt-sz -- txt-s\n\n      }\n    '
}, null, null, 'fan-static-style');
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 627 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.FAN = exports.FANContext = undefined;

var _fanContext = __webpack_require__(623);

var _fanContext2 = _interopRequireDefault(_fanContext);

var _fan = __webpack_require__(224);

var _fan2 = _interopRequireDefault(_fan);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-fan');
exports.default = _fanContext2.default;
exports.FANContext = _fanContext2.default;
exports.FAN = _fan2.default;

/***/ }),
/* 628 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiMedia = __webpack_require__(144);

var _uiMedia2 = _interopRequireDefault(_uiMedia);

var _uiRibbon = __webpack_require__(71);

var _uiRibbon2 = _interopRequireDefault(_uiRibbon);

var _inferno = __webpack_require__(51);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

var _utilClassname = __webpack_require__(145);

var _utilClassname2 = _interopRequireDefault(_utilClassname);

var _uiActionPack = __webpack_require__(217);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// function handleClick(that, event) {
//   window.open(that.props['url'], '_blank')
// }


var createVNode = Inferno.createVNode;

var Header = function (_React$Component) {
  (0, _inherits3.default)(Header, _React$Component);

  function Header() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Header);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Header.__proto__ || (0, _getPrototypeOf2.default)(Header)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      unlocked: true
    }, _this.pass = undefined, _this.onPasswordSubmit = function (e) {
      if (_this.pass.startsWith('vip') || _this.pass.startsWith('VIP')) _this.setState({ unlocked: true });
      e.preventDefault();
    }, _this.onPasswordInput = function (e) {
      _this.pass = event.target.value;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Header, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          className = _props.className,
          style = _props.style,
          children = _props.children;

      this.className = _utilClassname2.default.add(className, 'Header');
      this.id = id || this._id;
      return createVNode(2, 'section', {
        'id': this.id,
        'className': this.className,
        'style': style
      }, this.renderChildren(), null, 'Header');
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      var id = this.id;
      // TODO!!!!! make more ergonomic
      var _props$children$ = this.props.children[0],
          background = _props$children$.background,
          actions = _props$children$.actions,
          pricing = _props$children$.pricing,
          message = _props$children$.message,
          graphic = _props$children$.graphic,
          featuredDetails = _props$children$.featuredDetails;

      if (actions) {
        actions = createVNode(16, _uiActionPack.ActionGroup, {
          'id': this.id + '-actions',
          children: actions
        }, null, null, 'actions');
      }
      if (featuredDetails) {
        featuredDetails = createVNode(2, 'div', {
          'id': this.id + '-featured-details',
          'className': 'featured-details'
        }, featuredDetails, null, 'featured-details');
      }
      if (pricing) {
        pricing = createVNode(2, 'div', {
          'id': this.id + '-pricing-mount',
          'className': 'pricing-mount'
        }, pricing, null, 'pricing');
      }
      if (message) {
        message = createVNode(2, 'div', {
          'id': this.id + '-message-mount',
          'className': 'message-mount'
        }, message, null, 'message');
      }
      return [createVNode(2, 'div', {
        'id': id + '-bg'
      }, background, null, 'bg'), createVNode(2, 'div', {
        'id': id + '-layout',
        'className': 'layout'
      }, [createVNode(2, 'div', {
        'className': 'layout-head'
      }, graphic), createVNode(2, 'div', {
        'className': 'layout-body'
      }, message), createVNode(2, 'div', {
        'className': 'layout-tail'
      }, [pricing, actions]), createVNode(2, 'div', {
        'className': 'layout-bottom-margin'
      }, featuredDetails)])];
    }

    // __render() {
    //   let sectionClasses = ''
    //   let item = this.props.itemsToRender.get(0);
    //   let id = this.id = this.props.sectionId
    //   let scope = this.scope = '#' + id
    //
    //   return (
    //     <section id={id} className={sectionClasses}>
    //       <Nav />
    //       {style(scope)}
    //       <div id={id+'-bg'}>
    //         {this.renderMedia(item)}
    //       </div>
    //       <div id={id+'-layout'} className="layout">
    //         <div className="layout-head">
    //           <SiteLogo id={id+'-logo'} />
    //         </div>
    //         <div className="layout-body">
    //           {this.renderTitles(item)}
    //         </div>
    //         <div className="layout-tail">
    //           {this.renderActions(item)}
    //         </div>
    //       </div>
    //     </section>
    //   );
    // }

  }, {
    key: 'renderTitles',
    value: function renderTitles(item) {
      if (!this.state.unlocked) return null;

      var titleBlock = item.get('titlesSB').get(0);
      var subTitleBlock = item.get('titlesSB').get(1);

      if (TitleBlock.getDataToRender(titleBlock)) {
        return createVNode(2, 'div', {
          'id': this.id + '-titles',
          'className': 'header-text-group'
        }, [createVNode(16, TitleBlock, {
          'id': this.id + '-headline',
          'item': item,
          'block': titleBlock
        }), createVNode(16, TitleBlock, {
          'id': this.id + '-tagline',
          'item': item,
          'block': subTitleBlock
        })]);
      }
      return null;
    }
  }, {
    key: 'renderActions',
    value: function renderActions(item) {
      return this.renderPasswordInput();
      return this.renderCTAs(item);
    }
  }, {
    key: 'renderPasswordInput',
    value: function renderPasswordInput() {
      if (this.state.unlocked) return null;
      return createVNode(34, 'div', {
        'id': this.id + '-actions'
      }, [createVNode(16, Style, {
        children: '\n          .section-layout-node:not(:first-of-type) {\n            viz -- hidden !important\n          }\n          html, html body, #section-layout__SectionLayout-0, .section-layout {\n            h -- 100vh !important\n            overflow-y -- hidden !important\n          }\n        '
      }, null, null, 'locked-style'), createVNode(2, 'form', null, createVNode(512, 'input', {
        'className': 'password-input',
        'type': 'password',
        'autocomplete': false,
        'autofocus': true,
        'placeholder': "VIP Invitation Code"
      }, null, {
        'onInput': this.onPasswordInput
      }, 'password-input'), {
        'onSubmit': this.onPasswordSubmit
      }, 'pass-form')], null, 'actions');
    }
  }, {
    key: 'renderCTAs',
    value: function renderCTAs(item) {

      var ctas = item.get('ctasSB');
      if (!ctas || !ctas.size) return null;

      return createVNode(34, 'div', {
        'id': this.id + '-actions'
      }, [createVNode(16, CtaBlock, {
        'block': ctas.get(0)
      }, null, null, 'cta-0'), createVNode(16, CtaBlock, {
        'block': ctas.get(1)
      }, null, null, 'cta-1')], null, 'actions');
    }
  }]);
  return Header;
}(_infernoCompat2.default.Component);

Header.displayName = 'Header';


function renderAvatar(_ref2) {
  var avatarSrc = _ref2.avatarSrc,
      logoSrc = _ref2.logoSrc;

  var src = avatarSrc;
  var className = 'card-avatar graphic-box';
  var backgroundSize = 'cover';
  if (!src) {
    src = logoSrc;
    className = 'card-logo';
    backgroundSize = 'contain';
  }
  if (!src) return null;
  return createVNode(2, 'div', {
    'className': className + " graphic inset",
    'style': {
      backgroundImage: 'url(' + src + ')',
      backgroundSize: backgroundSize,
      backgroundRepeat: 'no-repeat',
      backgroundPosition: '50% 50%'
    }
  }, null, null, 'avatar');
}
function renderTextGroup(_ref3) {
  var title = _ref3.title,
      description = _ref3.description;

  var textChildren = [];
  if (title) {
    textChildren.push(createVNode(2, 'h2', {
      'className': 'card-title typ-title'
    }, title, null, 'title'));
  }
  if (description) {
    textChildren.push(createVNode(2, 'p', {
      'className': 'card-description typ-desc'
    }, description, null, 'description'));
  }
  if (textChildren.length) {
    return createVNode(2, 'div', {
      'className': 'card-text-group typ-group'
    }, textChildren, null, 'text-group');
  }
  return null;
}

function renderRibbon(_ref4) {
  var ribbon = _ref4.ribbon;

  if (!ribbon) return null;
  return createVNode(16, _uiRibbon2.default, {
    children: ribbon
  }, null, null, 'ribbon');
}

Header = (0, _uiDesignable2.default)(Header, {
  style: '\n  :scope {\n\n    txt-sh--0 1px .5px hsla(0,0%,0%,.9)\n    bg-clr -- chroma-box\n\n\n    .semantic-key--message {\n\n      clr -- chroma-text\n      .title {\n        clr -- chroma-title\n      }\n\n      &.component--ornament {\n        fnt-sz -- d-s\n        fill -- chroma-meta\n        mar -- 1em 0\n      }\n    }\n\n    .password-input {\n      txt-sh--n\n      fnt-sz -- txt-l\n      border -- 4px solid chroma-line\n      box-sh -- inset 0 1px 1px black\n      clr -- chroma-inverse-box\n      bg-clr -- chroma-box\n\n      &::placeholder {\n        color -- chroma-text-pop2\n        o -- 1\n      }\n      &::-webkit-input-placeholder {\n        color -- chroma-text-pop2\n        o -- 1\n      }\n      &::-moz-placeholder {\n        color -- chroma-text-pop2\n        o -- 1\n      }\n      &:-moz-placeholder {\n        color -- chroma-text-pop2\n        o -- 1\n      }\n      &:-ms-input-placeholder {\n        color -- chroma-text-pop2\n        o -- 1\n      }\n    }\n\n  }\n\n\n  // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  // LAYOUT\n\n  .featured-details {\n    d -- flx\n    flex-wrap -- wrap\n    flx-jst -- btwn\n    flx-aln -- mid\n\n    .detail {\n      min-w -- 9em-txt-s\n    }\n  }\n\n  :scope {\n    pos--r\n    //h -- 88.88888888888888888vh\n    h -- 100vh\n    min-h -- 640\n  }\n\n  :scope-bg {\n    pos--a\n    bf-viz -- hidden\n    tf -- translate3d(0px,0px,0px)\n    o--1\n    l--0\n    r--0\n    t--0\n    h--100%\n    w--100%\n\n    ovf--hidden\n    tf--translateZ(0)\n\n    //trans--height .5s cubic-bezier(0.190, 1.000, 0.220, 1.000)\n    //z-idx -- -1 // for svg-filters\n\n    :scope-bg-media {\n      pos--a\n      bf-viz -- hidden\n      tf -- translate3d(0px,0px,0px)\n      o--1\n      l--0\n      r--0\n      t--0\n      h--100%\n      w--100%\n      trans--height .5s cubic-bezier(0.190, 1.000, 0.220, 1.000)\n      bg-sz--cover\n      bg-position--50% 50%\n      ovf--hidden\n      tf--translateZ(0)\n\n      object-fit -- cover\n      background-position -- 50% 50%\n\n      //z-idx -- -1 // for svg-filters\n\n      img, video {\n        obj-fit -- cover\n        w -- 100%\n        h -- 100%\n      }\n    }\n\n  }\n\n\n\n\n\n  :scope {\n    .semantic-role--graphic {\n      w -- 6em\n      h -- 6em\n    }\n\n    .message-mount {\n      mar--0\n      flt--none !important\n      t--0\n      pos--relative\n      //flx-grow -- 1\n      flx-shrink -- 1\n      fnt-sz--d-s\n      //mar -- 2em 0\n      mar-t -- 1em\n\n      d--flx\n      flx-aln--mid\n      flx-jst--mid\n      flx-dir--col\n\n      //\n      mar-b -- 0\n\n      .title {\n        w--100%\n        min-w--4em\n        ln-h--1.25em\n        fnt-sz--d-xl\n        fnt--d\n        flt--n\n\n        mar--0\n\n        // for underline?\n        //pad-b -- .2em\n      }\n\n      .text, .sub-title {\n        min-w--4em\n        d--iflx\n        flx-jst--mid\n        txt-decor--n\n        mar-t--.5em\n        fnt--txt\n        fnt-sz--d-s\n        ln-h--1.5em\n      }\n    }\n  }\n\n\n\n  // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n  // move to shared stylverse thingy....\n\n\n\n  ',
  designverse: {

    'style--mandarin': {
      style: '\n        :scope-layout {\n\n          .ActionGroup {\n            w -- initial\n          }\n\n          txt-align -- left\n\n          pos--a\n          t--0\n          b--0\n          l-- 1goldx\n          w-- -2goldx\n\n          box-szg--b\n\n          d--flx\n          flx-dir -- col\n          flx-aln -- mid\n          flx-jst -- around\n          z-idx -- 10\n\n\n          .layout-head {\n            d -- flx\n\n            //flex-grow -- 1\n            //flex-shrink -- 1\n            //flex-basis -- 0\n            // flx-dir -- col\n            // flx-jst -- mid\n            // flx-aln -- mid\n\n            // alt\n            flex-grow -- 0\n            flex-shrink -- 1\n            flex-basis -- 0\n            flx-dir -- col\n            flx-jst -- mid\n            flx-aln -- start\n            mar-b -- auto\n          }\n          .layout-body {\n            w -- 100%\n            flex-grow -- 0\n            flex-shrink -- 0\n            flex-basis -- auto\n          }\n          .layout-tail {\n            w -- 100%\n            d -- flx\n            flex-wrap -- wrap\n\n            // flex-grow -- 1\n            // flex-shrink -- 1\n            // flex-basis -- 0\n            //flx-dir -- row\n            //flx-jst -- mid\n            //flx-aln -- mid\n\n            // alt\n            flex-grow -- 0\n            flex-shrink -- 1\n            flex-basis -- 0\n            mar-t -- 1em-d\n            mar-b -- auto\n            flx-dir -- row\n            flx-jst -- start\n            flx-aln -- mid\n\n\n          }\n          .layout-bottom-margin {\n            //h -- 5em-txt\n            w -- 100%\n            flex-grow -- 0\n            flex-shrink -- 0\n            //flex-basis -- 5em-txt\n          }\n\n        }\n\n        :scope-actions {\n          flt--none !important\n          t--0\n          pos--relative\n          mar-t--0\n          //flx-grow -- 1\n          flx-shrink -- 1\n          //flx-basis -- 0px\n          d--flx\n          flx-aln--mid\n          flx-jst--strt\n          flx-dir--row\n\n          fnt--d3\n          fnt-sz--txt-l\n\n          .password-input {\n            pad-t--.75em\n            pad-b--1em\n            pad-l--1.5em\n            pad-r--1.5em\n          }\n\n\n        }\n\n\n        :scope {\n          .featured-details {\n            d -- flx\n            flx-dir -- row\n            flx-jst -- btwn\n            flx-aln -- mid\n          }\n          .detail {\n            d -- flx\n            flx-dir -- col\n            flx-jst -- mid\n            flx-aln -- start\n\n            pos -- relative\n\n            &.semantic-key--featuredDetails {\n              pad -- 1em-txt 0\n              flx-aln -- start\n              flx-grow -- 1\n              flx-shrink -- 1\n              flx-basis -- 0px\n\n              .detail_value {\n                fnt--num\n                fnt-sz--txt\n                mar-b -- .5em\n              }\n              .detail_label {\n                fnt--txt2\n                fnt-sz--txt-xs\n                mar-b -- 1em\n              }\n\n              .detail_label {\n                clr -- chroma-inverse-box\n                o -- .45\n              }\n              .detail_value {\n                clr -- chroma-text-pop\n              }\n\n              &:nth-of-type(even) {\n\n                .detail_value {\n                  clr -- chroma-text-pop2\n                }\n              }\n            }\n            &.semantic-key--pricing {\n              .detail_value {\n                fnt--num\n                fnt-sz--d-s\n              }\n              .detail_label {\n                fnt--txt2\n                fnt-sz--txt-s\n                order -- -1\n              }\n\n              .detail_value {\n                clr -- chroma-inverse-box\n              }\n              .detail_label {\n                //clr -- chroma-text-pop2\n                clr -- chroma-inverse-box\n                o -- .45\n              }\n\n              // accent\n              mar-r -- 3em-txt\n              mar-b -- 1em-txt\n              mar-t -- 1em-txt\n              &:after {\n                d -- block\n                content -- \'\'\n                pos -- absolute\n                t -- 0\n                b -- 0\n                r -- -2em-txt\n                w -- 1px\n                bg -- chroma-inverse-box-pop\n              }\n            }\n\n          }\n\n        }\n      '
    },

    'style--fairmont': {
      style: '\n        :scope-layout {\n\n          txt-align -- center\n\n          pos--a\n          t--0\n          b--0\n          l-- 1goldx\n          w-- -2goldx\n\n          box-szg--b\n\n          d--flx\n          flx-dir -- col\n          flx-aln -- mid\n          flx-jst -- around\n          z-idx -- 10\n\n\n          .layout-head {\n            d -- flx\n\n            // alt\n            flex-grow -- 1\n            flex-shrink -- 1\n            //flex-basis -- 0\n            flx-dir -- mid\n            flx-jst -- mid\n            flx-aln -- start\n            mar-b -- auto\n          }\n          .layout-body {\n            w -- 100%\n            flex-grow -- 0\n            flex-shrink -- 0\n            flex-basis -- auto\n          }\n          .layout-tail {\n            w -- 100%\n            d -- flx\n            flex-wrap -- wrap\n\n            // alt\n            flex-grow -- 1.3333333333333\n            flex-shrink -- 1\n            //flex-basis -- 0\n            mar-t -- 1em-d\n            mar-b -- auto\n            flx-dir -- row\n            flx-jst -- mid\n            align-items -- flex-start\n            align-content -- flex-start\n          }\n          .layout-bottom-margin {\n            //h -- 5em-txt\n            w -- 100%\n            flex-grow -- 0\n            flex-shrink -- 0\n            //flex-basis -- 5em-txt\n          }\n\n        }\n\n        :scope-actions {\n          flt--none !important\n          t--0\n          pos--relative\n          mar-t--0\n          //flx-grow -- 1\n          flx-shrink -- 1\n          //flx-basis -- 0px\n\n          d--flx\n          flx-aln--mid\n          flx-dir--row\n          fnt--d3\n          fnt-sz--txt-l\n\n          // alt\n          flx-jst -- mid\n\n          .password-input {\n            pad-t--.75em\n            pad-b--1em\n            pad-l--1.5em\n            pad-r--1.5em\n          }\n\n        }\n\n\n        :scope {\n          .pricing-mount {\n            //alt\n            w -- 100%\n            order -- 100\n            d -- flex\n            flx-aln -- mid\n            flx-jst -- mid\n          }\n          .featured-details {\n            d -- flx\n            flx-dir -- row\n            flx-jst -- btwn\n            flx-aln -- mid\n          }\n          .detail {\n            d -- flx\n            flx-dir -- col\n            flx-jst -- mid\n            flx-aln -- start\n\n            pos -- relative\n\n            &.semantic-key--featuredDetails {\n              pad -- 1em-txt 0\n              flx-grow -- 1\n              flx-shrink -- 1\n              flx-basis -- 0px\n\n              // alt\n              flx-aln -- mid\n\n              .detail_value {\n                fnt--num\n                fnt-sz--txt\n                mar-b -- .5em\n              }\n              .detail_label {\n                fnt--txt2\n                fnt-sz--txt-xs\n                mar-b -- 1em\n              }\n\n              .detail_label {\n                clr -- chroma-inverse-box\n                o -- .45\n              }\n              .detail_value {\n                clr -- chroma-text-pop\n              }\n\n              &:nth-of-type(even) {\n\n                .detail_value {\n                  clr -- chroma-text-pop2\n                }\n              }\n            }\n            &.semantic-key--pricing {\n              .detail_value {\n                fnt--num\n                fnt-sz--d-s\n              }\n              .detail_label {\n                fnt--txt2\n                fnt-sz--txt-s\n                order -- -1\n              }\n\n              .detail_value {\n                clr -- chroma-inverse-box\n              }\n              .detail_label {\n                //clr -- chroma-text-pop2\n                clr -- chroma-inverse-box\n                o -- .45\n              }\n\n              // alt\n              flx-aln -- mid\n\n              // accent\n\n              mar-t -- 4em-txt\n              &:after {\n                d -- block\n                content -- \'\'\n                pos -- absolute\n                t -- -1.5em-txt\n                h -- 2px\n                r -- -3em-txt\n                l -- -3em-txt\n                bg -- chroma-inverse-box-pop\n              }\n            }\n\n          }\n\n        }\n\n\n\n      '
    },

    'bg--dark-chroma-map': {
      style: '\n        :scope-bg {\n          box-sh -- 0 1px 2px hsla(0,0%,0%,.5)\n          bg-clr -- chroma-box\n\n          > .media {\n            chroma-filter--gradient-map\n            bg-clr -- chroma-box\n          }\n        }\n\n      '
    },

    'bg--dark-overlay': {
      style: '\n        :scope-bg {\n          box-sh -- 0 1px 2px hsla(0,0%,0%,.5)\n          bg-clr -- chroma-dark-bg\n\n          > .media {\n            o -- .333333\n          }\n        }\n      '
    }

  }
});

exports.default = Header;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 629 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _svg, _svgurl;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiSprung = __webpack_require__(64);

var _renderer = __webpack_require__(225);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;

var spring_presets = [{ friction: 8, tension: 100 }, { friction: 8, tension: 60 }, { friction: 7, tension: 80 }, { friction: 8, tension: 70 }];

var spring_configs = {
  'lines': {
    '+': {
      r_0: 0, o_0: 1,
      r_1: 90, o_1: 1,
      r_2: 0, o_2: 0,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    },
    '*': {
      r_0: 60, o_0: 1,
      r_1: 0, o_1: 1,
      r_2: -60, o_2: 1,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    },
    'x': {
      r_0: -45, o_0: 1,
      r_1: 45, o_1: 1,
      r_2: 0, o_2: 0,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    },
    '-': {
      r_0: -90, o_0: 1,
      r_1: 0, o_1: 0,
      r_2: 0, o_2: 0,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    }
  },
  'svg': (_svg = {
    r_0: 90, o_0: 0,
    r_2: -90, o_1: 0
  }, (0, _defineProperty3.default)(_svg, 'r_2', 90), (0, _defineProperty3.default)(_svg, 'o_2', 0), (0, _defineProperty3.default)(_svg, 'r_svg', 0), (0, _defineProperty3.default)(_svg, 'o_svg', 1), (0, _defineProperty3.default)(_svg, 'r_svgurl', -180), (0, _defineProperty3.default)(_svg, 'o_svgurl', 0), (0, _defineProperty3.default)(_svg, 'r_f', -360), (0, _defineProperty3.default)(_svg, 'o_f', 0), _svg),
  'svgurl': (_svgurl = {
    r_0: 90, o_0: 0,
    r_2: -90, o_1: 0
  }, (0, _defineProperty3.default)(_svgurl, 'r_2', 90), (0, _defineProperty3.default)(_svgurl, 'o_2', 0), (0, _defineProperty3.default)(_svgurl, 'r_svg', -180), (0, _defineProperty3.default)(_svgurl, 'o_svg', 0), (0, _defineProperty3.default)(_svgurl, 'r_svgurl', 0), (0, _defineProperty3.default)(_svgurl, 'o_svgurl', 1), (0, _defineProperty3.default)(_svgurl, 'r_f', -360), (0, _defineProperty3.default)(_svgurl, 'o_f', 0), _svgurl),
  'font': {
    r_0: 90, o_0: 0,
    r_1: -90, o_1: 0,
    r_2: 90, o_2: 0,
    r_svg: -360, o_svg: 0,
    r_svgurl: -360, o_svgurl: 0,
    r_f: 0, o_f: 1
  }
};

var count = 0;
var rootElStyle = { position: 'relative' };
var _className = 'icon icon-morphable';

var createVNode = Inferno.createVNode;

var IconMorphable = function (_React$Component) {
  (0, _inherits3.default)(IconMorphable, _React$Component);

  function IconMorphable() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, IconMorphable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = IconMorphable.__proto__ || (0, _getPrototypeOf2.default)(IconMorphable)).call.apply(_ref, [this].concat(args))), _this), _this.id = 'icon-morphable-' + count++, _this.springs = undefined, _this.last_lines_icon = undefined, _this.last_svg_icon = undefined, _this.last_svgurl_icon = undefined, _this.last_font_icon = undefined, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(IconMorphable, [{
    key: 'getId',
    value: function getId() {
      return this.props.id || this.id;
    }
  }, {
    key: 'springs_update',
    value: function springs_update(icon) {
      var config_key = (0, _renderer.get_icon_type)(icon);
      var config = config_key === 'lines' ? spring_configs[config_key][icon] : spring_configs[config_key];
      if (!config) throw new Error('morphable icon not recognized! ' + icon);
      var springs = this.springs;
      // if (this.last_lines_icon) {
      springs.set('r_0', config['r_0'], spring_presets[0]);
      springs.set('r_1', config['r_1'], spring_presets[1]);
      springs.set('r_2', config['r_2'], spring_presets[2]);
      springs.set('o_0', config['o_0'], spring_presets[0]);
      springs.set('o_1', config['o_1'], spring_presets[1]);
      springs.set('o_2', config['o_2'], spring_presets[2]);
      // }
      if (this.last_svg_icon) {
        springs.set('r_svg', config['r_svg'], spring_presets[3]);
        springs.set('o_svg', config['o_svg'], spring_presets[3]);
      }
      if (this.last_svgurl_icon) {
        springs.set('r_svgurl', config['r_svgurl'], spring_presets[3]);
        springs.set('o_svgurl', config['o_svgurl'], spring_presets[3]);
      }
      if (this.last_font_icon) {
        springs.set('r_f', config['r_f'], spring_presets[3]);
        springs.set('o_f', config['o_f'], spring_presets[3]);
      }
      springs.commit();
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      var id = this.getId();
      this.springs = new _uiSprung.Springs({ id: id });
      this.springs_sheet = createVNode(16, _uiSprung.SprungSheet, {
        'springs': this.springs,
        children: function children(_ref2) {
          var vals = _ref2.vals;

          var font_scaleX = _this2.last_font_icon === 'share' ? 'scaleX(-1)' : '';
          var r_0 = vals.r_0,
              o_0 = vals.o_0,
              r_1 = vals.r_1,
              o_1 = vals.o_1,
              r_2 = vals.r_2,
              o_2 = vals.o_2,
              r_svg = vals.r_svg,
              o_svg = vals.o_svg,
              r_svgurl = vals.r_svgurl,
              o_svgurl = vals.o_svgurl,
              r_f = vals.r_f,
              o_f = vals.o_f;

          var css = '';
          if (_this2.last_lines_icon) {
            css += '\n            #' + id + ' .icon-line-0 {\n              opacity: ' + o_0 + ';\n              transform: rotate(' + r_0 + 'deg) scale(' + o_0 + ');\n            }\n            #' + id + ' .icon-line-1 {\n              opacity: ' + o_1 + ';\n              transform: rotate(' + r_1 + 'deg) scale(' + o_1 + ');\n            }\n            #' + id + ' .icon-line-2 {\n              opacity: ' + o_2 + ';\n              transform: rotate(' + r_2 + 'deg) scale(' + o_2 + ');\n            }';
          }
          if (_this2.last_svg_icon) {
            css += '\n            #' + id + ' .icon-svg {\n              opacity: ' + o_svg + ';\n              transform: rotate(' + r_svg + 'deg) scale(' + o_svg + ');\n            }';
          }
          if (_this2.last_svgurl_icon) {
            css += '\n            #' + id + ' .icon-svgurl {\n              opacity: ' + o_svg + ';\n              transform: rotate(' + r_svgurl + 'deg) scale(' + o_svgurl + ');\n            }';
          }
          if (_this2.last_font_icon) {
            css += '\n            #' + id + ' .icon-font {\n              opacity: ' + o_f + ';\n              transform: rotate(' + r_f + 'deg) scale(' + o_f + ') ' + font_scaleX + ';\n            }';
          }
          return css;
        }
      }, null, null, 'SprungSheet-icon-morphable');
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.springs_update(this.props.children);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.springs_update(nextProps.children);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.last_lines_icon = undefined;
      this.last_svg_icon = undefined;
      this.last_svgurl_icon = undefined;
      this.last_font_icon = undefined;
      this.springs_sheet = undefined;
      this.springs.destroy();
      this.springs = undefined;
    }
  }, {
    key: 'render',
    value: function render() {
      var id = this.getId();
      var icon = this.props.children;
      var icon_type = (0, _renderer.get_icon_type)(icon);
      if (icon_type === 'lines') {
        this.last_lines_icon = icon;
      } else if (icon_type === 'svg') {
        this.last_svg_icon = icon;
      } else if (icon_type === 'svgurl') {
        this.last_svgurl_icon = icon;
      } else {
        this.last_font_icon = icon;
      }
      var className = this.props.className ? this.props.className + ' ' + _className : _className;
      var children = [this.springs_sheet];
      if (this.last_svg_icon) children.push((0, _renderer.renderer)(id, this.last_svg_icon, this.props));
      if (this.last_svgurl_icon) children.push((0, _renderer.renderer)(id, this.last_svgurl_icon, this.props));
      if (this.last_font_icon) children.push((0, _renderer.renderer)(id, this.last_font_icon, this.props));
      if (this.last_lines_icon) children.push((0, _renderer.renderer)(id, this.last_lines_icon, this.props));
      return createVNode(2, 'div', {
        'id': id,
        'className': className,
        'style': rootElStyle
      }, children);
    }
  }]);
  return IconMorphable;
}(_infernoCompat2.default.Component);

IconMorphable.displayName = 'IconMorphable';
IconMorphable.propTypes = {
  children: _infernoCompat2.default.PropTypes.string.isRequired, // '+' '*' 'x'
  iconWeight: _infernoCompat2.default.PropTypes.number.isRequired,
  iconSize: _infernoCompat2.default.PropTypes.number.isRequired
};
IconMorphable.defaultProps = {
  children: null,
  iconWeight: 2,
  iconSize: 14
};
exports.default = IconMorphable;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 630 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _iconMorphable = __webpack_require__(629);

var _iconMorphable2 = _interopRequireDefault(_iconMorphable);

var _renderer = __webpack_require__(225);

var _renderer2 = _interopRequireDefault(_renderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Icon(props) {
  if (!props.children) throw new Error('Icon requires children as lookup to icon renderer');
  if (props.morphable) return _infernoCompat2.default.createElement(_iconMorphable2.default, props);
  var className = props.className || '';
  className += ' icon';
  var id = props.id;
  var style = props.style || {};
  //style.width = style.height = 24
  style.width = style.height = '1em';
  style.display = 'inline-block';
  style.position = 'relative';
  return _infernoCompat2.default.createElement('div', { id: id, className: className, style: style }, (0, _renderer2.default)(id, props.children, props));
}
exports.default = Icon;
module.exports = exports['default'];

/***/ }),
/* 631 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _uiLogoLoader = __webpack_require__(653);

var _uiLogoLoader2 = _interopRequireDefault(_uiLogoLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var cancelScrollEvent = function cancelScrollEvent(e) {
  e.stopImmediatePropagation();
  e.preventDefault();
  e.returnValue = false;
  return false;
};

var addScrollEventListener = function addScrollEventListener(elem, handler) {
  elem.addEventListener('wheel', handler, false);
};

var removeScrollEventListener = function removeScrollEventListener(elem, handler) {
  elem.removeEventListener('wheel', handler, false);
};

var createVNode = Inferno.createVNode;

var IFrame = function (_Component) {
  (0, _inherits3.default)(IFrame, _Component);

  function IFrame() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, IFrame);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = IFrame.__proto__ || (0, _getPrototypeOf2.default)(IFrame)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      loading: false
    }, _this.scrollHandler = function (e) {
      var elem = _this.wrap_el;
      var scrollTop = elem.scrollTop;
      var scrollHeight = elem.scrollHeight;
      var height = elem.clientHeight;
      var wheelDelta = e.deltaY;
      var isDeltaPositive = wheelDelta > 0;

      if (isDeltaPositive && wheelDelta > scrollHeight - height - scrollTop) {
        elem.scrollTop = scrollHeight;
        return cancelScrollEvent(e);
      } else if (!isDeltaPositive && -wheelDelta > scrollTop) {
        elem.scrollTop = 0;
        return cancelScrollEvent(e);
      }
    }, _this.didLoad = function () {
      _this.setState({
        loading: false
      });
    }, _this.wrap_el = undefined, _this.wrap_ref = function (el) {
      _this.wrap_el = el;
    }, _this.iframe_el = undefined, _this.iframe_ref = function (el) {
      _this.iframe_el = el;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(IFrame, [{
    key: 'scrollLock',
    value: function scrollLock() {
      addScrollEventListener(this.wrap_el, this.scrollHandler);
    }
  }, {
    key: 'scrollRelease',
    value: function scrollRelease(elem) {
      removeScrollEventListener(this.wrap_el, this.scrollHandler);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.didLoad();
      this.startLoading();
      this.timeOut = setTimeout(this.didLoad, 666);
      // this.iframe_el.contentWindow.document.addEventListener('DOMContentLoaded', this.didLoad)
      // this.scrollLock()
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      // if (this.props.url != nextProps.url) {
      //  this.startLoading()
      // }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      // this.iframe_el.contentWindow.document.removeEventListener('DOMContentLoaded', this.didLoad)
      clearTimeout(this.timeOut);
      this.scrollRelease();
      this.wrap_el = undefined;
      this.iframe_el = undefined;
    }
  }, {
    key: 'startLoading',
    value: function startLoading() {
      this.setState({
        loading: true
      });
    }
  }, {
    key: 'getStyle',
    value: function getStyle() {
      var defaultStyle = {
        position: 'absolute',
        top: '0px',
        bottom: '0px',
        left: '0px',
        right: '0px',
        zIndex: '50',
        border: '0px'
      };

      var style = (0, _assign2.default)({}, this.props.style || defaultStyle);
      style['display'] = this.props.show ? 'block' : 'none';
      return style;
    }
  }, {
    key: 'getDefaultIframeStyle',
    value: function getDefaultIframeStyle() {
      return {
        position: 'absolute',
        width: '100%',
        height: '100%',
        border: '0px'
      };
    }
  }, {
    key: 'renderLoader',
    value: function renderLoader() {
      var loadingStyle = (0, _assign2.default)({}, this.props.loadingStyle);
      loadingStyle['display'] = this.props.show ? 'block' : 'none';
      return createVNode(2, 'div', {
        'style': { position: 'absolute', left: 0, right: 0, bottom: 0, top: 0 }
      }, [createVNode(2, 'div', {
        'className': 'color-bg',
        'style': { opacity: .5, position: 'absolute', left: 0, right: 0, bottom: 0, top: 0 }
      }), createVNode(16, _uiLogoLoader2.default)]);
    }
  }, {
    key: 'render',
    value: function render() {
      var styles = this.getStyle();
      var url = this.props.url;
      // url = ''

      var iframeStyle = (0, _assign2.default)({}, this.getDefaultIframeStyle(), this.props.iframeStyle);
      iframeStyle['display'] = this.props.show ? 'block' : 'none';

      return createVNode(2, 'div', {
        'style': styles,
        'className': this.props.className
      }, [createVNode(2, 'iframe', {
        'style': iframeStyle,
        'src': url,
        'frameBorder': '0',
        'sandbox': this.props.sandbox,
        'allowFullScreen': true
      }, null, null, null, this.iframe_ref), this.state.loading ? this.renderLoader() : null], null, null, this.wrap_ref);
    }
  }]);
  return IFrame;
}(_uiComponentDeprecated2.default);

IFrame.displayName = 'IFrame';
IFrame.propTypes = {
  url: _infernoCompat2.default.PropTypes.string.isRequired,
  show: _infernoCompat2.default.PropTypes.bool
};
IFrame.defaultProps = {
  url: 'http://about:blank',
  show: true,
  loadingStyle: {},
  iframeStyle: {},
  sandbox: 'allow-scripts'
};
exports.default = IFrame;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 632 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.shouldComponentUpdate = shouldComponentUpdate;
exports.shouldComponentUpdateContext = shouldComponentUpdateContext;
var shallowEqual = __webpack_require__(181);
/**
 *  @module PureRender
 */

/**
 * shouldComponentUpdate without context.
 *
 * @requires shallowEqual
 *
 * @param {Object} nextProps
 * @param {Object} nextState
 *
 * @returns {boolean}
 */
function shouldComponentUpdate(nextProps, nextState) {
  return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);
}

/**
 * shouldComponentUpdate with context.
 *
 * @requires shallowEqual
 *
 * @param {Object} nextProps
 * @param {Object} nextState
 * @param {Object} nextContext
 *
 * @returns {boolean}
 */
function shouldComponentUpdateContext(nextProps, nextState, nextContext) {
  return !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState) || !shallowEqual(this.context, nextContext);
}

exports.default = { shouldComponentUpdate: shouldComponentUpdate, shouldComponentUpdateContext: shouldComponentUpdateContext };

/***/ }),
/* 633 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _uiResizeRenderer = __webpack_require__(233);

var _uiResizeRenderer2 = _interopRequireDefault(_uiResizeRenderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var React = __webpack_require__(0);

var isNumber = __webpack_require__(339);
var justifiedLayout = __webpack_require__(337);
var map = __webpack_require__(340);

var take = __webpack_require__(342);
var zip = __webpack_require__(344);

function extractDimension(_ref) {
  var props = _ref.props;

  if (!props) {
    // TODO
    return 0;
  }

  if (props.aspectRatio) {
    return props.aspectRatio;
  } else {
    return { height: props.style.height, width: props.style.width };
  }
  // TODO Measure the element if no props are here?
}

function normalizeDimension(dimension) {
  if (isNumber(dimension)) {
    return dimension;
  } else if (dimension.height && dimension.width) {
    return dimension.width / dimension.height;
  } else {
    return 0;
  }
}

var Style = { position: 'relative' };

var JustPropTypes = {
  boxSpacing: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.shape({
    horizontal: React.PropTypes.number.isRequired,
    vertical: React.PropTypes.number.isRequired
  })]),
  children: React.PropTypes.node,
  containerPadding: React.PropTypes.oneOfType([React.PropTypes.number, React.PropTypes.shape({
    bottom: React.PropTypes.number.isRequired,
    left: React.PropTypes.number.isRequired,
    right: React.PropTypes.number.isRequired,
    top: React.PropTypes.number.isRequired
  })]),
  containerWidth: React.PropTypes.number,
  forceAspectRation: React.PropTypes.oneOfType([React.PropTypes.boolean, React.PropTypes.number]),
  fullWidthBreakoutRowCadence: React.PropTypes.oneOfType([React.PropTypes.boolean, React.PropTypes.number]),
  maxNumRows: React.PropTypes.number,
  showWidows: React.PropTypes.bool,
  targetRowHeight: React.PropTypes.number,
  targetRowHeightTolerance: React.PropTypes.number,
  widowLayoutStyle: React.PropTypes.string
};

var JustDefaultProps = {
  boxSpacing: 10,
  containerPadding: 10,
  containerWidth: 1060,
  forceAspectRation: false,
  fullWidthBreakoutRowCadence: false,
  maxNumRows: Number.POSITIVE_INFINITY,
  showWidows: true,
  targetRowHeight: 320,
  targetRowHeightTolerance: 0.25,
  widowLayoutStyle: 'left'
};

var createVNode = Inferno.createVNode;

var JustifiedLayout = function (_React$Component) {
  (0, _inherits3.default)(JustifiedLayout, _React$Component);

  function JustifiedLayout() {
    (0, _classCallCheck3.default)(this, JustifiedLayout);
    return (0, _possibleConstructorReturn3.default)(this, (JustifiedLayout.__proto__ || (0, _getPrototypeOf2.default)(JustifiedLayout)).apply(this, arguments));
  }

  (0, _createClass3.default)(JustifiedLayout, [{
    key: 'render',

    // See http://flickr.github.io/justified-layout/ for an explanation of what these props do
    value: function render() {
      var _props = this.props,
          children = _props.children,
          style = _props.style,
          config = (0, _objectWithoutProperties3.default)(_props, ['children', 'style']);

      var childDims = React.Children.map(children, extractDimension);
      childDims = childDims.map(normalizeDimension);

      var _justifiedLayout = justifiedLayout(childDims, config),
          containerHeight = _justifiedLayout.containerHeight,
          boxes = _justifiedLayout.boxes;

      var elementLayout = zip(take(children, boxes.length), boxes);
      return createVNode(2, 'div', {
        'style': (0, _extends3.default)({}, Style, style, { height: containerHeight, width: this.props.containerWidth })
      }, map(elementLayout, function (_ref2) {
        var _ref3 = (0, _slicedToArray3.default)(_ref2, 2),
            element = _ref3[0],
            layout = _ref3[1];

        var height = layout.height,
            left = layout.left,
            top = layout.top,
            width = layout.width;

        return React.cloneElement(element, (0, _extends3.default)({}, element.props, {
          style: (0, _extends3.default)({}, element.props.style, {
            position: 'absolute',
            height: height, left: left, top: top, width: width
          })
        }));
      }));
    }
  }]);
  return JustifiedLayout;
}(React.Component);

module.exports = function (props) {
  var id = props.id,
      className = props.className,
      style = props.style,
      other = (0, _objectWithoutProperties3.default)(props, ['id', 'className', 'style']);

  return createVNode(16, _uiResizeRenderer2.default, {
    'id': id,
    'className': className,
    'style': style,
    children: function children(size) {
      var containerWidth = size.get('width');
      if (!containerWidth) return null;
      return createVNode(16, JustifiedLayout, (0, _extends3.default)({}, other, {
        'containerWidth': containerWidth
      }), null, null, 'JustifiedLayout');
    }
  }, null, null, id);
};
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 634 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VideoNode = exports.LayoutverseSheet = exports.LayoutverseRoot = exports.LayoutNode = exports.Layout = undefined;

var _layout = __webpack_require__(635);

var _layout2 = _interopRequireDefault(_layout);

var _layoutNode = __webpack_require__(226);

var _layoutNode2 = _interopRequireDefault(_layoutNode);

var _layoutverseRoot = __webpack_require__(636);

var _layoutverseRoot2 = _interopRequireDefault(_layoutverseRoot);

var _layoutverseSheet = __webpack_require__(227);

var _layoutverseSheet2 = _interopRequireDefault(_layoutverseSheet);

var _videoNode = __webpack_require__(637);

var _videoNode2 = _interopRequireDefault(_videoNode);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//import LayoutContent from './layout-content'
//import LayoutItem from './layout-item'
exports.Layout = _layout2.default;
exports.LayoutNode = _layoutNode2.default;
exports.LayoutverseRoot = _layoutverseRoot2.default;
exports.LayoutverseSheet = _layoutverseSheet2.default;
exports.VideoNode = _videoNode2.default;
//import LayoutSheet from './layout-sheet'

/***/ }),
/* 635 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _uiScrollContext = __webpack_require__(235);

var _layoutNode = __webpack_require__(226);

var _layoutNode2 = _interopRequireDefault(_layoutNode);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Layout = function (_React$Component) {
  (0, _inherits3.default)(Layout, _React$Component);

  function Layout() {
    (0, _classCallCheck3.default)(this, Layout);
    return (0, _possibleConstructorReturn3.default)(this, (Layout.__proto__ || (0, _getPrototypeOf2.default)(Layout)).apply(this, arguments));
  }

  (0, _createClass3.default)(Layout, [{
    key: 'didInstallStore',
    value: function didInstallStore() {
      this.store.willMount(this);
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.store.didMount(this);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(p) {
      if (p.virtual !== this.props.virtual) throw new Error("Layout props.virtual cannot be updated once mounted");
      this.store.updateProps(p);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.store.didUpdate();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount();
      this.store = undefined;
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          id = _props.id,
          tag = _props.tag,
          className = _props.className,
          layoutSheet = _props.layoutSheet,
          children = _props.children,
          alwaysUpdate = _props.alwaysUpdate;

      if (!className) className = '';
      className += " component--layout";
      var nodeProps = {
        key: "nodes",
        layoutRole: "content",
        id: id,
        tag: tag,
        index: -1,
        layoutSheet: layoutSheet,
        className: className,
        alwaysUpdate: !!children || alwaysUpdate
      };
      if (!children) return _deps.React.createElement(_layoutNode2.default, nodeProps);
      return _deps.React.createElement(_layoutNode2.default, nodeProps, children);
    }
  }]);
  return Layout;
}(_deps.React.Component);

Layout.displayName = 'Layout';
Layout.propTpes = {
  id: _deps.PropTypes.string,
  tag: _deps.PropTypes.string.isRequired,
  type: _deps.PropTypes.string.isRequired,
  className: _deps.PropTypes.string,
  itemCount: _deps.PropTypes.number.isRequired,
  renderer: _deps.PropTypes.func.isRequired,
  virtual: _deps.PropTypes.bool.isRequired,
  alwaysUpdate: _deps.PropTypes.bool,
  draggableOrder: _deps.PropTypes.bool.isRequired,
  onOrderChange: _deps.PropTypes.func.isRequired,
  draggable: _deps.PropTypes.bool
};
Layout.defaultProps = {
  virtual: true,
  tag: 'div',
  frameId: 'viewport', // 'self'
  draggableOrder: false,
  onOrderChange: function onOrderChange() {
    if (this.props.draggableOrder) throw new Error('Layout.Context must have props.onOrderChange if props.draggableOrder');
  }
};

Layout = _layoutverse2.default.enhance(Layout, 'layout');
exports.default = Layout;
module.exports = exports['default'];

/***/ }),
/* 636 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

var _layoutverseSheet = __webpack_require__(227);

var _layoutverseSheet2 = _interopRequireDefault(_layoutverseSheet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//import React, {PropTypes} from 'inferno-compat'
var createVNode = Inferno.createVNode;

var LayoutverseRoot = function (_React$Component) {
  (0, _inherits3.default)(LayoutverseRoot, _React$Component);

  function LayoutverseRoot() {
    (0, _classCallCheck3.default)(this, LayoutverseRoot);
    return (0, _possibleConstructorReturn3.default)(this, (LayoutverseRoot.__proto__ || (0, _getPrototypeOf2.default)(LayoutverseRoot)).apply(this, arguments));
  }

  (0, _createClass3.default)(LayoutverseRoot, [{
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', {
        'id': 'LayoutverseRoot'
      }, [createVNode(16, _layoutverseSheet2.default), this.props.children]);
    }
  }]);
  return LayoutverseRoot;
}(_deps.React.Component);

LayoutverseRoot.displayName = "LayoutverseRoot";
LayoutverseRoot.propTypes = {
  children: _deps.PropTypes.object.isRequired
};


LayoutverseRoot = (0, _cymatics.installStore)(LayoutverseRoot, 'layoutverse', function () {
  return _layoutverse2.default;
});

exports.default = LayoutverseRoot;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 637 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function NOOP() {}
var count = 0;

var createVNode = Inferno.createVNode;

var VideoNode = function (_React$Component) {
  (0, _inherits3.default)(VideoNode, _React$Component);

  function VideoNode() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, VideoNode);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = VideoNode.__proto__ || (0, _getPrototypeOf2.default)(VideoNode)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      asyncState: undefined
    }, _this.id = 'VideoNode-' + count++, _this.prevAsyncState = undefined, _this.videoElement = undefined, _this.handleVideoElement = function (videoElement) {
      if (_this.NOOO) return;
      _this.videoElement = videoElement;
    }, _this.handleAsyncState = function (next, prev) {
      _this.prevAsyncState = prev;
      _this.setState({ asyncState: next }, NOOP);
    }, _this.canUnload = true, _this.needsUnload = false, _this.wasVisible = false, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(VideoNode, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.superNode = this.context.stores['layout-node'];
      this.superNode.connectAsyncLifeCycle(this.handleAsyncState);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      //this.NOOO = true
      this.superNode.disconnectAsyncLifeCycle(this.handleAsyncState);
      this.superNode = undefined;
      this.videoElement = undefined;
      this.prevAsyncState = undefined;
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.didRender();
    }
    // componentDidMount() {
    //   this.didRender()
    // }

  }, {
    key: 'didRender',
    value: function didRender() {
      var _this2 = this;

      if (this.prevAsyncState === 'visible') {} else if (this.state.asyncState === 'visible') {
        this.wasVisible = true;

        var playPromise = this.videoElement.play();
        if (playPromise !== undefined) {
          this.canUnload = false;
          playPromise.then(function () {
            if (!_this2.videoElement) return;
            if (_this2.needsUnload) {
              _this2.videoElement.load();
              _this2.needsUnload = false;
            }
            // Automatic playback started!
            _this2.canUnload = true;
          }).catch(function (error) {
            if (!_this2.videoElement) return;
            if (_this2.needsUnload) {
              _this2.videoElement.load();
              _this2.needsUnload = false;
            }
            _this2.canUnload = true;
            // Automatic playback failed.
            // Show a UI element to let the user manually start playback.
          });
        }
      } else if (this.state.asyncState === 'preload' && this.wasVisible) {
        // if no longer visible, stop the download of media with el.load()
        // assuming sources have been removed in `this.renderSources()`
        // https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Using_HTML5_audio_and_video#Stopping_the_download_of_media
        if (this.canUnload) {
          this.videoElement.load();
          this.needsUnload = false;
        } else {
          this.needsUnload = true;
        }
      }
    }
  }, {
    key: 'render',
    value: function render() {
      var _this3 = this;

      var sources = this.renderSources();
      if (!sources) return createVNode(2, 'video', (0, _extends3.default)({}, this.renderProps()));
      return createVNode(2, 'video', (0, _extends3.default)({}, this.renderProps()), sources, {
        'onClick': function onClick() {
          _this3.videoElement.pause();
        }
      });
    }
  }, {
    key: 'renderProps',
    value: function renderProps() {
      var _props = this.props,
          id = _props.id,
          className = _props.className,
          autoplay = _props.autoplay,
          playsinline = _props.playsinline,
          loop = _props.loop,
          muted = _props.muted;

      var asyncState = this.state.asyncState;
      var preload = void 0;
      if (asyncState === 'visible') {
        autoplay = true;
        preload = 'auto';
      } else if (asyncState === 'display') {
        autoplay = undefined;
        preload = 'none';
      } else {
        //if (asyncState === 'preload') {
        autoplay = undefined;
        preload = 'none';
      }

      if (!id) id = this.id;
      return {
        id: id,
        className: className,
        autoPlay: autoplay,
        playsInline: playsinline,
        loop: loop,
        muted: true,
        ref: this.handleVideoElement,
        preload: preload
      };
    }
  }, {
    key: 'renderSources',
    value: function renderSources() {
      var asyncState = this.state.asyncState;
      //if (asyncState !== 'visible') {
      //  return null
      //}
      if (asyncState === 'preload') {
        return null;
      }
      var sources = this.props.sources;
      if (!(sources instanceof Array)) return this.renderSource(sources);
      var renderedSources = [];
      for (var i = 0; i < sources.length; i++) {
        var source = sources[i];
        renderedSources.push(this.renderSource(source, i));
      }
      return renderedSources;
    }
  }, {
    key: 'renderSource',
    value: function renderSource(source) {
      var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;

      if (typeof source !== 'string') throw new Error("VideoNode source must be type string, source = " + source);
      var extension = source.substr(source.lastIndexOf('.') + 1, source.length);
      return createVNode(2, 'source', {
        'type': "video/" + extension,
        'src': source
      }, null, null, 'source-' + i);
    }
  }]);
  return VideoNode;
}(_deps.React.Component);

VideoNode.displayName = "VideoNode";
VideoNode.propTypes = {
  id: _deps.PropTypes.string,
  className: _deps.PropTypes.string,
  src: _deps.PropTypes.string,
  sources: _deps.PropTypes.any,
  autoplay: _deps.PropTypes.bool,
  playsinline: _deps.PropTypes.bool,
  loop: _deps.PropTypes.bool,
  muted: _deps.PropTypes.bool
};
VideoNode.defaultProps = {
  autoplay: true,
  playsinline: true,
  loop: true,
  muted: true
};
VideoNode.contextTypes = {
  stores: _deps.PropTypes.object.isRequired
};
exports.default = VideoNode;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 638 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

exports.default = function (Component, storeName) {
  return (0, _cymatics.installStore)(Component, storeName, function (_ref) {
    var component = _ref.component;

    var store = _layoutverse2.default.createStore(component, storeName);
    return store;
  });
};

var _cymatics = __webpack_require__(12);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = exports['default'];

/***/ }),
/* 639 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _deps = __webpack_require__(13);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function styleMerger(prev, next, key) {
  if (next === undefined) return prev;
  if (next === null) return prev;
  if (prev === undefined) return next;
  if (prev === null) return next;
  var isMin = key.indexOf('min-') === 0;
  var isMax = key.indexOf('max-') === 0;
  var isMinOrMax = isMin || isMax;
  if (!isMinOrMax) return next;
  // TODO!
  var next_isNum = !isNaN(next);
  var prev_isNum = !isNaN(prev);
  var both_isNum = next_isNum && prev_isNum;
  var isWidth = key.endsWith('width');
  var isHeight = key.endsWith('height');
  var isSize = isWidth || isHeight;
  if (isSize) {
    if (both_isNum) {
      if (isMin) return Math.max(prev, next);
      if (isMax) return Math.min(prev, next);
      return next;
    }
  }
  return next;
}

exports.default = {

  id: undefined,
  index: undefined,
  //tag: undefined,
  //className: {default: ''},
  layoutRole: undefined,
  layoutSheet: undefined,
  interfaceState: undefined, // 'visible' 'display' 'preload'

  //layout: undefined,
  layout: {
    cache: false,
    instanceCache: false,
    deps: ['id'],
    get: function get(id) {
      if (!id) return undefined;
      var layout = _layoutverse2.default.getById('node', id).layout;
      return layout;
    }
  },

  parent: {
    cache: false,
    instanceCache: false,
    deps: ['id'],
    get: function get(id) {
      if (!id) return undefined;
      return _layoutverse2.default.getById('node', id).parent;
    }
  },

  sheet: {
    cache: false,
    instanceCache: false,
    deps: ['id'],
    get: function get(id) {
      // from this store
      return _layoutverse2.default.getById('node', id).sheet;
    }
  },

  measureRect: {
    cache: false,
    deps: ['id'],
    get: function get(id) {
      // from this state's store
      return _layoutverse2.default.getById('node', id).measureRect;
    }
  },

  rect: {
    cache: 1,
    instanceCache: true,
    deps: ['id'],
    get: function get(id) {
      // from this state's store
      return _layoutverse2.default.getById('node', id).measureRect();
    },
    depHashCode: function depHashCode() {
      return this.get('computedStyle_depHashCode');
    }
  },

  style: {
    cache: false,
    deps: ['parent.sheet.child-nodes', 'sheet.node'],
    get: function get(a, b) {
      var toMerge = undefined;
      if (a) {
        if (!toMerge) {
          toMerge = [a];
        }
      }
      if (b) {
        if (!toMerge) {
          toMerge = [b];
        } else {
          toMerge.push(b);
        }
      }
      if (!toMerge) return undefined;
      if (toMerge.length === 1) return toMerge[0];
      if (toMerge.length === 2) return toMerge[0].mergeWith(styleMerger, toMerge[1]);
      throw new Error("!~!!!!!");
    }
  },

  width: {
    cache: false,
    deps: ['sizeProp'],
    get: function get(sizeProp) {
      return sizeProp('width');
    }
  },
  height: {
    cache: false,
    deps: ['sizeProp'],
    get: function get(sizeProp) {
      var height = sizeProp('height');
      //console.log({id: this.get('id'),height})
      return height;
    }
  },
  sizeProp: {
    cache: false,
    params: ['key'],
    deps: ['style'],
    get: function get(key, style) {
      /*
      The value of min-height overrides both max-height and height.
       TODO:
        min-height: max-content;
        min-height: min-content;
        min-height: fit-content;
        min-height: fill-available;
      */

      if (!style) return undefined;
      var val = style.get(key);
      var val_type = typeof val === 'undefined' ? 'undefined' : (0, _typeof3.default)(val);
      var val_isNum = val_type === "number";

      var min = style.get('min' + key);
      var min_type = typeof min === 'undefined' ? 'undefined' : (0, _typeof3.default)(min);
      var min_isNum = min_type === "number";
      if (min && !min_isNum) throw new Error('min-' + key + ' is invalid: ' + min);

      var max = style.get('max' + key);
      var max_type = typeof max === 'undefined' ? 'undefined' : (0, _typeof3.default)(max);
      var max_isNum = max_type === "number";
      if (max && !max_isNum) throw new Error('max-' + key + ' is invalid: ' + max);

      if (val === undefined) {
        if (min_isNum) return min;
        if (max_isNum) return max;
        return undefined;
      }

      if (val_isNum) {
        if (max_isNum) {
          if (val > max) val = max;
        }
        // else if (max) { }
        if (min_isNum) {
          if (val < min) val = min;
        }
        // else if (min) { }
        return val;
      }

      // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      return val;
    }
  },

  computedStyle: {
    cache: true,
    instanceCache: true,
    deps: ['style', 'width', 'height', 'layout.computedStyles'],
    depMap: {
      'layout.computedStyles': function layoutComputedStyles(computedStyles) {
        if (!computedStyles) return undefined;
        return computedStyles.get(this.get('id'));
      }
    },
    get: function get(style, width, height, fromLayout) {
      if (!style) {
        if (fromLayout) return fromLayout;
        return undefined;
      }
      var toMerge = void 0;
      if (typeof width === 'number') {
        if (!toMerge) toMerge = { width: width };
      }
      if (typeof height === 'number') {
        if (!toMerge) toMerge = {};
        toMerge['height'] = height;
      }
      if (fromLayout) style = style.merge(fromLayout);
      if (!toMerge) return style;
      return style.merge(toMerge);
    },
    depHashCode: function depHashCode() {
      return this.get('computedStyle_depHashCode');
    }
  },
  computedStyle_depHashCode: {
    cache: false,
    deps: ['id'],
    get: function get(id) {
      var child_string = this.get('parent.sheet.child-nodes_string');
      var node_string = this.get('sheet.node_string');
      var computedStyles = this.get('layout.computedStyles');
      var hash = '';
      if (child_string) hash += child_string;
      if (node_string) hash += node_string;
      if (computedStyles) computedStyles = computedStyles.get(id);
      if (computedStyles) hash += computedStyles.hashCode();
      if (!hash) hash = undefined;
      return hash;
    }
  },

  css: {
    cache: true,
    instanceCache: true,
    deps: ['id', 'computedStyle'],
    get: function get(id, computedStyle) {
      if (!computedStyle) return undefined;
      //let style = computedStyle.toJS()
      var keys = computedStyle.keySeq();
      var css = '#';
      css += id;
      css += " { display: flex; ";
      for (var i = 0; i < keys.size; i++) {
        var key = keys.get(i);
        var val = computedStyle.get(key);
        if (val === 'intrinsic') continue;
        if (val === undefined) continue;
        if (val === null) continue;
        css += key;
        css += ': ';
        css += typeof val === 'number' ? val + 'px' : val;
        css += '; ';
      }
      css += " } ";
      return css;
    },
    depHashCode: function depHashCode() {
      return this.get('computedStyle_depHashCode') + this.get('id');
    }
  },

  //frameId: undefined,
  //computedStyle: undefined,

  nodeDepClass: {
    cache: false,
    deps: ['layoutRole', 'layout.isUniform', 'layout.isGenerated', 'layoutSheet', 'layout.virtual', 'sheet.node_string', 'parent.sheet.child-nodes_string'],
    get: function get(layoutRole, isUniform, isGenerated, layoutSheet, virtualized, sheetString, parentSheetString) {
      var dynamic = 0;
      var recyclable = 0;
      var handleScroll = 0;
      var handleRect = 0;
      var hasSheet = 0;
      var handleTotalSize = 0;
      var handleChildren = 0;
      var needsProps = 0;

      var sheetHasIntrinsic = !sheetString ? false : sheetString.includes('intrinsic');
      var parentSheetHasIntrinsic = !parentSheetString ? false : parentSheetString.includes('intrinsic');
      handleRect = sheetHasIntrinsic || parentSheetHasIntrinsic ? 1 : 0;

      if (layoutRole === 'content') {
        if (!layoutSheet) throw new Error('LayoutContent must have layoutSheet');
        dynamic = 1;
        hasSheet = 1;
        needsProps = 1;
        handleTotalSize = 1;
        //handleRect = -1 // don't know yet, can't tell with all styles
        if (virtualized) {
          handleRect = 1;
          handleScroll = 1;
        }
      } else if (!isUniform) {
        if (layoutSheet) {
          dynamic = 1;
          hasSheet = 1;
          /*
            min-height: max-content;
            min-height: min-content;
            min-height: fit-content;
            min-height: fill-available;
          */
          //handleRect = -1 // don't know yet, can't tell with all styles
          // TODO !!!!!
          if (layoutSheet.includes('fill-size')) handleTotalSize = 1;
          if (layoutSheet.includes('children-size')) handleChildren = 1;
        } else {
          if (virtualized) recyclable = 1;
        }
      } else if (isGenerated) {
        if (virtualized) recyclable = 1;
      }
      if (layoutRole === 'item' && isGenerated) needsProps = 1;
      return (0, _deps.Map)({
        dynamic: dynamic,
        recyclable: recyclable,
        handleScroll: handleScroll,
        handleRect: handleRect,
        hasSheet: hasSheet,
        handleTotalSize: handleTotalSize,
        handleChildren: handleChildren,
        needsProps: needsProps
      });
    }
  }
};
module.exports = exports['default'];

/***/ }),
/* 640 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _immutable = __webpack_require__(6);

var _OverridesStruct = __webpack_require__(643);

var _virtualizer = __webpack_require__(650);

var _virtualizer2 = _interopRequireDefault(_virtualizer);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable */

var DEBUG = false;

var EMPTY_OVERRIDES_STRUCT = new _OverridesStruct.OverridesStruct();

exports.default = {

  id: undefined,
  type: undefined,
  virtual: undefined,
  layoutSheet: undefined,
  nodesToRender: undefined,
  layoutValue: { default: .61 }, // TODO rename, maybe move to Grid...
  idsToRender: undefined,
  computedStyles: undefined,
  indicesToRender: {
    set: function set(_indicesToRender) {
      return { _indicesToRender: _indicesToRender };
    },
    cache: false,
    deps: ['_indicesToRender', 'allNonVirtualIndices'],
    get: function get(_indicesToRender, allNonVirtualIndices) {
      if (_indicesToRender && _indicesToRender.size) return _indicesToRender;
      return allNonVirtualIndices;
    }
  },
  _indicesToRender: undefined,
  isScrolling: false, // TODO: Remove, if a component needs it, just connect to ScrollStore

  //
  overscan: { default: 2 },
  retainRendered: false,
  trailingPreloadScreenfuls: {
    default: .1
  },
  trailingDisplayScreenfuls: {
    default: .5
  },
  leadingDisplayScreenfuls: {
    default: 1.5
  },
  leadingPreloadScreenfuls: {
    default: .1
  },

  //
  draggable: {
    default: false
  },

  //

  layoutConfig: {
    // computed style obj for layoutSheet selector `:layout { ... }`
    cache: true,
    instanceCache: true,
    deps: ['contentNode.sheet.layout', 'defaultLayoutConfig'],
    get: function get(layout, defaultLayoutConfig) {
      // no contentNode.sheet.layout, then nothing
      if (!layout) return undefined;
      return defaultLayoutConfig.merge(layout);
    },
    depHashCode: function depHashCode() {
      var id = this.get('id');
      var node = _layoutverse2.default.getById('node', id);
      if (node) return node.get('sheet.layout_string');
      return id;
    }
  },

  defaultLayoutConfig: {
    default: (0, _immutable.Map)({
      'sizing': 'dynamic', // uniform, intrinsic
      'gutter': 0
    })
  },

  defaultRowHeight: {
    deps: ['type'],
    get: function get(type) {
      throw new Error('Layout type: ' + type + ' must implement defaultRowHeight');
    }
  },

  isReady: {
    cache: false,
    deps: ['isReadyToCompute', 'idsToRender'],
    get: function get(isReadyToCompute, idsToRender) {
      if (DEBUG) console.log("^^^^^ layout isReadyToCompute()", this.get('id'), { isReadyToCompute: isReadyToCompute, indicesToRender: indicesToRender });
      if (!idsToRender) return false;
      if (!idsToRender.size) return false;
      return isReadyToCompute;
    }
  },

  isReadyToCompute: {
    cache: false,
    deps: ['width', 'virtual', 'contentNode.measureRect', 'contentNode.sheet', 'isGenerated', 'virtualizerIsValid'],
    get: function get(width, virtual, measureRect, contentNodeSheet, isGenerated, virtualizerIsValid) {
      if (DEBUG) console.log("^^^^^ layout isReadyToCompute()", this.get('id'), { width: width, virtual: virtual, measureRect: measureRect, contentNodeSheet: contentNodeSheet, isGenerated: isGenerated, virtualizerIsValid: virtualizerIsValid });
      if (!contentNodeSheet) return false;
      if (isGenerated) {
        if (virtual && !measureRect) return false;
      }
      if (!virtualizerIsValid) return false;
      return !!width;
    }
  },

  isUniform: {
    cache: false,
    deps: ['layoutConfig.sizing'],
    get: function get(sizing) {
      return sizing === 'uniform';
    }
  },

  isGenerated: {
    cache: false,
    deps: ['_itemCount'],
    get: function get(_itemCount) {
      return typeof _itemCount === 'number';
    }
  },

  rowCount: {
    deps: ['type'],
    get: function get(type) {
      throw new Error('Layout type: ' + type + ' must implement rowCount');
    }
  },

  contentNode: {
    cache: 1,
    instanceCache: true,
    deps: ['id'],
    get: function get(id) {
      return _layoutverse2.default.getById('node', id);
    },
    depHashCode: function depHashCode() {
      // assumption: layout.id === layout.contentNode.id
      var id = this.get('id');
      var node = _layoutverse2.default.getById('node', id);
      if (node) return node.hashCode();
      return id;
    }
  },

  sheet: {
    cache: false,
    deps: ['contentNode'],
    get: function get(contentNode) {
      //if (!contentNode) throw new Error('Layout contentNode is required ' + this.get('id') + ' ' this.get('type'))
      if (!contentNode) return undefined;
      var sheet = contentNode.get('sheet');
      if (!sheet) return undefined;
      //if (!sheet) throw new Error('Layout sheet is required')
      return sheet;
    }
  },

  itemNodes: {
    cache: false,
    deps: ['id'],
    get: function get(id) {
      return _layoutverse2.default.nodes_byLayoutId[id];
    }
  },

  width: {
    cache: false,
    deps: ['contentNode.width'],
    get: function get(w) {
      return w;
    }
  },

  height: {
    cache: false,
    deps: ['virtualizer.totalHeight'],
    get: function get(height) {
      return height;
    }
  },

  virtualizerIsValid: {
    cache: false,
    deps: ['width', 'rowCount', 'defaultRowHeight'],
    get: function get(width, rowCount, defaultRowHeight) {
      if (DEBUG) console.log("^^^^^ layout virtualizerIsValid()", this.get('id'), { width: width, rowCount: rowCount, defaultRowHeight: defaultRowHeight });
      if (isNaN(width)) return false;
      if (isNaN(rowCount)) return false;
      if (isNaN(defaultRowHeight)) return false;
      return true;
    }
  },
  virtualizer: {
    cache: true, // TODO???
    deps: ['_virtualizerInstance', 'width', 'rowCount', 'defaultRowHeight', 'trailingPreloadScreenfuls', 'trailingDisplayScreenfuls', 'leadingDisplayScreenfuls', 'leadingPreloadScreenfuls', 'retainRendered'],
    get: function get(virtualizerInstance, width, count, defaultRowHeight, trailingPreloadScreenfuls, trailingDisplayScreenfuls, leadingDisplayScreenfuls, leadingPreloadScreenfuls, retainRendered) {
      return virtualizerInstance.configure({
        width: width,
        count: count,
        defaultRowHeight: defaultRowHeight,
        trailingPreloadScreenfuls: trailingPreloadScreenfuls,
        trailingDisplayScreenfuls: trailingDisplayScreenfuls,
        leadingDisplayScreenfuls: leadingDisplayScreenfuls,
        leadingPreloadScreenfuls: leadingPreloadScreenfuls,
        retainRendered: retainRendered
      });
    }
  },
  _virtualizerInstance: {
    cache: true,
    deps: ['id'],
    get: function get(id) {
      return _layoutverse2.default.virtualizer_get_forLayoutId(id, _virtualizer2.default);
    }
  },

  itemCount: {
    set: function set(_itemCount) {
      return { _itemCount: _itemCount };
    },
    cache: false,
    deps: ['_itemCount', 'itemNodes'],
    get: function get(_itemCount, itemNodes) {
      if (typeof _itemCount === 'number') return _itemCount;
      if (itemNodes && itemNodes.length) return itemNodes.length;
      return 'auto';
    }
  },
  _itemCount: undefined,

  allNonVirtualIndices: {
    cache: true,
    deps: ['itemCount', 'virtual'],
    get: function get(itemCount, virtual) {
      if (virtual) return undefined;
      if (isNaN(itemCount)) return undefined;
      if (itemCount <= 0) return undefined;
      var all = [];
      for (var i = 0; i < itemCount; i++) {
        all.push(i);
      }
      return (0, _immutable.List)(all);
    }
  },

  allIndicesList: {
    cache: true,
    deps: ['itemCount'],
    get: function get(itemCount) {
      if (isNaN(itemCount)) return undefined;
      var all = [];
      for (var i = 0; i < itemCount; i++) {
        all.push(i);
      }
      return (0, _immutable.List)(all);
    }
  },

  renderer: {
    set: function set(_renderer) {
      return { _renderer: _renderer };
    },
    // WTF??
    deps: ['_renderer'],
    get: function get(_renderer) {
      return _renderer;
    },
    cache: false
  },
  _renderer: undefined,

  rowRangeToRender: undefined,

  rowRangeAll: {
    cache: false,
    deps: ['rowCount'],
    get: function get(rowCount) {
      return '0 to ' + (rowCount - 1);
    }
  },

  nodeDataForIndices: {
    cache: true,
    params: ['indices'],
    deps: ['renderNodeForIndex'],
    get: function get(indices, renderNodeForIndex) {
      var renders = [];
      var ids = [];
      for (var i = 0; i < indices.size; i++) {
        var index = indices.get(i);
        var render = renderNodeForIndex(i);
        var id = render.props.id;
        ids.push(id);
        renders.push(render);
      }
      var idList = (0, _immutable.List)(ids);
      return {
        renders: renders,
        ids: idList,
        indices: indices,
        equals: function equals(other) {
          if (!other) return false;
          if (!other.ids) return false;
          return other.ids.equals(idList);
        },
        hashCode: function hashCode() {
          return ids.join(',');
        }
      };
    }
  },

  'virtual_nodeDataForIndices': {
    cache: true,
    params: ['virtual_range'],
    deps: ['renderNodeForIndex', 'retainRendered'],
    get: function get(range, renderNodeForIndex, retainRendered) {

      if (DEBUG) console.log("virtual_nodeDataForIndices .....");
      var byState = {};

      var renders = [];
      var ids = [];
      var states = [];
      var indices = [];

      var trailing_preload_start = range.get('trailing_preload_start');
      var trailing_display_start = range.get('trailing_display_start');
      var visible_start = range.get('visible_start');
      var leading_display_start = range.get('leading_display_start');
      var leading_preload_start = range.get('leading_preload_start');

      var i = void 0;
      var state = void 0;
      var index = void 0;
      var render = void 0;
      var id = void 0;
      var _indices = void 0;

      // if (back_retained_start !== undefined) {
      //
      //       }


      if (trailing_preload_start !== undefined) {
        _indices = this.indicesInRowRange(trailing_preload_start, range.get('trailing_preload_end'));
        state = 'preload';
        for (i = 0; i < _indices.length; i++) {
          index = _indices[i];
          if (indices.indexOf(index) !== -1) debugger;
          indices.push(index);
          render = renderNodeForIndex(index);
          id = render.props.id;
          renders.push(render);
          ids.push(id);
          states.push(state);
        }
      }
      if (trailing_display_start !== undefined) {
        _indices = this.indicesInRowRange(trailing_display_start, range.get('trailing_display_end'));
        state = 'display';
        for (i = 0; i < _indices.length; i++) {
          index = _indices[i];
          if (indices.indexOf(index) !== -1) debugger;
          render = renderNodeForIndex(index);
          id = render.props.id;
          indices.push(index);
          renders.push(render);
          ids.push(id);
          states.push(state);
        }
      }
      if (visible_start !== undefined) {
        _indices = this.indicesInRowRange(visible_start, range.get('visible_end'));
        state = 'visible';
        for (i = 0; i < _indices.length; i++) {
          index = _indices[i];
          if (indices.indexOf(index) !== -1) debugger;
          render = renderNodeForIndex(index);
          id = render.props.id;
          indices.push(index);
          renders.push(render);
          ids.push(id);
          states.push(state);
        }
      }
      if (leading_display_start !== undefined) {
        _indices = this.indicesInRowRange(leading_display_start, range.get('leading_display_end'));
        state = 'display';
        for (i = 0; i < _indices.length; i++) {
          index = _indices[i];
          if (indices.indexOf(index) !== -1) debugger;
          render = renderNodeForIndex(index);
          id = render.props.id;
          indices.push(index);
          renders.push(render);
          ids.push(id);
          states.push(state);
        }
      }
      if (leading_preload_start !== undefined) {
        _indices = this.indicesInRowRange(leading_preload_start, range.get('leading_preload_end'));
        state = 'preload';
        for (i = 0; i < _indices.length; i++) {
          index = _indices[i];
          if (indices.indexOf(index) !== -1) debugger;
          render = renderNodeForIndex(index);
          id = render.props.id;
          indices.push(index);
          renders.push(render);
          ids.push(id);
          states.push(state);
        }
      }

      if (retainRendered) {
        var back_retained_start = range.get('back_retained_start');
        var forward_retained_end = range.get('forward_retained_end');
        state = 'retain';

        if (back_retained_start < indices[0]) {
          _indices = this.indicesInRowRange(back_retained_start, indices[0] - 1);
          for (i = _indices.length - 1; i >= 0; i--) {
            index = _indices[i];
            if (indices.indexOf(index) !== -1) debugger;
            render = renderNodeForIndex(index);
            id = render.props.id;
            indices.unshift(index);
            renders.unshift(render);
            ids.unshift(id);
            states.unshift(state);
          }
        }

        if (forward_retained_end > indices[indices.length - 1]) {
          _indices = this.indicesInRowRange(indices[indices.length - 1] + 1, forward_retained_end);
          for (i = 0; i < _indices.length; i++) {
            index = _indices[i];
            if (indices.indexOf(index) !== -1) debugger;
            render = renderNodeForIndex(index);
            id = render.props.id;
            indices.push(index);
            renders.push(render);
            ids.push(id);
            states.push(state);
          }
        }
      }

      // console.log("//////////////////////////")
      // console.log(indices, states)

      if (DEBUG) console.log("..... virtual_nodeDataForIndices", (0, _stringify2.default)({ ids: ids, indices: indices, states: states }));
      var idList = (0, _immutable.List)(ids);
      var indexList = (0, _immutable.List)(indices);
      function hashCode() {
        return ids.join(',') + '/' + states.join(',');
      }

      return {
        renders: renders,
        ids: idList,
        indices: indexList,
        states: states,
        equals: function equals(other) {
          if (!other) return false;
          if (!other.hashCode) return false;
          if (!other.ids) return false;
          if (!other.renders) return false;
          return other.hashCode() === hashCode();
        },
        hashCode: hashCode
      };
    }
  },

  //'renderNodesForIndices': {
  //  cache: true, // kicks in local instance caching
  //  params: ['indices','interfaceStates'],
  //  deps: ['renderNodeForIndex'],
  //  get: function(indices, interfaceStates,
  //    renderNodeForIndex
  //  ) {
  //    let renders = []
  //    let ids = []
  //    for (let i = 0; i < indices.size; i++) {
  //      let index = indices.get(i)
  //      let renderedNode = renderNodeForIndex(index)
  //      let id = renderedNode.props.id
  //      if (!id) throw new Error("Layout component id:" + this.get('id') + " renderer must set props.id")
  //      ids.push(id)
  //      renders.push(renderNodeForIndex(index))
  //    }
  //    return renders
  //  }
  //},

  'renderNodeForIndex': {
    cache: true,
    params: ['index'],
    deps: ['renderer', 'id'], // id just for cache insurance
    get: function get(index, renderer, layout_id) {
      return renderer(index);
    }
  },

  'computeStylesForIndices': {
    cache: true,
    params: ['indices', 'ids', 'states' // for virtual only
    ],
    deps: ['computeStyleForIndex', 'id', 'height'],
    get: function get(indices, ids, states, // for virtual only
    computeStyleForIndex, layout_id, height) {
      //console.time(`layout ${this.get('id')} computeStylesForIndices() ${indices.size}`)
      var needsMeasure = false;

      var computedStyles = (0, _defineProperty3.default)({}, layout_id, (0, _immutable.Map)({
        height: height,
        position: 'absolute',
        left: 0,
        top: 0,
        'backface-visibility': 'hidden',
        visibility: 'inherit' }));
      var index = void 0;
      var id = void 0;
      var state = void 0;
      for (var i = 0; i < indices.size; i++) {
        index = indices.get(i);
        if (states) state = states[i];
        id = ids.get(i);
        //let node = layoutverse.getById('node', id)
        computedStyles[id] = computeStyleForIndex(index, state);
      }
      //console.timeEnd(`layout ${this.get('id')} computeStylesForIndices() ${indices.size}`)
      return computedStyles;
    }
  },

  frameHeight: undefined,
  frameWidth: undefined,
  // TODO:
  frameTop: {
    default: 0
  },
  frameBottom: {
    deps: ['frameTop', 'frameHeight'],
    get: function get(frameTop, frameHeight) {
      return frameTop + frameHeight;
    },
    cache: false
  },

  // TODO: fix up overrides!
  overrides: {
    set: function set(map) {
      // if set to undefined or empty map, then reset override & _overrides
      if (!map || map.size === 0) {
        return {
          overrides: undefined,
          _overrides: undefined
        };
      }
      return {
        // cast map to overridesStruct
        overrides: EMPTY_OVERRIDES_STRUCT.merge(map)
      };
    }
  },
  _overrides: undefined

};
module.exports = exports['default'];

/***/ }),
/* 641 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _immutable = __webpack_require__(6);

var _finitedomain = __webpack_require__(182);

var _finitedomain2 = _interopRequireDefault(_finitedomain);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function colAtIndex(cols, index) {
  return index % cols;
}
function rowAtIndex(cols, index) {
  return Math.floor(index / cols);
}

exports.default = {

  'rowCount': {
    cache: false,
    deps: ['layout.cols', 'itemCount'],
    get: function get(cols, itemCount) {
      return Math.max(Math.ceil(itemCount / cols), 1);
    }
  },

  height: {
    cache: false,
    deps: ['rowCount', 'defaultRowHeight', 'isUniform'],
    //deps: ['virtualizer.totalHeight'],
    get: function get(rowCount, defaultRowHeight, isUniform) {
      if (isUniform) return rowCount * defaultRowHeight;
      throw new Error("GridLayout is only uniform right now");
    }
  },

  'defaultRowHeight': {
    deps: ['layout.cellHeight', 'layout.gutter'],
    get: function get(cellHeight, gutter) {
      return cellHeight + gutter;
    }
  },

  defaultLayoutConfig: {
    default: (0, _immutable.Map)({
      'sizing': 'uniform'
    })
  },

  gridConfig: {
    cache: true,
    instanceCache: true,
    depHashCode: function depHashCode() {
      return this.get('sheet.layout_string');
    },
    deps: ['layoutConfig'],
    get: function get(layoutConfig) {
      if (!layoutConfig) return undefined;
      var min_cell_width = void 0;
      var max_cell_width = void 0;
      var cell_width = layoutConfig.get('cell-width');
      if (cell_width) {
        min_cell_width = cell_width;
        max_cell_width = cell_width;
      } else {
        min_cell_width = layoutConfig.get('min-cell-width');
        max_cell_width = layoutConfig.get('max-cell-width');
      }

      var min_cell_height = void 0;
      var max_cell_height = void 0;
      var cell_height = layoutConfig.get('cell-height');
      if (cell_height) {
        min_cell_height = cell_height;
        max_cell_height = cell_height;
      } else {
        min_cell_height = layoutConfig.get('min-cell-height');
        max_cell_height = layoutConfig.get('max-cell-height');
      }

      var cell_ratio = layoutConfig.get('cell-ratio');

      var min_gutter = void 0;
      var max_gutter = void 0;
      var gutter = layoutConfig.get('gutter');
      if (!isNaN(gutter)) {
        min_gutter = gutter;
        max_gutter = gutter;
      } else {
        min_gutter = layoutConfig.get('min-gutter');
        max_gutter = layoutConfig.get('max-gutter');
      }
      if (!min_gutter) min_gutter = 0;
      if (!max_gutter) max_gutter = 0;

      var min_cols = void 0;
      var max_cols = void 0;
      var cols = layoutConfig.get('cols');
      if (cols) {
        min_cols = cols;
        max_cols = cols;
      } else {
        min_cols = layoutConfig.get('min-cols');
        max_cols = layoutConfig.get('max-cols');
      }

      if (!(min_cols > 0) || !(min_cell_width > 0) && !(min_cell_height > 0)) {
        throw new Error("Grid :layout { } rules invalid " + (0, _stringify2.default)(layoutConfig.toJS()));
      }

      return (0, _immutable.Map)({
        min_cell_width: min_cell_width,
        max_cell_width: max_cell_width,
        min_cell_height: min_cell_height,
        max_cell_height: max_cell_height,
        cell_ratio: cell_ratio,
        min_gutter: min_gutter,
        max_gutter: max_gutter,
        min_cols: min_cols,
        max_cols: max_cols
      });
    }
  },

  colWidth: {
    cache: false,
    deps: ['layout.cellWidth', 'layout.gutter'],
    get: function get(cellWidth, gutter) {
      return cellWidth + gutter;
    }
  },

  //height: {
  //  deps: ['rows','layout.cellHeight','layout.gutter'],
  //  get: function (rows, cellHeight, gutter) {
  //    return rows * cellHeight + (rows - 1) * gutter
  //  },
  //},

  'indicesInRowRange': {
    cache: true,
    instanceCache: true,
    params: ['start', 'end'],
    deps: ['itemCount', 'layout.cols'],
    get: function get(rowStart, rowEnd, itemCount, cols) {
      // console.time(`layout ${this.get('id')} indicesInRowRange()`)
      var i = rowStart * cols;
      var end = Math.min((rowEnd + 1) * cols - 1, itemCount - 1);
      var result = [];
      while (i <= end) {
        result.push(i);
        i++;
      }
      // console.log(`layout ${this.get('id')} indicesInRowRange() count =`, result.length)
      // console.timeEnd(`layout ${this.get('id')} indicesInRowRange()`)
      return result;
    }
  },

  'computeStyleForIndex': {
    cache: true,
    cacheInstance: true,
    params: ['index', 'state'],
    deps: ['layout.cols',
    //'virtualizer.rowIndexNeedsMeasure', 'virtualizer.topAtRowIndex',
    'isUniform', 'layout.cellWidth', 'layout.cellHeight', 'layout.gutter'],
    get: function get(index, state, cols,
    //rowIndexNeedsMeasure, topAtRowIndex,
    isUniform, cellWidth, cellHeight, gutter)
    //_overridesIncludes, _overridesCellAt
    {
      // console.time(`>>>INNER layout ${this.get('id')} computeStyleForIndex(${index})`)

      var col = colAtIndex(cols, index);
      var row = rowAtIndex(cols, index);

      var rowIndexNeedsMeasure = void 0;
      var topAtRowIndex = void 0;

      var needsMeasure = void 0;
      if (isUniform) {
        needsMeasure = false;
      } else if (!rowIndexNeedsMeasure || isUniform) {
        needsMeasure = false;
      } else {
        needsMeasure = rowIndexNeedsMeasure(row);
      }

      var measuredRowTop = void 0;
      if (!topAtRowIndex || isUniform) {
        measuredRowTop = undefined;
      } else {
        measuredRowTop = measuredRowTop(row);
      }

      //if (_overridesIncludes && _overridesIncludes(index)) {
      //  let results = _overridesCellAt(index)
      //  if (results) return results
      //}

      // TODO: multiple cells per row?

      var x = (cellWidth + gutter) * col;
      var y = isUniform ? (cellHeight + gutter) * row : needsMeasure ? null : rowTop;
      var result = (0, _immutable.Map)({
        width: cellWidth,
        height: isUniform ? cellHeight : null,
        position: 'absolute',
        left: 0,
        top: 0,
        x: x,
        y: y,
        transform: 'translate3d( ' + x + 'px, ' + y + 'px, 0)',
        'backface-visibility': 'hidden',
        visibility: !needsMeasure ? 'inherit' : 'hidden',
        virtualState: !needsMeasure ? 'measured' : 'needs-measure'
      });
      // console.timeEnd(`>>>INNER layout ${this.get('id')} computeStyleForIndex(${index})`)
      return result;
    }
  },

  layout: {
    cache: true,
    cacheInstance: true,
    deps: ['possibleLayouts', 'layoutValue'],
    get: function get(possibleLayouts, layoutValue) {
      if (isNaN(this.get('width'))) return (0, _immutable.Map)();
      var layouts = possibleLayouts;
      // console.log(fromTo(layoutValue,0,1,0,possibleLayouts.length - 1),possibleLayouts.length)
      if (layouts.length === 1) return (0, _immutable.Map)(layouts[0]);
      return (0, _immutable.Map)(layouts[Math.round((0, _deps.fromTo)(layoutValue, 0, 1, 0, layouts.length - 1))]);
    }
  },

  possibleLayouts: {
    cache: true,
    cacheInstance: true,
    depHashCode: function depHashCode() {
      var width = this.get('width');
      if (!width) return 'not-ready';
      var sheet_string = this.get('sheet.layout_string');
      if (!sheet_string) return 'not-ready';
      return width + ' ' + sheet_string + this.get('itemCount');
    },
    deps: ['possibleSingleColLayouts', 'possibleMultiColLayouts', 'itemCount'],
    get: function get(possibleSingleColLayouts, possibleMultiColLayouts, itemCount) {
      var layouts = [].concat(possibleMultiColLayouts).concat(possibleSingleColLayouts);

      if (itemCount > 1 && itemCount < 5) {
        layouts = layouts.filter(function (layout) {
          return layout.cols <= itemCount;
        });
      }
      if (layouts.length === 1) return layouts;
      layouts = layouts.sort(function (a, b) {
        return a.cellWidth - b.cellWidth;
      });
      return layouts;
    }
  },

  possibleSingleColLayouts: {
    cache: true,
    cacheInstance: true,
    depHashCode: function depHashCode() {
      var width = this.get('width');
      if (!width) return 'not-ready';
      return width + ' ' + this.get('sheet.layout_string');
    },
    deps: ['width', 'gridConfig.cell_ratio', 'gridConfig.min_cell_width', 'gridConfig.max_cell_width', 'gridConfig.min_cell_height', 'gridConfig.max_cell_height', 'gridConfig.min_gutter', 'gridConfig.max_gutter', 'gridConfig.min_cols'],
    get: function get(width, cellRatio, cellWidthMin, cellWidthMax, cellHeightMin, cellHeightMax, gutterMin, gutterMax, colsMin) {
      if (!width) return undefined;
      if (colsMin > 1 || width > cellWidthMax) return [];

      var cols = 1;
      var cellWidth = width;

      var cellHeight = !!cellRatio ? cellWidth / cellRatio : cellHeightMax;
      if (!cellHeight) throw new Error('GridStruct can\'t compute cellHeight without cellRatio or cellHeight[Min?,Max?]!');
      var gutter = gutterMax;
      return [{
        cols: cols,
        width: width,
        cellWidth: cellWidth,
        cellHeight: cellHeight,
        gutter: gutter
      }];
    }
  },

  possibleMultiColLayouts: {
    cache: true,
    cacheInstance: true,
    depHashCode: function depHashCode() {
      var width = this.get('width');
      if (!width) return 'not-ready';
      return width + ' ' + this.get('sheet.layout_string');
    },
    deps: ['width', 'gridConfig.cell_ratio', 'gridConfig.min_cell_width', 'gridConfig.max_cell_width', 'gridConfig.min_cell_height', 'gridConfig.max_cell_height', 'gridConfig.min_gutter', 'gridConfig.max_gutter', 'gridConfig.min_cols', 'gridConfig.max_cols'],
    get: function get(width, cellRatio, cellWidthMin, cellWidthMax, cellHeightMin, cellHeightMax, gutterMin, gutterMax, colsMin, colsMax)
    // unit
    {
      if (!width) return undefined;
      if (colsMax <= 1) return [];

      var SOLVER_CONFIG = {}; // {distribute: {valueStrategy: 'max'}}
      var SOLUTION_CONFIG = {}; // {max: 3} // {max: 1}

      console.time('possibleMultiColLayouts');
      var solver = new _finitedomain2.default(SOLVER_CONFIG);

      width = Math.floor(width);
      cellWidthMin = Math.floor(cellWidthMin);
      cellWidthMax = Math.ceil(cellWidthMax);
      gutterMin = Math.floor(gutterMin);
      gutterMax = Math.ceil(gutterMax);

      solver.decl('width', width);
      //solver.decl('unit', unit)
      //
      //solver.addVar('cellWidthStep', [Math.floor(cellWidthMin/unit), Math.ceil(cellWidthMax/unit)])

      solver.addVar('cellWidth', [cellWidthMin, cellWidthMax]);

      // ensure cellWidth is interval of unit
      //solver.eq('cellWidth',solver.times('cellWidthStep', 'unit'))

      solver.addVar('cols', [Math.max(colsMin, 2), colsMax], { valType: 'min' });
      //solver.decl('cols', 1)

      solver.addVar('gutter', [gutterMin, gutterMax]);

      // width == (cols * cellWidth) + (gutter * (cols - 1))
      solver.eq('width', solver.plus(solver.times('cols', 'cellWidth'), solver.times('gutter', solver.minus('cols', 1))));

      var solutions = solver.solve(SOLUTION_CONFIG);
      console.timeEnd('possibleMultiColLayouts');
      console.log(solutions);
      solutions = solutions.map(function (solution) {
        solution.cellHeight = solution.cellWidth / cellRatio;
        return solution;
      });
      return solutions;
    }
  }
};
module.exports = exports['default'];

/***/ }),
/* 642 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var _deps = __webpack_require__(13);

exports.default = {

  'rowCount': {
    cache: false,
    deps: ['itemCount'],
    get: function get(itemCount) {
      if (isNaN(itemCount)) return undefined;
      return itemCount;
    }
  },

  // TODO: sizing height logice
  'defaultRowHeight': {
    cache: 1,
    cacheInstance: true,
    deps: ['sheet.child-nodes.height', 'layoutConfig.gutter'],
    get: function get(childHeight, gutter) {
      if (typeof gutter !== 'number') gutter = 0;
      if (typeof childHeight === 'number') return childHeight + gutter;
      //if (typeof defaultHeight  === 'number') return defaultHeight + gutter
      return undefined;
    }
  },

  'indicesInRowRange': {
    cache: true,
    instanceCache: true,
    params: ['start', 'end'],
    //deps: ['computeNodeAtIndex'],
    get: function get(start, end) {
      var i = start;
      var result = [];
      while (i <= end) {
        result.push(i);
        i++;
      }
      return result;
    }
  },

  'computeStyleForIndex': {
    cache: 1,
    cacheInstance: true,
    params: ['index', 'state'],
    deps: ['virtualizer.rowIndexNeedsMeasure', 'virtualizer.topAtRowIndex', 'isUniform', 'layoutConfig', 'defaultRowHeight'],
    depMap: {
      'virtualizer.rowIndexNeedsMeasure': function virtualizerRowIndexNeedsMeasure(func, index) {
        if (!func) return undefined;
        return func(index);
      },
      'virtualizer.topAtRowIndex': function virtualizerTopAtRowIndex(func, index) {
        if (!func) return undefined;
        return func(index);
      }
    },
    get: function get(index, state, needsMeasure, rowTop, isUniform, layoutConfig, defaultRowHeight)
    //_overridesIncludes, _overridesCellAt
    {
      if (isUniform) {
        needsMeasure = false;
      }
      //if (_overridesIncludes && _overridesIncludes(index)) {
      //  let results = _overridesCellAt(index)
      //  if (results) return results
      //}
      var gutter = 0;
      if (layoutConfig) {
        if (layoutConfig.gutter) gutter = layoutConfig.gutter;
      }
      var rowIndex = index;
      var x = 0;
      var y = isUniform ? defaultRowHeight * rowIndex : needsMeasure ? rowTop : rowTop;

      return (0, _immutable.Map)({
        //width: cellWidth,
        //height: (!isUniform) ? cellHeight : null,
        position: 'absolute',
        left: 0,
        top: 0,
        x: x,
        y: y,
        transform: 'translate3d( ' + x + 'px, ' + y + 'px, 0)',
        'backface-visibility': 'hidden'
      });
    }
  }
};
module.exports = exports['default'];

/***/ }),
/* 643 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.overrideKeys = exports.OverridesStruct = undefined;

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable */
var overrideKeys = ['gather', 'open']; //, 'open']

var overrideSchema = {
  // input

  indices: undefined,

  gridStruct: undefined,

  clientRect: undefined,

  styleStore: undefined,

  // computed

  includesIndex: {
    cache: true,
    params: ['index'],
    deps: ['indices'],
    get: function get(index, indices) {
      if (!indices) return false;
      return indices.indexOf(index) >= 0;
    }
  }
};

var GatherStruct = (0, _immutable.Struct)((0, _assign2.default)({}, overrideSchema, {

  maxToRender: 8,

  cellAt: {
    cache: false, // hmmm...
    params: ['index'],
    deps: ['indices', 'maxToRender', 'styleStore', 'gridStruct.frameHeight', 'gridStruct.layout.cellHeight', 'clientRect.top', 'gridStruct.frameWidth', 'gridStruct.width', 'gridStruct.layout.cellWidth'],
    get: function get(index, indices, maxToRender, styleStore, frameHeight, cellHeight, clientRectTop, frameWidth, layoutWidth, cellWidth) {
      if (!indices) return undefined;
      var gatheredIndex = indices.indexOf(index);
      if (gatheredIndex < 0 || gatheredIndex > maxToRender) return undefined;

      var width = frameWidth / 3 - (frameWidth - layoutWidth) / 2;
      var height = width * cellHeight / cellWidth;

      //let height = frameHeight/3
      //let width = height * cellWidth/ cellHeight

      var scale = width / cellWidth;

      //let y = (frameHeight/2) - (cellHeight/2) - clientRectTop
      //let x = (layoutWidth) - (cellWidth) - (width - cellWidth)/2

      var y = styleStore.get('layout.header-h') / 2 - clientRectTop + (height - cellHeight) / 2;
      var x = 0 + (width - cellWidth) / 2;

      var rotateZ = 0;

      //if (gatheredIndex > 0) {
      //  let angle = fromTo(Math.random(), 0, 1, 0, Math.PI/21 )
      //  if (gatheredIndex % 2 === 0) angle *= -1
      //  let r = gatheredIndex * (Math.random() + 5)
      //  x += r * Math.sin(angle)
      //  y -= r * Math.cos(angle)
      //  scale = scale - .001 * gatheredIndex
      //  rotateZ = angle
      //  console.log(rotateZ)
      //}

      //if (gatheredIndex > 0) {
      var angle = 0; //(Math.random() - .5) * gatheredIndex * -.7 * (Math.PI/180)
      var inverseIndex = Math.min(maxToRender, indices.size - 1) - gatheredIndex;
      x -= inverseIndex * 2.5;
      y += gatheredIndex * 9;
      scale = scale - .018 * gatheredIndex;
      rotateZ = angle;

      //}


      return (0, _immutable.Map)({
        x: x,
        y: y,
        width: cellWidth,
        height: cellHeight,
        index: index,
        override: 'gather',
        zIndex: 5000 - index,
        scale: scale,
        boxShadow: 2.2,
        rotateZ: rotateZ
      });
    }
  }

}));

var OpenStruct = (0, _immutable.Struct)((0, _assign2.default)({}, overrideSchema, {

  maxToRender: 8,

  cellAt: {
    cache: false, // hmmm...
    params: ['index'],
    deps: ['indices', 'maxToRender', 'styleStore', 'gridStruct.frameHeight', 'gridStruct.layout.cellHeight', 'clientRect.top', 'gridStruct.frameWidth', 'gridStruct.width', 'gridStruct.layout.cellWidth'],
    get: function get(index, indices, maxToRender, styleStore, frameHeight, cellHeight, clientRectTop, frameWidth, layoutWidth, cellWidth) {
      if (!indices) return undefined;
      var gatheredIndex = indices.indexOf(index);
      if (gatheredIndex < 0 || gatheredIndex > maxToRender) return undefined;

      //let height = frameHeight/3
      //let width = height * cellWidth/ cellHeight

      var goldY = styleStore.get('layout.goldY');
      var goldX = styleStore.get('layout.goldX');

      var width = goldX(-2, 21); //layoutWidth
      var scale = width / cellWidth;

      var height = cellHeight * scale;

      //let y = (frameHeight/2) - (cellHeight/2) - clientRectTop
      //let x = (layoutWidth) - (cellWidth) - (width - cellWidth)/2

      // TODO

      var y = goldY(1, 24) - clientRectTop + (height - cellHeight) / 2;
      var x = goldX(1, 21) - goldX(1) + (width - cellWidth) / 2;

      var rotateZ = 0;

      return (0, _immutable.Map)({
        x: x,
        y: y,
        width: cellWidth,
        height: cellHeight,
        index: index,
        override: 'open',
        zIndex: 5000 - index,
        scale: scale,
        boxShadow: 2.2,
        rotateZ: rotateZ,
        fadeOutContentWithScale: true
      });
    }
  }

}));

var EMPTY_GATHER_STRUCT = new GatherStruct();
var EMPTY_OPEN_STRUCT = new OpenStruct();

var OverridesStruct = (0, _immutable.Struct)({

  gather: {
    set: function set(map) {
      return { gather: EMPTY_GATHER_STRUCT.merge(map) };
    }
  },

  open: {
    set: function set(map) {
      return { open: EMPTY_OPEN_STRUCT.merge(map) };
    }
  },

  includesIndex: {
    cache: true,
    params: ['index'],
    deps: overrideKeys,
    get: function get() {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var index = args[0],
          overrides = args.slice(1);


      for (var i = 0; i < overrides.length; i++) {
        var override = overrides[i];
        if (!override) continue;
        var includesIndex = override.get('includesIndex');
        if (includesIndex && includesIndex(index)) return true;
      }
      return false;
    }
  },

  cellAt: {
    cache: false,
    params: ['index'],
    deps: overrideKeys,
    get: function get() {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var index = args[0],
          overrides = args.slice(1);

      for (var i = 0; i < overrides.length; i++) {
        var override = overrides[i];
        if (!override) continue;
        var cellAt = override.get('cellAt');
        if (!cellAt) continue;
        var cellLayout = cellAt(index);
        if (cellLayout) return cellLayout;
      }
      return undefined;
    }
  }

});

exports.default = OverridesStruct;
exports.OverridesStruct = OverridesStruct;
exports.overrideKeys = overrideKeys;

/***/ }),
/* 644 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _AbstractLayout = __webpack_require__(640);

var _AbstractLayout2 = _interopRequireDefault(_AbstractLayout);

var _GridLayout = __webpack_require__(641);

var _GridLayout2 = _interopRequireDefault(_GridLayout);

var _ListLayout = __webpack_require__(642);

var _ListLayout2 = _interopRequireDefault(_ListLayout);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var registeredSchemas = {};
var registeredStructs = {};

var schemas = {
  register: function register(type, schema) {
    registeredSchemas[type] = (0, _assign2.default)({}, _AbstractLayout2.default, schema);
  },
  get: function get(type, schema) {
    return registeredSchemas[type];
  }
};

schemas.register('grid', _GridLayout2.default);
schemas.register('list', _ListLayout2.default);

exports.default = schemas;
module.exports = exports['default'];

/***/ }),
/* 645 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.LayoutverseSheet = exports.LayoutverseMediator = exports.LayoutSheet = exports.LayoutNode = exports.Layout = undefined;

var _layout = __webpack_require__(647);

var _layout2 = _interopRequireDefault(_layout);

var _layoutNode = __webpack_require__(646);

var _layoutNode2 = _interopRequireDefault(_layoutNode);

var _layoutSheet = __webpack_require__(228);

var _layoutSheet2 = _interopRequireDefault(_layoutSheet);

var _layoutverseMediator = __webpack_require__(229);

var _layoutverseMediator2 = _interopRequireDefault(_layoutverseMediator);

var _layoutverseSheet = __webpack_require__(648);

var _layoutverseSheet2 = _interopRequireDefault(_layoutverseSheet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//import LayoutContent from './layout-content'
//import LayoutItem from './layout-item'
exports.Layout = _layout2.default;
exports.LayoutNode = _layoutNode2.default;
exports.LayoutSheet = _layoutSheet2.default;
exports.LayoutverseMediator = _layoutverseMediator2.default;
exports.LayoutverseSheet = _layoutverseSheet2.default;

/***/ }),
/* 646 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _immutable = __webpack_require__(6);

var _layoutSheet = __webpack_require__(228);

var _layoutSheet2 = _interopRequireDefault(_layoutSheet);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var LayoutNodeStore = function () {
  function LayoutNodeStore() {
    var _this = this;

    (0, _classCallCheck3.default)(this, LayoutNodeStore);
    this.__id = 'layout-node-' + count++;
    this.name = 'layout-node';
    this.deferCommit = false;
    this.props = undefined;
    this.state = undefined;
    this.element = undefined;
    this.measureRect = undefined;
    this.sheet = undefined;
    this.parent = undefined;
    this.layout = undefined;
    this.isMounted = false;
    this.injectRenderList = undefined;

    this.ref = function (element) {
      if (!element) return;
      if (element === _this.element) return;
      _this.element = element;
      _this.measureRect = function () {
        return element.getBoundingClientRect();
      };
    };

    this.asyncState = undefined;
    this.asyncState_prev = undefined;
    this.asyncState_handlers = undefined;
    this.has_asyncState = false;

    this.setAsyncState = function (asyncState) {
      _this.asyncState_prev = _this.asyncState;
      if (_this.asyncState === asyncState) return;
      if (asyncState !== 'visible' && asyncState !== 'display' && asyncState !== 'preload' && asyncState !== 'retain') {
        throw new Error("LayoutNode doesn't recognize async state name: " + asyncState);
      }
      _this.asyncState = asyncState;
      _this.emitAsyncState();
    };

    this.emitAsyncState = function () {
      var handlers = _this.asyncState_handlers;
      if (!handlers) return;
      for (var i = 0; i < handlers.length; i++) {
        handlers[i](_this.asyncState, _this.asyncState_prev);
      }
    };

    this.connectAsyncLifeCycle = function (handler) {
      if (handler) {
        if (!_this.has_asyncState) {
          return handler('visible', undefined);
        }
        if (!_this.asyncState_handlers) {
          _this.asyncState_handlers = [];
        } else if (_this.asyncState_handlers.includes(handler)) {
          return;
        }
        _this.asyncState_handlers.push(handler);
        handler(_this.asyncState, _this.asyncState_prev);
      }
    };

    this.disconnectAsyncLifeCycle = function (handler) {
      if (!_this.has_asyncState) {
        return;
      }
      if (!_this.isMounted) return _this.asyncState_handlers = undefined;
      if (!_this.asyncState_handlers) return;
      var idx = _this.asyncState_handlers.indexOf(handler);
      if (idx === -1) return;
      if (_this.asyncState_handlers.length === 1) return _this.asyncState_handlers = undefined;
      _this.asyncState_handlers.splice(idx, 1);
    };

    this.hashCode = function () {
      if (_this.state) return _this.state.hashCode();
      return 'undefined';
    };

    this.equals = function (other) {
      if (other.isStore) return _this.state.equals(other.state);
      return _this.state.equals(other);
    };

    this.get = function (a1, a2, a3) {
      return _this.state.get(a1, a2, a3);
    };

    this.getIn = function (a1, a2) {
      return _this.state.getIn(a1, a2);
    };

    this.set = function () {
      throw new Error('do not use store.set');
    };
  }

  // async display life cycle hooks --------------------------------------------

  (0, _createClass3.default)(LayoutNodeStore, [{
    key: 'willMount',


    // component life cycle hooks ------------------------------------------------

    value: function willMount(component) {
      this.props = component.props;
      this.isMounted = true;
      var _props = this.props,
          id = _props.id,
          index = _props.index,
          layoutSheet = _props.layoutSheet,
          layoutRole = _props.layoutRole;

      this.injectRenderList = component.injectRenderList;
      this.parent = component.context.stores[this.name];
      this.layout = component.context.stores['layout'];
      if (!this.layout) throw new Error('LayoutNode must have a layout context');
      if (layoutRole === 'item' && !parent) throw new Error('LayoutNode role=item must have a parent context');
      if (layoutRole === 'content' && !layoutSheet) throw new Error('LayoutNode role=content must have a layoutSheet');

      // TODO: Layout props.virtual cannot be changed!
      this.has_asyncState = !!this.layout.get('virtual');

      this.state = this.layout.nodeInitialState.merge({
        id: id,
        index: index,
        layoutSheet: layoutSheet,
        layoutRole: layoutRole
      });
      _layoutverse2.default.node_willMount(this);
      if (layoutSheet) {
        this.sheet = _layoutverse2.default.userSheet_install(this, _layoutSheet2.default);
        this.sheet.willMount(component);
      }
    }
  }, {
    key: 'getRenderProps',
    value: function getRenderProps() {
      var id = this.state.get('id');
      var renderProps = { id: id };
      var style = this.props.style;

      if (style) renderProps.style = style;
      //let className = this.state.get('className')
      //if (!className) className = ''
      //className += ' layout-node layout-role--' + this.get('layoutRole')
      if (this.state.get('nodeDepClass.handleRect') !== 0) {
        renderProps.ref = this.ref;
      }
      return renderProps;
    }
  }, {
    key: 'didMount',
    value: function didMount(component) {
      _layoutverse2.default.node_didMount(this);
    }
  }, {
    key: 'willUnmount',
    value: function willUnmount(component) {
      if (!this.isMounted) return; // if removed by layout
      _layoutverse2.default.node_willUnmount(this);
      this.isMounted = false;
      if (this.sheet) this.sheet.willUnmount();
      this.has_asyncState = false;
      this.props = undefined;
      this.sheet = undefined;
      this.element = undefined;
      this.measureRect = undefined;
      this.injectRenderList = undefined;
      this.parent = undefined;
      this.layout = undefined;
      this.state = undefined;
      this.asyncState = undefined;
      this.asyncState_handlers = undefined;
    }
  }, {
    key: 'updateProps',
    value: function updateProps(props) {
      this.props = props;
      //let {
      //  id,
      //  index,
      //  tag,
      //  className,
      //  layoutSheet,
      //  layoutRole,
      //} = props
      //this.execute( 'merge', {
      //  id,
      //  index,
      //  tag,
      //  className,
      //  layoutSheet,
      //  layoutRole,
      //})
    }
  }, {
    key: 'didUpdate',
    value: function didUpdate(component) {}

    // contextual Store interface ------------------------------------------------

  }, {
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      return false;
    }
  }, {
    key: 'onMissingAction',
    value: function onMissingAction(actionName) {
      return this.state;
    }
  }, {
    key: 'toJS',
    value: function toJS(computed) {
      return this.state.toJS(computed);
    }
  }, {
    key: 'setIn',
    value: function setIn() {
      throw new Error('do not use store.setIn');
    }
  }, {
    key: 'merge',
    value: function merge() {
      throw new Error('do not use store.merge');
    }
  }, {
    key: 'execute',
    value: function execute() {
      return true;
    }
  }, {
    key: 'request',
    value: function request() {
      return true;
    }
  }, {
    key: 'handleContextStores',
    value: function handleContextStores() {}
  }]);
  return LayoutNodeStore;
}();

LayoutNodeStore.displayName = 'LayoutNodeStore';
exports.default = LayoutNodeStore;
module.exports = exports['default'];

/***/ }),
/* 647 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

var _layout = __webpack_require__(644);

var _layout2 = _interopRequireDefault(_layout);

var _layoutNode = __webpack_require__(639);

var _layoutNode2 = _interopRequireDefault(_layoutNode);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fallbackState = (0, _immutable.Map)();

var DEBUG = false;
var LOG = function LOG(that) {
  var _console;

  for (var _len = arguments.length, messages = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    messages[_key - 1] = arguments[_key];
  }

  var id = that.get ? that.get('id') : '';
  messages = ['%c %s', 'background: hsl(220,40%,80%); color: hsl(0,00%,0%)', 'stores/layout ' + id].concat(messages);
  (_console = console).log.apply(_console, (0, _toConsumableArray3.default)(messages));
};

var LayoutStore = function (_Store) {
  (0, _inherits3.default)(LayoutStore, _Store);

  function LayoutStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, LayoutStore);

    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = LayoutStore.__proto__ || (0, _getPrototypeOf2.default)(LayoutStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'layout', _this.deferCommit = false, _this.state = fallbackState, _this.childNodeData = undefined, _this.isScrolling = false, _this.hasHandledScroll = false, _this.lastCommittedUpdateCount = 0, _this.updateCount = 0, _this.lastCommittedWidth = undefined, _this.initialState = undefined, _this.nodeInitialState = undefined, _this.NodeStruct = undefined, _this.emit_compute_layout = function () {
      _layoutverse2.default.emit('compute_layout', _this.get('id'));
    }, _this.emit_compute_layout_debounced = (0, _deps.debounce)(_this.emit_compute_layout, 16), _this.contextStores = {
      'viewport': function viewport(viewportStore) {
        if (!_this.state) return;
        _this.execute('update-frame', viewportStore);
        if (!_this.state.get('isReady')) return;
        //this.emit_compute_layout_debounced()
        _this.emit_compute_layout();
      },
      'scroll': function scroll(scrollStore) {
        if (!_this.state || !_this.state.virtual) return;
        if (!_this.state.get('isReady')) return;
        var isScrolling = scrollStore.get('isScrolling');
        _this.isScrolling = isScrolling;
        if (isScrolling) {
          //this.emit_compute_layout_debounced.cancel()
          _layoutverse2.default.EMIT_FAST('compute_layout', _this.get('id'));
        }
      }
    }, _this.actions = {
      'update-frame': function updateFrame(state, store) {
        state = state.merge({
          frameTop: store.get('y'),
          frameWidth: store.get('width'),
          frameHeight: store.get('height')
        });
        _this.clearCache();
        return state;
      },
      'set-layout-scaler': function setLayoutScaler() {} }, _this.applyAsyncStatesIfNeeded = function () {
      if (!_this.childNodeData) return;
      var asyncStates = _this.childNodeData.states;
      if (asyncStates) {
        var ids = _this.childNodeData.ids;
        if (ids.size !== asyncStates.length) throw new Error('!!!!!!! applyLayout ids.size !== asyncStates.length ::: ' + ids.size + ' !== ' + asyncStates.length);
        for (var i = 0; i < asyncStates.length; i++) {
          var id = ids.get(i);
          var node = _layoutverse2.default.getById('node', id);

          // TODO::::::  ASYNC!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
          if (!node) {
            console.log("!!!!!!!!!!!!!!!!!!!!!!!!! node.setAsyncState(asyncStates[i]) node id=", id, asyncStates[i]);
            continue;
          }
          node.setAsyncState(asyncStates[i]);
        }
      }
    }, _this.computeRowRangeToRender = function (state) {
      var rowRangeToRender = void 0;
      var contentNode = state.get('contentNode');
      var top = contentNode.measureRect().top;

      if (isNaN(top)) throw new Error("Layout computeRowRangeToRender measureRect??");

      var frameTop = state.get('frameTop');
      var frameBottom = state.get('frameBottom');
      if (!_this.get('virtualizerIsValid')) throw new Error("!virtualizerIsValid");
      rowRangeToRender = state.get('virtualizer').rangeToRender(frameTop, frameBottom, top, true);
      if (DEBUG) LOG(_this, 'computeRowRangeToRender', { rowRangeToRender: rowRangeToRender });
      return rowRangeToRender;
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(LayoutStore, [{
    key: 'willMount',
    value: function willMount(_ref2) {
      var props = _ref2.props;

      if (DEBUG) LOG(this, 'willMount', { props: props });
      this.NodeStruct = (0, _immutable.Struct)(_layoutNode2.default, {
        cacheByHashCode: false,
        defaultCache: true });
      this.nodeInitialState = new this.NodeStruct();
      this.updateProps(props);
      _layoutverse2.default.layout_willMount(this);
    }
  }, {
    key: 'updateProps',
    value: function updateProps(props) {
      if (DEBUG) LOG(this, 'willMount', { props: props });
      // TODO: be smarter about updating props
      if (this.get('type') !== props.type) {
        this.clearCache();
        this.childNodeData = undefined;
        this.LayoutStruct = (0, _immutable.Struct)(_layout2.default.get(props.type));
        this.state = new this.LayoutStruct();
        this.initialState = this.state;
        this.updateCount = 0;
        this.lastCommittedUpdateCount = undefined;
        this.lastCommittedWidth = undefined;
      }
      this.execute('merge', props);

      // TODO: handle overrides
      //let hasNewOverrides = (nextState.get('overrides'))
      //  ? ( !state.get('overrides', Map()).equals( nextState.get('overrides') ) )
      //  : false
      //
      //if (hasNewOverrides) {
      //  //if (!this.lastBoundingClientRect) throw new Error("!!!!WAT?")
      //  nextState = this.actions.rectify(nextState)
      //}
    }
  }, {
    key: 'didMount',
    value: function didMount() {
      _layoutverse2.default.layout_didMount(this);
      //debugger
      //if (this._notify_layout_didCompute) {
      //  this._notify_layout_didCompute = false
      //  layoutverse.layout_didCompute(this)
      //}
    }
  }, {
    key: 'didUpdate',
    value: function didUpdate() {
      //layoutverse.layout_didUpdate(this)
      //if (this._notify_layout_didCompute) {
      //  this._notify_layout_didCompute = false
      //  layoutverse.layout_didCompute(this)
      //}
    }
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      _layoutverse2.default.layout_willUnmount(this);
      this.childNodeData = undefined;
      this.clearCache();
      this.LayoutStruct = undefined;
      this.NodeStruct = undefined;
      this.initialState = undefined;
      this.nodeInitialState = undefined;
      this.isScrolling = false;
      this.hasHandledScroll = false;
      this.updateCount = 0;
      this.lastCommittedUpdateCount = undefined;
      this.lastCommittedWidth = undefined;
      this.state = fallbackState;
    }
  }, {
    key: 'clearCache',
    value: function clearCache() {
      if (this.NodeStruct) this.NodeStruct.cacheReset();
      if (this.LayoutStruct) this.LayoutStruct.cacheReset();
    }
  }, {
    key: 'didCommit',
    value: function didCommit() {
      if (DEBUG) LOG(this, 'didCommit', { state: this.state.toJS() });
      // clear cache for laying out within a width
      var width = this.get('width');
      if (this.lastCommittedWidth && this.lastCommittedWidth !== width) this.clearCache();
      this.lastCommittedWidth = width;
      this.lastCommittedUpdateCount = this.updateCount;

      // TODO: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      if (this.childNodeData) {
        //let renders = this.childNodeData.renders
        if (this.childNodeData.renders) {
          this.state.get('contentNode').injectRenderList(this.childNodeData);
        }
      }
      //let rendered = this.state.get('renderedNodes')
      //if (rendered) {
      //  this.state.get('contentNode').injectRenderList(rendered)
      //}
      _layoutverse2.default.layout_didCompute(this);
      this._notify_layout_didCompute = true;
    }
  }, {
    key: 'applyLayout',
    value: function applyLayout() {
      //raf.cancel(this.applyAsyncStatesIfNeeded)
      //raf(this.applyAsyncStatesIfNeeded)
      this.applyAsyncStatesIfNeeded();
    }
  }, {
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      if (!state.get('isReady')) return false;
      if (this.lastCommittedUpdateCount === this.updateCount) return false;
      return true;
    }
  }, {
    key: 'rowIndexNeedsMeasure',
    value: function rowIndexNeedsMeasure(rowIndex) {
      return this.state.get('virtualizer').rowIndexNeedsMeasure(rowIndex);
    }
  }, {
    key: 'registerHeights',
    value: function registerHeights(heightsByIndexObj) {
      if (!heightsByIndexObj) return;
      if (DEBUG) LOG(this, 'heightsByIndexObj', { heightsByIndexObj: heightsByIndexObj });
      var virtualizer = this.state.get('virtualizer');

      var didChange = virtualizer.registerHeights(heightsByIndexObj);
      if (didChange) {
        this.execute('set', 'virtualizer', virtualizer);
        _layoutverse2.default.emit('compute_layout', this.get('id'));
      }
      return didChange;
    }
    //registerHeights = debounce(this._registerHeights, 8)

  }, {
    key: 'getRenderedNodeIds',
    value: function getRenderedNodeIds(renderedNodes) {
      var ids = [];
      if (!renderedNodes) return idByIndex;
      for (var i = 0; i < renderedNodes.length; i++) {
        var renderedNode = renderedNodes[i];
        ids.push(renderedNode.props.id);
      }
      return ids;
    }
  }, {
    key: 'layoutDidApply',
    value: function layoutDidApply() {
      /*
          if (!dynamic)
            wait... :)
           else if (dynamic)
            ...all node layout vectors stabilized???
             (!content)
            - items that handleRect
            - items that handleTotalSize
            - items that handleChildren
      */
    }
  }, {
    key: 'compute',
    value: function compute() {
      if (DEBUG) LOG(this, 'compute...');
      var state = this.state;
      if (!state.get('isReadyToCompute')) return undefined;
      var isGenerated = state.get('isGenerated');
      var virtual = state.get('virtual');
      var indicesToRender = void 0;
      var idsToRender = void 0;
      var renderedNodes = void 0;
      var computedStyles = void 0;
      var rowRangeToRender = void 0;

      if (!isGenerated) {
        /*
          allIndices
          => idByIndex
          computeStylesForIndices
          *totalSize
          *render(styles)
        */
        if (this.isScrolling) return;
        indicesToRender = state.get('allIndicesList');
        //let idsToRender = this.indicesToIds(indicesToRender)
        idsToRender = _layoutverse2.default.layout_nonGenerated_indicesToIds(this, indicesToRender);
        idsToRender = (0, _immutable.List)(idsToRender); // TODO!!!!!!!
        computedStyles = state.computeStylesForIndices(indicesToRender, idsToRender);
      } else {
        if (!virtual) {
          /*
              allIndices ==>
              nodesToRender
              => idByIndex
            computeStylesForIndices
            *totalSize
            *render(styles)
            render(nodesToRender)
          */
          if (this.isScrolling) return;

          indicesToRender = state.get('allIndicesList');
          this.childNodeData = state.nodeDataForIndices(indicesToRender);
          //this.renderedNodes = state.renderNodesForIndices( indicesToRender )
          idsToRender = this.childNodeData.ids;
          //idsToRender = this.getRenderedNodeIds( renderedNodes )
          //idsToRender = List(idsToRender) // TODO!!!!!!!
          computedStyles = state.computeStylesForIndices(this.childNodeData.indices, idsToRender);
          //computedStyles = state.computeStylesForIndices( indicesToRender, idsToRender )
        } else {
          /*
            indicesInRowRange <= rowRange
              nodesToRender <= indicesInRowRange.map() renderer
              => idByIndex
              => nodesByIndex ... node is dynamic or not
            computeStylesForIndices
            *totalSize
            *render(styles)
            render(nodesToRender)
          */
          var old = this.state.get('rowRangeToRender');
          rowRangeToRender = this.computeRowRangeToRender(state);
          if (this.isScrolling && rowRangeToRender.equals(old) && this.childNodeData) {
            computedStyles = state.computeStylesForIndices(this.childNodeData.indices, this.childNodeData.ids, this.childNodeData.states);
          }
          // else if (this.isScrolling && rowRangeToRender.equals(old) && this.childNodeData) {
          //   computedStyles = this._computeStyles(this.childNodeData)
          // }
          else {
              this.childNodeData = state.virtual_nodeDataForIndices(rowRangeToRender);
              //indicesToRender = state.virtual_indicesInRowRange( rowRangeToRender )
              //this.renderedNodes = state.virtual_renderNodesForIndices( indicesToRender )
              //idsToRender = this.getRenderedNodeIds( renderedNodes )
              //idsToRender = List(idsToRender) // TODO!!!!!!!
              computedStyles = state.computeStylesForIndices(this.childNodeData.indices, this.childNodeData.ids, this.childNodeData.states);
            }

          idsToRender = this.childNodeData.ids;

          //computedStyles = state.computeStylesForIndices( indicesToRender, idsToRender )

          //if (this.isScrolling) {
          //  let [old_min, old_max] = old.split(' to ')
          //  let [min, max] = rowRangeToRender.split(' to ')
          //  old_min = Number(old_min)
          //  old_max = Number(old_max)
          //  min = Number(min)
          //  max = Number(max)
          //  let normalUpdate = (max < old_min || min > old_max)
          //  if (!normalUpdate) {
          //    let toAddRange
          //    let toRemoveRange
          //    indicesToRender = state.get('indicesToRender')
          //    renderedNodes = state.get('renderedNodes')
          //    idsToRender = state.get('idsToRender')
          //    computedStyles = state.get('computedStyles')
          //    console.log(111111,renderedNodes.size,indicesToRender.size,idsToRender.size,renderedNodes.size)
          //
          //    if (max < old_max) {
          //      //toRemoveRange = (max + 1) + ' to ' + (max + (old_max - max))
          //      let index = indicesToRender.indexOf(max + 1)
          //      indicesToRender = indicesToRender.splice( index, old_max - max )
          //      renderedNodes = renderedNodes.splice( index, old_max - max )
          //      idsToRender = idsToRender.splice( index, old_max - max )
          //      console.log(22222,renderedNodes.size,indicesToRender.size,idsToRender.size,renderedNodes.size)
          //    }
          //    if (min > old_min) {
          //      //toRemoveRange = old_min + ' to ' + (old_min + (min - old_min) - 1)
          //      console.log(333333,renderedNodes,indicesToRender,idsToRender,renderedNodes)
          //
          //
          //
          //      let index = indicesToRender.indexOf(old_min)
          //      indicesToRender = indicesToRender.splice(index, min - old_min )
          //      renderedNodes = renderedNodes.splice(index, min - old_min )
          //      idsToRender = idsToRender.splice(index, min - old_min )
          //      if (renderedNodes.size!==indicesToRender.size || idsToRender.size !== renderedNodes.size) debugger
          //      console.log(333333,renderedNodes.size,indicesToRender.size,idsToRender.size,renderedNodes.size)
          //    }
          //
          //    let new_indicesToRender
          //    let new_renderedNodes
          //    let new_idsToRender
          //
          //    if (min < old_min) {
          //      toAddRange = min + ' to ' + (old_min - 1)
          //
          //      new_indicesToRender = state.indicesInRowRange( toAddRange )
          //      new_renderedNodes = state.renderNodesForIndices( new_indicesToRender )
          //      new_idsToRender = List( this.getRenderedNodeIds( new_renderedNodes ) )
          //
          //      new_renderedNodes = Seq(new_renderedNodes)
          //
          //      indicesToRender = new_indicesToRender.concat( indicesToRender )
          //      renderedNodes = new_renderedNodes.concat( renderedNodes )
          //      idsToRender = new_idsToRender.concat( idsToRender )
          //      console.log(444444,renderedNodes.size,indicesToRender.size,idsToRender.size,renderedNodes.size)
          //    }
          //    if (max > old_max) {
          //      toAddRange = (old_max + 1) + ' to ' + max
          //
          //      new_indicesToRender = state.indicesInRowRange( toAddRange )
          //      new_renderedNodes = state.renderNodesForIndices( new_indicesToRender )
          //      new_idsToRender = List( this.getRenderedNodeIds( new_renderedNodes ) )
          //
          //      new_renderedNodes = Seq(new_renderedNodes)
          //
          //      indicesToRender = indicesToRender.concat( new_indicesToRender )
          //      renderedNodes = renderedNodes.concat( new_renderedNodes )
          //      idsToRender = idsToRender.concat( new_idsToRender )
          //      console.log(55555,renderedNodes.size,indicesToRender.size,idsToRender.size,renderedNodes.size)
          //    }
          //
          //    // if (new_indicesToRender) {
          //         let new_computedStyles = state.computeStylesForIndices( new_indicesToRender, new_idsToRender )
          //         computedStyles = computedStyles.merge(new_computedStyles)
          //         console.log(66666,renderedNodes.size,indicesToRender.size,idsToRender.size,renderedNodes.size)
          //       }
          //
          //    computedStyles = state.computeStylesForIndices( indicesToRender, idsToRender )
          //
          //
          //    this.updateCount++
          //    return this.execute('merge',{
          //      rowRangeToRender,
          //      indicesToRender,
          //      idsToRender,
          //      computedStyles,
          //      renderedNodes
          //    })
          //
          //  }
          //}

          //}
          //else {
          // rowRangeToRender = old
          // indicesToRender = this.state.get('indicesToRender')
          // idsToRender = this.state.get('indicesToRender')
          // if (indicesToRender && idsToRender) computedStyles = state.computeStylesForIndices( indicesToRender, idsToRender )
          //}
          // console.timeEnd(`layout ${this.get('id')} compute() computedStyles`)
        }
      }

      var toMerge = {
        rowRangeToRender: rowRangeToRender,
        idsToRender: idsToRender,
        computedStyles: computedStyles
      };

      if (DEBUG) LOG(this, '...compute', { id: this.get('id'), isReady: this.get('isReady'), toMerge: (0, _immutable.fromJS)(toMerge).toJS() });
      // console.timeEnd(`layout ${this.get('id')} compute()`)
      this.updateCount++;
      this.execute('merge', toMerge);
    }

    // TODO
    //updateOverrides = () => {
    //let objToSet = {}
    //let needsMerge = false
    //if (state.get('nodesToRender') !== nodesToRender) {
    //  needsMerge = true
    //  objToSet.nodesToRender = nodesToRender
    //}
    //let styleStore = this.context.styleStore
    //if (!needsMerge) return state
    //return state.merge(objToSet)
    //
    //let overrides = state.get('overrides')
    //if (!overrides) return state.merge(objToSet)
    //if (overrides.size === 0) return state.merge(objToSet)
    //// this is needed to actually apply overrides
    //let overrideMerge = {
    //  clientRect: Map({
    //    top: clientRectTop
    //  }),
    //  styleStore,
    //  gridStruct: state,
    //}
    ///* the below for loop is equivalent to:
    //let gather = overrides.get('gather')
    //if (gather) {
    //  gather = gather.merge( overrideMerge )
    //}
    //objToSet._overrides = overrides.merge({
    //  gather
    //})
    //*/
    //let toMergeInOverrides = {}
    //for (let i = 0; i < overrideKeys.length; i++) {
    //  let key = overrideKeys[i]
    //  let val = overrides.get( key )
    //  if (val) {
    //    val = val.merge( overrideMerge )
    //    toMergeInOverrides[key] = val
    //  }
    //}
    //objToSet._overrides = overrides.merge( toMergeInOverrides )
    //
    //return state.merge(objToSet)
    //}

  }]);
  return LayoutStore;
}(_cymatics.Store);

LayoutStore.displayName = 'LayoutStore';
exports.default = LayoutStore;
module.exports = exports['default'];

/***/ }),
/* 648 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _layoutverse = __webpack_require__(30);

var _layoutverse2 = _interopRequireDefault(_layoutverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// let SizeStruct = Struct({
//
//   width: {
//
//   }
//   height: {
//
//   }
//   'min-width': {
//
//   }
//   'min-height': {
//
//   }
//   'max-width': {
//
//   }
//   'max-height': {
//
//   }
//
//   'isStable': {
//
//   },
//   computedSize: {
//
//   },
//
// })


var SheetState = (0, _deps.Struct)({
  tick: {
    default: 0
  },
  needsRender: {
    default: false
  },
  cssString: {
    default: ''
  },
  cssStringPrefix: {
    default: '.component--layout {visibility: hidden} .component--layout-node {display: none}'
  }
}, {
  defaultCache: false,
  cacheByHashCode: true
});

var intialState = new SheetState();

var LayoutverseSheetStore = function (_Store) {
  (0, _inherits3.default)(LayoutverseSheetStore, _Store);

  function LayoutverseSheetStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, LayoutverseSheetStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = LayoutverseSheetStore.__proto__ || (0, _getPrototypeOf2.default)(LayoutverseSheetStore)).call.apply(_ref, [this].concat(args))), _this), _this.deferCommit = false, _this.name = 'layoutverse-sheet', _this.state = intialState, _this.actions = {
      'update': function update(state) {
        var css = '';
        var layouts = _layoutverse2.default.layouts;
        var layout = void 0;
        var i = void 0;
        for (i = 0; i < layouts.length; i++) {
          layout = layouts[i];
          if (!layout.get('isReady')) {
            var id = layout.get('id');
            css += '#' + id + ' {visibility: visible} ';
          }
        }
        var nodes = _layoutverse2.default.nodes;
        for (i = 0; i < nodes.length; i++) {
          css += nodes[i].get('css');
        }
        //console.log("layoutverse sheet update css ============================")
        //console.log(css)
        var tick = state.get('tick');
        tick++;
        state = state.merge({ tick: tick, cssString: css, needsRender: true });

        return state;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(LayoutverseSheetStore, [{
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      return state.get('needsRender');
    }
  }]);
  return LayoutverseSheetStore;
}(_cymatics.Store);

LayoutverseSheetStore.displayName = 'LayoutverseSheetStore';
exports.default = LayoutverseSheetStore;

//     'listen-layout': (layoutId,) => {
//
//     },
//     'unlisten-layout': (layoutId,) => {
//
//     },
//
//     'listen-node': (layoutId,) => {
//
//     },
//     'unlisten-node': (layoutId,) => {
//
//     },
//
//     'set-user-sheet': (state, layoutNode, sheet) => {
//       return this.actions['-render-sheet'](state, 'user', layoutNode, sheet)
//     },
//     'set-computed-sheet': (state, layoutNode, sheet) => {
//       return this.actions['-render-sheet'](state, 'computed', layoutNode, sheet)
//     },
//     '-set-sheet': (state, type, layoutNode, sheet) => {
//       let id = layoutNode.get('id')
//       let role = layoutNode.get('layoutRole')
//       let isLayout = role === 'content'
//       let layoutId = isLayout ? id : layoutNode.get('layout.id')
//     },
//
//     'remove-node': (state, layoutNode) => {
//       let id = layoutNode.get('id')
//       let role = layoutNode.get('layoutRole')
//       let isLayout = role === 'content'
//       let layoutId = isLayout ? id : layoutNode.get('layout.id')
//     },
//     'remove-user-sheet': (state, layoutNode, sheet) => {
//       return this.actions['-remove-sheet'](state, 'user', layoutNode, sheet)
//     },
//     'remove-computed-sheet': (state, layoutNode, sheet) => {
//       return this.actions['-remove-sheet'](state, 'computed', layoutNode, sheet)
//     },
//     '-remove-sheet': (state, type, layoutNode, sheet) => {
//       let id = layoutNode.get('id')
//       let role = layoutNode.get('layoutRole')
//       let isLayout = role === 'content'
//       let layoutId = isLayout ? id : layoutNode.get('layout.id')
//
//   }

module.exports = exports['default'];

/***/ }),
/* 649 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.orderedInsertIndex = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DEBUG = false; /*
                       WIP.........
                   
                       # RowVirtualizer
                   
                       Computes which sections in a layout, or rows in a grid, are in-view & they rows are to be considered for rendering.
                   */

var LOG_METHODS = void 0;
var PERF_METHODS = void 0;
if (DEBUG) {
  LOG_METHODS = [
  //'configure',
  //'hashCode',
  //'getIn',
  //'reset',
  //'reflow',
  //'rowIndexNeedsMeasure',
  //'registerHeights',
  //'indexAtPosition',//'_indexAtPosition',
  'rowsToRender'];
  PERF_METHODS = [
  //'configure',
  //'hashCode',
  //'getIn',
  //'reset',
  //'reflow',
  //'rowIndexNeedsMeasure',
  //'registerHeights',
  //'indexAtPosition',//'_indexAtPosition',
  'rowsToRender'];
}

function _orderedInsertIndex(array, newItem) {
  // finds target insertIndex via binary bisecting
  // 5-50x faster than: `[newItem].concat(array).sort(function(a,b){return a - b}).indexOf(newItem)`
  // 1.5-10x faster than loop from start
  var insertIndex = -1;
  var minIndex = 0;
  var lastIndex = array.length - 1;
  var maxIndex = lastIndex;
  while (insertIndex === -1) {
    // bitshift right, `x >> 1` is equivalent to `Math.floor(x/2)`
    var i = (maxIndex - minIndex + 1 >> 1) + minIndex;
    var item = array[i];
    if (newItem <= item) {
      maxIndex = i;
      if (i === 0) return i;
      if (minIndex + 1 === maxIndex) return newItem <= array[minIndex] ? minIndex : i;
    } else if (newItem > item) {
      minIndex = i;
      if (i === lastIndex) return i;
      if (minIndex + 1 === maxIndex) return newItem <= array[maxIndex] ? maxIndex : maxIndex + 1;
    }
  }
}

function orderedInsertIndex(array, newItem) {
  var insertIndex = array.indexOf(newItem);
  if (insertIndex > -1) return insertIndex;
  return _orderedInsertIndex(array, newItem);
}

var RowVirtualizerState = (0, _immutable.Struct)({

  // inputs
  width: undefined,
  count: undefined,
  defaultRowHeight: undefined,
  overscan: 2,
  trailingPreloadScreenfuls: 0,
  trailingDisplayScreenfuls: 1,
  leadingDisplayScreenfuls: 1.5,
  leadingPreloadScreenfuls: 0,
  retainRendered: false,

  // TODO
  // doesnt seem to make it any faster!
  scanUnit: {
    default: false
  },
  //   cache: false,
  //   deps: ['_scanUnit','defaultRowHeight'],
  //   get: function (_scanUnit,defaultRowHeight) {
  //    if (_scanUnit > 0) return _scanUnit
  //    if (defaultRowHeight > 10) return defaultRowHeight/2
  //    return false
  //   },
  //   set: function (_scanUnit) {
  //    return {_scanUnit}
  //   }
  // },
  // _scanUnit: undefined,

  //scanHeight: undefined,
  // key: undefined,

  _layout_state: undefined,
  _layout_init: {
    deps: ['count', 'defaultRowHeight'],
    get: function get(count, defaultRowHeight) {
      return [[defaultRowHeight, defaultRowHeight * count], [0, count - 1]];
    }
  },
  layout: {
    deps: ['_layout_state', '_layout_init'],
    get: function get(state, init) {
      if (state) return state;
      return init;
    }
  },

  totalHeight: {
    deps: ['layout'],
    get: function get(layout) {
      var bottoms = layout[0];
      return bottoms[bottoms.length - 1];
    }
  }

}, {
  cacheByHashCode: true
});

var instance_index = 0;

var initialState = new RowVirtualizerState();

var RowVirtualizer = function () {
  // {cacheKey: val}
  function RowVirtualizer() {
    var _this = this;

    (0, _classCallCheck3.default)(this, RowVirtualizer);
    this.instance_index = instance_index++;
    this.state = initialState;
    this._measuredHeightsByIndex = {};
    this._measuredTopsByIndex = {};
    this.measuredIndices = ' ';
    this._indexAtPositionCache = {};
    this._scanInterveralRangeCache = [];
    this._has_measured = false;

    this.configure = function (options) {
      var width = options.width,
          count = options.count,
          defaultRowHeight = options.defaultRowHeight,
          overscan = options.overscan;

      if (width !== _this.state.get('width')) {
        _this.reset();
      } else if (defaultRowHeight !== _this.state.get('defaultRowHeight')) {
        //this.reflow()
        _this.reset();
      }
      _this.state = _this.state.merge(options);
      return _this;
    };

    this.hashCode = function () {
      var hashCode = '';
      hashCode += _this.state.get('width');
      hashCode += '/';
      hashCode += _this.state.get('defaultRowHeight');
      hashCode += '/';
      var l = _this.state.get('layout');
      hashCode += l[0].join('.');
      hashCode += l[1].join('..');
      //  hashCode += this.measuredIndices
      //hashCode += Object.values(this._measuredTopsByIndex).join(',')
      //alert(Object.values(this._measuredTopsByIndex).join(','))
      return hashCode;
    };

    this.get = function (key, a1, a2) {
      var val = _this[key];
      if (val) {
        // for struct cache with deps like 'virtualizer.rowIndexNeedsMeasure'
        if (typeof val === 'function' && !val.hashCode) {
          val.hashCode = function () {
            return _this.hashCode();
          };
        }
        return val;
      }
      return _this.state.get(key, a1, a2);
    };

    this.getIn = function (keys, a1, a2) {
      return _this.state.getIn(keys, a1, a2);
    };

    this.unmount = function () {
      _this.state = initialState;
      _this._measuredHeightsByIndex = {};
      _this._measuredTopsByIndex = {};
      _this.measuredIndices = ' ';
      _this._indexAtPositionCache = {}; // {cacheKey: val}
      _this._scanInterveralRangeCache = [];
      _this._has_measured = false;
      _this.lastRangeToRender = undefined;
      _this.lastRangeHash = undefined;
      _this.lastContentTop = undefined;
      _this.min_index = undefined;
      _this.max_index = undefined;
      _this.maxContentTop = 0;
      _this.lastDirection = 'forward';
    };

    this.reset = function () {
      _this._measuredHeightsByIndex = {};
      _this.measuredIndices = ' ';
      _this.reflow();
      _this._scanInterveralRangeCache = [];
      _this._has_measured = false;
      _this.lastRangeToRender = undefined;
      _this.lastRangeHash = undefined;
      _this.lastContentTop = undefined;
      _this.min_index = undefined;
      _this.max_index = undefined;
      _this.maxContentTop = 0;
      _this.lastDirection = 'forward';
      return _this;
    };

    this.reflow = function () {
      _this._measuredTopsByIndex = {};
      _this._indexAtPositionCache = {};
      _this.state = _this.state.delete('_layout_state');
      _this._scanInterveralRangeCache = [];
      _this.lastRangeToRender = undefined;
      _this.lastRangeHash = undefined;
      _this.lastContentTop = undefined;
      _this.maxContentTop = 0;
      if (_this.measuredIndices !== ' ') {
        _this.registerHeights(_this._measuredHeightsByIndex);
      }
    };

    this.reflowAt = function (idx) {
      var removeCount = _this._scanInterveralRangeCache.length - idx;
      if (removeCount > 0) {
        _this._scanInterveralRangeCache.splice(idx, removeCount);
      }
    };

    this.rowIndexNeedsMeasure = function (rowIndex) {
      var needsMeasure = _this._measuredHeightsByIndex[rowIndex] === undefined;
      //console.log('virtualizer rowIndexNeedsMeasure()',rowIndex,this._measuredHeightsByIndex,this._measuredHeightsByIndex[rowIndex])
      return needsMeasure;
    };

    this.registerHeights = function (_heightsByIndex) {
      var heightsByIndex = {};
      var newIndices = [];
      var _newIndices = (0, _keys2.default)(_heightsByIndex);
      var _measuredHeightsByIndex = _this._measuredHeightsByIndex;
      var newHeight;
      for (var q = 0; q < _newIndices.length; q++) {
        var index = _newIndices[q];
        newHeight = Math.floor(_heightsByIndex[index]);

        // TODO: === 0 ????????????
        //if (newHeight === 0) continue

        if (newHeight === _measuredHeightsByIndex[index]) continue;
        newIndices.push(index);
        heightsByIndex[index] = newHeight;
      }

      if (!newIndices.length) return false;

      var defaultRowHeight = _this.state.get('defaultRowHeight');

      var _state$get = _this.state.get('layout'),
          _state$get2 = (0, _slicedToArray3.default)(_state$get, 2),
          bottoms = _state$get2[0],
          bottomIndices = _state$get2[1];

      // TODO


      bottoms = bottoms.slice();
      bottomIndices = bottomIndices.slice();

      newIndices = newIndices.sort(function (a, b) {
        return a - b;
      });

      // console.log('//////////////////')
      // console.log({bottoms,bottomIndices, defaultRowHeight})

      var k = 0;
      var _prevNewIndex = -1;
      var _prevInsertPosIndex = void 0;
      var smallestNewIndex = -1;
      while (k < newIndices.length) {
        var newIndex = Number(newIndices[k]);
        if (smallestNewIndex === -1) {
          smallestNewIndex = newIndex;
        } else if (newIndex < smallestNewIndex) {
          smallestNewIndex = newIndex;
        }

        // TODO need Math.floor()?
        newHeight = heightsByIndex[newIndex];
        //if (newHeight <= 1) debugger
        k++;

        // cache measured height
        _measuredHeightsByIndex[newIndex] = newHeight;

        var insertPosIndex = bottomIndices.indexOf(newIndex);
        var removeCount = void 0;
        if (insertPosIndex > -1) {
          removeCount = 1;
        } else {
          insertPosIndex = newIndex - _prevNewIndex === 1 ? // if next, dont check orderToInsert
          _prevInsertPosIndex + 1 : _orderedInsertIndex(bottomIndices, newIndex);
          removeCount = 0;
        }
        _prevInsertPosIndex = insertPosIndex;
        _prevNewIndex = newIndex;

        // console.log('++++++++++++++++++++++++')
        // console.log({newIndex,newHeight,removeCount})


        // if height is default, do nothing
        if (!removeCount && newHeight === defaultRowHeight) continue;

        // let nextNewIndex = newIndices[k + 1]
        var beforeInsertPosIndex = insertPosIndex - 1;

        var beforeBottomAtInsert = void 0;
        var beforeBottomIndexAtInsert = void 0;
        var newBottomAtInsert = void 0;
        var oldBottomAtInsert = void 0;
        if (beforeInsertPosIndex === -1) {
          beforeBottomAtInsert = 0;
          beforeBottomIndexAtInsert = 0;
          newBottomAtInsert = newHeight;
          oldBottomAtInsert = bottoms[0];
        } else {
          beforeBottomAtInsert = bottoms[beforeInsertPosIndex];
          beforeBottomIndexAtInsert = bottomIndices[beforeInsertPosIndex];
          newBottomAtInsert = beforeBottomAtInsert + newHeight + (newIndex - beforeBottomIndexAtInsert - 1) * defaultRowHeight;
          oldBottomAtInsert = !removeCount ? beforeBottomAtInsert + (newIndex - beforeBottomIndexAtInsert) * defaultRowHeight : bottoms[insertPosIndex];
        }

        var bottomShift = newBottomAtInsert - oldBottomAtInsert;

        // cache measured top
        var currentTop = beforeBottomAtInsert;
        //if (isNaN(currentTop)) throw new Error("virtualizer registerHeights() currentTop is null???????")
        _this._measuredTopsByIndex[newIndex] = currentTop;

        // console.log({insertPosIndex, beforeInsertPosIndex, beforeBottomAtInsert, beforeBottomIndexAtInsert})
        // console.log({newBottomAtInsert,oldBottomAtInsert,bottomShift})

        if (bottomShift === 0) continue;

        bottoms.splice(insertPosIndex, removeCount, newBottomAtInsert);
        bottomIndices.splice(insertPosIndex, removeCount, newIndex);

        currentTop = newBottomAtInsert;
        var bidxPrev = newIndex;
        var cursorAfterInsert = insertPosIndex + 1;
        while (cursorAfterInsert < bottoms.length) {
          var b = bottoms[cursorAfterInsert] + bottomShift;
          bottoms[cursorAfterInsert] = b;

          // cache measured top
          var bidx = bottomIndices[cursorAfterInsert];
          var bidxDiff = bidx - bidxPrev;
          // if (bidxDiff === 1) => currentTop
          var m_top = currentTop + (bidxDiff - 1) * defaultRowHeight;
          //if (isNaN(m_top)) throw new Error("virtualizer registerHeights() m_top is null???????")
          _this._measuredTopsByIndex[bidx] = m_top;

          currentTop = b;
          bidxPrev = bidx;
          //

          cursorAfterInsert++;
        }
      }

      if (typeof smallestNewIndex === 'number') {
        _this._has_measured = true;
        _this.reflowAt(smallestNewIndex);
      }

      if (isNaN(bottoms[0])) throw new Error("invalid registerHeights!!!");
      _this.state = _this.state.set('_layout_state', [bottoms, bottomIndices]);
      return true;
    };

    this.heightAtIndex = function (index) {
      var height = _this._measuredHeightsByIndex[index];
      if (!height) height = _this.state.get('defaultRowHeight');
      return height;
    };

    this.indexAtPosition = function (pos, cacheKey) {
      return Math.min(_this.$indexAtPosition(pos, cacheKey), _this.state.get('count') - 1);
    };

    this.$indexAtPosition = function (pos, cacheKey) {

      if (!_this._has_measured) {
        // isuniform!!
        var unit = _this.state.get('defaultRowHeight');

        return Math.max(Math.ceil(pos / unit) - 1, 0);
      }

      //cacheKey = false
      //if (!this._has_measured) {
      //  let scanUnit = this.state.get('defaultRowHeight')
      //  //topPosition = (Math.round(topPosition/scanUnit)) * scanUnit
      //  cacheKey = Math.round(pos/scanUnit)
      //  if (this._indexAtPositionCache[cacheKey]) return this._indexAtPositionCache[cacheKey]
      //}

      //cacheKey = false

      var _state$get3 = _this.state.get('layout'),
          _state$get4 = (0, _slicedToArray3.default)(_state$get3, 2),
          bottoms = _state$get4[0],
          bottomIndices = _state$get4[1];
      // optimized checks


      if (pos <= bottoms[0]) return 0;
      var insertPosIndex = bottoms.indexOf(pos);
      if (insertPosIndex !== -1) return bottomIndices[insertPosIndex];

      if (!cacheKey) return _this._indexAtPosition(pos, bottoms, bottomIndices);

      // this._indexAtPositionCache[cacheKey] = this._indexAtPosition(pos, bottoms, bottomIndices)
      // return this._indexAtPositionCache[cacheKey]

      // cache checks, optimized for sequential row scrolling
      var val = _this._indexAtPositionCache[cacheKey];
      var min = void 0;
      var max = void 0;
      if (val) {
        min = _this.topAtRowIndex(val);
        max = min + _this.heightAtIndex(val);
        // above cache range
        if (pos <= min) {
          var beforeVal = val - 1;
          var beforeMin = min - _this.heightAtIndex(beforeVal);
          // within prior cache range
          if (pos > beforeMin) {
            _this._indexAtPositionCache[cacheKey] = beforeVal;
            return beforeVal;
          }
        }
        // beneath cache range
        else if (pos > max) {
            var afterVal = val + 1;
            var afterMax = max + _this.heightAtIndex(afterVal);
            // within following cache range
            if (pos <= afterMax) {
              _this._indexAtPositionCache[cacheKey] = afterVal;
              return afterVal;
            }
          }
          // within cache range
          else {
              return val;
            }
      }

      // compute new cache
      val = _this._indexAtPosition(pos, bottoms, bottomIndices);
      // min = this.topAtRowIndex(val)
      // max = min + this.heightAtIndex(val)
      _this._indexAtPositionCache[cacheKey] = val;
      return val;
    };

    this._indexAtPosition = function (pos, bottoms, bottomIndices) {
      //console.log('!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! indexAtPosition(pos = ' + pos + ' )')

      var insertPosIndex = _orderedInsertIndex(bottoms, pos);

      var bottomAtInsert = void 0;
      var bottomIndexAtInsert = void 0;
      if (insertPosIndex === 0) {
        bottomIndexAtInsert = bottomIndices[0];
        // console.log({___:'insertPosIndex === 0',insertPosIndex,bottomIndexAtInsert})
        //bottomAtInsert = bottoms[0]
        return bottomIndexAtInsert;
      } else if (insertPosIndex >= bottomIndices.length) {
        bottomIndexAtInsert = bottomIndices[bottomIndices.length - 1];
        // console.log({___:'insertPosIndex >= bottomIndices.length - 1',insertPosIndex,bottomIndexAtInsert})
        return bottomIndexAtInsert;
        //bottomAtInsert = bottoms[0]
      }

      var beforeInsertPosIndex = insertPosIndex - 1;
      var beforeBottomIndexAtInsert = bottomIndices[beforeInsertPosIndex];
      var withinBottomIndexDiff = bottomIndices[insertPosIndex] - beforeBottomIndexAtInsert;
      //console.log({insertPosIndex,beforeInsertPosIndex,beforeBottomIndexAtInsert,withinBottomIndexDiff})
      if (withinBottomIndexDiff === 1) return bottomIndices[insertPosIndex];

      var defaultRowHeight = _this.state.get('defaultRowHeight');
      bottomIndexAtInsert = beforeBottomIndexAtInsert + Math.ceil((pos - bottoms[beforeInsertPosIndex]) / defaultRowHeight);
      //console.log({___:' END ',bottomIndexAtInsert})
      return bottomIndexAtInsert;
    };

    this.rowsToRender = function (frameTop, frameBottom, contentTop) {
      var useCache = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;

      // TODO? $$$$$$$$$$$$$$$$$$$$$$$$$$$$$
      var totalHeight = _this.state.get('totalHeight');
      var contentBottom = contentTop + totalHeight;
      con;

      var topPosition = Math.max(frameTop - contentTop, 0);
      var sizeInScreen = Math.max(Math.min(contentBottom, frameBottom) - Math.max(contentTop, frameTop), 0);
      var bottomPosition = topPosition + sizeInScreen;

      if (useCache && !_this._has_measured) useCache = 2;
      var INTERVAL_CACHE_0 = void 0;
      var INTERVAL_CACHE_1 = void 0;
      if (useCache === 2) {
        //let scanUnit = this.state.get('scanUnit')
        //if (scanUnit > 0) useCache = 2

        var scanUnit = _this.state.get('defaultRowHeight');
        var _bottom = Math.ceil(bottomPosition / scanUnit);
        topPosition = Math.ceil(topPosition / scanUnit) * scanUnit;
        bottomPosition = _bottom * scanUnit;
        INTERVAL_CACHE_1 = Math.max(_bottom - 1, 0);
        INTERVAL_CACHE_0 = topPosition;
        var _1 = _this._scanInterveralRangeCache[INTERVAL_CACHE_1];
        if (_1) {
          var cached = _1[INTERVAL_CACHE_0];
          if (cached) return cached;
        }
      }

      var range = _this._rowsToRender(topPosition, bottomPosition, useCache, _this.state.get('overscan'));
      var result = range[0] + ' to ' + range[1];
      if (useCache === 2) {
        if (!_this._scanInterveralRangeCache[INTERVAL_CACHE_1]) {
          _this._scanInterveralRangeCache[INTERVAL_CACHE_1] = {};
        }
        _this._scanInterveralRangeCache[INTERVAL_CACHE_1][INTERVAL_CACHE_0] = result;
      }
      return result;
    };

    this._rowsToRender = function (topPosition, bottomPosition) {
      var useCache = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
      var overscan = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;


      //let topCacheKey
      //let bottomCacheKey
      //if (useCache === true) {
      //  topCacheKey = 'scan-top'
      //  bottomCacheKey = 'scan-bottom'
      //}

      var count = _this.state.get('count');

      var startRowIndex = Math.max(_this.indexAtPosition(topPosition) - overscan, 0);

      var endRowIndex = Math.min(_this.indexAtPosition(bottomPosition - 1, undefined) + overscan, count - 1);

      var range = [startRowIndex, endRowIndex];
      return range;
    };

    this.min_index = undefined;
    this.max_index = undefined;
    this.lastRangeToRender = undefined;
    this.lastRangeHash = undefined;
    this.lastContentTop = undefined;
    this.lastDirection = 'forward';
    this.maxContentTop = 0;

    this.rangeToRender = function (frameTop, frameBottom, contentTop) {
      var useCache = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;


      if (contentTop > _this.maxContentTop) _this.maxContentTop = contentTop;

      var hasNotScrolled_and_atTop = _this.maxContentTop === 0;

      var diff = _this.lastContentTop === undefined ? 0 : _this.lastContentTop - contentTop;
      var dir = diff === 0 ? _this.lastDirection : diff > 0 ? 'forward' : 'backward';

      _this.lastDirection = dir;
      var rangeHash = frameTop + ' ' + frameBottom + ' ' + contentTop + dir + hasNotScrolled_and_atTop;
      //if (this.lastRangeHash === rangeHash) return this.lastRangeToRender
      _this.lastRangeHash = rangeHash;

      //console.log(this.instance_index, {frameTop,frameBottom, contentTop, diff, dir}, diff/(frameBottom - frameTop))

      _this.lastContentTop = contentTop;

      var indexAtPosition = _this.indexAtPosition;
      var trailingDisplayScreenfuls;
      var trailingPreloadScreenfuls;
      var leadingDisplayScreenfuls;
      var leadingPreloadScreenfuls;

      if (hasNotScrolled_and_atTop) {
        trailingPreloadScreenfuls = 0;
        trailingDisplayScreenfuls = 0;
        leadingDisplayScreenfuls = .1;
        leadingPreloadScreenfuls = 0;
      }
      if (dir === 'forward') {
        trailingPreloadScreenfuls = _this.state.get('trailingPreloadScreenfuls');
        trailingDisplayScreenfuls = _this.state.get('trailingDisplayScreenfuls');
        leadingDisplayScreenfuls = _this.state.get('leadingDisplayScreenfuls');
        leadingPreloadScreenfuls = _this.state.get('leadingPreloadScreenfuls');
      } else {
        trailingPreloadScreenfuls = _this.state.get('leadingPreloadScreenfuls');
        trailingDisplayScreenfuls = _this.state.get('leadingDisplayScreenfuls');
        leadingDisplayScreenfuls = _this.state.get('trailingDisplayScreenfuls');
        leadingPreloadScreenfuls = _this.state.get('trailingPreloadScreenfuls');
      }

      var end = _this.state.get('count') - 1;

      // TODO is totalHeight volatile?
      // $$$$$$$$$$$$$$$$$$$$$$$$$$$$$
      var totalHeight = _this.state.get('totalHeight');
      var contentBottom = contentTop + totalHeight;

      var topPosition = Math.max(frameTop - contentTop, 0);
      // let topPosition = frameTop - contentTop, 0
      var sizeInScreen = Math.max(Math.min(contentBottom, frameBottom) - Math.max(contentTop, frameTop), 0);
      var bottomPosition = topPosition + sizeInScreen;

      if (useCache && !_this._has_measured) useCache = 2;
      var INTERVAL_CACHE_start = void 0;
      var INTERVAL_CACHE_end = void 0;
      if (useCache === 2) {
        //let scanUnit = this.state.get('scanUnit')
        //if (scanUnit > 0) useCache = 2

        var scanUnit = _this.state.get('defaultRowHeight');
        var _bottom = Math.ceil(bottomPosition / scanUnit);
        topPosition = Math.ceil(topPosition / scanUnit) * scanUnit;
        bottomPosition = _bottom * scanUnit;
        INTERVAL_CACHE_end = Math.max(_bottom - 1, 0);
        INTERVAL_CACHE_start = topPosition;
        var _end = _this._scanInterveralRangeCache[INTERVAL_CACHE_end];
        if (_end) {
          var cached = _end[INTERVAL_CACHE_start];
          if (cached) {
            return cached;
          }
        }
      }

      // focused row

      // visible range

      var _rowsToRender = _this._rowsToRender(topPosition, bottomPosition, useCache, 0),
          _rowsToRender2 = (0, _slicedToArray3.default)(_rowsToRender, 2),
          visible_start = _rowsToRender2[0],
          visible_end = _rowsToRender2[1];

      var min_index = visible_start;
      var max_index = visible_end;

      // TODO: had to patch this or screenful would jump sizes up & down...
      //let screenful = visible_end - visible_start + 1
      var defaultRowHeight = _this.state.get('defaultRowHeight');
      var screenful = Math.ceil(sizeInScreen / defaultRowHeight);
      var prev_start = visible_start;
      var prev_end = visible_end;

      var rowCount;

      // trailing display range
      var trailing_display_start = void 0;
      var trailing_display_end = void 0;
      if (trailingDisplayScreenfuls && prev_start > 0) {
        trailing_display_end = prev_start - 1;
        if (prev_start === 1) {
          trailing_display_start = 0;
        }
        // else if (prev_start === 2) {
        //   trailing_display_start = 0
        // }
        else {
            // todo, cache in struct
            rowCount = Math.max(Math.round(screenful * trailingDisplayScreenfuls), 1);
            trailing_display_start = Math.max(trailing_display_end + 1 - rowCount, 0);
            if (trailing_display_start === prev_start) trailing_display_start = prev_start - 1;
          }
        min_index = trailing_display_start;
        prev_start = trailing_display_start;
      }

      var trailing_preload_start = void 0;
      var trailing_preload_end = void 0;
      if (trailingPreloadScreenfuls && prev_start > 0) {
        trailing_preload_end = prev_start - 1;
        if (prev_start === 1) {
          trailing_preload_start = 0;
        }
        // else if (prev_start === 2) {
        //   trailing_preload_start = 0
        // }
        else {
            // todo, cache in struct
            rowCount = Math.max(Math.round(screenful * trailingPreloadScreenfuls), 1);
            trailing_preload_start = Math.max(trailing_preload_end + 1 - rowCount, 0);
            if (trailing_preload_start === prev_start) trailing_preload_start = prev_start - 1;
          }
        if (min_index > prev_start) min_index = prev_start;
        prev_start = trailing_preload_start;
      }

      // leading display range
      var leading_display_end = void 0;
      var leading_display_start = void 0;
      if (leadingDisplayScreenfuls && prev_end < end) {
        leading_display_start = prev_end + 1;
        if (prev_end === end - 1) {
          leading_display_end = end;
        }
        // else if (prev_end === end - 2) {
        //   leading_display_end = end
        // }
        else {
            // todo, cache in struct
            rowCount = Math.max(Math.round(screenful * leadingDisplayScreenfuls), 1);
            leading_display_end = Math.min(leading_display_start - 1 + rowCount, end);
            if (leading_display_end === prev_end) leading_display_end = prev_end + 1;
          }
        max_index = leading_display_end;
        prev_end = leading_display_end;
      }

      // leading preload range
      var leading_preload_end = void 0;
      var leading_preload_start = void 0;
      if (leadingPreloadScreenfuls && prev_end < end) {
        leading_preload_start = prev_end + 1;
        if (prev_end === end - 1) {
          leading_preload_end = end;
        }
        // else if (prev_end === end - 2) {
        //   leading_preload_end = end
        // }
        else {
            // todo, cache in struct
            rowCount = Math.max(Math.round(screenful * leadingPreloadScreenfuls), 1);
            leading_preload_end = Math.min(leading_preload_start - 1 + rowCount, end);
            if (leading_preload_end === prev_end) leading_preload_end = prev_end + 1;
          }
        max_index = leading_preload_end;
        prev_end = leading_preload_end;
      }

      var result = {};
      if (trailing_preload_start !== undefined) {
        result.trailing_preload_start = trailing_preload_start;
        result.trailing_preload_end = trailing_preload_end;
      }
      if (trailing_display_start !== undefined) {
        result.trailing_display_start = trailing_display_start;
        result.trailing_display_end = trailing_display_end;
      }
      if (visible_start !== undefined) {
        result.visible_start = visible_start;
        result.visible_end = visible_end;
      }
      if (leading_display_start !== undefined) {
        result.leading_display_start = leading_display_start;
        result.leading_display_end = leading_display_end;
      }
      if (leading_preload_start !== undefined) {
        result.leading_preload_start = leading_preload_start;
        result.leading_preload_end = leading_preload_end;
      }

      //console.log("//////////////////////", result,
      //{
      //trailingDisplayScreenfuls,
      //trailingPreloadScreenfuls,
      //leadingDisplayScreenfuls,
      //leadingPreloadScreenfuls,
      //}
      //)


      //for (let i = min_index; i <= max_index; i++) {
      //  if (this.keptIndices.indexOf(i) === -1) this.keptIndices.push(i)
      //}

      if (min_index < _this.min_index || _this.min_index === undefined) _this.min_index = min_index;
      if (max_index > _this.max_index || _this.max_index === undefined) _this.max_index = max_index;

      // TODO: get from props
      if (_this.state.get('retainRendered')) {
        result.back_retained_start = _this.min_index;
        result.forward_retained_end = _this.max_index;
      }

      result.direction = dir;

      result = (0, _immutable.Map)(result);
      _this.lastRangeToRender = result;

      if (useCache === 2) {
        if (!_this._scanInterveralRangeCache[INTERVAL_CACHE_end]) {
          _this._scanInterveralRangeCache[INTERVAL_CACHE_end] = {};
        }
        _this._scanInterveralRangeCache[INTERVAL_CACHE_end][INTERVAL_CACHE_start] = result;
      }

      return result;
    };

    this.topAtRowIndex = this.topAtRowIndex.bind(this);
  } // TODO!


  // for struct dep & cache support


  // returns false if new heights change nothing, true otherwise


  // reorder = () => {
  //     // TODO
  //   }

  (0, _createClass3.default)(RowVirtualizer, [{
    key: 'topAtRowIndex',
    value: function topAtRowIndex(index) {
      if (index === 0) return 0;
      var top = this._measuredTopsByIndex[index];
      if (top) return top;

      var _state$get5 = this.state.get('layout'),
          _state$get6 = (0, _slicedToArray3.default)(_state$get5, 2),
          bottoms = _state$get6[0],
          bottomIndices = _state$get6[1];

      var beforeInsertPosIndex = _orderedInsertIndex(bottomIndices, index) - 1;

      var bidxDiff = index - bottomIndices[beforeInsertPosIndex];
      // if (bidxDiff === 1) => currentTop
      top = bottoms[beforeInsertPosIndex] + (bidxDiff - 1) * this.state.get('defaultRowHeight');

      // TODO cache ?????
      //this._assumed_tops[index] = top

      return top;
    }

    //keptIndices = []

  }]);
  return RowVirtualizer;
}();

RowVirtualizer.orderedInsertIndex = orderedInsertIndex;


if (DEBUG) {
  var LOG = function LOG(that) {
    var _console;

    for (var _len = arguments.length, messages = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      messages[_key - 1] = arguments[_key];
    }

    messages = ['%c %s', 'background: hsl(190,60%,70%); color: hsl(0,00%,0%)', 'stores/virtualizer ' + that.instance_index].concat(messages).concat([(0, _stringify2.default)({
      count: that.state.get('count'),
      width: that.state.get('width'),
      _measuredHeightsByIndex: that._measuredHeightsByIndex,
      _measuredTopsByIndex: that._measuredTopsByIndex,
      _indexAtPositionCache: that._indexAtPositionCache,
      layout: that.state.get('layout')
    })]);
    (_console = console).log.apply(_console, (0, _toConsumableArray3.default)(messages));
  };

  var RowVirtualizer_DEBUG = function (_RowVirtualizer) {
    (0, _inherits3.default)(RowVirtualizer_DEBUG, _RowVirtualizer);

    function RowVirtualizer_DEBUG() {
      (0, _classCallCheck3.default)(this, RowVirtualizer_DEBUG);

      var _this2 = (0, _possibleConstructorReturn3.default)(this, (RowVirtualizer_DEBUG.__proto__ || (0, _getPrototypeOf2.default)(RowVirtualizer_DEBUG)).call(this));

      var _loop = function _loop(i) {
        var name = LOG_METHODS[i];
        var method = _this2[name];
        _this2[name] = function () {
          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }

          if (PERF_METHODS.includes(name)) console.time(name + '(' + args + ')');
          //LOG(this,`${name}(`,...args,')')
          var val = method.apply(_this2, args);
          LOG.apply(undefined, [_this2, name + '('].concat(args, [')', val]));
          //LOG(this,`${name}()`, val)
          if (PERF_METHODS.includes(name)) console.timeEnd(name + '(' + args + ')');
          return val;
        };
      };

      for (var i = 0; i < LOG_METHODS.length; i++) {
        _loop(i);
      }
      return _this2;
    }

    return RowVirtualizer_DEBUG;
  }(RowVirtualizer);

  RowVirtualizer = RowVirtualizer_DEBUG;
}

exports.default = RowVirtualizer;
exports.orderedInsertIndex = orderedInsertIndex;

/*

            let crsr = groupTop
            let num = ''
            for (let j=0; j<heightList.length; j++) {
              let char = heightList.charAt(char)
              if (char === ',') {
                num =
              }
            }

*/

/***/ }),
/* 650 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _RowVirtualizer = __webpack_require__(649);

var _RowVirtualizer2 = _interopRequireDefault(_RowVirtualizer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _RowVirtualizer2.default;
module.exports = exports['default'];

/***/ }),
/* 651 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Component from '@the-grid/ui-component-deprecated'
// import {Component} from 'mvuic'
// import {Style} from '@the-grid/styleverse'
var count = 0;
var createVNode = Inferno.createVNode;

var LogoLoader = function (_Component) {
  (0, _inherits3.default)(LogoLoader, _Component);

  function LogoLoader(props) {
    (0, _classCallCheck3.default)(this, LogoLoader);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LogoLoader.__proto__ || (0, _getPrototypeOf2.default)(LogoLoader)).call(this, props));

    _this.id = 'LogoLoader-' + count++;
    return _this;
  }

  (0, _createClass3.default)(LogoLoader, [{
    key: 'render',
    value: function render() {
      var strokeLength = 192;
      var delay = 0; // Math.random() * 1.2

      var sel = this.sel;
      var scope = sel();
      return createVNode(34, 'div', (0, _extends3.default)({}, this.elProps({
        className: 'LogoLoader'
      })), [createVNode(2, 'style', {
        'dangerouslySetInnerHTML': {
          __html: '\n            @keyframes loader-fill-1 {\n              from {\n                stroke-dashoffset: -' + strokeLength + 'px;\n              }\n              to {\n                stroke-dashoffset: -' + strokeLength * 3 + 'px;\n              }\n            }\n            @keyframes loader-fill-2 {\n              from {\n                stroke-dashoffset: -' + strokeLength * 1.5 + 'px;\n              }\n              to {\n                stroke-dashoffset: -' + strokeLength * 3 + 'px;\n              }\n            }\n          '
        }
      }), createVNode(16, _styleverse.Style, {
        'perf': true,
        children: '\n            ' + sel() + ' {\n              ovf -- hidden\n              stroke -- chroma-text-pop\n            }\n            ' + { sel: sel } + ' svg {\n              chroma--loading-bg\n            }\n            ' + { sel: sel } + ' .path1 {\n              stroke -- chroma-line\n            }\n            ' + { sel: sel } + ' .path2 {\n              stroke -- chroma-text-pop\n            }\n            ' + { sel: sel } + ' .path3 {\n              stroke -- chroma-text-pop2\n            }\n            ' + { sel: sel } + ' .path4 {\n              stroke -- chroma-selection\n            }\n            ' + { sel: sel } + ' .path5 {\n              stroke -- chroma-box-pop\n            }\n            ' + { sel: sel } + ' .path6 {\n              stroke -- chroma-inverse-box-pop\n            }\n        '
      }, null, null, 'styleverse-styles'), createVNode(2, 'style', null, '\n          ' + scope + ' {\n            width: 56;\n            height: 56;\n          }\n\n          ' + scope + ' svg {\n            position: absolute;\n            box-shadow: 0 1px 2px hsla(0,0%,0%,.5);\n            left: calc(50% - 56px/2);\n            top: calc(50% - 56px/2);\n          }\n\n          ' + scope + ' path {\n            opacity: .4\n          }\n          ' + scope + ' .path1 {\n            //stroke-dashoffset: ' + strokeLength * -1 + 'px;\n            stroke-dasharray: ' + strokeLength + ' ' + strokeLength + ';\n            animation-delay: ' + (delay + .2) + 's;\n            animation-duration: 3s;\n            animation-iteration-count: infinite;\n            animation-timing-function: ease-in;\n          }\n          ' + scope + ' .path2 {\n            stroke-dashoffset: -' + strokeLength + 'px;\n            stroke-dasharray: ' + strokeLength + ' ' + strokeLength + ';\n            animation-name: loader-fill-1;\n            animation-delay: ' + delay + 's;\n            animation-duration: 8s;\n            animation-iteration-count: infinite;\n            animation-timing-function: ease;\n          }\n          ' + scope + ' .path3 {\n            stroke-dashoffset: -' + strokeLength + 'px;\n            stroke-dasharray: ' + strokeLength + ' ' + strokeLength + ';\n            animation-name: loader-fill-1;\n            animation-delay: ' + (delay + 2) + 's;\n            animation-duration: 8s;\n            animation-iteration-count: infinite;\n            animation-timing-function: ease;\n          }\n          ' + scope + ' .path4 {\n            stroke-dashoffset: -' + strokeLength + 'px;\n            stroke-dasharray: ' + strokeLength + ' ' + strokeLength + ';\n            animation-name: loader-fill-1;\n            animation-delay: ' + (delay + 4) + 's;\n            animation-duration: 8s;\n            animation-iteration-count: infinite;\n            animation-timing-function: ease;\n          }\n          ' + scope + ' .path5 {\n            stroke-dashoffset: -' + strokeLength + 'px;\n            stroke-dasharray: ' + strokeLength + ' ' + strokeLength + ';\n            animation-name: loader-fill-1;\n            animation-delay: ' + (delay + 6) + 's;\n            animation-duration: 8s;\n            animation-iteration-count: infinite;\n            animation-timing-function: ease;\n          }\n          ' + scope + ' .path6 {\n            stroke-dashoffset: -' + strokeLength + 'px;\n            stroke-dasharray: ' + strokeLength + ' ' + strokeLength + ';\n            animation-name: loader-fill-1;\n            animation-delay: ' + (delay + 8) + 's;\n            animation-duration: 8s;\n            animation-iteration-count: infinite;\n            animation-timing-function: ease;\n          }\n        ', null, 'scoped-styles'), createVNode(2, 'div', {
        'dangerouslySetInnerHTML': {
          __html: '\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n            \t width="56px" height="56px" viewBox="396 1317 56 56" enable-background="new 396 1317 56 56" xml:space="preserve">\n            <g>\n            \t<rect class="LogoLoader-bg" x="0" y="0" width="56" height="56"/>\n            \t<path class="path1" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path2" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path3" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path4" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path5" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path6" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            </g>\n            </svg>\n            '
        }
      })]);
    }
  }]);
  return LogoLoader;
}(_uiComponentDeprecated2.default);

LogoLoader.displayName = 'LogoLoader';
exports.default = LogoLoader;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 652 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var createVNode = Inferno.createVNode;

var LogoLoader = function (_Component) {
  (0, _inherits3.default)(LogoLoader, _Component);

  function LogoLoader(props) {
    (0, _classCallCheck3.default)(this, LogoLoader);

    var _this = (0, _possibleConstructorReturn3.default)(this, (LogoLoader.__proto__ || (0, _getPrototypeOf2.default)(LogoLoader)).call(this, props));

    _this.id = 'LogoLoader-' + count++;
    return _this;
  }

  (0, _createClass3.default)(LogoLoader, [{
    key: 'render',
    value: function render() {
      var strokeLength = 192;
      var delay = 0; // Math.random() * 1.2

      var sel = this.sel;
      return createVNode(34, 'div', (0, _extends3.default)({}, this.elProps({
        className: 'LogoLoader'
      })), [createVNode(2, 'style', {
        'dangerouslySetInnerHTML': {
          __html: '\n            @keyframes loader-fill-1 {\n              from {\n                stroke-dashoffset: -' + strokeLength + 'px;\n              }\n              to {\n                stroke-dashoffset: -' + strokeLength * 3 + 'px;\n              }\n            }\n            @keyframes loader-fill-2 {\n              from {\n                stroke-dashoffset: -' + strokeLength * 1.5 + 'px;\n              }\n              to {\n                stroke-dashoffset: -' + strokeLength * 3 + 'px;\n              }\n            }\n          '
        }
      }), createVNode(16, _styleverse.Style, {
        'perf': true,
        children: '\n            ' + sel() + ' {\n              ovf -- hidden\n              stroke -- chroma-text-pop\n            }\n            ' + { sel: sel } + ' svg {\n              chroma--loading-bg\n            }\n            ' + { sel: sel } + ' .path1 {\n              stroke -- chroma-line\n            }\n            ' + { sel: sel } + ' .path2 {\n              stroke -- chroma-text-pop\n            }\n            ' + { sel: sel } + ' .path3 {\n              stroke -- chroma-text-pop2\n            }\n            ' + { sel: sel } + ' .path4 {\n              stroke -- chroma-selection\n            }\n            ' + { sel: sel } + ' .path5 {\n              stroke -- chroma-box-pop\n            }\n            ' + { sel: sel } + ' .path6 {\n              stroke -- chroma-inverse-box-pop\n            }\n        '
      }, null, null, 'styleverse-styles'), createVNode(16, _styleverse.Style, {
        'scope': sel(),
        'perf': true,
        children: '\n            :scope {\n              width -- 56\n              height -- 56\n              svg {\n                position -- absolute\n                box-shadow -- 0 1px 2px hsla(0,0%,0%,.5)\n                left -- calc(50% - 56px/2)\n                top -- calc(50% - 56px/2)\n                //transform -- rotateZ(45deg)\n              }\n              path {\n                opacity -- .4\n              }\n              .path1 {\n                //stroke-dashoffset -- ' + strokeLength * -1 + 'px\n                stroke-dasharray -- ' + strokeLength + ' ' + strokeLength + '\n                //animation_name -- loader-fill-1\n                animation-delay -- ' + (delay + .2) + 's\n                animation-duration -- 3s\n                animation-iteration-count -- infinite\n                animation-timing-function -- ease-in\n              }\n              .path2 {\n                stroke-dashoffset -- -' + strokeLength + 'px\n                stroke-dasharray -- ' + strokeLength + ' ' + strokeLength + '\n                animation-name -- loader-fill-1\n                animation-delay -- ' + delay + 's\n                animation-duration -- 8s\n                animation-iteration-count -- infinite\n                animation-timing-function -- ease\n              }\n              .path3 {\n                stroke-dashoffset -- -' + strokeLength + 'px\n                stroke-dasharray -- ' + strokeLength + ' ' + strokeLength + '\n                animation-name -- loader-fill-1\n                animation-delay -- ' + (delay + 2) + 's\n                animation-duration -- 8s\n                animation-iteration-count -- infinite\n                animation-timing-function -- ease\n              }\n              .path4 {\n                stroke-dashoffset -- -' + strokeLength + 'px\n                stroke-dasharray -- ' + strokeLength + ' ' + strokeLength + '\n                animation-name -- loader-fill-1\n                animation-delay -- ' + (delay + 4) + 's\n                animation-duration -- 8s\n                animation-iteration-count -- infinite\n                animation-timing-function -- ease\n              }\n              .path5 {\n                stroke-dashoffset -- -' + strokeLength + 'px\n                stroke-dasharray -- ' + strokeLength + ' ' + strokeLength + '\n                animation-name -- loader-fill-1\n                animation-delay -- ' + (delay + 6) + 's\n                animation-duration -- 8s\n                animation-iteration-count -- infinite\n                animation-timing-function -- ease\n              }\n              .path6 {\n                stroke-dashoffset -- -' + strokeLength + 'px\n                stroke-dasharray -- ' + strokeLength + ' ' + strokeLength + '\n                animation-name -- loader-fill-1\n                animation-delay -- ' + (delay + 8) + 's\n                animation-duration -- 8s\n                animation-iteration-count -- infinite\n                animation-timing-function -- ease\n              }\n            }\n          '
      }, null, null, 'scoped-styles'), createVNode(2, 'div', {
        'dangerouslySetInnerHTML': {
          __html: '\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n            \t width="56px" height="56px" viewBox="396 1317 56 56" enable-background="new 396 1317 56 56" xml:space="preserve">\n            <g>\n            \t<rect class="LogoLoader-bg" x="0" y="0" width="56" height="56"/>\n            \t<path class="path1" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path2" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path3" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path4" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path5" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            \t<path class="path6" fill="none"  stroke-width="2" stroke-linecap="square" stroke-miterlimit="10"\n                d="M424,1345h8v8h-16v-16h24\n                \t\tv24h-32v-32h32"/>\n            </g>\n            </svg>\n            '
        }
      })]);
    }
  }]);
  return LogoLoader;
}(_uiComponentDeprecated2.default);

LogoLoader.displayName = "LogoLoader";
exports.default = LogoLoader;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 653 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _LogoLoader = __webpack_require__(652);

var _LogoLoader2 = _interopRequireDefault(_LogoLoader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/ui-logo-loader");
exports.default = _LogoLoader2.default;
module.exports = exports["default"];

/***/ }),
/* 654 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiDesignable = __webpack_require__(63);

var _uiDesignable2 = _interopRequireDefault(_uiDesignable);

var _styles = __webpack_require__(655);

var _styles2 = _interopRequireDefault(_styles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var designConfig = {
  style: '\n    :scope {\n      bg-clr -- chroma-box\n      h--100%\n      w--100%\n    }\n  ',
  designverse: {
    'filter--gmap': {
      style: '\n        :scope {\n          chroma-filter--gradient-map\n        }\n      '
    }
  },
  sharedCSS: '\n    /*\n      9/16*100 = 56.25\n      16/9*100 = 177.77\n    */\n  '
};

var createVNode = Inferno.createVNode;

var Map = function (_React$Component) {
  (0, _inherits3.default)(Map, _React$Component);

  function Map() {
    (0, _classCallCheck3.default)(this, Map);
    return (0, _possibleConstructorReturn3.default)(this, (Map.__proto__ || (0, _getPrototypeOf2.default)(Map)).apply(this, arguments));
  }

  (0, _createClass3.default)(Map, [{
    key: 'get_id',
    value: function get_id() {
      if (this.props.id) return this.props.id;
      return this._id;
    }
  }, {
    key: 'get_className',
    value: function get_className() {
      var className = this.props.className;

      if (!className) className = '';
      className += ' map component--map';
      return className;
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var lat = this.props.lat;
      var lng = this.props.lng;

      var mapOptions = {
        // How zoomed in you want the map to start at (always required)
        zoom: 11,
        // The latitude and longitude to center the map (always required)
        center: new google.maps.LatLng(lat, lng), // New York
        styles: _styles2.default[this.props.mapStyle]
      };

      var map = new google.maps.Map(this.divmap, mapOptions);
      var marker = new google.maps.Marker({
        position: new google.maps.LatLng(lat, lng),
        map: map,
        title: 'Hotel name here'
      });

      google.maps.event.addDomListener(window, 'resize', function () {
        var center = map.getCenter();
        google.maps.event.trigger(map, 'resize');
        map.setCenter(center);
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _this2 = this;

      // getId('Header-bg')
      this.id = this.get_id();
      this.className = this.get_className();
      var style = this.props.style;

      return createVNode(2, 'div', {
        'id': this.id,
        'className': this.className,
        'style': style
      }, this.renderChildren(), null, this.id, function (divmap) {
        _this2.divmap = divmap;
      });
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren() {
      return [];
    }
  }]);
  return Map;
}(_infernoCompat2.default.Component);

Map.displayName = 'Map';
exports.default = (0, _uiDesignable2.default)(Map, designConfig);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 655 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = {
    light: [{
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e9e9e9"
        }, {
            "lightness": 17
        }]
    }, {
        "featureType": "landscape",
        "elementType": "geometry",
        "stylers": [{
            "color": "#f5f5f5"
        }, {
            "lightness": 20
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#ffffff"
        }, {
            "lightness": 17
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry.stroke",
        "stylers": [{
            "color": "#ffffff"
        }, {
            "lightness": 29
        }, {
            "weight": 0.2
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [{
            "color": "#ffffff"
        }, {
            "lightness": 18
        }]
    }, {
        "featureType": "road.local",
        "elementType": "geometry",
        "stylers": [{
            "color": "#ffffff"
        }, {
            "lightness": 16
        }]
    }, {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [{
            "color": "#f5f5f5"
        }, {
            "lightness": 21
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "geometry",
        "stylers": [{
            "color": "#dedede"
        }, {
            "lightness": 21
        }]
    }, {
        "elementType": "labels.text.stroke",
        "stylers": [{
            "visibility": "on"
        }, {
            "color": "#ffffff"
        }, {
            "lightness": 16
        }]
    }, {
        "elementType": "labels.text.fill",
        "stylers": [{
            "saturation": 36
        }, {
            "color": "#333333"
        }, {
            "lightness": 40
        }]
    }, {
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "off"
        }]
    }, {
        "featureType": "transit",
        "elementType": "geometry",
        "stylers": [{
            "color": "#f2f2f2"
        }, {
            "lightness": 19
        }]
    }, {
        "featureType": "administrative",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#fefefe"
        }, {
            "lightness": 20
        }]
    }, {
        "featureType": "administrative",
        "elementType": "geometry.stroke",
        "stylers": [{
            "color": "#fefefe"
        }, {
            "lightness": 17
        }, {
            "weight": 1.2
        }]
    }],
    dark: [{
        "featureType": "all",
        "elementType": "labels.text.fill",
        "stylers": [{
            "saturation": 36
        }, {
            "color": "#000000"
        }, {
            "lightness": 40
        }]
    }, {
        "featureType": "all",
        "elementType": "labels.text.stroke",
        "stylers": [{
            "visibility": "on"
        }, {
            "color": "#000000"
        }, {
            "lightness": 16
        }]
    }, {
        "featureType": "all",
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "off"
        }]
    }, {
        "featureType": "administrative",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 20
        }]
    }, {
        "featureType": "administrative",
        "elementType": "geometry.stroke",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 17
        }, {
            "weight": 1.2
        }]
    }, {
        "featureType": "landscape",
        "elementType": "all",
        "stylers": [{
            "visibility": "on"
        }]
    }, {
        "featureType": "landscape",
        "elementType": "geometry",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 20
        }]
    }, {
        "featureType": "landscape",
        "elementType": "labels.icon",
        "stylers": [{
            "saturation": "-100"
        }, {
            "lightness": "-54"
        }]
    }, {
        "featureType": "poi",
        "elementType": "all",
        "stylers": [{
            "visibility": "on"
        }, {
            "lightness": "0"
        }]
    }, {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 21
        }]
    }, {
        "featureType": "poi",
        "elementType": "labels.icon",
        "stylers": [{
            "saturation": "-89"
        }, {
            "lightness": "-55"
        }]
    }, {
        "featureType": "road",
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "off"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 17
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry.stroke",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 29
        }, {
            "weight": 0.2
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 18
        }]
    }, {
        "featureType": "road.local",
        "elementType": "geometry",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 16
        }]
    }, {
        "featureType": "transit",
        "elementType": "geometry",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 19
        }]
    }, {
        "featureType": "transit.station",
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "on"
        }, {
            "saturation": "-100"
        }, {
            "lightness": "-51"
        }]
    }, {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [{
            "color": "#000000"
        }, {
            "lightness": 17
        }]
    }],
    pastel: [{
        "featureType": "administrative",
        "elementType": "all",
        "stylers": [{
            "visibility": "on"
        }, {
            "lightness": 33
        }]
    }, {
        "featureType": "landscape",
        "elementType": "all",
        "stylers": [{
            "color": "#f2e5d4"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "geometry",
        "stylers": [{
            "color": "#c5dac6"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "labels",
        "stylers": [{
            "visibility": "on"
        }, {
            "lightness": 20
        }]
    }, {
        "featureType": "road",
        "elementType": "all",
        "stylers": [{
            "lightness": 20
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry",
        "stylers": [{
            "color": "#c5c6c6"
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e4d7c6"
        }]
    }, {
        "featureType": "road.local",
        "elementType": "geometry",
        "stylers": [{
            "color": "#fbfaf7"
        }]
    }, {
        "featureType": "water",
        "elementType": "all",
        "stylers": [{
            "visibility": "on"
        }, {
            "color": "#acbcc9"
        }]
    }],
    vibrant: [{
        "featureType": "administrative.country",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }]
    }, {
        "featureType": "administrative.country",
        "elementType": "labels",
        "stylers": [{
            "color": "#3a3939"
        }, {
            "visibility": "simplified"
        }]
    }, {
        "featureType": "administrative.province",
        "elementType": "labels",
        "stylers": [{
            "color": "#a4a4a4"
        }, {
            "visibility": "simplified"
        }]
    }, {
        "featureType": "administrative.locality",
        "elementType": "labels",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#5a5a5a"
        }]
    }, {
        "featureType": "administrative.neighborhood",
        "elementType": "labels",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#a2a2a2"
        }]
    }, {
        "featureType": "administrative.land_parcel",
        "elementType": "labels",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#8a8a8a"
        }]
    }, {
        "featureType": "landscape.man_made",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#e2eadc"
        }]
    }, {
        "featureType": "landscape.natural.landcover",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#cef1af"
        }]
    }, {
        "featureType": "landscape.natural.terrain",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#cef1af"
        }]
    }, {
        "featureType": "poi.attraction",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#9bd599"
        }]
    }, {
        "featureType": "poi.business",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e0e1f1"
        }]
    }, {
        "featureType": "poi.medical",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#f9c7d9"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "geometry.fill",
        "stylers": [{
            "color": "#bde49a"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "labels.text",
        "stylers": [{
            "visibility": "simplified"
        }]
    }, {
        "featureType": "poi.school",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#ffe8ad"
        }]
    }, {
        "featureType": "poi.sports_complex",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#83dc90"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry",
        "stylers": [{
            "color": "#ffed5b"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry.fill",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#878787"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry.stroke",
        "stylers": [{
            "visibility": "on"
        }, {
            "weight": "1.25"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "labels.text",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#585858"
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#ffffff"
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "labels.text",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#5d5d5d"
        }]
    }, {
        "featureType": "road.local",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#faf9f9"
        }]
    }, {
        "featureType": "road.local",
        "elementType": "labels.text",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#6c6c6c"
        }]
    }, {
        "featureType": "transit.line",
        "elementType": "geometry",
        "stylers": [{
            "color": "#c9cbd8"
        }]
    }, {
        "featureType": "transit.station.rail",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#db2b3e"
        }]
    }, {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [{
            "visibility": "simplified"
        }, {
            "color": "#93eaf4"
        }]
    }]
};
module.exports = exports["default"];

/***/ }),
/* 656 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _svg, _svgurl;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiSprung = __webpack_require__(64);

var _renderer = __webpack_require__(230);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;

var spring_presets = [{ friction: 8, tension: 100 }, { friction: 8, tension: 60 }, { friction: 7, tension: 80 }, { friction: 8, tension: 70 }];

var spring_configs = {
  'lines': {
    '+': {
      r_0: 0, o_0: 1,
      r_1: 90, o_1: 1,
      r_2: 0, o_2: 0,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    },
    '*': {
      r_0: 60, o_0: 1,
      r_1: 0, o_1: 1,
      r_2: -60, o_2: 1,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    },
    'x': {
      r_0: -45, o_0: 1,
      r_1: 45, o_1: 1,
      r_2: 0, o_2: 0,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    },
    '-': {
      r_0: -90, o_0: 1,
      r_1: 0, o_1: 0,
      r_2: 0, o_2: 0,
      r_svg: -180, o_svg: 0,
      r_svgurl: -180, o_svgurl: 0,
      r_f: -180, o_f: 0
    }
  },
  'svg': (_svg = {
    r_0: 90, o_0: 0,
    r_2: -90, o_1: 0
  }, (0, _defineProperty3.default)(_svg, 'r_2', 90), (0, _defineProperty3.default)(_svg, 'o_2', 0), (0, _defineProperty3.default)(_svg, 'r_svg', 0), (0, _defineProperty3.default)(_svg, 'o_svg', 1), (0, _defineProperty3.default)(_svg, 'r_svgurl', -180), (0, _defineProperty3.default)(_svg, 'o_svgurl', 0), (0, _defineProperty3.default)(_svg, 'r_f', -360), (0, _defineProperty3.default)(_svg, 'o_f', 0), _svg),
  'svgurl': (_svgurl = {
    r_0: 90, o_0: 0,
    r_2: -90, o_1: 0
  }, (0, _defineProperty3.default)(_svgurl, 'r_2', 90), (0, _defineProperty3.default)(_svgurl, 'o_2', 0), (0, _defineProperty3.default)(_svgurl, 'r_svg', -180), (0, _defineProperty3.default)(_svgurl, 'o_svg', 0), (0, _defineProperty3.default)(_svgurl, 'r_svgurl', 0), (0, _defineProperty3.default)(_svgurl, 'o_svgurl', 1), (0, _defineProperty3.default)(_svgurl, 'r_f', -360), (0, _defineProperty3.default)(_svgurl, 'o_f', 0), _svgurl),
  'font': {
    r_0: 90, o_0: 0,
    r_1: -90, o_1: 0,
    r_2: 90, o_2: 0,
    r_svg: -360, o_svg: 0,
    r_svgurl: -360, o_svgurl: 0,
    r_f: 0, o_f: 1
  }
};

var count = 0;
var rootElStyle = { position: 'relative' };
var _className = 'ornament ornament-morphable';

var createVNode = Inferno.createVNode;

var IconMorphable = function (_React$Component) {
  (0, _inherits3.default)(IconMorphable, _React$Component);

  function IconMorphable() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, IconMorphable);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = IconMorphable.__proto__ || (0, _getPrototypeOf2.default)(IconMorphable)).call.apply(_ref, [this].concat(args))), _this), _this.id = 'icon-morphable-' + count++, _this.springs = undefined, _this.last_lines_icon = undefined, _this.last_svg_icon = undefined, _this.last_svgurl_icon = undefined, _this.last_font_icon = undefined, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(IconMorphable, [{
    key: 'getId',
    value: function getId() {
      return this.props.id || this.id;
    }
  }, {
    key: 'springs_update',
    value: function springs_update(icon) {
      var config_key = (0, _renderer.get_icon_type)(icon);
      var config = config_key === 'lines' ? spring_configs[config_key][icon] : spring_configs[config_key];
      if (!config) throw new Error('morphable icon not recognized! ' + icon);
      var springs = this.springs;
      // if (this.last_lines_icon) {
      springs.set('r_0', config['r_0'], spring_presets[0]);
      springs.set('r_1', config['r_1'], spring_presets[1]);
      springs.set('r_2', config['r_2'], spring_presets[2]);
      springs.set('o_0', config['o_0'], spring_presets[0]);
      springs.set('o_1', config['o_1'], spring_presets[1]);
      springs.set('o_2', config['o_2'], spring_presets[2]);
      // }
      if (this.last_svg_icon) {
        springs.set('r_svg', config['r_svg'], spring_presets[3]);
        springs.set('o_svg', config['o_svg'], spring_presets[3]);
      }
      if (this.last_svgurl_icon) {
        springs.set('r_svgurl', config['r_svgurl'], spring_presets[3]);
        springs.set('o_svgurl', config['o_svgurl'], spring_presets[3]);
      }
      if (this.last_font_icon) {
        springs.set('r_f', config['r_f'], spring_presets[3]);
        springs.set('o_f', config['o_f'], spring_presets[3]);
      }
      springs.commit();
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      var id = this.getId();
      this.springs = new _uiSprung.Springs({ id: id });
      this.springs_sheet = createVNode(16, _uiSprung.SprungSheet, {
        'springs': this.springs,
        children: function children(_ref2) {
          var vals = _ref2.vals;

          var font_scaleX = _this2.last_font_icon === 'share' ? 'scaleX(-1)' : '';
          var r_0 = vals.r_0,
              o_0 = vals.o_0,
              r_1 = vals.r_1,
              o_1 = vals.o_1,
              r_2 = vals.r_2,
              o_2 = vals.o_2,
              r_svg = vals.r_svg,
              o_svg = vals.o_svg,
              r_svgurl = vals.r_svgurl,
              o_svgurl = vals.o_svgurl,
              r_f = vals.r_f,
              o_f = vals.o_f;

          var css = '';
          if (_this2.last_lines_icon) {
            css += '\n            #' + id + ' .icon-line-0 {\n              opacity: ' + o_0 + ';\n              transform: rotate(' + r_0 + 'deg) scale(' + o_0 + ');\n            }\n            #' + id + ' .icon-line-1 {\n              opacity: ' + o_1 + ';\n              transform: rotate(' + r_1 + 'deg) scale(' + o_1 + ');\n            }\n            #' + id + ' .icon-line-2 {\n              opacity: ' + o_2 + ';\n              transform: rotate(' + r_2 + 'deg) scale(' + o_2 + ');\n            }';
          }
          if (_this2.last_svg_icon) {
            css += '\n            #' + id + ' .icon-svg {\n              opacity: ' + o_svg + ';\n              transform: rotate(' + r_svg + 'deg) scale(' + o_svg + ');\n            }';
          }
          if (_this2.last_svgurl_icon) {
            css += '\n            #' + id + ' .icon-svgurl {\n              opacity: ' + o_svg + ';\n              transform: rotate(' + r_svgurl + 'deg) scale(' + o_svgurl + ');\n            }';
          }
          if (_this2.last_font_icon) {
            css += '\n            #' + id + ' .icon-font {\n              opacity: ' + o_f + ';\n              transform: rotate(' + r_f + 'deg) scale(' + o_f + ') ' + font_scaleX + ';\n            }';
          }
          return css;
        }
      }, null, null, 'SprungSheet-icon-morphable');
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.springs_update(this.props.children);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.springs_update(nextProps.children);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.last_lines_icon = undefined;
      this.last_svg_icon = undefined;
      this.last_svgurl_icon = undefined;
      this.last_font_icon = undefined;
      this.springs_sheet = undefined;
      this.springs.destroy();
      this.springs = undefined;
    }
  }, {
    key: 'render',
    value: function render() {
      var id = this.getId();
      var icon = this.props.children;
      var icon_type = (0, _renderer.get_icon_type)(icon);
      if (icon_type === 'lines') {
        this.last_lines_icon = icon;
      } else if (icon_type === 'svg') {
        this.last_svg_icon = icon;
      } else if (icon_type === 'svgurl') {
        this.last_svgurl_icon = icon;
      } else {
        this.last_font_icon = icon;
      }
      var className = this.props.className ? this.props.className + ' ' + _className : _className;
      var children = [this.springs_sheet];
      if (this.last_svg_icon) children.push((0, _renderer.renderer)(id, this.last_svg_icon, this.props));
      if (this.last_svgurl_icon) children.push((0, _renderer.renderer)(id, this.last_svgurl_icon, this.props));
      if (this.last_font_icon) children.push((0, _renderer.renderer)(id, this.last_font_icon, this.props));
      if (this.last_lines_icon) children.push((0, _renderer.renderer)(id, this.last_lines_icon, this.props));
      return createVNode(2, 'div', {
        'id': id,
        'className': className,
        'style': rootElStyle
      }, children);
    }
  }]);
  return IconMorphable;
}(_infernoCompat2.default.Component);

IconMorphable.displayName = 'IconMorphable';
IconMorphable.propTypes = {
  children: _infernoCompat2.default.PropTypes.string.isRequired, // '+' '*' 'x'
  iconWeight: _infernoCompat2.default.PropTypes.number.isRequired,
  iconSize: _infernoCompat2.default.PropTypes.number.isRequired
};
IconMorphable.defaultProps = {
  children: null,
  iconWeight: 2,
  iconSize: 14
};
exports.default = IconMorphable;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 657 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _iconMorphable = __webpack_require__(656);

var _iconMorphable2 = _interopRequireDefault(_iconMorphable);

var _renderer = __webpack_require__(230);

var _renderer2 = _interopRequireDefault(_renderer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function Icon(props) {
  if (!props.children) throw new Error('Icon requires children as lookup to icon renderer');
  if (props.morphable) return _infernoCompat2.default.createElement(_iconMorphable2.default, props);
  var className = props.className || '';
  className += ' ornament';
  var id = props.id;
  var style = props.style || {};
  //style.width = style.height = 24
  style.height = '1em';
  style.width = '100%';
  style.display = 'inline-block';
  style.position = 'relative';
  return _infernoCompat2.default.createElement('div', { id: id, className: className, style: style }, (0, _renderer2.default)(id, props.children, props));
}
exports.default = Icon;
module.exports = exports['default'];

/***/ }),
/* 658 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _icon = __webpack_require__(657);

var _icon2 = _interopRequireDefault(_icon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _icon2.default;
module.exports = exports['default'];

/***/ }),
/* 659 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var themes = {
  'sonam': {
    props: { perf: true },
    styles: '\n      :scope {\n        fnt-sz -- txt\n        fnt -- txt2\n        clr -- chroma-text\n\n        .pricing_bg {\n          bg-clr -- chroma-bg\n        }\n\n        .pricing-item {\n\n          margin -- 1em\n          padding -- 2em\n          cursor -- default\n          //\n          border-radius -- 10px\n          background -- chroma-box\n          box-shadow -- 0 5px 20px hsla(0, 0%, 0%, 0.05), 0 15px 30px -10px hsla(0, 0%, 0%, 0.3)\n          transition -- background 0.3s\n\n          .pricing-item_title {\n            fnt-sz -- d-s\n            width -- 100%\n            margin -- 0 0 0.25em\n            padding -- 0 0 0.5em\n            fnt -- d2\n            //\n            border-bottom -- 3px solid chroma-line\n          }\n\n          .pricing-item_price {\n            pad-t -- 1em\n            pad-b -- 1em\n            fnt-sz -- txt-l\n            fnt -- d\n            //\n            clr -- chroma-text-pop\n          }\n\n          .pricing-item_description {\n            pad-t -- 1em\n            pad-b -- 1em\n            fnt -- txt2\n          }\n\n          .pricing-item_features {\n            margin -- 0\n            padding -- 1em 1.25em 2em\n            txt-aln -- center\n\n            li {\n              pad-t -- .25em\n              pad-b -- .25em\n              o -- .614\n            }\n          }\n\n          .pricing-item_action {\n            cursor -- pointer\n            fnt-sz -- txt\n            margin-top -- auto\n            padding -- 0.75em 2em\n            border-radius -- 5px\n            bg-clr -- chroma-box-pop\n            clr -- chroma-box-pop-text\n            transition -- background 0.3s\n          }\n        }\n      }\n\n    '
  },

  'jinpa': {
    props: { perf: true },
    styles: '\n      :scope {\n        fnt-sz -- txt\n        fnt -- txt2\n        clr -- chroma-text\n\n        .pricing_bg {\n          bg-clr -- chroma-box\n        }\n\n        .pricing-item {\n\n          margin -- 0em\n          padding -- 2em\n          cursor -- default\n          //\n          border-radius -- 0px\n          background -- chroma-box\n\n          border -- 1px solid chroma-line\n\n          transition -- background 0.3s\n\n          &:nth-child(2) {\n            border-right -- none\n            border-left -- none\n          }\n\n          .pricing-item_title {\n            fnt-sz -- d-s\n            width -- 100%\n            margin -- 0 0 0.25em\n            padding -- 0 0 0.5em\n            fnt -- d2\n            //\n          }\n\n          .pricing-item_price {\n            pos -- r\n            pad-t -- 1em\n            pad-b -- 1em\n            mar-t -- 2em\n            mar-b -- 2em\n\n            fnt-sz -- txt-l\n            fnt -- d\n\n            w -- 100px\n            h -- 100px\n            mar-r -- auto\n            mar-l -- auto\n            border-radius -- 50%\n            bg-clr -- chroma-box-pop2\n            clr -- chroma-box-pop2-text\n            text-align -- center\n            line-height -- 100px\n            padding -- 0\n\n\n            .pricing-item_period {\n              fnt-sz -- txt-s\n              o -- .25\n              pos -- a\n              b -- -20\n              l -- 0\n              r -- 0\n            }\n          }\n\n          .pricing-item_description {\n            pad-t -- 1em\n            pad-b -- 1em\n            fnt -- txt2\n          }\n\n          .pricing-item_features {\n            margin -- 0\n            padding -- 1em 1.25em 2em\n            txt-aln -- center\n\n            li {\n              pad-t -- .25em\n              pad-b -- .25em\n              o -- .614\n            }\n          }\n\n          .pricing-item_action {\n            cursor -- pointer\n            fnt-sz -- txt\n            margin-top -- auto\n            padding -- 0.75em 2em\n            border-radius -- 5px\n            bg-clr -- chroma-box-pop\n            clr -- chroma-box-pop-text\n            transition -- background 0.3s\n          }\n        }\n      }\n\n    '
  },

  'quip': {
    props: {
      perf: true,
      featuredOffset: '0em'
    },
    styles: '\n      :scope {\n        fnt-sz -- txt\n        fnt -- txt2\n        clr -- chroma-text\n\n\n        .pricing_bg {\n          bg-clr -- chroma-bg\n        }\n\n        .pricing-item {\n\n          &:hover {\n            bg-clr -- white !important\n            li {\n              bg-clr -- chroma-box !important\n              &:nth-child(odd) {\n                bg-color -- chroma-zebra-stripe !important\n              }\n            }\n          }\n\n          mar -- 0em\n          mar-t -- 2em\n          mar-b -- 2em\n          padding -- 2em\n          cursor -- default\n          //\n          border-radius -- 2px\n          bg-clr -- chroma-box\n\n          //border -- 0px solid chroma-line\n\n          box-sh -- m\n\n          transition -- background 0.3s\n\n\n          &.featured {\n            mar-t -- props.featuredOffset\n            mar-b -- props.featuredOffset\n            z-idx -- 1\n            box-sh -- l\n          }\n\n          .pricing-item_title {\n            cursor -- pointer\n            fnt-sz -- d-m\n            width -- 100%\n            margin -- 0 0 0.25em\n            padding -- 0 0 0.5em\n            fnt -- d2\n            clr -- chroma-title2\n            //\n          }\n          &.featured .pricing-item_title {\n            clr -- chroma-title\n          }\n\n          .pricing-item_price {\n            mar-t -- auto\n            order -- 100\n            pad-t -- 1em\n            pad-b -- 1em\n            fnt-sz -- txt-l\n            fnt -- d\n            //\n            clr -- chroma-text-pop\n          }\n          &.featured .pricing-item_price {\n            clr -- chroma-text-pop2\n          }\n\n          .pricing-item_period {\n            fnt-sz -- txt-s\n            mar-l -- .25em\n            o -- .6\n          }\n\n          .pricing-item_description {\n            pad-t -- .75em\n            pad-b -- .75em\n            fnt -- txt\n            clr -- chroma-text2\n            mar-b -- auto\n          }\n\n          .pricing-item_features {\n            margin -- 0\n            mar-t -- 1em\n            mar-b -- 1em\n            txt-aln -- center\n\n            li {\n              pad-t -- .75em\n              pad-b -- .75em\n              mar -- 0\n              mar-l -- -2em\n              mar-r -- -2em\n              clr -- chroma-meta\n              box-sh -- inset 0 -1px 1px hsla(0,0%,0%,.1)\n\n              transition -- background 0.3s\n\n              &:nth-child(odd) {\n                bg-color -- chroma-zebra-stripe\n              }\n\n              &:last-child {\n                border-b -- none\n              }\n            }\n          }\n          &.featured .pricing-item_features {\n            mar-t -- 1em\n          }\n\n          .pricing-item_action {\n            cursor -- pointer\n            fnt-sz -- txt\n            order -- 1000\n            margin-top -- initial\n            padding -- 1em 2em\n            //border-radius -- 5px\n            bg-clr -- chroma-box-pop2\n            clr -- chroma-box-pop2-text\n            transition -- background 0.3s\n          }\n          &.featured .pricing-item_action {\n            bg-clr -- chroma-box-pop\n            clr -- chroma-box-pop-text\n          }\n        }\n      }\n    '
  }

};

function Styles(props) {
  var theme = props.theme,
      scopeId = props.scopeId;

  var scope = '#' + scopeId;
  if (!theme) theme = 'quip';
  theme = themes[theme];
  return Inferno.createElement('span', null, [Inferno.createElement(_styleverse.Style, { scope: scope }, '\n      :scope {\n\n        padding -- 4em 0\n        position -- relative\n\n        d -- flex\n        flex-direction -- column\n        flx-aln -- mid\n        flx-jst -- mid\n\n        .pricing_table {\n        \td -- flex\n        \tflex-wrap -- wrap\n        \tjustify-content -- center\n        \twidth -- 100%\n          margin -- 0 auto 3em\n        }\n\n        .pricing_bg {\n          pos -- a\n          t -- 0\n          r -- 0\n          b -- 0\n          l -- 0\n        }\n\n        .pricing-item {\n        \tpos -- relative\n        \td -- flex\n        \tflex-direction -- column\n        \talign-items -- stretch\n        \ttext-align -- center\n        \tflex -- 0 1 330px\n        }\n\n        .pricing-item_features {\n        \ttext-align -- left\n        }\n\n        .pricing-item_action {\n        \tcolor -- inherit\n        \tborder -- none\n        \tbg -- none\n\n          &:focus {\n          \toutline -- none\n          }\n        }\n      }\n    '), Inferno.createElement(_styleverse.Style, (0, _assign2.default)({ scope: scope }, theme.props), theme.styles)]);
}

exports.default = Styles;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 660 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

var _pricingItem = __webpack_require__(661);

var _pricingItem2 = _interopRequireDefault(_pricingItem);

var _Styles = __webpack_require__(659);

var _Styles2 = _interopRequireDefault(_Styles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-pricing-table');


var displayName = 'PricingTable';
var RIBBON_STYLE = void 0;

var createVNode = Inferno.createVNode;
function PricingTable(props) {
  var id = props.id,
      className = props.className,
      items = props.items,
      theme = props.theme,
      styleverse = props.styleverse,
      style = props.style,
      before = props.before,
      after = props.after;


  if (!id) throw new Error('PricingTable requires props.id');
  if (!className) className = '';
  className += ' pricing';
  if (!style) style = null;

  var hasFeatured = false;
  var itemRenders = [];
  var itemId = void 0;
  for (var i = 0; i < items.size; i++) {
    var item = items.get(i);
    if (!hasFeatured) hasFeatured = item.get('isFeatured');
    itemId = id + '-item-' + i;
    itemRenders.push(createVNode(16, _pricingItem2.default, {
      'id': itemId,
      'item': item
    }, null, null, itemId));
  }

  var children = [];
  if (before) children.push(before);
  children.push(createVNode(16, _Styles2.default, {
    'theme': theme,
    'scopeId': id
  }));
  children.push(createVNode(2, 'div', {
    'className': 'pricing_bg'
  }));
  children.push(createVNode(2, 'div', {
    'id': id + '-table',
    'className': 'pricing_table'
  }, itemRenders));
  if (hasFeatured) {
    if (!RIBBON_STYLE) {
      RIBBON_STYLE = createVNode(16, _styleverse.Style, {
        'scope': '#' + id,
        children: '\n        :scope {\n          .Ribbon {\n            pos -- a\n            bf-viz--hidden\n            tf--translate3d(0px,0px,0px)\n            t -- -2px\n            r -- -2px\n            w -- 8em\n            h -- 8em\n            ovf -- hidden\n            line-h -- 1em\n            fnt-sz -- txt-xs\n          }\n          .Ribbon-text {\n            pos -- r\n            pad -- .75em 0\n            perspective -- 1000\n            bf-viz--hidden\n            tf -- translate3d(0px,0px,0px) rotate(45deg)\n            l -- -1em\n            t -- 2em\n            w -- 12em\n            whs--nw\n            fnt -- txt2\n            fnt-wght -- b\n            txt-aln -- center\n            //txt-sh -- 0px 1px 0px chroma-selection-more-opaque\n            box-sh -- 0px 0px 2px rgba(0,0,0,0.3)\n            clr -- chroma-title2\n            bg-clr -- chroma-selection\n            trans-- background-color 1s\n          }\n          .Ribbon-text:before, .Ribbon-text:after {\n            content -- ""\n            bdr-t -- 2px solid chroma-box-pop\n            bdr-l --  2px solid transparent\n            bdr-r -- 2px solid transparent\n            pos -- a\n            b -- -2px\n          }\n          .Ribbon-text:before {\n            l -- 0\n          }\n          .Ribbon-text:after {\n            r -- 0\n          }\u200B\n        }\n        '
      });
    }
    children.push(RIBBON_STYLE);
  }
  if (after) children.push(after);
  return createVNode(2, 'section', {
    'id': id,
    'className': className,
    'style': style
  }, children);
}

PricingTable.displayName = displayName;
exports.default = PricingTable;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 661 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _uiRibbon = __webpack_require__(71);

var _uiRibbon2 = _interopRequireDefault(_uiRibbon);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var displayName = 'PricingItem';

var createVNode = Inferno.createVNode;

var PricingItem = function (_Component) {
  (0, _inherits3.default)(PricingItem, _Component);

  function PricingItem() {
    (0, _classCallCheck3.default)(this, PricingItem);
    return (0, _possibleConstructorReturn3.default)(this, (PricingItem.__proto__ || (0, _getPrototypeOf2.default)(PricingItem)).apply(this, arguments));
  }

  (0, _createClass3.default)(PricingItem, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          item = _props.item,
          id = _props.id;

      var title = item.get('title');
      var price = item.get('price');
      var description = item.get('description');
      var isFeatured = item.get('isFeatured');
      var features = item.get('features');
      var action = item.get('action');

      var className = 'pricing-item';
      if (isFeatured) className += ' featured';

      var featureNodes = [];
      for (var i = 0; i < features.size; i++) {
        var feature = features.get(i);
        featureNodes.push(createVNode(2, 'li', {
          'className': 'pricing-item_feature'
        }, feature, null, 'feature-' + i));
      }

      return createVNode(2, 'div', {
        'id': id,
        'className': className
      }, [isFeatured ? createVNode(16, _uiRibbon2.default, {
        children: 'Most Popular'
      }) : null, createVNode(2, 'h3', {
        'className': 'pricing-item_title'
      }, title), createVNode(2, 'div', {
        'className': 'pricing-item_price'
      }, [createVNode(2, 'span', {
        'className': 'pricing-item_currency'
      }, price.get('currency')), createVNode(2, 'span', {
        'className': 'pricing-item_amount'
      }, price.get('amount')), createVNode(2, 'span', {
        'className': 'pricing-item_period'
      }, price.get('period'))]), createVNode(2, 'p', {
        'className': 'pricing-item_description'
      }, description), createVNode(2, 'ul', {
        'className': 'pricing-item_features'
      }, featureNodes), createVNode(2, 'button', {
        'className': 'pricing-item_action'
      }, action.get('label'), {
        'onClick': action.get('onClick')
      })], null, id);
    }
  }]);
  return PricingItem;
}(_uiComponentDeprecated2.default);

// PricingItem.propTypes = {
//   item: PropTypes.iterable.isRequired
// }

PricingItem.displayName = displayName;
exports.default = PricingItem;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 662 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _ResizeStore = __webpack_require__(231);

var _ResizeStore2 = _interopRequireDefault(_ResizeStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
// import {installStore} from '@the-grid/cymatics'

var ResizeContext = function (_React$Component) {
  (0, _inherits3.default)(ResizeContext, _React$Component);

  function ResizeContext() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ResizeContext);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ResizeContext.__proto__ || (0, _getPrototypeOf2.default)(ResizeContext)).call.apply(_ref, [this].concat(args))), _this), _this.id = 'resize-context-' + count++, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ResizeContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.silently('update-props', this.props);
      this.store.execute('listenIfNeeded');
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      var _props = this.props,
          shouldUpdateProps = _props.shouldUpdateProps,
          shouldSearchTarget = _props.shouldSearchTarget;

      if (!shouldSearchTarget) {
        (0, _deps.raf)(function () {
          _this2.store.execute('listenIfNeeded');
        });
      }
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      if (props.shouldUpdateProps) this.store.silently('update-props', props);
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      var _props2 = this.props,
          shouldUpdateProps = _props2.shouldUpdateProps,
          shouldSearchTarget = _props2.shouldSearchTarget;

      if (shouldUpdateProps || !shouldSearchTarget) {
        this.store.execute('listenIfNeeded');
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      var _props3 = this.props,
          target = _props3.target,
          tag = _props3.tag,
          resizeTarget = _props3.resizeTarget,
          children = _props3.children,
          shouldUpdateProps = _props3.shouldUpdateProps,
          shouldSearchTarget = _props3.shouldSearchTarget,
          componentProps = (0, _objectWithoutProperties3.default)(_props3, ['target', 'tag', 'resizeTarget', 'children', 'shouldUpdateProps', 'shouldSearchTarget']);

      if (target === 'auto') {
        if (!componentProps.id) componentProps.id = this.id;
        return _infernoCompat2.default.createElement(tag, componentProps, this.renderChildren(children));
      }
      return children;
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren(children) {
      return children;
    }
  }]);
  return ResizeContext;
}(_infernoCompat2.default.Component);

ResizeContext.displayName = 'ResizeContext';
ResizeContext.propTypes = {
  id: _infernoCompat.PropTypes.string,
  tag: _infernoCompat.PropTypes.any,
  target: _infernoCompat.PropTypes.string.isRequired,
  resizeTarget: _infernoCompat.PropTypes.string,
  children: _infernoCompat.PropTypes.any.isRequired,
  shouldUpdateProps: _infernoCompat.PropTypes.bool.isRequired,
  shouldSearchTarget: _infernoCompat.PropTypes.bool.isRequired,
  handler: _infernoCompat.PropTypes.func
};
ResizeContext.defaultProps = {
  target: 'auto',
  resizeTarget: 'auto',
  tag: 'div',
  shouldUpdateProps: true,
  shouldSearchTarget: true
};
exports.default = (0, _cymatics.installStore)(ResizeContext, 'resize', function (component) {
  return new _ResizeStore2.default(component);
});
module.exports = exports['default'];

/***/ }),
/* 663 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(49);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiResizeContext = __webpack_require__(232);

var _uiResizeContext2 = _interopRequireDefault(_uiResizeContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var ResizeRenderer = function (_ResizeContext) {
  (0, _inherits3.default)(ResizeRenderer, _ResizeContext);

  function ResizeRenderer() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ResizeRenderer);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ResizeRenderer.__proto__ || (0, _getPrototypeOf2.default)(ResizeRenderer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      resize: undefined
    }, _this.handleStore = function (store) {
      _this.setState({ resize: store.state });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ResizeRenderer, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      (0, _get3.default)(ResizeRenderer.prototype.__proto__ || (0, _getPrototypeOf2.default)(ResizeRenderer.prototype), 'componentWillMount', this).call(this);
      this.store.execute('connect', this.handleStore);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.execute('disconnect', this.handleStore);
      (0, _get3.default)(ResizeRenderer.prototype.__proto__ || (0, _getPrototypeOf2.default)(ResizeRenderer.prototype), 'componentWillUnmount', this).call(this);
    }
  }, {
    key: 'renderChildren',
    value: function renderChildren(children) {
      if (typeof children === 'function') return children(this.store.state, this.store);
      return children;
    }
  }]);
  return ResizeRenderer;
}(_uiResizeContext2.default);

ResizeRenderer.displayName = 'ResizeRenderer';
exports.default = ResizeRenderer;
module.exports = exports['default'];

/***/ }),
/* 664 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _style = __webpack_require__(665);

var _style2 = _interopRequireDefault(_style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mountCount = 0;

var createVNode = Inferno.createVNode;

var Ribbon = function (_React$Component) {
  (0, _inherits3.default)(Ribbon, _React$Component);

  function Ribbon() {
    (0, _classCallCheck3.default)(this, Ribbon);
    return (0, _possibleConstructorReturn3.default)(this, (Ribbon.__proto__ || (0, _getPrototypeOf2.default)(Ribbon)).apply(this, arguments));
  }

  (0, _createClass3.default)(Ribbon, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      if (mountCount === 0) {
        this.context.request('styleverse', 'add-css', 'component--Ribbon', _style2.default.shared);
      }
      mountCount++;
      this._id = 'ribbon-' + mountCount;
      this.id = this.props.id || this._id;
      this.scopedStyle = _style2.default.renderScoped('#' + this.id);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      mountCount--;
      // if (mountCount === 0) {
      //
      // }
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate() {
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      var children = this.props.children;
      // for ds-app compat until styles fixed
      // var styles = null
      //if (shouldStyle) styles = style

      return createVNode(2, 'div', {
        'id': this.id,
        'className': 'Ribbon ribbon'
      }, [this.scopedStyle, createVNode(2, 'div', {
        'className': 'Ribbon-text'
      }, children)]);
    }
  }]);
  return Ribbon;
}(_infernoCompat2.default.Component);

Ribbon.displayName = 'Ribbon';
Ribbon.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
Ribbon.propTypes = {
  children: _infernoCompat2.default.PropTypes.any
};
exports.default = Ribbon;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 665 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.renderScoped = exports.shared = undefined;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var shared = '\n  .Ribbon {\n    position: absolute;\n    backface-visibility: hidden;\n    transform: translate3d(0px,0px,0px);\n    top: -2px;\n    right: -2px;\n    width: 8em;\n    height: 8em;\n    overflow: hidden;\n    line-height: 1em;\n  }\n  .Ribbon-text {\n    position: relative;\n    padding: .75em 0;\n    perspective: 1000;\n    backface-visibility: hidden;\n    transform: translate3d(0px,0px,0px) rotate(45deg);\n    left: -1em;\n    top: 2em;\n    width: 12em;\n    white-space: nowrap;\n    transition: background-color 1s;\n    text-align: center;\n  }\n  .Ribbon-text:before, .Ribbon-text:after {\n    content: "";\n    position: absolute;\n    bottom: -2px;\n  }\n  .Ribbon-text:before {\n    left: 0;\n  }\n  .Ribbon-text:after {\n    right: 0;\n  }\u200B\n';

var createVNode = Inferno.createVNode;
function renderScoped(scope) {
  return createVNode(16, _styleverse.Style, {
    'scope': scope,
    children: '\n      :scope {\n\n        fnt-sz -- txt-xs\n        fnt -- txt2\n        fnt-wght -- b\n\n        .Ribbon-text {\n          //txt-sh -- 0px 1px 0px chroma-selection-more-opaque\n          box-sh -- 0px 0px 2px rgba(0,0,0,0.3)\n          clr -- chroma-title\n          bg-clr -- chroma-selection\n        }\n        .Ribbon-text:before, .Ribbon-text:after {\n          bdr-t -- 2px solid chroma-box-pop\n          bdr-l --  2px solid transparent\n          bdr-r -- 2px solid transparent\n        }\n      }\n    '
  }, null, null, "scoped-ribbon-style");
}

var ribbonStyle = {
  shared: shared,
  renderScoped: renderScoped
};

exports.default = ribbonStyle;
exports.shared = shared;
exports.renderScoped = renderScoped;

// /* Ribbon Styles */
// export default (<Style perf={true}>{`
//   .Ribbon {
//     pos -- a
//     bf-viz--hidden
//     tf--translate3d(0px,0px,0px)
//
//     w -- 85px
//     h -- 88px
//     ovf -- hidden
//
//     t -- -1px
//     r -- -1px
//     //t -- 0px
//     //r -- 0px
//   }
//
//
//   .Ribbon-text {
//     pos -- r
//     pad -- 7px 0
//     perspective -- 1000
//     bf-viz--hidden
//
//     tf -- translate3d(0px,0px,0px) rotate(45deg)
//     l -- -5px
//     t -- 15px
//     w -- 120px
//
//     clr -- chroma-box-pop-text
//     bg-clr -- chroma-box-pop
//     trans-- background-color 1s
//
//     whs--nw
//     fnt-sz -- 10
//     fnt -- txt2
//     fnt-wght -- b
//     txt-aln -- center
//     //txt-sh -- 0px 1px 0px chroma-selection-more-opaque
//
//     box-sh -- 0px 0px 2px rgba(0,0,0,0.3)
//   }
//
//   .Ribbon-text:before, .Ribbon-text:after {
//     content -- ""
//     bdr-t -- 2px solid chroma-box-pop
//     bdr-l --  2px solid transparent
//     bdr-r -- 2px solid transparent
//     pos -- a
//     b -- -2px
//   }
//
//   .Ribbon-text:before {
//     l -- 0
//   }
//
//   .Ribbon-text:after {
//     r -- 0
//   }​
// `}</Style>)
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 666 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _ScrollStore = __webpack_require__(234);

var _ScrollStore2 = _interopRequireDefault(_ScrollStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var ScrollContext = function (_React$Component) {
  (0, _inherits3.default)(ScrollContext, _React$Component);

  function ScrollContext() {
    (0, _classCallCheck3.default)(this, ScrollContext);
    return (0, _possibleConstructorReturn3.default)(this, (ScrollContext.__proto__ || (0, _getPrototypeOf2.default)(ScrollContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(ScrollContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.silently('update-props', this.props);
      this.store.execute('listenIfNeeded');
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      var _this2 = this;

      (0, _deps.raf)(function () {
        _this2.store.execute('listenIfNeeded');
      });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      if (props.target !== this.props.target) this.store.silently('update-props', props);
      // if (props.shouldUpdateProps) this.store.silently( 'update-props', props )
    }

    // componentWillRecieveProps(props) {

  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate() {
      this.store.execute('listenIfNeeded', this.props.target);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return ScrollContext;
}(_deps.React.Component);

ScrollContext.displayName = 'ScrollContext';
ScrollContext.propTypes = {
  target: _deps.PropTypes.string.isRequired,
  children: _deps.PropTypes.any.isRequired
};
ScrollContext.defaultProps = {
  target: 'document'
};
exports.default = (0, _cymatics.installStore)(ScrollContext, 'scroll', function (scrollContext) {
  return new _ScrollStore2.default(scrollContext);
});
module.exports = exports['default'];

/***/ }),
/* 667 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Selectable = function (_React$Component) {
  (0, _inherits3.default)(Selectable, _React$Component);

  function Selectable() {
    var _ref;

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    (0, _classCallCheck3.default)(this, Selectable);

    //this.perfCheckState = false

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = Selectable.__proto__ || (0, _getPrototypeOf2.default)(Selectable)).call.apply(_ref, [this].concat(args)));

    var that = _this;

    var setState = _this.setState;
    _this.setState = function () {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return setState.apply(that, args);
    };

    var selectAll = function selectAll() {
      var struct = that.state.struct;
      var items = struct.get('items');
      if (!struct.get('multi')) return;
      return that.setState({
        struct: struct.set('selectedItems', items)
      });
    };

    var deselectAll = function deselectAll() {
      var struct = that.state.struct;
      return that.setState({
        struct: struct.set('selectedItems', (0, _immutable.List)())
      });
    };

    var isItemSelected = function isItemSelected(item) {
      var struct = that.state.struct;
      var selectedItems = struct.get('selectedItems');
      return selectedItems.includes(item);
    };

    var isItemDeselected = function isItemDeselected(item) {
      var struct = that.state.struct;
      var selectedItems = struct.get('selectedItems');
      var multi = struct.get('multi');
      return multi && selectedItems.size > 0 && !selectedItems.includes(item);
    };

    var toggleItem = function toggleItem(item) {
      var struct = _this.state.struct;

      var itemIsSelected = isItemSelected(item);
      var required = struct.get('required');

      if (!struct.get('multi')) {

        if (itemIsSelected && required) return null;

        return that.setState({
          struct: itemIsSelected ? struct.set('selectedItems', (0, _immutable.List)()) : struct.set('selectedItems', (0, _immutable.List)([item]))
        });
      } else {
        var selectedItems = struct.get('selectedItems');

        if (itemIsSelected && required && selectedItems.size === 1) return null;

        return that.setState({
          struct: itemIsSelected ? struct.deleteIn(['selectedItems', selectedItems.indexOf(item)]) : struct.set('selectedItems', selectedItems.push(item))
        });
      }
    };

    var itemToggler = function itemToggler(item) {
      return function () {
        toggleItem(item);
      };
    };

    var itemTogglerIfHasSelected = function itemTogglerIfHasSelected(item) {
      return function () {
        var struct = that.state.struct;
        var selectedItems = struct.get('selectedItems');
        if (selectedItems.size) toggleItem(item);
      };
    };

    var SelectableStruct = (0, _immutable.Struct)({

      construct: function construct(vals) {
        var _vals = vals,
            required = _vals.required,
            initial = _vals.initial,
            selectedItems = _vals.selectedItems,
            items = _vals.items;


        if (required) {
          if (!selectedItems && !initial) {
            vals = (0, _assign2.default)({ selectedItems: _immutable.List.of(items.get(0)) }, vals);
          }
        }
        return vals;
      },

      items: undefined,

      multi: undefined,

      required: undefined,

      selectedItems: {
        default: _immutable.List.EMPTY
      },

      selectedItem: {
        cache: false,
        deps: ['selectedItems'],
        get: function get(selectedItems) {
          return selectedItems.get(0);
        }
      },

      selectedIndex: {
        cache: false,
        deps: ['selectedItems', 'items'],
        get: function get(selectedItems, items) {
          return items.indexOf(selectedItems.get(0));
        }
      },

      selectedIndices: {
        cache: false,
        deps: ['selectedItems', 'items'],
        get: function get(selectedItems, items) {
          return selectedItems.map(function (item) {
            return items.indexOf(item);
          });
        }
      },

      selectAll: {
        params: ['IGNORE'],
        cache: false,
        get: function get() {
          return selectAll();
        }
      },

      deselectAll: {
        params: ['IGNORE'],
        cache: false,
        get: function get() {
          return deselectAll();
        }
      },

      isItemSelected: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return isItemSelected(item);
        }
      },

      isItemDeselected: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return isItemDeselected(item);
        }
      },

      toggleItem: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return toggleItem(item);
        }
      },

      itemToggler: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return itemToggler(item);
        }
      },

      itemTogglerIfHasSelected: {
        params: ['IGNORE'],
        cache: false,
        get: function get(item) {
          return itemTogglerIfHasSelected(item);
        }
      }
    });

    _this.state = {
      struct: new SelectableStruct(_this.props)
    };

    return _this;
  }

  (0, _createClass3.default)(Selectable, [{
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      var struct = this.state.struct;
      var nextStruct = struct.merge(nextProps);
      if (nextStruct.equals(this.state.struct)) return;
      this.setState({ struct: nextStruct });
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      var struct = this.state.struct;
      var nextStruct = nextState.struct;
      if (struct.equals(nextStruct)) return;
      if (this.props.onChange) this.props.onChange(nextStruct);
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children(this.state.struct);
    }
  }]);
  return Selectable;
}(_infernoCompat2.default.Component);

var PropTypes = _infernoCompat2.default.PropTypes;

Selectable.propTypes = {

  // immutable List or other keyed iterable
  // items: Immutable.PropTypes.list.isRequired,

  // children must be function
  children: PropTypes.func.isRequired,

  onChange: PropTypes.func,

  multi: PropTypes.bool,

  required: PropTypes.bool,

  initial: PropTypes.any };

Selectable.defaultProps = {
  multi: true,
  required: false
};

exports.default = Selectable;
module.exports = exports['default'];

/***/ }),
/* 668 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Selectable = __webpack_require__(667);

var _Selectable2 = _interopRequireDefault(_Selectable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log("@the-grid/ui-selectable-deprecated");
exports.default = _Selectable2.default;
module.exports = exports["default"];

/***/ }),
/* 669 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _semanticSpaceStore = __webpack_require__(671);

var _semanticSpaceStore2 = _interopRequireDefault(_semanticSpaceStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mountCount = 0;

var createVNode = Inferno.createVNode;

var SemanticDisplay = function (_React$Component) {
  (0, _inherits3.default)(SemanticDisplay, _React$Component);

  function SemanticDisplay() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SemanticDisplay);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SemanticDisplay.__proto__ || (0, _getPrototypeOf2.default)(SemanticDisplay)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      rendered: null
    }, _this.forceUpdate = false, _this.onStoreUpdate = function () {
      _this.forceUpdate = true;
      _this.setState({ rendered: _this.store.get('rendered') });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SemanticDisplay, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      if (!this.props.space) throw new Error('SemanticSpace requires props.space');
      this.store.willMount(this);
      this.id = 'semantic-display-' + mountCount;
      mountCount++;
      this.store.execute('connect', this.onStoreUpdate);
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps) {
      if (this.forceUpdate) {
        this.forceUpdate = false;
        return true;
      }
      if (nextProps.space) {
        return !nextProps.space.equals(this.props.space);
      }
    }
    // TODO componentWillReceiveProps

  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.forceUpdate = false;
      this.store.willUnmount(this);
      mountCount--;
      this.store.execute('disconnect', this.onStoreUpdate);
      this.store = undefined;
    }
  }, {
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', {
        'id': this.props.id || this.id,
        'className': 'semantic-display ' + this.props.className
      }, [this.props.children || null, this.state.rendered], null, 'semantic-display');
    }
  }]);
  return SemanticDisplay;
}(_infernoCompat2.default.Component);

SemanticDisplay.displayName = 'SemanticDisplay';
SemanticDisplay.defaultProps = {
  children: null,
  space: null,
  id: null,
  className: ''
};
exports.default = (0, _cymatics.installStore)(SemanticDisplay, 'semantic-space', function (component) {
  return _semanticSpaceStore2.default.make(component);
});
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 670 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _semanticSpaceStruct = __webpack_require__(236);

var _semanticSpaceStruct2 = _interopRequireDefault(_semanticSpaceStruct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _semanticSpaceStruct2.default;
module.exports = exports['default'];

/***/ }),
/* 671 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _semanticSpaceStruct = __webpack_require__(236);

var _semanticSpaceStruct2 = _interopRequireDefault(_semanticSpaceStruct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SemanticSpaceStore = function (_Store) {
  (0, _inherits3.default)(SemanticSpaceStore, _Store);

  function SemanticSpaceStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SemanticSpaceStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SemanticSpaceStore.__proto__ || (0, _getPrototypeOf2.default)(SemanticSpaceStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'semantic-space', _this.deferCommit = true, _this.initialState = _immutable.Map.EMPTY, _this.state = _this.initialState, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SemanticSpaceStore, [{
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      return !!state.get('_vectors');
    }
  }, {
    key: 'willMount',
    value: function willMount(component) {
      this.execute('replace-state', component.props.space);
    }
    // willGetProps(component) {
    //   this.execute('replace-state', component.props.space)
    // }

  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      this.state = this.initialState;
    }

    // mountedStoriesById = {}
    // registerMountedStory = (id, story) => {
    //   this.mountedStoriesById[id] = story
    // }
    // unregisterMountedStory = (id) => {
    //   delete this.mountedStoriesById[id]
    // }

  }]);
  return SemanticSpaceStore;
}(_cymatics.Store);

function make(component) {
  // TODO pool & recycle
  return new SemanticSpaceStore({ component: component });
}

SemanticSpaceStore.make = make;

exports.default = SemanticSpaceStore;
module.exports = exports['default'];

/***/ }),
/* 672 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _toArray2 = __webpack_require__(784);

var _toArray3 = _interopRequireDefault(_toArray2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// var EMPTY_OBJ = {}

// TODO: id, key...  path???
var SemanticVector = (0, _immutable.Struct)({

  ___id: undefined,
  id: {
    set: function set(___id) {
      return { ___id: ___id };
    },

    cache: false,
    //  instanceCache: true,
    deps: ['___id', 'parentId', 'semanticRole', 'semanticIndex'],
    get: function get(_id, parentId, semanticRole, semanticIndex) {
      if (_id) return _id;
      if (!parentId) return undefined;
      _id = parentId;
      if (semanticRole) _id += '__' + semanticRole;

      if (semanticIndex) _id += '_' + semanticIndex;
      return _id;
    }
  },

  parentId: undefined,

  _styleContext: null,
  styleContext: {
    set: function set(_styleContext) {
      return { _styleContext: _styleContext };
    },

    cache: true,
    cacheInstance: true,
    deps: ['_styleContext'],
    get: function get(_styleContext) {
      if (!_styleContext) return null;
      return _styleContext.toJS();
    }
  },

  $class: undefined,

  semanticRole: 'subject',
  // set internally

  semanticIndex: undefined,
  // set internally
  // if context semanticIndex === 0
  // all subjects semanticIndex >= 1

  semanticKey: undefined,
  // set internally when subjects are keyed not indexed

  components: {
    set: function set(components) {
      // merge to immutable
      return { components: (0, _immutable.Map)(components) };
    }
  },
  // local component registry

  component: {
    set: function set(component) {
      if (!component.includes('.')) return { component: component };

      var _component$split = component.split('.'),
          _component$split2 = (0, _toArray3.default)(_component$split),
          component = _component$split2[0],
          _component_className = _component$split2.slice(1);

      return { component: component, _component_className: _component_className.join(' ') };
    }
  },

  _component_className: '',
  // string

  props: undefined, // {
  //     set(props) {
  //       // merge to immutable
  //       return {props}
  //     }
  //   },

  props_to_render: {
    cache: 1,
    instanceCache: true,
    deps: ['props', 'id', 'semanticRole', 'semanticIndex', 'semanticKey', 'component', '_component_className'],
    get: function get(props, id, semanticRole, semanticIndex, semanticKey, component, _component_className) {
      // injects:
      // - props.id if not set
      // - props.key if not set
      // - props.semanticRole
      // - props.semanticIndex
      // - className `semantic-role--{}`
      // - className `semantic-index--{}`
      // - className `component--{}`

      var key = id ? id : semanticRole + '-' + semanticIndex;

      var className = 'semantic-role--' + semanticRole;
      className += ' component--' + component;
      if (_component_className) className += ' ' + _component_className;
      if (semanticIndex !== undefined) {
        className += ' semantic-index--' + semanticIndex;
      }
      if (semanticKey !== undefined) {
        className += ' semantic-key--' + semanticKey;
      }
      if (!props) {
        return {
          id: id,
          key: key,
          className: className,
          semanticRole: semanticRole,
          semanticIndex: semanticIndex,
          semanticKey: semanticKey
        };
      }
      var props_to_render = {};
      if (props.toJS && props.forEach) {
        props.forEach(function (val, key) {
          // TODO!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
          if (key === 'style') {
            if (val.toJS) val = val.toJS();
          }
          props_to_render[key] = val;
        });
      }
      if (!props_to_render.id && id) props_to_render.id = id;
      if (!props_to_render.key) props_to_render.key = key;
      props_to_render.semanticRole = semanticRole;
      props_to_render.semanticIndex = semanticIndex;
      props_to_render.semanticKey = semanticKey;
      props_to_render.className = !!props_to_render.className ? className + ' ' + props_to_render.className : className;
      return props_to_render;
    }
  },

  render: {
    cache: false,
    instanceCache: false,
    params: ['components_inherited'], // passed in component registry
    deps: ['components', 'component', 'props_to_render', 'renderContext', 'renderSubjects', 'renderCover', //'actions',
    'styleContext'],
    get: function get(components_inherited, components, c, p, renderContext, renderSubjects, renderCover, //actions,
    styleContext) {
      var Component;
      if (!components_inherited) components_inherited = _immutable.Map.EMPTY;
      components = components ? components_inherited.merge(components) : components_inherited;
      Component = components.get(c);
      if (!Component) throw new Error('SemanticVector: cant find component ' + c);

      var renderedContext = renderContext(components);
      var renderedCover = renderCover(components);
      var renderedSubjects = renderSubjects(components);

      // NOTE: must clone props?
      p = (0, _assign2.default)({}, p);

      // NOTE: if no context, cover or subjects, then no children
      if (!renderedContext && !renderedSubjects && !renderedCover) return _infernoCompat2.default.createElement(Component, p);

      // NOTE: if context or subjects, then children[0] is context or null
      var children = [];
      if (renderedCover) children.push(renderedCover);
      if (renderedContext) children.push(renderedContext);
      if (renderedSubjects) children = children.concat(renderedSubjects);

      children = _infernoCompat2.default.createElement(Component, p, children);

      // should not leave render footprint...
      if (styleContext) {

        // NOTE: must clone styleContext props!
        styleContext = (0, _assign2.default)({}, styleContext);
        if (p.key) styleContext.key = p.key + '-style-context';
        children = _infernoCompat2.default.createElement(_styleverse.StyleContext, styleContext, children);
      }
      return children;
    }
  },

  _context: undefined,
  context: {
    set: function set(context) {
      context = make(context, { semanticRole: 'context', parentId: this.get('id') });
      return { _context: context };
    },

    deps: ['_context'],
    cache: false,
    get: function get(_context) {
      return _context;
    }
  },
  renderContext: {
    cache: 1,
    instanceCache: true,
    params: ['components'], // passed in component registry
    deps: ['context'],
    get: function get(components, context) {
      if (context) return context.render(components);
      return null;
    }
  },

  _cover: undefined,
  cover: {
    set: function set(cover) {
      cover = make(cover, { semanticRole: 'cover', semanticIndex: 0, parentId: this.get('id') });
      return { _cover: cover };
    },

    deps: ['_cover'],
    cache: false,
    get: function get(_cover) {
      return _cover;
    }
  },
  renderCover: {
    cache: 1,
    instanceCache: true,
    params: ['components'], // passed in component registry
    deps: ['cover'],
    get: function get(components, cover) {
      if (cover) return cover.render(components);
      return null;
    }
  },

  subjectsType: undefined,
  subjectsKeys: undefined,
  _subjects: undefined,
  subjects: {
    set: function set(subjects) {
      if (!subjects) return undefined;
      var parentId = this.get('id'),
          i,
          l,
          keys,
          key,
          subject,
          subjectsKeys,
          isImmutable = !!subjects.toJS && !!subjects.equals,
          subjectsType = subjects.push ? 'indexed' : 'keyed',
          _subjects;

      // keyed
      if (subjectsType === 'keyed') {
        keys = isImmutable ? subjects.keySeq().toArray() : (0, _keys2.default)(subjects);
        l = keys.length;
        if (!l) return undefined;
        _subjects = {};
        subjectsKeys = [];
        for (i = 0; i < l; i++) {
          key = keys[i];
          subject = isImmutable ? subjects.get(key) : subjects[key];
          if (!subject) continue;
          subjectsKeys.push(key);

          // collection of subjects at key
          if (subject.push) {
            _subjects[key] = subject.map(function (sub, ii) {
              return make(sub, { semanticRole: 'subject', semanticKey: key, semanticIndex: i + 1 + '_' + (ii + 1), parentId: parentId });
            });
          }
          // single subject at key
          else {
              _subjects[key] = make(subject, { semanticRole: 'subject', semanticIndex: i + 1, semanticKey: key, parentId: parentId });
            }
        }
      }

      // indexed
      else {
          l = isImmutable ? subjects.size : subjects.length;
          _subjects = [];
          if (!l) return undefined;
          for (i = 0; i < l; i++) {
            subject = isImmutable ? subjects.get(i) : subjects[i];
            _subjects.push(make(subject, { semanticRole: 'subject', semanticIndex: i + 1, parentId: parentId }));
          }
          subjectsKeys = 0;
        }

      return { _subjects: _subjects, subjectsType: subjectsType, subjectsKeys: subjectsKeys }; // NOTE: uses .merge which converts to immutable List
    },

    deps: ['_subjects'],
    cache: 1,
    instanceCache: true,
    get: function get(_subjects) {
      return _subjects;
    }
  },

  renderSubjects: {
    cache: 1,
    instanceCache: true,
    params: ['components'], // passed in component registry
    deps: ['subjects', 'subjectsType', 'subjectsKeys'],
    get: function get(components, subjects, subjectsType, keys) {
      if (!subjects || !subjects.size) return null;

      var i, key, children, subject;

      // keyed
      if (subjectsType === 'keyed') {
        children = {};
        subject;
        for (i = 0; i < keys.size; i++) {
          key = keys.get(i);
          subject = subjects.get(key);
          // collection of subjects at key
          if (subject.push) {
            if (!subject.size && !subject.length) continue;
            children[key] = [];
            subject.forEach(function (sub, i) {
              children[key].push(sub.render(components));
            });
          }
          // single subject at key
          else {
              children[key] = subject.render(components);
            }
        }
        return children;
      }

      // indexed
      else {
          children = [];
          subject;
          for (i = 0; i < subjects.size; i++) {
            subject = subjects.get(i);
            children.push(subject.render(components));
          }
          return children;
        }
    }
  },

  _actions: undefined,
  actions: {
    set: function set(actions) {
      // !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      throw new Error('SemanticVector: ACTIONS NOT REAY');

      if (!actions) return undefined;
      var l, i, action;
      var _actions = [];
      var isImmutable = !!actions.toJS && !!actions.equals;
      l = isImmutable ? actions.size : actions.length;
      if (!l) return undefined;
      for (i = 0; i < l; i++) {
        action = isImmutable ? actions.get(i) : actions[i];

        // TODO???
        //_actions.push(make(action), {semanticRole: 'action', semanticIndex: i, parentId: this.get('id')})
      }
      return { _actions: _actions }; // NOTE: uses .merge which converts to immutable List
    },

    deps: ['_actions'],
    cache: 1,
    instanceCache: true,
    get: function get(_actions) {
      return _actions;
    }
  }
});

var EMPTY = new SemanticVector();

function make(o, config) {
  // if (semanticRole === 'context') semanticIndex = undefined
  if (o.merge && o.toJS && o.equals) {
    if (config) o = o.merge(config);
    if (o.get && o.get('StructType') === SemanticVector) {
      return o;
    }
    return EMPTY.merge(o);
  }
  if (!config) return new SemanticVector(o);
  return new SemanticVector((0, _assign2.default)({}, o, config));
}
function makeList(a) {
  if (!a) return _immutable.List.EMPTY;
  var isImmutable = a.equals && a.hashCode;
  var l = isImmutable ? a.size : a.length;
  if (!l) return _immutable.List.EMPTY;
  var vectors, vector, i;
  vectors = [];
  for (i = 0; i < l; i++) {
    vector = isImmutable ? a.get(i) : a[i];
    vectors.push(make(vector, { semanticRole: 'subject', semanticIndex: i + 1 }));
  }
  return (0, _immutable.List)(vectors);
}
SemanticVector.make = make;
SemanticVector.makeList = makeList;

exports.default = SemanticVector;
module.exports = exports['default'];

/***/ }),
/* 673 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _springsStore = __webpack_require__(674);

var _springsStore2 = _interopRequireDefault(_springsStore);

var _sprungSheet = __webpack_require__(239);

var _sprungSheet2 = _interopRequireDefault(_sprungSheet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var SpringsContext = function (_React$Component) {
  (0, _inherits3.default)(SpringsContext, _React$Component);

  function SpringsContext() {
    (0, _classCallCheck3.default)(this, SpringsContext);
    return (0, _possibleConstructorReturn3.default)(this, (SpringsContext.__proto__ || (0, _getPrototypeOf2.default)(SpringsContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(SpringsContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var _this2 = this;

      var id = this.props.id;
      if (!id) throw new Error('SpringsContext requires id');
      this.store.execute('setup', { id: id });
      var springs = this.store.springs;
      this.sheet = _infernoCompat2.default.createElement(_sprungSheet2.default, { springs: springs }, function () {
        var listeners = _this2.store.on_style_listeners;
        var css = '';
        for (var i = 0; i < listeners.length; i++) {
          css += listener(springs);
        }
        return css;
      });
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.sheet = undefined;
      this.store.execute('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', {
        'id': 'springs-context--' + this.props.id
      }, [this.sheet, this.props.children]);
    }
  }]);
  return SpringsContext;
}(_infernoCompat2.default.Component);

exports.default = (0, _cymatics.installStore)(SpringsContext, 'springs', _springsStore2.default);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 674 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

var _springs = __webpack_require__(238);

var _springs2 = _interopRequireDefault(_springs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initalState = (0, _immutable.Map)({ tick: 0 });

var SpringsStore = function (_Store) {
  (0, _inherits3.default)(SpringsStore, _Store);

  function SpringsStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SpringsStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SpringsStore.__proto__ || (0, _getPrototypeOf2.default)(SpringsStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'springs', _this.state = initalState, _this.deferCommit = false, _this.springs = undefined, _this.on_style_listeners = [], _this.on_state_will_update_listeners = [], _this.on_did_update_listeners = [], _this.actions = {
      'setup': function setup(state, _ref2) {
        var id = _ref2.id;

        var springs = new _springs2.default({ id: id });
        _this.springs = springs;
        return state;
      },
      'set-spring': function setSpring(state, springId, config) {
        _this.springs.set(springId, config);
        _this.springs.commitAsync();
        return state;
      },
      'set-state': function setState(state, key, val) {
        _this.springs.setState(key, val);
        _this.springs.commitAsync();
        return state;
      },
      'on-state-will-update': function onStateWillUpdate(state, callback) {
        if (_this.on_state_will_update_listeners.includes(callback)) return;
        _this.on_state_will_update_listeners.push(callback);
        return state;
      },
      'off-state-will-update': function offStateWillUpdate(state, callback) {
        var idx = _this.on_state_will_update_listeners.indexOf(callback);
        if (idx === -1) return;
        _this.on_state_will_update_listeners.splice(idx, 1);
        return state;
      },
      'on-did-update': function onDidUpdate(state, callback) {
        _this.springs.addListener(callback);
        return state;
      },
      'off-did-update': function offDidUpdate(state, callback) {
        _this.springs.removeListener(callback);
        return state;
      },
      'on-style': function onStyle(state, callback) {
        if (_this.on_style_listeners.includes(callback)) return;
        _this.on_style_listeners.push(callback);
        return state;
      },
      'off-will-update': function offWillUpdate(state, callback) {
        var idx = _this.on_style_listeners.indexOf(callback);
        if (idx === -1) return;
        _this.on_style_listeners.splice(idx, 1);
        return state;
      },
      'teardown': function teardown(state) {
        _this.on_style_listeners = undefined;
        _this.on_state_will_update_listeners = undefined;
        _this.on_did_update_listeners = undefined;
        _this.springs.reset();
        _this.springs = undefined;
        _this.state = undefined;
        return state;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  // shouldCommit(state) {
  //   return false
  // }

  return SpringsStore;
}(_cymatics.Store);

exports.default = SpringsStore;
module.exports = exports['default'];

/***/ }),
/* 675 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StoryMount = function (_React$Component) {
  (0, _inherits3.default)(StoryMount, _React$Component);

  function StoryMount() {
    (0, _classCallCheck3.default)(this, StoryMount);
    return (0, _possibleConstructorReturn3.default)(this, (StoryMount.__proto__ || (0, _getPrototypeOf2.default)(StoryMount)).apply(this, arguments));
  }

  (0, _createClass3.default)(StoryMount, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.story._willMount(this);
      this.story.willMount(this);
      this._focusIfNeeded(this.props);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.story.willUnmount();
      this.story._willUnmount();
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this._focusIfNeeded(nextProps);
    }
  }, {
    key: '_focusIfNeeded',
    value: function _focusIfNeeded(_ref) {
      var focused = _ref.focused;

      if (!focused) return;
      this.story.focus();
    }
  }, {
    key: 'render',
    value: function render() {
      return this.story.display(this.props.childStory);
    }
  }]);
  return StoryMount;
}(_infernoCompat2.default.Component);

StoryMount.displayName = 'StoryMount';
StoryMount.defaultProps = {
  childStory: null,
  focused: false
};
exports.default = (0, _cymatics.installStore)(StoryMount, 'story', function (_ref2) {
  var component = _ref2.component;

  var storyline = component.context.stores.storyline;
  if (!storyline) throw new Error('StoryMount !storyline?');
  var storyName = component.props.storyName;

  component.story = storyline.installStory(storyName, component);
  return component.story;
});
module.exports = exports['default'];

/***/ }),
/* 676 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractStorylineStore = exports.Storyline = exports.AbstractStoryline = exports.StorylineContent = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _storylineStore = __webpack_require__(678);

var _storylineStore2 = _interopRequireDefault(_storylineStore);

var _storylineContent = __webpack_require__(677);

var _storylineContent2 = _interopRequireDefault(_storylineContent);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Storyline = function (_React$Component) {
  (0, _inherits3.default)(Storyline, _React$Component);

  function Storyline() {
    (0, _classCallCheck3.default)(this, Storyline);
    return (0, _possibleConstructorReturn3.default)(this, (Storyline.__proto__ || (0, _getPrototypeOf2.default)(Storyline)).apply(this, arguments));
  }

  (0, _createClass3.default)(Storyline, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.willMount(this);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.willUnmount(this);
    }
  }, {
    key: 'render',
    value: function render() {
      if (!this.content) this.content = createVNode(16, _storylineContent2.default);
      return createVNode(2, 'div', {
        'id': 'storyline-context'
      }, [this.props.children, this.content], null, 'storyline-context');
    }
  }]);
  return Storyline;
}(_infernoCompat2.default.Component);

Storyline.displayName = 'Storyline';


var InstalledStoryline = (0, _cymatics.installStore)(Storyline, 'storyline', function (component) {
  return new _storylineStore2.default(component);
});

exports.default = InstalledStoryline;
exports.StorylineContent = _storylineContent2.default;
exports.AbstractStoryline = Storyline;
exports.Storyline = InstalledStoryline;
exports.AbstractStorylineStore = _storylineStore2.default;
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 677 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _storyMount = __webpack_require__(675);

var _storyMount2 = _interopRequireDefault(_storyMount);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var el = _infernoCompat2.default.createElement;

/*

- renders all the stories in storyline path
- only updates when path string changes, this is important implies story lifecyle methods like .focus() are called only once when storyname is last in a path

*/

var StorylineContent = function (_React$Component) {
  (0, _inherits3.default)(StorylineContent, _React$Component);

  function StorylineContent() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, StorylineContent);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StorylineContent.__proto__ || (0, _getPrototypeOf2.default)(StorylineContent)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      path: undefined
    }, _this.storyline = undefined, _this.onStorylineUpdate = function (storyline) {
      _this.storyline = storyline;
      var path = storyline.get('path');
      if (path === _this.state.path) return;
      _this.setState({ path: path });
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(StorylineContent, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.context.request('storyline', 'connect', this.onStorylineUpdate);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.context.request('storyline', 'disconnect', this.onStorylineUpdate);
      this.storyline = undefined;
    }
  }, {
    key: 'renderStoryline',
    value: function renderStoryline() {
      if (!this.storyline) return null;
      var storyIds = this.storyline.get('storyIds');
      var childStory = null;
      if (!storyIds) return childStory;
      var depth, storyName, data, key, id;
      var l = storyIds.length;
      var focused = true;
      for (depth = l - 1; depth >= 0; depth--) {
        id = storyIds[depth];
        key = id;
        storyName = id.split('__')[0];
        childStory = el(_storyMount2.default, { id: id, key: key, storyName: storyName, childStory: childStory, depth: depth, focused: focused });
        focused = false;
      }
      return childStory;
    }
  }, {
    key: 'render',
    value: function render() {
      return this.renderStoryline();
    }
  }]);
  return StorylineContent;
}(_infernoCompat2.default.Component);

StorylineContent.displayName = 'StorylineContent';
StorylineContent.contextTypes = {
  request: _infernoCompat2.default.PropTypes.func.isRequired
};
exports.default = StorylineContent;
module.exports = exports['default'];

/***/ }),
/* 678 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _story = __webpack_require__(241);

var _story2 = _interopRequireDefault(_story);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EMPTY_LIST = (0, _immutable.List)();
var EMPTY_MAP = (0, _immutable.Map)();

var StorylineStore = function (_Store) {
  (0, _inherits3.default)(StorylineStore, _Store);

  function StorylineStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, StorylineStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StorylineStore.__proto__ || (0, _getPrototypeOf2.default)(StorylineStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'storyline', _this.deferCommit = true, _this.StateStruct = (0, _immutable.Struct)({
      data: { default: (0, _immutable.Map)() },
      current: undefined,
      params: { default: EMPTY_MAP },
      path: {
        default: null,
        set: function set(path) {
          if (!path) return { path: null };
          if (path.startsWith('./')) return { path: path };
          return { path: './' + path };
        }
      },
      pathNames: {
        cache: 1,
        deps: ['path'],
        get: function get(path) {
          if (!path) return [];
          return path.split('/');
        }
      },
      focusedName: {
        cache: 1,
        deps: ['pathNames'],
        get: function get(pathNames) {
          return pathNames[pathNames.length - 1];
        }
      },
      storyIds: {
        cache: 1,
        deps: ['pathNames'],
        get: function get(pathNames) {
          if (!pathNames.length) return [];
          var ids = [];
          for (var depth = 0; depth < pathNames.length; depth++) {
            ids.push(pathNames[depth] + '__' + depth);
          }
          return ids;
        }
      },
      focusedStoryId: {
        cache: 1,
        deps: ['storyIds'],
        get: function get(storyIds) {
          return storyIds[storyIds.length - 1];
        }
      },

      // TODO - TEMPORARY, just to switch sections
      _payload: undefined,
      payload: {
        get: function get() {
          return this.get('_payload');
        },
        set: function set(payload) {
          var that = this;
          that = that.set('_payload', (0, _immutable.fromJS)(payload));
          return that;
        }
      }
    }), _this.initialState = new _this.StateStruct(), _this.state = _this.initialState, _this.registeredStories = {
      // default root story, override if necessary
      '.': _story2.default
    }, _this.storyPool = {}, _this.registerStory = function (name, story) {
      _this.registeredStories[name] = story;
    }, _this.registerStories = function (stories) {
      _this.registeredStories = (0, _assign2.default)(_this.registeredStories, stories);
    }, _this.installStory = function (name, component) {
      var RegisteredStory = _this.registeredStories[name];
      if (!RegisteredStory) throw new Error('App does not have registeredStories[name] for name = ' + name);

      // TODO: !!! POOL & RECYCLE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
      return new RegisteredStory();
    }, _this.mountedStoriesById = {}, _this.registerMountedStory = function (id, story) {
      _this.mountedStoriesById[id] = story;
    }, _this.unregisterMountedStory = function (id) {
      delete _this.mountedStoriesById[id];
    }, _this.actions = {
      'push-story': function pushStory(state, name, data) {
        var path = state.get('path');
        path = !!path ? path + '/' + name : name;
        if (data) {
          return state.merge({
            path: path,
            params: state.get('params').merge((0, _defineProperty3.default)({}, name, data))
          });
        }
        return state.set('path', path);
      },
      'pop-story': function popStory(state) {
        var path = state.get('path').split('/');
        var name = path.pop();
        var params = state.get('params').delete(name);
        path = path.join('/');
        return state.merge({
          path: path,
          params: params
        });
      },
      'replace-story': function replaceStory(state, name, data) {
        return _this.actions['push-story'](_this.actions['pop-story'](state), name, data);
      },
      'to-story': function toStory(state, name, data) {
        // pops all stories until story with name found
        // pushes new story at root if not found in path
        var focusedName = state.get('focusedName');
        if (focusedName) {
          if (focusedName === name) return state;
          while (focusedName && focusedName !== '.') {
            state = _this.actions['pop-story'](state);
            focusedName = state.get('focusedName');
          }
        }
        return _this.actions['push-story'](state, name, data);
      },
      'open': function open(state, path) {
        var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EMPTY_MAP;

        return state.merge({
          path: path,
          params: params
        });
      },
      'register-story': function registerStory(state, name, Story) {
        _this.registerStory(name, Story);
        return state;
      },

      // TODO: TEMPORARY
      'set-payload': function setPayload(state, payload) {
        var newState = state.set('payload', payload);
        return newState;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(StorylineStore, [{
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      return !!state.get('path');
    }
  }, {
    key: 'willMount',
    value: function willMount(component) {
      var stories = component.props.stories;
      if (stories) this.registerStories(stories);
    }
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      this.state = this.initialState;
    }
  }]);
  return StorylineStore;
}(_cymatics.Store);

exports.default = StorylineStore;
module.exports = exports['default'];

/***/ }),
/* 679 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var StyleverseState = (0, _immutable.Struct)({
  styleContext: undefined,
  cssById: {
    default: (0, _immutable.Map)()
  },
  renderedCSS: {
    deps: ['cssById'],
    get: function get(cssById) {
      if (!cssById.size) return null;
      var cssString = cssById.toArray().join('\n');
      return createVNode(2, 'style', {
        'id': 'root-styleverse-added-css',
        'dangerouslySetInnerHTML': { __html: cssString }
      }, null, null, 'root-styleverse-added-css');
    }
  }
});
var initialState = new StyleverseState();

var StyleverseStore = function (_Store) {
  (0, _inherits3.default)(StyleverseStore, _Store);

  function StyleverseStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, StyleverseStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StyleverseStore.__proto__ || (0, _getPrototypeOf2.default)(StyleverseStore)).call.apply(_ref, [this].concat(args))), _this), _this.displayName = 'StyleverseStore', _this.name = 'styleverse', _this.state = initialState, _this.deferCommit = true, _this.actions = {
      'add-css': function addCss(state, id, cssString) {
        if (!id && !cssString) throw new Error('styleverse action add-css requires (id, cssString)');
        return state.setIn(['cssById', id], cssString);
      },
      'remove-css': function removeCss(state, id) {
        return state.deleteIn(['cssById', id]);
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return StyleverseStore;
}(_cymatics.Store);

exports.default = StyleverseStore;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 680 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _RenderListStruct = __webpack_require__(681);

var _RenderListStruct2 = _interopRequireDefault(_RenderListStruct);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var parseCache = {};
var compileCache = {};
var EMPTY_ARRAY = [];

// window.linecount = 0
var RULESET_CLOSE_ITEM = {
  type: 'RULESET_CLOSE'
};

var Compiler = function () {
  function Compiler(plugins) {
    var _this = this;

    (0, _classCallCheck3.default)(this, Compiler);

    this.renderList = undefined;
    this.compile = this.compile.bind(this);

    // build parsers from plugins...

    var namesWithParser = plugins.namesWithParser,
        parsers = plugins.parsers;


    if (!namesWithParser || !parsers) throw new Error('Compiler requires plugins with parsers');

    var keyValParsers = [];
    var keyParsers = [];
    var valParsers = [];
    var renderParsers = [];
    var selectorParsers = [];
    var rulesetFilters = [];

    namesWithParser.forEach(function (name) {
      var _parsers$name = parsers[name],
          selector = _parsers$name.selector,
          keyVal = _parsers$name.keyVal,
          key = _parsers$name.key,
          val = _parsers$name.val,
          ruleset = _parsers$name.ruleset;
      // inverse order of parsers! later plugins higher parse priority

      if (keyVal) keyValParsers.unshift(keyVal);
      if (key) keyParsers.unshift(key);
      if (val) valParsers.unshift(val);
      if (selector) selectorParsers.unshift(selector);
      if (ruleset) rulesetFilters.unshift(ruleset);
    });

    var parser = function parser(_parsers) {
      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        args[_key - 2] = arguments[_key];
      }

      var requiredMessage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

      var result = void 0;
      for (var i = 0, len = _parsers.length; i < len; i++) {
        var _parser = _parsers[i];
        result = _parser.apply(undefined, args);
        if (result !== undefined) break;
      }
      if (result === undefined && requiredMessage) throw new Error(requiredMessage + ' ' + (0, _stringify2.default)(args));
      return result;
    };

    var _parseKeyVal = parser.bind(this, keyValParsers, false);
    var _parseKey = parser.bind(this, keyParsers, 'Styleverse could not parse key!');
    var _parseVal = parser.bind(this, valParsers, false);
    var _parseSelector = parser.bind(this, selectorParsers, false);

    this.parseSelector = function (selector) {
      var path = 'SEL ' + selector;
      var cached = parseCache[path];
      if (!parseCache.hasOwnProperty(path)) {
        cached = _parseSelector(selector);
        parseCache[path] = cached;
      }
      return cached;
    };
    this.parseKeyVal = function (keyVal) {
      var path = 'KV ' + keyVal;
      var cached = parseCache[path];
      if (!parseCache.hasOwnProperty(path)) {
        cached = _parseKeyVal(keyVal);
        parseCache[path] = cached;
      }
      return cached;
    };
    this.parseKey = function (key, val) {
      var path = 'K ' + key + ':' + val;
      var cached = parseCache[path];
      if (!parseCache.hasOwnProperty(path)) {
        cached = _parseKey(key, val);
        parseCache[path] = cached;
      }
      return cached;
    };
    this.parseVal = function (key, val) {
      var path = 'V ' + key + ':' + val;
      var cached = parseCache[path];
      if (!parseCache.hasOwnProperty(path)) {
        cached = _parseVal(key, val);
        parseCache[path] = cached;
      }
      return cached;
    };

    // ruleset filtering & rendering

    this.filterRuleset = function (selector, rulesObj, prerender, struct) {
      for (var i = 0; i < rulesetFilters.length; i++) {
        var rulesetFilter = rulesetFilters[i];
        rulesObj = rulesetFilter(selector, rulesObj, prerender, struct);
        if (!rulesObj) break;
      }
      return rulesObj;
    };

    this.renderRuleset = function (selector, rulesObj, prerender, struct) {
      rulesObj = _this.filterRuleset(selector, rulesObj, prerender, struct);
      // console.log("struct.get('renderToString')",struct.get('renderToString'))
      if (struct.get('renderToString') === false) return rulesObj;
      if (!rulesObj) return '';
      var rulesetString = '\n';
      rulesetString += selector;
      rulesetString += ' {';
      var keyKeys = (0, _keys2.default)(rulesObj);
      for (var i = 0, len = keyKeys.length; i < len; i++) {
        var key = keyKeys[i];
        var val = rulesObj[key];

        rulesetString += '\n  ';
        rulesetString += key;
        rulesetString += ':';
        rulesetString += ' ';
        rulesetString += val;
        rulesetString += ';';
      }
      rulesetString += '\n}';
      return rulesetString;
    };

    return this;
  }

  (0, _createClass3.default)(Compiler, [{
    key: 'compile',
    value: function compile(str) {
      var ostr = str;
      if (compileCache[str]) return compileCache[str];
      // console.time("compile")

      this.expressions = {};
      this.deps = [];
      this.list = [];
      this.renderList = undefined;

      // window.linecount += str.split('\n').length
      // /
      // if (
      //  typeof str !== 'string' ||
      //
      // ) {
      //
      // }
      // TODO
      // let stringNeedsParsing = true
      // if (!stringNeedsParsing) return str

      // remove comments `//` and `/* ... */`
      str = str.replace(/(\/\*([^*]|(\*+[^*\/]))*\*+\/)|(\/\/.*)/g, '');

      // remove extra padding whitespace
      str = str.trim();

      // remove all but one line break
      str = str.replace(/\n{2,}/g, '\n');
      // str = str.replace(/(\r\n?|\n){2,}/g, '$1');

      var lines = str.split('\n');
      for (var i = 0, len = lines.length; i < len; i++) {
        var line = lines[i];
        this.compileLine(line);
      }

      var compiled = new _RenderListStruct2.default({
        deps: this.deps.sort(function (a, b) {
          return a > b;
        }).join(','),
        expressions: (0, _immutable.Map)(this.expressions),
        list: (0, _immutable.List)(this.list),
        renderRuleset: this.renderRuleset
      });

      compileCache[ostr] = compiled;
      // console.timeEnd("compile")
      return compiled;
    }
  }, {
    key: 'compileLine',
    value: function compileLine(line) {
      // string = string.trim()
      if (!line) return;

      // } RULESET_CLOSE
      if (line.includes('}')) {
        // if strictMode ???
        // if (line.trim().length !== 1) throw new Error('Styleverse Compiler: rulesets close `}` must be on new line : ' + line)
        this.addRenderItem(RULESET_CLOSE_ITEM);
        return;
      }

      // remove all but 1 inner whitespace
      line = line.replace(/\s{2,}/g, ' ');

      // selector {
      if (line.includes('{')) {
        var selector = line.split('{')[0].trim();

        // TODO parseSelector

        var selectorRenderItem = this.parseSelector(selector);
        if (selectorRenderItem) {
          this.addRenderItem(selectorRenderItem);
          return;
        }

        this.addRenderItem({
          selector: selector
        });

        return;
      }

      line = line.trim();
      if (line.length <= 2) return;
      // if (string === '') throw new Error('Styleverse Compiler: Empty Line!')
      // parse key-val pairs to RulesetStruct schema

      this.compileRule(line);
      // return renderList
    }
  }, {
    key: 'compileRule',
    value: function compileRule(keyVal) {
      // clean key val
      var _keyVal$split = keyVal.split('--'),
          _keyVal$split2 = (0, _slicedToArray3.default)(_keyVal$split, 2),
          key = _keyVal$split2[0],
          val = _keyVal$split2[1];

      if (!val) {
        val = '';
        throw new Error('Styleverse Ruleset expects {key} -- {val}, no -- found... keyVals:' + keyVal);
        // TODO: throw?
      }

      key = key.trim();
      val = val.trim();
      keyVal = key + '--' + val;

      var keyValObj = this.parseKeyVal(keyVal);
      if (keyValObj) {
        this.addRenderItem(keyValObj);
        return;
      }

      key = this.parseKey(key, val);

      // TODO: remove? this if statement likely uneeded
      if ((typeof key === 'undefined' ? 'undefined' : (0, _typeof3.default)(key)) === 'object') {
        this.addRenderItem(key);
        // Object.assign( obj, key )
        return;
      }

      // let listSize = this.list.length
      // let expressionsSize = Object.keys(this.expressions).length

      var compiledVal = this.compileVal(val, key);

      if (!compiledVal.__ASAP) {
        this.addRenderItem({
          style: (0, _defineProperty3.default)({}, key, compiledVal)
        });
      } else {
        this.addRenderItem({
          deps: EMPTY_ARRAY,
          get: function get() {
            var renderList = this;
            return {
              style: (0, _defineProperty3.default)({}, key, compiledVal(renderList))
            };
          }
        });
      }

      // // val has only compilte-time resolved expressions
      // if ( listSize === this.list.length && expressionsSize === Object.keys(this.expressions).length ) {
      //
      //  this.addRenderItem({
      //    style: {
      //      [key]: compiledValOrDepKey,
      //    }
      //  })
      // }
      //
      // // val has render-time resolved expressions
      // else {
      //  this.addRenderItem({
      //    deps: [compiledValOrDepKey],
      //    get: function (computedVal) {
      //      let renderList = this
      //      return {
      //        style: {
      //          [key]: (typeof computedVal === 'function') ? computedVal(renderList) : computedVal
      //        }
      //      }
      //    }
      //  })
      // }
    }
  }, {
    key: 'compileVal',
    value: function compileVal(val, key) {
      var parseVal = this.parseVal;
      var parsedVals = [];
      var deps = [];
      var currentStringChain = '';

      var valParts = val.split(' ');
      var valPartCount = valParts.length;
      for (var i = 0, len = valParts.length; i < len; i++) {
        var valPart = valParts[i];
        var parsedResult = parseVal(key, valPart);
        if (parsedResult === undefined) parsedResult = valPart;

        // if (typeof parsedResult === 'string') {
        //  return this.addExpression( valPart, parsedResult )
        //  // TODO?
        //  // return parsedResult
        // }

        var typeofResult = typeof parsedResult === 'undefined' ? 'undefined' : (0, _typeof3.default)(parsedResult);

        // compile-time val
        if (typeofResult === 'string' || typeofResult === 'number') {
          if (currentStringChain) currentStringChain += ' ';
          currentStringChain += parsedResult;

          // finish last currentString
          if (i === valPartCount - 1) parsedVals.push(currentStringChain);
        }

        // render-time val
        else {
            // finish currentString
            if (currentStringChain) parsedVals.push(currentStringChain);
            currentStringChain = '';

            // if (!hasRenderTimeExpression) staticParsedResults.push( parsedResult )
            var expKey = this.addExpression(valPart, parsedResult);
            deps.push(expKey);
            parsedVals.push(expKey);
          }
      }

      // TODO?
      // if (!hasRenderTimeExpression) {
      //  return deps.join(' ')
      // }

      if (parsedVals.length === 0) {
        return currentStringChain;
      }

      // if val doesn't have any spaces, return the only dep
      if (parsedVals.length === 1) {
        return parsedVals[0];
      }

      var callback = function callback(renderList) {
        return parsedVals.map(function (parsedVal) {
          var depIndex = deps.indexOf(parsedVal);
          if (depIndex >= 0) {
            return deps[depIndex].call(renderList, renderList);
          } else {
            return parsedVal;
          }
        }).join(' ');
      };
      callback.__ASAP = true;

      return callback;

      // else {
      //  let parsedResult = parseVal( key, val )
      //  if (!parsedResult) parsedResult = valPart
      //
      //  if (typeof parsedResult === 'string') {
      //    return parsedResult
      //  }
      //  else {
      //    this.addExpression( val, parsedResult )
      //    return val
      //  }
      // }
    }

    // render({styleStore, props}) {
    //  if (!styleStore || !props) throw new Error('Compiler render({styleStore, props}) params required')
    //
    // }

  }, {
    key: 'addRenderItem',
    value: function addRenderItem(renderItem) {
      var deps = renderItem.deps,
          get = renderItem.get,
          staticRenderItem = (0, _objectWithoutProperties3.default)(renderItem, ['deps', 'get']);

      // add dynamic item

      if (deps && get) {
        // add to this.deps
        for (var i = 0, len = deps.length; i < len; i++) {
          if (!this.deps.includes(deps[i])) this.deps.push(deps[i]);
        }

        // wrap getter w/ deps as params
        // TODO: cache this? .... hmmmm.....
        var getWrap = function getWrap(renderList) {
          var params = deps.map(function (path) {
            // key:EEK
            var firstDot = path.indexOf('.');
            var type = path.substr(0, firstDot);
            var subPath = path.substr(type.length + 1, path.length);
            var v = renderList.get(type).get(subPath);

            // make sure expressions getters are called
            // TODO....
            if (typeof v === 'function' && path.indexOf('expression.') === 0) {
              return v();
            }
            return v;
          });

          // add renderList to params
          // params.push(renderList)

          var computedItem = get.apply(renderList, params);
          return computedItem;

          // return get.apply(renderList, params)
          // return new RenderItemStruct(get.apply(renderList, params))
        };
        getWrap.__ASAP = true;

        // add to this.list
        this.list.push(getWrap);
      }

      // add static item

      var type = staticRenderItem.type,
          selector = staticRenderItem.selector,
          style = staticRenderItem.style,
          html = staticRenderItem.html,
          component = staticRenderItem.component,
          css = staticRenderItem.css;


      if (style || html || component || css || type || selector) {
        // add to this.list
        this.list.push(staticRenderItem);
        // newList = newList.push( new RenderItemStruct(staticRenderItem) )
      }
    }
  }, {
    key: 'addExpression',
    value: function addExpression(string, expressionItem) {
      var expressionKey = void 0;

      // if expressionItem is simple string, use that part of key!
      if (typeof expressionItem === 'string') {
        expressionKey = expressionItem;
      } else {
        expressionKey = string;
      }

      if (expressionItem === undefined) throw new Error('addExpression requires expressionItem: ' + (0, _stringify2.default)({ expressionKey: expressionKey, expressionItem: expressionItem }));

      // compile-time expression
      // let typeofExpItem = typeof expressionItem
      // if (typeofExpItem === 'string' || typeofExpItem === 'number') {
      //  throw new Error("!!!!!!!!!")
      //
      //  // add to this.expressions if not already there...
      //  let existing = this.expressions[expressionKey]
      //  if (existing) {
      //    if (existing !== expressionItem) throw new Error("Styleverse compiler expressions dont match?? WHAT???")
      //    return this
      //  }
      //
      //  this.expressions[expressionKey] = expressionItem
      //
      // }

      // render-time expression

      var deps = expressionItem.deps,
          get = expressionItem.get;

      // add to this.deps

      for (var i = 0, len = deps.length; i < len; i++) {
        if (!this.deps.includes(deps[i])) this.deps.push(deps[i]);
      }

      // wrap getter w/ deps as params
      var getWrap = function getWrap(renderList) {
        var params = deps.map(function (path) {
          // key:EEK
          var firstDot = path.indexOf('.');
          var type = path.substr(0, firstDot);
          var subPath = path.substr(type.length + 1, path.length);
          var v = renderList.get(type).get(subPath);

          // let v = renderList.get(path)
          // make sure expressions getters are called
          if (typeof v === 'function' && path.indexOf('expression.') === 0) {
            return v();
          }
          return v;
        });
        // add renderList to params
        // params.push(renderList)
        return get.apply(renderList, params);
      };
      getWrap.__ASAP = true;

      // add to this.expressions if not already there...
      // if (newExpressions.get(expressionKey)) return this

      this.expressions[expressionKey] = getWrap;

      return getWrap;

      // return expression deps key!!!
      // TODO!!!!!  can be better
      // return "expressions." + expressionKey
    }
  }]);
  return Compiler;
}();

exports.default = Compiler;
module.exports = exports['default'];

/***/ }),
/* 681 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

var _defineProperty2 = __webpack_require__(35);

var _defineProperty3 = _interopRequireDefault(_defineProperty2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var pick = function pick(imm, paths) {
  if (!imm.toJS || !imm.equals) imm = (0, _immutable.fromJS)(imm);
  var picked = (0, _immutable.Map)();

  // is a struct :-/
  /* eslint-disable */
  paths.forEach(function (path) {
    var pathArray = path.split('.');
    var val = imm.getIn(pathArray, undefined);
    //if (val === undefined) throw new Error("Styleverse compiler can't find dep: " + path)
    picked = picked.setIn(pathArray, val);
  });
  return picked;
  /* eslint-enable */
}; // import React from 'react'
// import Style from '../Style'
// https://jsperf.com/immutable-takewhile-vs-filter-map-editing-4


var RenderListStruct = (0, _immutable.Struct)({
  // compile-time inputs
  // ----------------------------------------
  deps: {
    default: ''
  },

  renderToString: {
    default: true
  },

  depsByType: {
    cache: true,
    deps: ['deps'],
    get: function get(_deps) {
      var byType = {};
      var types = [];
      if (!_deps) return byType;
      var deps = _deps.split(',');
      for (var i = 0; i < deps.length; i++) {
        var dep = deps[i];
        var firstDot = dep.indexOf('.');
        var type = dep.substr(0, firstDot);
        var path = dep.substr(type.length + 1, dep.length);
        if (!byType[type]) {
          types.push(type);
          byType[type] = [path];
        } else {
          byType[type].push(path);
        }
      }
      for (var j = 0; j < types.length; j++) {
        var _type = types[j];
        byType[_type] = (0, _immutable.List)(byType[_type]);
      }
      // console.log({byType:Map(byType).toJS()})
      return (0, _immutable.Map)(byType);
    }
  },

  styleversePluginNames: {
    deps: ['depsByType.styleStore'],
    get: function get(deps) {
      var names = [];
      if (!deps || !deps.size) return names;
      for (var i = 0; i < deps.size; i++) {
        var dep = deps.get(i);
        var firstDot = dep.indexOf('.');
        var pluginName = firstDot === -1 ? dep : dep.substr(0, firstDot);
        if (names.indexOf(pluginName) === -1) names.push(pluginName);
      }
      return names;
    }
  },

  list: {
    default: (0, _immutable.List)()
  },

  renderRuleset: undefined, // function (selector, rulesObj, styleStore, props)

  expressions: {
    default: (0, _immutable.Map)()
  },
  /*
    {
      [expressionString]: simpleString || {
        deps: [],
        get: () =>
      }
    }
  */

  // render-time inputs
  // ----------------------------------------

  renderer: {
    cache: false,
    params: ['objToMerge'],
    get: function get(objToMerge) {
      var styleStore = objToMerge.styleStore,
          props = objToMerge.props;

      if (!styleStore || !props) throw new Error('renderer({styleStore, props}) object missing required keys');
      var result = this.merge(objToMerge);
      return result;
    }
  },

  reduceStyleStore: {
    params: ['styleStore'],
    deps: ['depsByType.styleStore'],
    get: function get(styleStore, deps) {
      if (!deps || !deps.size) return (0, _immutable.Map)();
      var vals = {};
      for (var i = 0; i < deps.size; i++) {
        var dep = deps.get(i);
        vals[dep] = styleStore.get(dep);
      }
      vals = (0, _immutable.Map)(vals);
      return vals;
    }
  },

  reduceProps: {
    params: ['props'],
    deps: ['depsByType.props'],
    get: function get(props, deps) {
      if (!deps || !deps.size || !props) return (0, _immutable.Map)();
      if (!props.toJS && !props.equals) props = (0, _immutable.fromJS)(props);
      var vals = {};
      for (var i = 0; i < deps.size; i++) {
        var dep = deps.get(i);
        // key:EEK
        vals[dep] = props.get(dep);
      }
      return (0, _immutable.Map)(vals);
    }
  },

  styleStore: {
    default: (0, _immutable.Map)(),
    set: function set(styleStore) {
      var prev = this.get('styleStore');
      if (prev.equals(styleStore)) return { styleStore: prev };
      return { styleStore: this.reduceStyleStore(styleStore) };
    }
  },

  props: {
    default: (0, _immutable.Map)(),
    set: function set(props) {
      var prev = this.get('props');
      if (prev.equals(props)) return { props: prev };
      return { props: this.get('reduceProps')(props) };
    }
  },

  // render-time helpers
  // ----------------------------------------

  prerender: {
    cache: false,
    get: function get() {
      // DEBUG//let time = performance.now()

      var list = this.get('list');
      var renderRuleset = this.get('renderRuleset');
      var struct = this;

      // DEBUG//let prerender = new Prerender( list, renderRuleset, struct )

      var renderToString = this.get('renderToString');
      var rulesets = renderToString ? '' : {};
      var this_css = undefined;
      var components = void 0;
      var selectorQueue = [];
      var curSelector = undefined;
      var curStyle = undefined;
      var selectorCondGroupHistory = [];
      var inactive = 0;
      var depth = -1;
      var size = list.size;
      var item = void 0;

      // DEBUG//let forLoopTime = performance.now()
      // DEBUG//let setupTime = forLoopTime - time
      // DEBUG//console.log("prerender setup ---", setupTime)
      // DEBUG//let totalItemTime = 0

      for (var i = 0; i < size; i++) {
        // DEBUG//let itemTime = performance.now()
        // DEBUG//console.log("prerender for next ---", itemTime - time, itemTime - endItem)
        item = list.get(i);

        var isLastItem = i === list.size - 1;

        // execute render-time renderItems
        if (typeof item === 'function') {
          item = item.call(struct, struct);
          // DEBUG//console.log("prerender for CALL() ---",performance.now() - itemTime)
        }

        var _item = item,
            type = _item.type,
            selector = _item.selector,
            selectorCondGroup = _item.selectorCondGroup,
            style = _item.style,
            css = _item.css,
            render = _item.render,
            component = _item.component;

        // starting a new ruleset

        if (selector || selector === false) {
          depth++;
          var qLength = selectorQueue.length;
          var prevSelectorCondGroup = selectorCondGroupHistory[depth];
          if (selectorCondGroup) {
            if (prevSelectorCondGroup && prevSelectorCondGroup === selectorCondGroup) {
              selector = false;
            } else {
              if (selector) selectorCondGroupHistory[depth] = selectorCondGroup;
            }
          } else {
            selectorCondGroupHistory[depth] = undefined;
          }

          if (selector === false) {
            selector = '!INACTIVE_SELECTOR!';
            inactive++;
          }

          // register ruleset
          if (curStyle) {
            var renderedRuleset = renderRuleset(curSelector, curStyle, undefined, struct);
            if (renderToString) {
              rulesets += renderedRuleset;
            } else {
              (0, _assign2.default)(rulesets, (0, _defineProperty3.default)({}, curSelector, renderedRuleset));
            }

            curStyle = undefined;
          }

          var selectorParts = selector.split(',');
          var selectorPartsLength = selectorParts.length;

          if (qLength > 0 && !inactive) {
            var prevSelector = selectorQueue[qLength - 1];
            if (selectorPartsLength) {
              curSelector = '';

              var prevSelParts = prevSelector.split(',');
              for (var j = 0, prevLen = prevSelParts.length; j < prevLen; j++) {
                var prevSelPart = prevSelParts[j];
                for (var _i = 0; _i < selectorPartsLength; _i++) {
                  var part = selectorParts[_i].trim();
                  if (!part) continue;

                  if (part[0] === '&') {
                    curSelector += prevSelPart + part.substr(1);
                  } else {
                    curSelector += prevSelPart + ' ' + part;
                  }
                  if (_i !== selectorPartsLength - 1) curSelector += ', ';
                }
                if (j !== prevLen - 1) curSelector += ', ';
              }
            } else if (selector[0] === '&') {
              curSelector = prevSelector + selector.substr(1);
            } else {
              curSelector = prevSelector + ' ' + selector;
            }
          } else {
            // TODO: how to treat root & selector?
            if (selector[0] === '&') {
              curSelector = selector.substr(1);
            } else {
              curSelector = selector;
            }
          }
          selectorQueue.push(curSelector);
        } else if (type === 'RULESET_CLOSE') {
          // register ruleset
          if (curStyle && curSelector !== '!INACTIVE_SELECTOR!') {
            var _renderedRuleset = renderRuleset(curSelector, curStyle, undefined, struct);
            if (renderToString) {
              rulesets += _renderedRuleset;
            } else {
              (0, _assign2.default)(rulesets, (0, _defineProperty3.default)({}, curSelector, _renderedRuleset));
            }
          }
          if (curSelector === '!INACTIVE_SELECTOR!') {
            inactive--;
          }
          curStyle = undefined;
          selectorQueue.pop();

          // keep current cond depth, trash deeper
          selectorCondGroupHistory = selectorCondGroupHistory.slice(0, depth + 1);
          depth--;
          curSelector = selectorQueue[selectorQueue.length - 1];
        }

        if (inactive) {
          // DEBUG//console.log("prerender ITEM INACTIVE :::::", performance.now() - itemTime, item)
          continue; // return true
        }
        if (style) {
          if (!curSelector) throw new Error('Styleverse renderList render(), style must be in selector context! ' + item + ' ... ' + (0, _stringify2.default)(item));

          // starting new ruleset
          if (!curStyle) {
            // reset ruleset style
            curStyle = (0, _assign2.default)({}, style); // can't mutate original
          }

          // adding to current ruleset
          else {
              (0, _assign2.default)(curStyle, style);
            }
        }

        if (css) {
          if (!this_css) this_css = [];
          if (typeof css === 'string') {
            if (!this_css.includes(css)) this_css.push(css);
          } else if (!(css instanceof Array)) {
            throw new Error('Styleverse plugin returned css must be string or array ' + (0, _stringify2.default)(css));
          } else {
            for (var _i2 = 0, len = css.length; _i2 < len; _i2++) {
              var cssString = css[_i2];
              if (!this_css.includes(cssString)) this_css.push(cssString);
            }
          }
        }

        // TODO
        // if (html) htmlSet = (!htmlSet) ? html : htmlSet.union(html)

        // if (render) {
        //  if (typeof render !== 'function') throw new Error("Stylverse parse plugin return {render} must be a function")
        //  if (!renders) renders = []
        //  renders.push(render)
        // }
        if (component) {
          if (!components) components = [];
          components.push(component);
        }

        // DEBUG//var endItem = performance.now()
        // DEBUG//let diff = endItem - itemTime
        // DEBUG//totalItemTime += diff
        // DEBUG//console.log("prerender ITEM :::::", diff, item)
        continue;
      }
      // let curr = performance.now()
      // DEBUG//console.log("prerender() :::::", curr - time, curr -  endItem, {totalItemTime, setupTime})

      rulesets = rulesets;
      return { rulesets: rulesets, css: this_css, components: components };

      // return prerender
    }
  }

});

exports.default = RenderListStruct;

// class Prerender {
//   constructor(list, renderRuleset, struct) {
//     if (!list || !renderRuleset || !struct) throw new Error('Styleverse new Prerender(list, renderRuleset, struct) params required! !!list, !!renderRuleset : ' + !!list +' , '+ !!renderRuleset )
//
//     let renderToString = struct.get('renderToString')
//     this.rulesets = renderToString ? '' : {}
//     this.css = undefined
//     this.components = undefined
//
//     return this.execute(list, renderRuleset, struct, renderToString)
//   }
//
//   /**
//    * @param {Struct} list (should be normal array)
//    */
//   execute(list, renderRuleset, struct, renderToString) {
//     // console.time("prerender")
//     let rulesets = this.rulesets
//     // let htmlSet
//     // let renders
//     let selectorQueue = []
//     let curSelector = undefined
//     let curStyle = undefined
//     let selectorCondGroupHistory = []
//     let inactive = 0
//     let depth = -1
//
//     for (let i=0; i<list.size; i++) {
//       let item = list.get(i)
//
//       let isLastItem = i === list.size - 1
//
//       // execute render-time renderItems
//       if (typeof item === 'function') item = item.call(struct, struct)
//
//       let {
//         type,
//
//         selector,
//         selectorCondGroup,
//
//         style,
//         css,
//         //html,
//         render,
//         component
//       } = item
//
//
//       // starting a new ruleset
//       if (selector || selector === false) {
//         depth++
//         let qLength = selectorQueue.length
//         let prevSelectorCondGroup = selectorCondGroupHistory[ depth ]
//         if (selectorCondGroup) {
//           if (
//             prevSelectorCondGroup &&
//             prevSelectorCondGroup === selectorCondGroup
//           ) {
//             selector = false
//           }
//           else {
//             if (selector) selectorCondGroupHistory[depth] = selectorCondGroup
//           }
//
//         } else {
//           selectorCondGroupHistory[depth] = undefined
//         }
//
//         if (selector === false) {
//           selector = '!INACTIVE_SELECTOR!'
//           inactive++
//         }
//
//         // register ruleset
//         if (curStyle) {
//           let renderedRuleset = renderRuleset(curSelector, curStyle, this, struct)
//           if (renderToString) {
//             rulesets += renderedRuleset
//           } else {
//             Object.assign(rulesets,{[curSelector]: renderedRuleset})
//           }
//
//           curStyle = undefined
//         }
//
//         const selectorParts = selector.split(',')
//         const selectorPartsLength = selectorParts.length
//
//         if (qLength > 0 && !inactive) {
//           let prevSelector = selectorQueue[qLength - 1]
//           if (selectorPartsLength) {
//             curSelector = ''
//
//             let prevSelParts = prevSelector.split(',')
//             for (let j = 0, prevLen = prevSelParts.length; j < prevLen; j++) {
//               let prevSelPart = prevSelParts[j]
//               for (let i = 0; i < selectorPartsLength; i++) {
//                 let part = selectorParts[i].trim()
//                 if (!part) continue
//
//                 if (part[0] === '&') {
//                   curSelector += prevSelPart + part.substr(1)
//                 }
//                 else {
//                   curSelector += prevSelPart + ' ' + part
//                 }
//                 if (i !== selectorPartsLength - 1) curSelector += ', '
//               }
//               if (j !== prevLen - 1) curSelector += ', '
//             }
//           }
//           else if (selector[0] === '&') {
//             curSelector = prevSelector + selector.substr(1)
//           }
//           else {
//             curSelector = prevSelector + ' ' + selector
//           }
//
//         }
//         else {
//           // TODO: how to treat root & selector?
//           if (selector[0] === '&') {
//             curSelector = selector.substr(1)
//           } else {
//             curSelector = selector
//           }
//         }
//         selectorQueue.push( curSelector )
//       }
//       else if (type === 'RULESET_CLOSE') {
//         // register ruleset
//         if (curStyle && curSelector !== '!INACTIVE_SELECTOR!') {
//           let renderedRuleset = renderRuleset(curSelector, curStyle, this, struct)
//           if (renderToString) {
//             rulesets += renderedRuleset
//           } else {
//             Object.assign(rulesets,{[curSelector]: renderedRuleset})
//           }
//         }
//         if (curSelector === '!INACTIVE_SELECTOR!') {
//           inactive--
//         }
//         curStyle = undefined
//         selectorQueue.pop()
//
//         // keep current cond depth, trash deeper
//         selectorCondGroupHistory = selectorCondGroupHistory.slice(0, depth + 1)
//         depth--
//         curSelector = selectorQueue[ selectorQueue.length - 1 ]
//       }
//
//       if (inactive) continue //return true
//       if (style) {
//         if (!curSelector) throw new Error("Styleverse renderList render(), style must be in selector context! " + item + " ... " + JSON.stringify(item))
//
//         // starting new ruleset
//         if (!curStyle) {
//           // reset ruleset style
//           curStyle = Object.assign({}, style) // can't mutate original
//         }
//
//         // adding to current ruleset
//         else {
//           Object.assign(curStyle, style)
//         }
//       }
//
//       if (css) {
//         let this_css = (!this.css) ? [] : this.css
//         if (typeof css === 'string') {
//           if (!this_css.includes(css)) this_css.push(css)
//         } else if (!(css instanceof Array)) {
//           throw new Error("Styleverse plugin returned css must be string or array " + JSON.stringify(css))
//         } else {
//           for (let i = 0, len = css.length; i < len; i++) {
//             const cssString = css[i]
//             if (!this_css.includes(cssString)) this_css.push(cssString)
//           }
//         }
//         this.css = this_css
//       }
//
//       // TODO
//       //if (html) htmlSet = (!htmlSet) ? html : htmlSet.union(html)
//
//       //if (render) {
//       //  if (typeof render !== 'function') throw new Error("Stylverse parse plugin return {render} must be a function")
//       //  if (!renders) renders = []
//       //  renders.push(render)
//       //}
//       if (component) {
//         if (!this.components) this.components = []
//         this.components.push(component)
//       }
//     }
//
//     this.rulesets = rulesets
//     return this
//   }
//
// }


// let RenderItemStruct = Struct({
//
//  construct: function (vals) {
//    let {style, selector} = vals
//    if (style) {
//      if (!selector || typeof selector !== 'string') throw new Error("RenderItem with style must have selector string! " + JSON.stringify(vals))
//      if (typeof style !== 'object' || Object.keys(vals) <= 0) {
//        throw new Error(`RenderItemStruct set(style, ${style}) can't handle val`)
//      }
//      vals.style = Map( style )
//    }
//    return vals
//  },
//
//  // inputs
//
//  selector: undefined,
//
//  style: undefined,
//
//  css: {
//    init: function (val) {
//      if (val instanceof Array) {
//        let css = OSet(val)
//        return {css}
//      }
//      let typeofVal = typeof val
//      if (typeofVal === 'string') {
//        let css = OSet([val])
//        return {css}
//      }
//      throw new Error(`RenderItemStruct set(css, ${val}) can't handle val`)
//    }
//  },
//
//  html: {
//    init: function (val) {
//      if (val instanceof Array) {
//        let html = OSet(val)
//        return {html}
//      }
//      let typeofVal = typeof val
//      if (typeofVal === 'string') {
//        let html = OSet([val])
//        return {html}
//      }
//      throw new Error(`RenderItemStruct set(html, ${val}) can't handle val`)
//    }
//  },
//
//
// })
//

module.exports = exports['default'];

/***/ }),
/* 682 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Compiler = __webpack_require__(680);

var _Compiler2 = _interopRequireDefault(_Compiler);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Compiler2.default;
module.exports = exports['default'];

/***/ }),
/* 683 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _get3 = __webpack_require__(49);

var _get4 = _interopRequireDefault(_get3);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

exports.default = enhancePlugin;

var _infernoCompat = __webpack_require__(0);

var _enhancer = __webpack_require__(685);

var _Styleverse = __webpack_require__(242);

var _Styleverse2 = _interopRequireDefault(_Styleverse);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function enhancePlugin(configOrComposedComponent, config) {
  if (typeof configOrComposedComponent !== 'function') {
    var newConfig = (0, _extends3.default)({}, config, configOrComposedComponent);
    return function (configOrComponent) {
      return enhancePlugin(configOrComponent, newConfig);
    };
  }

  // let {
  //   //namespace
  // } = config

  var component = configOrComposedComponent;
  var ComposedComponent = component;

  // Handle stateless components
  if (!ComposedComponent.render && !ComposedComponent.prototype.render) {
    ComposedComponent = function (_Component) {
      (0, _inherits3.default)(ComposedComponent, _Component);

      function ComposedComponent() {
        (0, _classCallCheck3.default)(this, ComposedComponent);
        return (0, _possibleConstructorReturn3.default)(this, (ComposedComponent.__proto__ || (0, _getPrototypeOf2.default)(ComposedComponent)).apply(this, arguments));
      }

      (0, _createClass3.default)(ComposedComponent, [{
        key: 'render',
        value: function render() {
          return component(this.props, this.context);
        }
      }]);
      return ComposedComponent;
    }(_infernoCompat.Component);
    ComposedComponent.displayName = component.displayName || component.name;
  }

  var Enhancer = function (_ComposedComponent) {
    (0, _inherits3.default)(Enhancer, _ComposedComponent);

    function Enhancer() {
      var _ref;

      (0, _classCallCheck3.default)(this, Enhancer);

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      // this.state = this.state || {}
      // this.state._radiumStyleState = {}

      var _this2 = (0, _possibleConstructorReturn3.default)(this, (_ref = Enhancer.__proto__ || (0, _getPrototypeOf2.default)(Enhancer)).call.apply(_ref, [this].concat(args)));

      if (_this2.mountCSS) _this2.mountCSS = _this2.mountCSS.bind(_this2);
      if (_this2.unmountCSS) _this2.unmountCSS = _this2.unmountCSS.bind(_this2);
      // if (this.mountCSS && !this.unmountCSS) throw new Error("...")
      return _this2;
    }

    // TODO
    // - willMount or DidMount????????


    (0, _createClass3.default)(Enhancer, [{
      key: 'componentWillMount',
      value: function componentWillMount() {
        if ((0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'componentWillMount', this)) (0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'componentWillMount', this).call(this);
        var styleverse = this.context.styleverse;
        if (this.mountCSS) styleverse.mountCSS(this.mountCSS());
      }
    }, {
      key: 'componentWillUpdate',
      value: function componentWillUpdate() {
        var _get2;

        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          args[_key2] = arguments[_key2];
        }

        if ((0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'componentWillUpdate', this)) (_get2 = (0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'componentWillUpdate', this)).call.apply(_get2, [this].concat(args));
      }
    }, {
      key: 'componentWillUnmount',
      value: function componentWillUnmount() {
        if ((0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'componentWillUnmount', this)) (0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'componentWillUnmount', this).call(this);
        var styleverse = this.context.styleverse;
        if (this.unmountCSS) styleverse.unmountCSS(this.unmountCSS());
      }
    }, {
      key: 'getChildContext',
      value: function getChildContext() {
        var superChildContext = (0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'getChildContext', this) ? (0, _get4.default)(Enhancer.prototype.__proto__ || (0, _getPrototypeOf2.default)(Enhancer.prototype), 'getChildContext', this).call(this) : {};

        var childContext = (0, _extends3.default)({}, superChildContext);

        var styleStore = this.props.styleStore ? this.props.styleStore : this.context.styleStore ? this.context.styleStore : new _Styleverse2.default.StyleStoreStruct({});

        childContext.styleStore = this.updateStyleStore ? this.updateStyleStore(styleStore) : styleStore;

        return childContext;
      }

      // render() {
      //  const renderedElement = super.render();
      //  return resolveStyles(this, renderedElement, currentConfig);
      // }

    }]);
    return Enhancer;
  }(ComposedComponent);

  // Class inheritance uses Object.create and because of __proto__ issues
  // with IE <10 any static properties of the superclass aren't inherited and
  // so need to be manually populated.
  // See http://babeljs.io/docs/advanced/caveats/#classes-10-and-below-


  (0, _enhancer.cloneComponentProps)(component, Enhancer);

  if (false) {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    (0, _enhancer.cloneComponentProps)(ComposedComponent.prototype, Enhancer.prototype);
  }

  // if (Enhancer.propTypes && Enhancer.propTypes.style) {
  //  Enhancer.propTypes = {
  //    ...Enhancer.propTypes,
  //    style: PropTypes.oneOfType([
  //      PropTypes.array,
  //      PropTypes.object
  //    ])
  //  };
  // }

  Enhancer._isEnhancedStyleversePlugin = true;

  Enhancer.displayName = component.displayName || component.name || 'StyleversePluginComponent';

  Enhancer.contextTypes = (0, _extends3.default)({}, Enhancer.contextTypes, {
    styleverse: _infernoCompat.PropTypes.object,
    styleStore: _infernoCompat.PropTypes.object
  });

  Enhancer.childContextTypes = (0, _extends3.default)({}, Enhancer.childContextTypes, {
    styleStore: _infernoCompat.PropTypes.object
  });

  return Enhancer;
}
module.exports = exports['default'];

/***/ }),
/* 684 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _defineProperty = __webpack_require__(17);

var _defineProperty2 = _interopRequireDefault(_defineProperty);

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _getOwnPropertyNames = __webpack_require__(53);

var _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*

  // Class inheritance uses Object.create and because of __proto__ issues
  // with IE <10 any static properties of the superclass aren't inherited and
  // so need to be manually populated.
  // See http://babeljs.io/docs/advanced/caveats/#classes-10-and-below-
  cloneComponentProps(component, Enhancer);

  if (process.env.NODE_ENV !== 'production') {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    cloneComponentProps(ComposedComponent.prototype, Enhancer.prototype);
  }

*/

var KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES = ['arguments', 'callee', 'caller', 'length', 'name', 'prototype', 'type'];

var _BROWSER_IS_IE = void 0;
var BROWSER_IS_IE = function BROWSER_IS_IE() {
  if (_BROWSER_IS_IE !== undefined) return _BROWSER_IS_IE;
  var window = window || global;
  if (!window || !window.navigator) return false;
  var ua = window.navigator.userAgent;
  var msie = ua.indexOf('MSIE ');

  if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
    _BROWSER_IS_IE = true;
    // version number = parseInt(ua.substring(msie + 5, ua.indexOf(".", msie)))
  } else {
    _BROWSER_IS_IE = false;
  }

  return false;
};

function cloneComponentProps(source, target) {
  var safeCheckRecurse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

  if (BROWSER_IS_IE()) {
    var sources = (0, _getOwnPropertyNames2.default)(source);
    for (var i = 0, len = sources.length; i < len; i++) {
      var key = sources[i];
      if (KEYS_TO_IGNORE_WHEN_COPYING_PROPERTIES.indexOf(key) < 0 && !target.hasOwnProperty(key)) {
        var descriptor = (0, _getOwnPropertyDescriptor2.default)(source, key);
        (0, _defineProperty2.default)(target, key, descriptor);
      }
    }
  }

  if (safeCheckRecurse && "production" !== 'production') {
    // This also fixes React Hot Loader by exposing the original components top
    // level prototype methods on the enhanced prototype as discussed in
    // https://github.com/FormidableLabs/radium/issues/219.
    cloneComponentProps(source.prototype, target.prototype, false);
  }
}

exports.default = cloneComponentProps;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 685 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.cloneComponentProps = undefined;

var _cloneComponentProps = __webpack_require__(684);

var _cloneComponentProps2 = _interopRequireDefault(_cloneComponentProps);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.cloneComponentProps = _cloneComponentProps2.default;

/***/ }),
/* 686 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _Store = __webpack_require__(687);

var _Store2 = _interopRequireDefault(_Store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BaseContext = function (_React$Component) {
  (0, _inherits3.default)(BaseContext, _React$Component);

  function BaseContext() {
    (0, _classCallCheck3.default)(this, BaseContext);
    return (0, _possibleConstructorReturn3.default)(this, (BaseContext.__proto__ || (0, _getPrototypeOf2.default)(BaseContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(BaseContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.execute('update-props', this.props);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.store.execute('update-props', nextProps);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return BaseContext;
}(_infernoCompat2.default.Component);

BaseContext.displayName = 'Styleverse_BaseContext';


BaseContext = (0, _cymatics.installStore)(BaseContext, 'styleverse-base', function (componentInstance) {
  return new _Store2.default(componentInstance);
});

exports.default = BaseContext;
module.exports = exports['default'];

/***/ }),
/* 687 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _Struct = __webpack_require__(243);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = new _Struct2.default();

var BaseStore = function (_Store) {
  (0, _inherits3.default)(BaseStore, _Store);

  function BaseStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, BaseStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = BaseStore.__proto__ || (0, _getPrototypeOf2.default)(BaseStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'styleverse-base', _this.deferCommit = false, _this.state = initialState, _this.actions = {

      'update-props': function updateProps(state, props) {
        // nothing for now
        return state;
      },

      'teardown': function teardown() {
        return initialState;
      }

    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  return BaseStore;
}(_cymatics.Store);

exports.default = BaseStore;
module.exports = exports['default'];

/***/ }),
/* 688 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Component = __webpack_require__(686);

var _Component2 = _interopRequireDefault(_Component);

var _parser = __webpack_require__(689);

var _parser2 = _interopRequireDefault(_parser);

var _Struct = __webpack_require__(243);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var plugin = {
  Component: _Component2.default,
  Parser: _parser2.default,
  Struct: _Struct2.default
};

exports.default = plugin;
module.exports = exports['default'];

/***/ }),
/* 689 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _propNames = __webpack_require__(692);

var _propNames2 = _interopRequireDefault(_propNames);

var _keyVals = __webpack_require__(690);

var _keyVals2 = _interopRequireDefault(_keyVals);

var _notPixelKeys = __webpack_require__(691);

var _notPixelKeys2 = _interopRequireDefault(_notPixelKeys);

var _valNames = __webpack_require__(693);

var _valNames2 = _interopRequireDefault(_valNames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* eslint-disable */

//import {Struct} from '@the-grid/immutable'
var BaseParser = {

  keyVal: function keyVal(_keyVal) {
    var style = _keyVals2.default[_keyVal];
    if (!style) return undefined;
    return { style: style };
  },

  //key: function (key, val) {
  //  let keyParts = key.split('-')
  //  if (!propNames[keyParts[0]] && keyParts[0] !== '') return undefined
  //  return keyParts.map(function (part) {
  //    if (part === '') return ''
  //    let namePart = propNames[part]
  //    if (!namePart) throw new Error('Styleverse Base keyPlugin could not finish key: '+key +' part:'+part)
  //    return namePart
  //  }).join('-')
  //},

  key: function key(_key, val) {
    var keyParts = _key.split('-');
    //if (!propNames[keyParts[0]] && keyParts[0] !== '') return undefined
    var result = '';
    var part = void 0;
    var len = keyParts.length;
    for (var i = 0; i < len; i++) {
      part = keyParts[i];
      if (part === '') {
        result += '';
      }
      var namePart = _propNames2.default[part];
      if (!namePart) {
        result += part; // do not throw!!!!!
      } else {
        result += namePart;
      }
      if (i !== len - 1) result += '-';
    }
    return result;
  },

  val: function val(key, _val) {
    var num = Number(_val);
    if (!isNaN(num)) {
      if (_notPixelKeys2.default.includes(key)) return num;
      return _val + 'px';
    }
    if (_valNames2.default[_val]) return _valNames2.default[_val];
    return _val;
    //if (val.endsWith('px')) return val
    //if (val.endsWith('em')) return val
    //if (val.endsWith('rem')) return val
    //if (val.endsWith('vw')) return val
    //if (val.endsWith('vh')) return val
    //return valName
  },

  render: function render(selector, obj) {
    var css = selector;
    var additionalCSS = '';

    css += ' {\n';

    var keys = (0, _keys2.default)(obj);
    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      if (key === 'CSS') {
        if (obj[key]) additionalCSS += obj[key];
        continue;
      }
      css += key;
      css += ': ';
      css += obj[key];
      css += ';\n';
    }
    css += '}\n';

    if (additionalCSS) {
      if (selector.includes(',')) {
        // TODO, make sure selector with commas works here...
        throw new Error("Styleverse doesnt handle selectors with commans plus like this yet...", { selector: selector, additionalCSS: additionalCSS });
        var selParts = selector.split(',');
        for (var _i = 0; _i < selParts.length; _i++) {
          var selPart = selParts[_i];
          css += additionalCSS.replace(/\&/g, selPart);
        }
      } else {
        // replace & selector with selector

        if (additionalCSS.includes('&')) additionalCSS = additionalCSS.replace(/\&/g, selector);
        css += additionalCSS + '\n';
      }
    }

    return { child: css, obj: {} };
  }

};

exports.default = BaseParser;
module.exports = exports['default'];

/***/ }),
/* 690 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var keyVals = {

  'bf-viz--h': { 'backface-visibility': 'hidden' },

  'pos--s': { 'position': 'static' },
  'pos--a': { 'position': 'absolute' },
  'pos--r': { 'position': 'relative' },
  'pos--f': { 'position': 'fixed' },

  'box-szg--c': { 'box-sizing': 'content-box' },
  'box-szg--b': { 'box-sizing': 'border-box' },

  // 'flt--n': { float: 'none' },
  // 'flt--l': { float: 'left' },
  // 'flt--r': { float: 'right' },

  // 'clear--n': { clear: 'none' },
  // 'clear--l': { clear: 'left' },
  // 'clear--r': { clear: 'right' },
  // 'clear--b': { clear: 'both' },

  'd--b': { display: 'block' },
  'd--i': { display: 'inline' },
  'd--ib': { display: 'inline-block' },
  // 'd--li': { display: 'list-item' },
  // 'd--tb': { display: 'table' },
  // 'd--itb': { display: 'inline-table' },
  // 'd--tbcp': { display: 'table-caption' },
  // 'd--tbcl': { display: 'table-column' },
  // 'd--tbclg': { display: 'table-column-group' },
  // 'd--tbhg': { display: 'table-header-group' },
  // 'd--tbfg': { display: 'table-footer-group' },
  // 'd--tbr': { display: 'table-row' },
  // 'd--tbrg': { display: 'table-row-group' },
  // 'd--tbc': { display: 'table-cell' },
  'd--n': { display: 'none' },
  // 'd--ri'     : { display: 'run-in' },
  // 'd--cp'     : { display: 'compact' },
  // 'd--rb'     : { display: 'ruby' },
  // 'd--rbb'    : { display: 'ruby-base' },
  // 'd--rbbg'   : { display: 'ruby-base-group' },
  // 'd--rbt'    : { display: 'ruby-text' },
  // 'd--rbtg'   : { display: 'ruby-text-group' },

  /* -------------------------------------
   flex parent props
   ------------------------------------- */
  'd--iflx': { display: 'inline-flex' },
  'd--flx': { display: 'flex' },

  /* default */
  'flx-dir--row': { 'flex-direction': 'row' },
  'flx-dir--col': { 'flex-direction': 'column' },
  'flx-dir--row-rev': { 'flex-direction': 'row-reverse' },
  'flx-dir--col-rev': { 'flex-direction': 'column-reverse' },

  'flx-wrp--n': { 'flex-wrap': 'nowrap' },
  'flx-wrp': { 'flex-wrap': 'wrap' },
  'flx-wrp--rev': { 'flex-wrap': 'wrap-reverse' },

  /* default */
  'flx-jst--strt': { 'justify-content': 'flex-start' }, 'flx-jst--start': { 'justify-content': 'flex-start' },
  'flx-jst--mid': { 'justify-content': 'center' }, 'flx-jst--center': { 'justify-content': 'center' },
  'flx-jst--end': { 'justify-content': 'flex-end' },
  'flx-jst--btwn': { 'justify-content': 'space-between' }, 'flx-jst--between': { 'justify-content': 'space-between' },
  'flx-jst--arnd': { 'justify-content': 'space-around' }, 'flx-jst--around': { 'justify-content': 'space-around' },

  /* default */
  'flx-aln--strch': { 'align-items': 'stretch' }, 'flx-aln--stretch': { 'align-items': 'stretch' },
  'flx-aln--strt': { 'align-items': 'flex-start' }, 'flx-aln--start': { 'align-items': 'flex-start' },
  'flx-aln--mid': { 'align-items': 'center' }, 'flx-aln--center': { 'align-items': 'center' },
  'flx-aln--end': { 'align-items': 'flex-end' },
  'flx-aln--bl': { 'align-items': 'baseline' }, 'flx-aln--baseline': { 'align-items': 'baseline' },

  /* if more than one wrapped line, how to align flex container's lines */
  /* default */
  'flx-aln-lns--strch': { 'align-content': 'stretch' }, 'flx-aln-lns--stretch': { 'align-content': 'stretch' },
  'flx-aln-lns--strt': { 'align-content': 'flex-start' }, 'flx-aln-lns--start': { 'align-content': 'flex-start' },
  'flx-aln-lns--mid': { 'align-content': 'center' }, 'flx-aln-lns--center': { 'align-content': 'center' },
  'flx-aln-lns--end': { 'align-content': 'flex-end; ' },
  'flx-aln-lns--btwn': { 'align-content': 'space-between' }, 'flx-aln-lns--between': { 'align-content': 'space-between' },
  'flx-aln-lns--arnd': { 'align-content': 'space-around' }, 'flx-aln-lns--around': { 'align-content': 'space-around' },

  /*  -------------------------------------
   flex item props
   - float, clear and vertical-align have no effect on a flex item.
   ------------------------------------- */
  'flx-aln-to--strt': { 'align-self': 'flex-start' }, 'flx-aln-to--start': { 'align-self': 'flex-start' },
  'flx-aln-to--mid': { 'align-self': 'center' }, 'flx-aln-to--center': { 'align-self': 'center' },
  'flx-aln-to--end': { 'align-self': 'flex-end' },
  'flx-aln-to--bl': { 'align-self': 'baseline' }, 'flx-aln-to--baseline': { 'align-self': 'baseline' },
  'flx-aln-to--strch': { 'align-self': 'stretch' }, 'flx-aln-to--stretch': { 'align-self': 'stretch' },

  /*  -------------------------------------
   below handled dynamically...
   ------------------------------------- */
  // .flx-grow--0 {flex-grow: 0;}
  // .flx-grow--1 {flex-grow: 1;}
  // .flx-grow--2 {flex-grow: 2;}
  // .flx-grow--3 {flex-grow: 3;}

  // .flx-basis--a {flex-basis: auto;} /* default */
  // .flx-basis--0 {flex-basis: 0;}
  // .flx-basis--1 {flex-basis: 1;}

  // .flx-shrink--1 {flex-shrink: 1;} /* default */

  // .flx-order--1 {flex-order: 1;}
  // .flx-order--2 {flex-order: 2;}
  // .flx-order--3 {flex-order: 3;}
  // .flx-order--99 {flex-order: 99;}


  // 'clp--a': { clip: 'auto' },
  // 'clp--r': { clip: 'rect()' },
  //
  // 'rsz--n': { resize: 'none' },
  // 'rsz--b': { resize: 'both' },
  // 'rsz--h': { resize: 'horizontal' },
  // 'rsz--v': { resize: 'vertical' },
  //
  // 'cur--a': { cursor: 'auto' },
  // 'cur--d': { cursor: 'default' },
  // 'cur--c': { cursor: 'crosshair' },
  // 'cur--ha': { cursor: 'hand' },
  // 'cur--he': { cursor: 'help' },
  // 'cur--m': { cursor: 'move' },
  // 'cur--p': { cursor: 'pointer' },
  // 'cur--t': { cursor: 'text' },

  'vis--v': { 'visibility': 'visible' },
  'vis--h': { 'visibility': 'hidden' },
  'vis--c': { 'visibility': 'collapse' },

  'otln--n': { outline: 'none' },

  'ovf--v': { 'overflow': 'visible' },
  'ovf--h': { 'overflow': 'hidden' },
  'ovf--s': { 'overflow': 'scroll' },
  'ovf--a': { 'overflow': 'auto' },
  'ovf-x--v': { 'overflow-x': 'visible' },
  'ovf-x--h': { 'overflow-x': 'hidden' },
  'ovf-x--s': { 'overflow-x': 'scroll' },
  'ovf-x--a': { 'overflow-x': 'auto' },
  'ovf-y--v': { 'overflow-y': 'visible' },
  'ovf-y--h': { 'overflow-y': 'hidden' },
  'ovf-y--s': { 'overflow-y': 'scroll' },
  'ovf-y--a': { 'overflow-y': 'auto' },
  'ovf-sty--a': { 'overflow-style': 'auto' },
  'ovf-sty--s': { 'overflow-style': 'scrollbar' },
  'ovf-sty--p': { 'overflow-style': 'panner' },
  'ovf-sty--m': { 'overflow-style': 'move' },
  'ovf-sty--mq': { 'overflow-style': 'marquee' },

  'fnt-wght--n': { 'font-weight': 'normal' },
  'fnt-wght--b': { 'font-weight': 'bold' },
  'fnt-wght--br': { 'font-weight': 'bolder' },
  'fnt-wght--lr': { 'font-weight': 'lighter' },

  'fnt-sty--n': { 'font-style': 'normal' },
  'fnt-sty--i': { 'font-style': 'italic' },
  'fnt-sty--o': { 'font-style': 'oblique' },

  'fnt-vrnt--n': { 'font-variant': 'normal' },
  'fnt-vrnt--sc': { 'font-variant': 'small-caps' },

  'fnt-sz-adj--n': { 'font-size-adjust': 'none' },

  'fnt-fx--n': { 'font-effect': 'none' },
  'fnt-fx--eg': { 'font-effect': 'engrave' },
  'fnt-fx--eb': { 'font-effect': 'emboss' },
  'fnt-fx--o': { 'font-effect': 'outline' },

  'fnt-emph-pos--b': { 'font-emphasize-position': 'before' },
  'fnt-emph-pos--a': { 'font-emphasize-position': 'after' },
  'fnt-emph-sty--n': { 'font-emphasize-style': 'none' },
  'fnt-emph-sty--ac': { 'font-emphasize-style': 'accent' },
  'fnt-emph-sty--dt': { 'font-emphasize-style': 'dot' },
  'fnt-emph-sty--c': { 'font-emphasize-style': 'circle' },
  'fnt-emph-sty--ds': { 'font-emphasize-style': 'disc' },

  'fnt-smth--a': { 'font-smooth': 'auto' },
  'fnt-smth--n': { 'font-smooth': 'never' },
  'fnt-smth--aw': { 'font-smooth': 'always' },
  'fnt-strch--n': { 'font-stretch': 'normal' },

  // 'fnt-strch--uc': { 'font-stretch': 'ultra-condensed' },
  // 'fnt-strch--ec': { 'font-stretch': 'extra-condensed' },
  // 'fnt-strch--c': { 'font-stretch': 'condensed' },
  // 'fnt-strch--sc': { 'font-stretch': 'semi-condensed' },
  // 'fnt-strch--se': { 'font-stretch': 'semi-expanded' },
  // 'fnt-strch--e': { 'font-stretch': 'expanded' },
  // 'fnt-strch--ee': { 'font-stretch': 'extra-expanded' },
  // 'fnt-strch--ue': { 'font-stretch': 'ultra-expanded' },

  // 'ver-aln--sup': { 'vertical-align': 'super' },
  // 'ver-aln--t': { 'vertical-align': 'top' },
  // 'ver-aln--txt-t': { 'vertical-align': 'text-top' },
  // 'ver-aln--mid': { 'vertical-align': 'middle' },
  // 'ver-aln--bl': { 'vertical-align': 'baseline' },
  // 'ver-aln--b': { 'vertical-align': 'bottom' },
  // 'ver-aln--txt-b': { 'vertical-align': 'text-bottom' },
  // 'ver-aln--sub': { 'vertical-align': 'sub' },

  'txt-aln--l': { 'text-align': 'left' },
  'txt-aln--c': { 'text-align': 'center' },
  'txt-aln--r': { 'text-align': 'right' },
  'txt-aln--j': { 'text-align': 'justify' },

  'txt-aln-last--a': { 'text-align-last': 'auto' },
  'txt-aln-last--l': { 'text-align-last': 'left' },
  'txt-aln-last--c': { 'text-align-last': 'center' },
  'txt-aln-last--r': { 'text-align-last': 'right' },

  // 'txt-decor--n': { 'text-decoration': 'none' },
  // 'txt-decor--u': { 'text-decoration': 'underline' },
  // 'txt-decor--o': { 'text-decoration': 'overline' },
  // 'txt-decor--l': { 'text-decoration': 'line-through' },

  'txt-emph--n': { 'text-emphasis': 'none' },
  'txt-emph--ac': { 'text-emphasis': 'accent' },
  'txt-emph--dt': { 'text-emphasis': 'dot' },
  'txt-emph--c': { 'text-emphasis': 'circle' },
  'txt-emph--ds': { 'text-emphasis': 'disc' },
  'txt-emph--b': { 'text-emphasis': 'before' },
  'txt-emph--a': { 'text-emphasis': 'after' },

  'txt-h--a': { 'text-height': 'auto' },
  'txt-h--f': { 'text-height': 'font-size' },
  'txt-h--t': { 'text-height': 'text-size' },
  'txt-h--m': { 'text-height': 'max-size' },
  'txt-i---': { 'text-indent': '-9999px' },

  'txt-jst--a': { 'text-justify': 'auto' },
  'txt-jst--iw': { 'text-justify': 'inter-word' },
  'txt-jst--ii': { 'text-justify': 'inter-ideograph' },
  'txt-jst--ic': { 'text-justify': 'inter-cluster' },
  'txt-jst--d': { 'text-justify': 'distribute' },
  'txt-jst--k': { 'text-justify': 'kashida' },
  'txt-jst--t': { 'text-justify': 'tibetan' },

  'txt-otl--n': { 'text-outline': 'none' },
  'txt-rplc--n': { 'text-replace': 'none' },
  'txt-tf--n': { 'text-transform': 'none' },
  'txt-tf--c': { 'text-transform': 'capitalize' },
  'txt-tf--u': { 'text-transform': 'uppercase' },
  'txt-tf--l': { 'text-transform': 'lowercase' },
  'txt-wrp--n': { 'text-wrap': 'normal' },
  'txt-wrp--no': { 'text-wrap': 'none' },
  'txt-wrp--u': { 'text-wrap': 'unrestricted' },
  'txt-wrp--s': { 'text-wrap': 'suppress' },
  'txt-ovf--c': { 'text-overflow': 'clip' },
  'txt-ovf--e': { 'text-overflow': 'ellipsis' },
  'txt-sh--n': { 'text-shadow': 'none' },

  'whs--n': { 'white-space': 'normal' },
  // 'whs--p': { 'white-space': 'pre' },
  // 'whs--nw': { 'white-space': 'nowrap' },
  // 'whs--pw': { 'white-space': 'pre-wrap' },
  // 'whs--pl': { 'white-space': 'pre-line' },

  'whs-clps--n': { 'white-space-collapse': 'normal' }
};

exports.default = keyVals;
module.exports = exports['default'];

/***/ }),
/* 691 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var notPixelKeys = ['opacity', 'z-index', 'line-height', 'flex', 'flex-grow', 'flex-basis', 'flex-shrink', 'flex-order', 'order', 'font-weight', 'perspective'];

exports.default = notPixelKeys;
module.exports = exports['default'];

/***/ }),
/* 692 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var _ = false;
var propNames = {
  'b': 'bottom',
  'd': 'display',
  'h': 'height',
  'l': 'left',
  'o': 'opacity',
  'r': 'right',
  't': 'top',
  'w': 'width',
  'x': 'x',
  'y': 'y',
  'z': 'z',

  'bg': 'background',
  'bf': 'backface',
  'bp': 'breakpoint',
  'el': 'elment',
  'eq': 'equal',
  // 'gt': 'greater-than',
  'ln': 'line',
  // 'lt': 'less-than',
  'sh': 'shadow',
  'sz': 'size',
  'tf': 'transform',

  'aln': 'align',
  'adj': 'adjust',
  'bdr': 'border',
  // 'border': 'border',
  'box': 'box',
  'brk': 'break',
  'clp': 'clip',
  'clr': 'color',
  'col': 'column',
  'cur': 'cursor',
  'fam': 'family',
  'flt': 'float',
  'flx': 'flex', // 'flex': 'flex',
  'fit': 'fit',
  'fnt': 'font',
  // 'gte': 'greater-than-or-equal',
  'hor': 'horizontal',
  'idx': 'index',
  'img': 'image',
  'jst': 'justify',
  // 'lte': 'less-than-or-equal',
  'lth': 'length',
  'lst': 'list',
  'lyt': 'layout',
  'min': 'min',
  'mar': 'margin',
  'max': 'max',
  // 'neq': 'not-equal',
  'obj': 'object', // 'object': 'object',
  'ori': 'orientation',
  'otl': 'outline',
  'ovf': 'overflow',
  'pad': 'padding',
  'pos': 'position',
  'rad': 'radius',
  'row': 'row',
  'rsz': 'resize',
  'sty': 'style',
  'szg': 'sizing',
  'txt': 'text',
  'typ': 'type',
  'ver': 'vertical',
  'viz': 'visibility',
  'wrd': 'word',
  'wrp': 'wrap', // 'wrap': 'wrap',
  'whs': 'white-space',

  'clps': 'collapse',
  'crnr': 'corner',
  'decor': 'decoration',
  'emph': 'emphasis',
  // 'fill': 'fill',
  'frst': 'first',
  // 'grow': 'grow',
  // 'self': 'self',
  'smth': 'smooth',
  // 'last': 'last',
  'wght': 'weight',

  // 'basis': 'basis',
  // 'clear': 'clear',
  'cndsd': 'condesned',
  // 'media': 'media',
  // 'order': 'order',
  // 'ratio': 'ratio',
  'trans': 'transition',

  'attach': 'attachment',
  // 'shrink': 'shrink',
  // 'stroke': 'stroke',
  'strokelinecap': 'stroke-linecap',
  'strokewidth': 'stroke-width',
  // 'content': 'content',
  // 'origin': 'origin',

  'func': 'function',
  // 'filter': 'filter',
  // 'duration': 'duration',
  'prop': 'property'

};

// add unabbreviated as well
// for (let abbreviated in propNames) {
//  let unabbreviated = propNames[abbreviated]
//  if (!unabbreviated) unabbreviated = abbreviated
//  propNames[unabbreviated] = unabbreviated
// }


exports.default = propNames;
module.exports = exports['default'];

/***/ }),
/* 693 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var valNames = {

  n: 'none',
  i: 'inherit',
  a: 'auto'

};
exports.default = valNames;
module.exports = exports['default'];

/***/ }),
/* 694 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _uiResizeContext = __webpack_require__(232);

var _uiResizeContext2 = _interopRequireDefault(_uiResizeContext);

var _Store = __webpack_require__(695);

var _Store2 = _interopRequireDefault(_Store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO import {ResizeContext} from '@the-grid/ui'

var el = _infernoCompat2.default.createElement;

var BreakpointContextInstaller = function (_React$Component) {
  (0, _inherits3.default)(BreakpointContextInstaller, _React$Component);

  function BreakpointContextInstaller() {
    (0, _classCallCheck3.default)(this, BreakpointContextInstaller);
    return (0, _possibleConstructorReturn3.default)(this, (BreakpointContextInstaller.__proto__ || (0, _getPrototypeOf2.default)(BreakpointContextInstaller)).apply(this, arguments));
  }

  (0, _createClass3.default)(BreakpointContextInstaller, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          target = _props.target,
          width = _props.width,
          height = _props.height;

      var render = el(BreakpointContext, this.props);
      if (!target) {
        if (!width || !height) throw new Error('Styleverse Breakpoint without {target} requires {width,height}');
        return render;
      }
      if (target === 'window' || target === 'viewport') return render;
      return el(_uiResizeContext2.default, this.props, render);
    }
  }]);
  return BreakpointContextInstaller;
}(_infernoCompat2.default.Component);

BreakpointContextInstaller.displayName = 'Styleverse_BreakpointContextInstaller';
BreakpointContextInstaller.propTypes = {
  constrain: _infernoCompat2.default.PropTypes.func,
  target: _infernoCompat2.default.PropTypes.string,
  resizeTarget: _infernoCompat2.default.PropTypes.string,
  width: _infernoCompat2.default.PropTypes.number,
  height: _infernoCompat2.default.PropTypes.number
};
BreakpointContextInstaller.defaultProps = {
  target: '',
  resizeTarget: 'window'
};

var BreakpointContext = function (_React$Component2) {
  (0, _inherits3.default)(BreakpointContext, _React$Component2);

  function BreakpointContext() {
    var _ref;

    var _temp, _this2, _ret;

    (0, _classCallCheck3.default)(this, BreakpointContext);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this2 = (0, _possibleConstructorReturn3.default)(this, (_ref = BreakpointContext.__proto__ || (0, _getPrototypeOf2.default)(BreakpointContext)).call.apply(_ref, [this].concat(args))), _this2), _this2.updateProps = function (p) {
      var props = {};
      if (p.constrain) props.constrain = p.constrain;
      if (p.target) props.target = p.target;
      if (p.resizeTarget) props.resizeTarget = p.resizeTarget;
      if (p.width !== undefined) props.width = p.width;
      if (p.height !== undefined) props.height = p.height;
      _this2.store.execute('update-props', props);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this2, _ret);
  }

  (0, _createClass3.default)(BreakpointContext, [{
    key: 'updateProps',
    value: function updateProps(p) {
      var _props2 = this.props,
          constrain = _props2.constrain,
          target = _props2.target,
          resizeTarget = _props2.resizeTarget,
          width = _props2.width,
          height = _props2.height;

      this.store.execute('update-props', {
        constrain: constrain,
        target: target,
        resizeTarget: resizeTarget,
        width: width,
        height: height
      });
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.updateProps(this.props);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.updateProps(nextProps);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return BreakpointContext;
}(_infernoCompat2.default.Component);

BreakpointContext.displayName = 'Styleverse_BreakpointContext';


BreakpointContext = (0, _cymatics.installStore)(BreakpointContext, 'styleverse-breakpoint', function (componentInstance) {
  return new _Store2.default(componentInstance);
});

exports.default = BreakpointContextInstaller;
module.exports = exports['default'];

/***/ }),
/* 695 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _Struct = __webpack_require__(244);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = new _Struct2.default();

var BreakpointStore = function (_Store) {
  (0, _inherits3.default)(BreakpointStore, _Store);

  function BreakpointStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, BreakpointStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = BreakpointStore.__proto__ || (0, _getPrototypeOf2.default)(BreakpointStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'styleverse-breakpoint', _this.deferCommit = false, _this.state = initialState, _this.got_props = false, _this.got_vp = false, _this.use_vp = false, _this.contextStores = {

      'viewport': function viewport(viewportStore) {
        _this.got_vp = true;
        var viewport = viewportStore.state;
        if (_this.use_vp) return _this.execute('merge', viewport, { viewport: viewport });
        return _this.execute('set', 'viewport', viewport);
      },

      'resize': function resize(store) {
        var width = store.state.get('width');
        var height = store.state.get('height');
        _this.execute('update-size', { width: width, height: height });
      }

    }, _this.actions = {

      'update-props': function updateProps(state, props) {
        _this.got_props = true;
        var target = props.target;
        var toMerge = void 0;
        if (target === 'window' || target === 'viewport') {
          _this.use_vp = true;
          if (_this.got_vp) return state.merge(state.get('viewport'), props);
        }
        return state.merge(props);
      },

      'update-size': function updateSize(state, size) {
        var constrain = state.get('constrain');
        if (constrain) size = constrain(size);
        return state.merge(size);
      },

      'teardown': function teardown() {
        _this.got_props = false;
        _this.got_vp = false;
        _this.use_vp = false;
        return initialState;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }
  //debug = true


  (0, _createClass3.default)(BreakpointStore, [{
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      return state.get('width') >= 0 && this.got_props && this.got_vp;
    }
  }]);
  return BreakpointStore;
}(_cymatics.Store);

exports.default = BreakpointStore;
module.exports = exports['default'];

/***/ }),
/* 696 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Component = __webpack_require__(694);

var _Component2 = _interopRequireDefault(_Component);

var _parser = __webpack_require__(697);

var _parser2 = _interopRequireDefault(_parser);

var _Struct = __webpack_require__(244);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// plugin
exports.default = {
  Component: _Component2.default,
  Parser: _parser2.default,
  Struct: _Struct2.default
};
module.exports = exports['default'];

/***/ }),
/* 697 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _val = __webpack_require__(699);

var _val2 = _interopRequireDefault(_val);

var _selector = __webpack_require__(698);

var _selector2 = _interopRequireDefault(_selector);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Parser
exports.default = {
  val: _val2.default,
  selector: _selector2.default
};
module.exports = exports['default'];

/***/ }),
/* 698 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var operators = ['==', '<=', '!=', '>=', '<', '>'];

var selectorParser = function selectorParser(selector) {
  var idx = selector.indexOf('@breakpoint');
  if (idx === -1) return undefined;

  var expression = void 0;
  var isRoot = false;

  if (selector.includes('@breakpoint:root')) {
    isRoot = true;
    expression = selector.substr('@breakpoint:root'.length);
  } else {
    expression = selector.substr('@breakpoint'.length);
  }

  // if (idx !== 0) throw new Error('@breakpoint selector must be at begining of selector')
  var operator = void 0;
  for (var i = 0, len = operators.length; i < len; i++) {
    var op = operators[i];
    if (expression.includes(op)) {
      operator = op;
      break;
    }
  }

  if (!operator) throw new Error('@breakpoint selector doesnt have valid operator: ' + selector);

  var _expression$split = expression.split(operator),
      _expression$split2 = (0, _slicedToArray3.default)(_expression$split, 2),
      prop = _expression$split2[0],
      val = _expression$split2[1];

  prop = prop.trim();
  val = val.trim();

  // size is implied in `@breakpoing <= media-s`
  if (!prop) prop = 'size';
  if (prop === 'size') {
    return {
      deps: ['styleStore.breakpoint' + (isRoot ? '.root' : '') + '.is'],
      get: function get(is) {
        var isValid = is(operator, val);
        return {
          selector: isValid ? '&' : false,
          selectorCondGroup: 'breakpoint'
        };
      }
    };
  } else {
    throw new Error('@breakpoint does not yet support this: ' + selector);
  }
};

exports.default = selectorParser;
module.exports = exports['default'];

/***/ }),
/* 699 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var valParser = function valParser(key, val) {
  // {props.}...
  if (val.indexOf('breakpoint.') === 0) {
    // TODO: need @Peter! ... temporary hack for executing prop functions until we get proper parser
    return {
      deps: ['styleStore.' + val],
      get: function get(propVal) {
        if (typeof propVal === 'number') return propVal + 'px';
        return propVal;
      }
    };
  }
  return undefined;
};

exports.default = valParser;
module.exports = exports['default'];

/***/ }),
/* 700 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _Store = __webpack_require__(701);

var _Store2 = _interopRequireDefault(_Store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mountCount = 0;

var ChromaContext = function (_React$Component) {
  (0, _inherits3.default)(ChromaContext, _React$Component);

  function ChromaContext() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ChromaContext);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ChromaContext.__proto__ || (0, _getPrototypeOf2.default)(ChromaContext)).call.apply(_ref, [this].concat(args))), _this), _this.updateProps = function (props) {
      var colors = props.colors,
          type = props.type,
          typeIndex = props.typeIndex,
          isRoot = props.isRoot,
          randomIfNeeded = props.randomIfNeeded,
          mountCount = props.mountCount;

      var p = {};
      if (mountCount) p.mountCount = mountCount;
      if (colors) p.colors = colors;
      if (type) p.type = type;
      if (typeIndex !== undefined) p.typeIndex = typeIndex;
      if (isRoot !== undefined) p.isRoot = isRoot;
      if (randomIfNeeded !== undefined) p.randomIfNeeded = randomIfNeeded;
      _this.store.execute('update-props', p);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ChromaContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      mountCount++;
      this.updateProps((0, _assign2.default)({ mountCount: mountCount }, this.props));
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.updateProps(nextProps);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return ChromaContext;
}(_deps.React.Component);

ChromaContext.displayName = 'Styleverse_ChromaContext';
ChromaContext.propTypes = {
  colors: _deps.PropTypes.any, // array of css strings, or List of same
  type: _deps.PropTypes.string,
  typeIndex: _deps.PropTypes.number,
  isRoot: _deps.PropTypes.bool,
  // renderCSS: PropTypes.bool,
  randomIfNeeded: _deps.PropTypes.bool
};
ChromaContext.defaultProps = {
  // renderCSS: false,
  randomIfNeeded: false
};


ChromaContext = (0, _cymatics.installStore)(ChromaContext, 'styleverse-chroma', function (componentInstance) {
  return new _Store2.default(componentInstance);
});

exports.default = ChromaContext;
module.exports = exports['default'];

/***/ }),
/* 701 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _immutable = __webpack_require__(6);

var _cymatics = __webpack_require__(12);

var _deps = __webpack_require__(13);

var _Struct = __webpack_require__(245);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = new _Struct2.default();

var ChromaStore = function (_Store) {
  (0, _inherits3.default)(ChromaStore, _Store);

  function ChromaStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ChromaStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ChromaStore.__proto__ || (0, _getPrototypeOf2.default)(ChromaStore)).call.apply(_ref, [this].concat(args))), _this), _this.debug = false, _this.name = 'styleverse-chroma', _this.deferCommit = false, _this.state = initialState, _this.isReady = false, _this.contextStores = {
      'styleverse-chroma': function styleverseChroma(chromaStore) {
        _this.parentChroma = chromaStore;
        _this.execute('update-parent', chromaStore.state);
      }
    }, _this.parentChroma = undefined, _this.actions = {

      'update-props': function updateProps(state, props) {
        _this.isReady = true;
        return state.set('props', (0, _immutable.Map)(props));
      },

      'update-parent': function updateParent(state, parentState) {
        return state.set('parent', parentState);
      },

      'teardown': function teardown() {
        _this.parentChroma = undefined;
        _this.isReady = false;
        return initialState;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ChromaStore, [{
    key: 'shouldCommit',
    value: function shouldCommit() {
      return this.isReady;
    }
  }]);
  return ChromaStore;
}(_cymatics.Store);

exports.default = ChromaStore;
module.exports = exports['default'];

/***/ }),
/* 702 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = colorsToList;

var _immutable = __webpack_require__(6);

function colorsToList(inputColors) {
  if (!inputColors) return undefined; // throw new Error('ChromaStruct requires colors')
  if (inputColors.toJS) inputColors = inputColors.toJS();
  var len = inputColors.length;
  if (!len) return defaultColors;
  var colors = [];
  var color = void 0;
  for (var i = 0; i < len; i++) {
    color = inputColors[i];
    if (typeof color == 'string') {
      colors.push(color);
    } else if (color instanceof Array) {
      colors.push('rgb(' + color[0] + ',' + color[1] + ',' + color[2] + ')');
    } else {
      throw new Error('ChromaStruct does not recognize input colors:' + inputColors);
    }
  }
  return (0, _immutable.List)(colors);
}
module.exports = exports['default'];

/***/ }),
/* 703 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SVGGradientMap = undefined;

var _svgGradientMap = __webpack_require__(706);

var _svgGradientMap2 = _interopRequireDefault(_svgGradientMap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.SVGGradientMap = _svgGradientMap2.default;

/***/ }),
/* 704 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _Struct = __webpack_require__(705);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//let mountCountById = {}
var mountCount = 0;

var SVGGradientMap = function (_React$Component) {
  (0, _inherits3.default)(SVGGradientMap, _React$Component);

  function SVGGradientMap() {
    var _ref;

    (0, _classCallCheck3.default)(this, SVGGradientMap);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = (0, _possibleConstructorReturn3.default)(this, (_ref = SVGGradientMap.__proto__ || (0, _getPrototypeOf2.default)(SVGGradientMap)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      struct: undefined
    };
    return _this;
  }

  //renderable = true


  (0, _createClass3.default)(SVGGradientMap, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var id = this.props.id;
      mountCount++;
      // if (!mountCountById[id]) {
      //   mountCountById[id] = 1
      // }
      // else {
      //   mountCountById[id]++
      //   this.renderable = false
      // }
      this.setState({ struct: new _Struct2.default((0, _assign2.default)({}, this.props, { id: this.props.id + '-' + mountCount })) });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      var struct = this.state.struct.merge(props);
      if (struct.equals(this.state.struct)) return;
      this.setState({ struct: struct });
    }
  }, {
    key: 'render',
    value: function render() {
      return this.state.struct.get('render');
    }
  }]);
  return SVGGradientMap;
}(_infernoCompat2.default.Component);

var PropTypes = _infernoCompat2.default.PropTypes;

SVGGradientMap.propTypes = {
  id: PropTypes.string.isRequired,
  colors: PropTypes.array.isRequired,
  stops: PropTypes.array
};

exports.default = SVGGradientMap;
module.exports = exports['default'];

/***/ }),
/* 705 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _deps = __webpack_require__(13);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var grayScaleMatrix = '0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0';

var createVNode = Inferno.createVNode;
var GradientMapStruct = (0, _immutable.Struct)({

  id: undefined,

  colors: {
    set: function set(colorArray) {
      // already set from a struct, from a merge for example
      var isImmutable = colorArray.toJS && colorArray.size;
      var l = isImmutable ? colorArray.size : colorArray.length;

      // cast colors as List of rgbaLists
      var colors = [],
          c;
      for (var i = 0; i < l; i++) {
        c = isImmutable ? colorArray.get(i) : colorArray[i];
        if (typeof c !== 'string') throw new Error('SVGGradientMap: props.colors must be List || Array of Strings');
        colors.push((0, _immutable.List)((0, _deps.Color)(c).rgbArray()));
      }
      return { colors: (0, _immutable.List)(colors) };
    }
  },

  rgbaTable: {
    deps: ['colors'],
    get: function get(colors) {
      var r = '';
      var g = '';
      var b = '';
      var a = '';
      for (var i = 0; i < colors.size; i++) {
        var rgbaList = colors.get(i);
        r += rgbaList.get(0) / 255.0 + ' ';
        g += rgbaList.get(1) / 255.0 + ' ';
        b += rgbaList.get(2) / 255.0 + ' ';
        a += rgbaList.get(3, '1') + ' ';
      }
      return { r: r, g: g, b: b, a: a };
    }
  },

  render: {
    deps: ['id', 'rgbaTable'],
    get: function get(id, _ref) {
      var r = _ref.r,
          g = _ref.g,
          b = _ref.b,
          a = _ref.a;

      return createVNode(128, 'svg', {
        'version': '1.1',
        'width': '0',
        'height': '0',
        'dangerouslySetInnerHTML': { __html: '\n        <filter id="' + id + '" filterUnits="objectBoundingBox" primitiveUnits="objectBoundingBox" x="0" y="0" width="100%" height="100%">\n          <feColorMatrix type="matrix"values="' + grayScaleMatrix + '" />\n          <feComponentTransfer color-interpolation-filters="sRGB">\n            <feFuncA type="table" tableValues="' + a + '"/>\n            <feFuncR type="table" tableValues="' + r + '"/>\n            <feFuncG type="table" tableValues="' + g + '"/>\n            <feFuncB type="table" tableValues="' + b + '"/>\n          </feComponentTransfer>\n       </filter>\n      ' }
      });
    }
  }

});

exports.default = GradientMapStruct;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 706 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _SVGGradientMap = __webpack_require__(704);

var _SVGGradientMap2 = _interopRequireDefault(_SVGGradientMap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _SVGGradientMap2.default;
module.exports = exports['default'];

/***/ }),
/* 707 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Component = __webpack_require__(700);

var _Component2 = _interopRequireDefault(_Component);

var _parser = __webpack_require__(708);

var _parser2 = _interopRequireDefault(_parser);

var _Struct = __webpack_require__(245);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var plugin = {
  Component: _Component2.default,
  Parser: _parser2.default,
  Struct: _Struct2.default
};
exports.default = plugin;
module.exports = exports['default'];

/***/ }),
/* 708 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keyVals = __webpack_require__(709);

var _keyVals2 = _interopRequireDefault(_keyVals);

var _val = __webpack_require__(710);

var _val2 = _interopRequireDefault(_val);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// ChromaParser
exports.default = {
  keyVal: function keyVal(_keyVal) {
    return _keyVals2.default[_keyVal];
  },
  val: _val2.default
};
module.exports = exports['default'];

/***/ }),
/* 709 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _components = __webpack_require__(703);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO: make proper!
var isSafari;
var ua = navigator.userAgent.toLowerCase();
if (ua.indexOf('safari') != -1) {
  if (ua.indexOf('chrome') > -1) {
    isSafari = false; // Chrome
  } else {
    isSafari = true; // Safari
  }
}

var createVNode = Inferno.createVNode;
var keyVals = {

  "box-sh--l": {
    deps: ['styleStore.chroma.type'],
    get: function get(type) {
      var style = void 0;
      if (type === 'dark') style = { 'box-shadow': '0 10px 30px hsla(0, 0%, 0%, 0.7), 0 6px 10px hsla(0, 0%, 0%, 1)' };
      style = { 'box-shadow': '0 10px 30px hsla(0, 0%, 0%, 0.19), 0 6px 10px hsla(0, 0%, 0%, 0.23)' };
      return { style: style };
    }
  },

  "box-sh--m": {
    deps: ['styleStore.chroma.type'],
    get: function get(type) {
      var style = void 0;
      if (type === 'dark') style = { 'box-shadow': '0 1px 6px hsla(0, 0%, 0%, .2), 0 1px 4px hsla(0, 0%, 0%, 0.3)' };
      style = { 'box-shadow': '0 1px 6px hsla(0, 0%, 0%, 0.12), 0 1px 4px hsla(0, 0%, 0%, 0.12)' };
      return { style: style };
    }
  },

  "chroma--box-pop": {
    deps: ['styleStore.chroma.palette'],
    get: function get(palette) {
      return {
        style: {
          'background-color': palette('boxPop'),
          'color': palette('boxPopText')
        }
      };
    }
  },

  "chroma--box-pop2": {
    deps: ['styleStore.chroma.palette'],
    get: function get(palette) {
      return {
        style: {
          'background-color': palette('boxPop2'),
          'color': palette('boxPop2Text')
        }
      };
    }
  },

  'chroma--loading-text': {
    deps: ['styleStore.chroma.palette', 'styleStore.chroma.chromaId'],
    get: function get(palette, chromaId) {
      return {
        style: {
          'animation-duration': '2s',
          'animation-fill-mode': 'forwards',
          'animation-iteration-count': 'infinite',
          'animation-name': chromaId + '-loading-text',
          'animation-timing-function': 'linear'
        },
        css: '\n          @keyframes ' + chromaId + '-loading-text {\n            0%{\n              color: ' + palette('textPop') + ';\n            }\n            ' + 100 * 1 / 4 + '% {\n              color: ' + palette('textPop2') + ';\n            }\n            ' + 100 * 3 / 4 + '% {\n              color: ' + palette('text') + ';\n            }\n            100%{\n              color: ' + palette('textPop') + ';\n            }\n          }\n        '
      };
    }
  },

  //'chroma--loading-text-pop': (get) => {
  //  return {
  //    'animation-duration': '2s',
  //    'animation-fill-mode': 'forwards',
  //    'animation-iteration-count': 'infinite',
  //    'animation-name': `${key}-loading-bg-pop`,
  //    'animation-timing-function': 'linear',
  //    'background': palette('box'),
  //    'background-size': '100%',
  //    CSS: `
  //      @keyframes ${key}-loading-bg-pop {
  //        0%{
  //          color: ${ palette('selection') };
  //        }
  //        ${100 * 1/4}% {
  //          color: ${ palette('boxPop') };
  //        }
  //        ${100 * 3/4}% {
  //          color: ${ palette('boxPop2') };
  //        }
  //        100%{
  //          color: ${ palette('selection') };
  //        }
  //      }
  //    `
  //  }
  //},

  'chroma--loading-bg-pop': {
    deps: ['styleStore.chroma.palette', 'styleStore.chroma.chromaId'],
    get: function get(palette, chromaId) {
      return {
        style: {
          'animation-duration': '2s',
          'animation-fill-mode': 'forwards',
          'animation-iteration-count': 'infinite',
          'animation-name': chromaId + '-loading-bg-pop',
          'animation-timing-function': 'linear',
          'background': palette('box'),
          'background-size': '100%'
        },
        css: '\n          @keyframes ' + chromaId + '-loading-bg-pop {\n            0%{\n              background: ' + palette('selection') + ';\n            }\n            ' + 100 * 1 / 4 + '% {\n              background: ' + palette('boxPop') + ';\n            }\n            ' + 100 * 3 / 4 + '% {\n              background: ' + palette('boxPop2') + ';\n            }\n            100%{\n              background: ' + palette('selection') + ';\n            }\n          }\n        '
      };
    }
  },

  'chroma--inverse-loading-bg-pop': {
    deps: ['styleStore.chroma.palette', 'styleStore.chroma.chromaId'],
    get: function get(palette, chromaId) {
      return {
        style: {
          'animation-duration': '2s',
          'animation-fill-mode': 'forwards',
          'animation-iteration-count': 'infinite',
          'animation-name': chromaId + '-inverse-loading-bg-pop',
          'animation-timing-function': 'linear',
          'background': palette('box', false, 'inverse'),
          'background-size': '100%'
        },
        css: '\n          @keyframes ' + chromaId + '-inverse-loading-bg-pop {\n            0%{\n              background: ' + palette('selection', false, 'inverse') + ';\n            }\n            ' + 100 * 1 / 4 + '% {\n              background: ' + palette('boxPop', false, 'inverse') + ';\n            }\n            ' + 100 * 3 / 4 + '% {\n              background: ' + palette('boxPop2', false, 'inverse') + ';\n            }\n            100%{\n              background: ' + palette('selection', false, 'inverse') + ';\n            }\n          }\n        '
      };
    }
  },

  'chroma--loading-bg': {
    deps: ['styleStore.chroma.palette', 'styleStore.chroma.chromaId'],
    get: function get(palette, chromaId) {
      return {
        style: {
          'animation-duration': '2s',
          'animation-fill-mode': 'forwards',
          'animation-iteration-count': 'infinite',
          'animation-name': chromaId + '-loadingShimmer-1',
          'animation-timing-function': 'linear',
          'background': palette('box'),
          'background-size': '100%'
        },
        css: '\n          @keyframes ' + chromaId + '-loadingShimmer-1 {\n            0%{\n              background: ' + palette('box') + ';\n            }\n            ' + 100 * 1 / 3 + '% {\n              background: ' + palette('box', true).clone().mix(palette('bg', true), .5).hslString() + ';\n            }\n            ' + 100 * 2 / 3 + '% {\n              background: ' + palette('box', true).clone().mix(palette('selection', true), .3).hslString() + ';\n            }\n            100%{\n              background: ' + palette('box') + ';\n            }\n          }\n        '
      };
    }
  },

  // ------------------------------------------------

  'chroma-filter--gradient-map': {
    // TODO remove mountCount
    deps: ['styleStore.chroma.gradientMap', 'styleStore.chroma.chromaId', 'styleStore.chroma.mountCount'],
    get: function get(gradientMap, chromaId, mountCount) {
      var id = chromaId + '-gradient-map';
      var colors = gradientMap.colors;

      if (isSafari) {
        return {
          style: {
            '-webkit-filter': 'contrast(.5) brightness(0.4) !important',
            'filter': 'contrast(.5) brightness(0.4) !important',
            'opacity': '.3 !important'
          }
        };
      }
      return {
        style: {
          '-webkit-filter': 'url("#' + id + '")',
          'filter': 'url("#' + id + '")',
          'backface-visibility': 'hidden'
        },
        component: createVNode(16, _components.SVGGradientMap, {
          'id': id,
          'colors': colors
        }, null, null, id + '-' + mountCount)
      };
    }
  },

  'chroma-filter--gradient-map-dark-demph': {
    // TODO remove mountCount
    deps: ['styleStore.chroma.gradientMapDarkDemph', 'styleStore.chroma.chromaId', 'styleStore.chroma.mountCount'],
    get: function get(gradientMap, chromaId, mountCount) {
      var id = chromaId + '-gradient-map-dark-demph';
      var colors = gradientMap.colors;

      if (isSafari) {
        return {
          style: {
            '-webkit-filter': 'contrast(.5) brightness(0.3)',
            'filter': 'contrast(.5) brightness(0.4)',
            'opacity': '.25 !important'
          }
        };
      }
      return {
        style: {
          '-webkit-filter': 'url("#' + id + '")',
          'filter': 'url("#' + id + '")',
          'backface-visibility': 'hidden'
        },
        component: createVNode(16, _components.SVGGradientMap, {
          'id': id,
          'colors': colors
        }, null, null, id + '-' + mountCount)
      };
    }
  }

};

exports.default = keyVals;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 710 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
function _toCamelCase($1) {
  return $1.toUpperCase().replace('-', '');
}
function toCamelCase(str) {
  return str.replace(/(\-[a-z])/g, _toCamelCase);
}
function parseVal(palette, path, type) {
  var typeIndex = Number(path[0]);
  if (isNaN(typeIndex)) {
    typeIndex = undefined;
  } else {
    path = path.substr(2);
  }
  return palette(toCamelCase(path), false, type, typeIndex);
}

var valParser = function valParser(key, val) {
  var prefix;
  if (!val.startsWith('chroma-')) return undefined;
  prefix = 'chroma-inverse-';
  if (val.startsWith(prefix)) {
    var path = val.substr(prefix.length);
    return {
      deps: ['styleStore.chroma.palette'],
      get: function get(palette) {
        return parseVal(palette, path, 'inverse');
      }
    };
  }
  prefix = 'chroma-dark-';
  if (val.startsWith(prefix)) {
    var _path2 = val.substr(prefix.length);
    return {
      deps: ['styleStore.chroma.palette'],
      get: function get(palette) {
        return parseVal(palette, _path2, 'dark');
      }
    };
  }
  prefix = 'chroma-light-';
  if (val.startsWith(prefix)) {
    var _path3 = val.substr(prefix.length);
    return {
      deps: ['styleStore.chroma.palette'],
      get: function get(palette) {
        return parseVal(palette, _path3, 'light');
      }
    };
  }
  prefix = 'chroma-natural-';
  if (val.startsWith(prefix)) {
    var _path4 = val.substr(prefix.length);
    return {
      deps: ['styleStore.chroma.palette'],
      get: function get(palette) {
        return parseVal(palette, _path4, 'natural');
      }
    };
  }
  prefix = 'chroma-vibrant-';
  if (val.startsWith(prefix)) {
    var _path5 = val.substr(prefix.length);
    return {
      deps: ['styleStore.chroma.palette'],
      get: function get(palette) {
        return parseVal(palette, _path5, 'vibrant');
      }
    };
  }

  var _path = val.substr('chroma-'.length);
  return {
    deps: ['styleStore.chroma.palette'],
    get: function get(palette) {
      return parseVal(palette, _path, undefined);
    }
  };
};

exports.default = valParser;
module.exports = exports['default'];

/***/ }),
/* 711 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _parser = __webpack_require__(712);

var _parser2 = _interopRequireDefault(_parser);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Struct from './Struct'

var plugin = {
  // Component,
  Parser: _parser2.default
}; // import Component from './Component'
exports.default = plugin;
module.exports = exports['default'];

/***/ }),
/* 712 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _selector = __webpack_require__(713);

var _selector2 = _interopRequireDefault(_selector);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Parser
exports.default = {
  // val,
  selector: _selector2.default
}; // import val from './val'

module.exports = exports['default'];

/***/ }),
/* 713 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var operators = ['===', '==', '<=', '!==', '!=', '>=', '<', '>'];
var stringOperators = ['===', '==', '!==', '!='];

// TODO!!! ties plugin logic too tightly?? get keys from stylestore
var getDepPath = function getDepPath(e) {
  if (e.indexOf('props.') !== 0 && e.indexOf('context.') !== 0) {
    return 'styleStore.' + e;
  }
  return e;
};

var selectorParser = function selectorParser(selector) {
  var idx = selector.indexOf('@?');
  if (idx > -1) {
    // if (idx !== 0) throw new Error('@breakpoint selector must be at begining of selector')
    var expression = selector.substr('@?'.length);
    var e1 = void 0;
    var e2 = void 0;
    var e1DepIndex = void 0;
    var e2DepIndex = void 0;
    var deps = [];
    var operator = void 0;

    for (var i = 0, len = operators.length; i < len; i++) {
      var op = operators[i];
      if (expression.includes(op)) {
        operator = op;
        break;
      }
    }

    if (operator) {
      var split = expression.split(operator);
      if (!split.length > 2) throw new Error('@? selector doesnt support: ' + selector);

      e1 = split[0];
      e2 = split[1];
    } else {
      e1 = expression;
    }

    e1 = e1.trim();
    if (e1.includes('.')) {
      e1DepIndex = deps.length;
      deps.push(getDepPath(e1));
    }

    if (e2) {
      e2 = e2.trim();
      if (e2.includes('.')) {
        e2DepIndex = deps.length;
        deps.push(getDepPath(e2));
      }
    }

    return {
      deps: deps,
      get: function get() {
        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        var v1 = args[e1DepIndex];
        var v2 = args[e2DepIndex];
        if (v1 === undefined) v1 = e1;
        if (v2 === undefined) v2 = e2;

        if (!operator) {
          if (e1 === '') v1 = true;
          return {
            selector: !!v1 ? '&' : false,
            selectorCondGroup: 'conditional'
          };
        }

        if (isNaN(v1)) {
          if (v1[0] !== '\'' && v1[0] !== '"') v1 = '"' + v1 + '"';
          if (!stringOperators.includes(operator)) throw new Error('@? cant compare string types: ' + v1 + operator + v2);
        }
        if (isNaN(v2)) {
          if (v2[0] !== '\'' && v2[0] !== '"') v2 = '"' + v2 + '"';
          if (!stringOperators.includes(operator)) throw new Error('@? cant compare string types: ' + v1 + operator + v2);
        }

        return {
          selector: eval(v1 + ' ' + operator + ' ' + v2) ? '&' : false,
          selectorCondGroup: 'conditional'
        };
      }
    };
  }

  return undefined;
};

exports.default = selectorParser;
module.exports = exports['default'];

/***/ }),
/* 714 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _base = __webpack_require__(688);

var _base2 = _interopRequireDefault(_base);

var _breakpoint = __webpack_require__(696);

var _breakpoint2 = _interopRequireDefault(_breakpoint);

var _layout = __webpack_require__(717);

var _layout2 = _interopRequireDefault(_layout);

var _typography = __webpack_require__(728);

var _typography2 = _interopRequireDefault(_typography);

var _prefixer = __webpack_require__(720);

var _prefixer2 = _interopRequireDefault(_prefixer);

var _conditional = __webpack_require__(711);

var _conditional2 = _interopRequireDefault(_conditional);

var _chroma = __webpack_require__(707);

var _chroma2 = _interopRequireDefault(_chroma);

var _props = __webpack_require__(722);

var _props2 = _interopRequireDefault(_props);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import StyleStorePlugin from './style-store'

// defaultPlugins
exports.default = {
  prefixer: _prefixer2.default,
  base: _base2.default,
  conditional: _conditional2.default,
  breakpoint: _breakpoint2.default,
  typography: _typography2.default,
  layout: _layout2.default,
  chroma: _chroma2.default,
  //propsPlugin is parser only
  props: _props2.default
};
module.exports = exports['default'];

/***/ }),
/* 715 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _Store = __webpack_require__(716);

var _Store2 = _interopRequireDefault(_Store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LayoutContext = function (_React$Component) {
  (0, _inherits3.default)(LayoutContext, _React$Component);

  function LayoutContext() {
    (0, _classCallCheck3.default)(this, LayoutContext);
    return (0, _possibleConstructorReturn3.default)(this, (LayoutContext.__proto__ || (0, _getPrototypeOf2.default)(LayoutContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(LayoutContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.execute('update-props', this.props);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.store.execute('update-props', nextProps);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return LayoutContext;
}(_infernoCompat2.default.Component);

LayoutContext.displayName = 'Styleverse_LayoutContext';
LayoutContext.propTypes = {
  children: _infernoCompat2.default.PropTypes.any.isRequired
};


LayoutContext = (0, _cymatics.installStore)(LayoutContext, 'styleverse-layout', function (componentInstance) {
  return new _Store2.default(componentInstance);
});

exports.default = LayoutContext;
module.exports = exports['default'];

/***/ }),
/* 716 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _Struct = __webpack_require__(246);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = new _Struct2.default();

var LayoutStore = function (_Store) {
  (0, _inherits3.default)(LayoutStore, _Store);

  function LayoutStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, LayoutStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = LayoutStore.__proto__ || (0, _getPrototypeOf2.default)(LayoutStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'styleverse-layout', _this.deferCommit = false, _this.state = initialState, _this.got_props = false, _this.got_bp = false, _this.got_typo = false, _this.contextStores = {
      'styleverse-breakpoint': function styleverseBreakpoint(bpStore) {
        _this.got_bp = true;
        _this.execute('handle-parent-breakpoint', bpStore);
      },
      'styleverse-typography': function styleverseTypography(typoStore) {
        _this.got_typo = true;
        _this.execute('set', 'typography', typoStore.state);
      }
    }, _this.actions = {

      'update-props': function updateProps(state, props) {
        _this.got_props = true;
        // DOES NOT HAVE PROPS RIGHT NOW!
        // return state.merge(props)
        return state;
      },

      'handle-parent-breakpoint': function handleParentBreakpoint(state, bpStore) {
        return state.merge({
          breakpoint: bpStore.state,
          viewport: bpStore.state.get('viewport')
        });
      },

      'teardown': function teardown() {
        _this.got_props = false;
        _this.got_bp = false;
        _this.got_typo = false;
        return initialState;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(LayoutStore, [{
    key: 'shouldCommit',
    value: function shouldCommit() {
      return this.got_bp && this.got_props && this.got_typo;
    }
  }]);
  return LayoutStore;
}(_cymatics.Store);

exports.default = LayoutStore;
module.exports = exports['default'];

/***/ }),
/* 717 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Component = __webpack_require__(715);

var _Component2 = _interopRequireDefault(_Component);

var _parser = __webpack_require__(718);

var _parser2 = _interopRequireDefault(_parser);

var _Struct = __webpack_require__(246);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var plugin = {
  Component: _Component2.default,
  Parser: _parser2.default,
  Struct: _Struct2.default
};

exports.default = plugin;
module.exports = exports['default'];

/***/ }),
/* 718 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _val = __webpack_require__(719);

var _val2 = _interopRequireDefault(_val);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var LayoutParser = {

  val: _val2.default

};

exports.default = LayoutParser;
module.exports = exports['default'];

/***/ }),
/* 719 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray2 = __webpack_require__(36);

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var valParser = function valParser(key, val) {
  // {n}goldx{div?}

  if (val.indexOf('layout.') === 0) {
    // TODO: need @Peter! ... temporary hack for executing prop functions until we get proper parser
    return {
      deps: ['styleStore.' + val],
      get: function get(propVal) {
        if (typeof propVal === 'number') return propVal + 'px';
        return propVal;
      }
    };
  }

  // {n}goldx{div?}
  if (val.includes('goldx')) {
    var parts = val.split('goldx');
    return {
      deps: ['styleStore.layout.goldX'],
      get: function get(goldX) {
        return goldX(Number(parts[0]), Number(parts[1])) + 'px';
      }
    };
  }
  // {n}goldy{div?}
  if (val.includes('goldy')) {
    var _parts = val.split('goldy');
    return {
      deps: ['styleStore.layout.goldY'],
      get: function get(goldY) {
        return goldY(Number(_parts[0]), Number(_parts[1])) + 'px';
      }
    };
  }

  var test = void 0;
  test = 'vw';
  if (val.includes(test)) {
    var _val$split = val.split(test),
        _val$split2 = (0, _slicedToArray3.default)(_val$split, 2),
        n = _val$split2[0],
        divs = _val$split2[1];

    var match = false;
    n = Number(n);
    divs = !divs ? 100 : Number(divs);
    if (!isNaN(n) && !isNaN(divs)) {
      // let dep = 'styleStore.layout.'+test
      return {
        deps: ['styleStore.layout.' + test],
        get: function get(f) {
          return f(n, divs) + 'px';
        }
      };
    }
    return undefined;
  }

  test = 'vh';
  if (val.includes(test)) {
    var _val$split3 = val.split(test),
        _val$split4 = (0, _slicedToArray3.default)(_val$split3, 2),
        _n = _val$split4[0],
        _divs = _val$split4[1];

    var _match = false;
    _n = Number(_n);
    _divs = !_divs ? 100 : Number(_divs);
    if (!isNaN(_n) && !isNaN(_divs)) {
      return {
        deps: ['styleStore.layout.' + test],
        get: function get(func) {
          return func(_n, _divs) + 'px';
        }
      };
    }
    return undefined;
  }

  test = 'nw';
  if (val.includes(test)) {
    var _val$split5 = val.split(test),
        _val$split6 = (0, _slicedToArray3.default)(_val$split5, 2),
        _n2 = _val$split6[0],
        _divs2 = _val$split6[1];

    var _match2 = false;
    _n2 = Number(_n2);
    _divs2 = !_divs2 ? 100 : Number(_divs2);
    if (!isNaN(_n2) && !isNaN(_divs2)) {
      return {
        deps: ['styleStore.layout.' + test],
        get: function get(func) {
          return func(_n2, _divs2) + 'px';
        }
      };
    }
    return undefined;
  }

  test = 'nh';
  if (val.includes(test)) {
    var _val$split7 = val.split(test),
        _val$split8 = (0, _slicedToArray3.default)(_val$split7, 2),
        _n3 = _val$split8[0],
        _divs3 = _val$split8[1];

    var _match3 = false;
    _n3 = Number(_n3);
    _divs3 = !_divs3 ? 100 : Number(_divs3);
    if (!isNaN(_n3) && !isNaN(_divs3)) {
      return {
        deps: ['styleStore.layout.' + test],
        get: function get(func) {
          return func(_n3, _divs3) + 'px';
        }
      };
    }
    return undefined;
  }

  test = 'pw';
  if (val.includes(test)) {
    var _val$split9 = val.split(test),
        _val$split10 = (0, _slicedToArray3.default)(_val$split9, 2),
        _n4 = _val$split10[0],
        _divs4 = _val$split10[1];

    var _match4 = false;
    _n4 = Number(_n4);
    _divs4 = !_divs4 ? 100 : Number(_divs4);
    if (!isNaN(_n4) && !isNaN(_divs4)) {
      return {
        deps: ['styleStore.layout.' + test],
        get: function get(func) {
          return func(_n4, _divs4) + 'px';
        }
      };
    }
    return undefined;
  }

  test = 'ph';
  if (val.includes(test)) {
    var _val$split11 = val.split(test),
        _val$split12 = (0, _slicedToArray3.default)(_val$split11, 2),
        _n5 = _val$split12[0],
        _divs5 = _val$split12[1];

    var _match5 = false;
    _n5 = Number(_n5);
    _divs5 = !_divs5 ? 100 : Number(_divs5);
    if (!isNaN(_n5) && !isNaN(_divs5)) {
      return {
        deps: ['styleStore.layout.' + test],
        get: function get(func) {
          return func(_n5, _divs5) + 'px';
        }
      };
    }
    return undefined;
  }

  // layout-...
  if (val.indexOf('layout-') === 0) {
    return {
      deps: ['styleStore.layout'],
      get: function get(layout) {
        var layoutVal = layout.get(val.substr('layout-'.length));
        if (layoutVal === undefined) throw new Error('Styleverse Layout valPlugin can\'t recognize val: ' + val);
        return layoutVal + 'px';
      }
    };
  }

  return undefined;
};

exports.default = valParser;
module.exports = exports['default'];

/***/ }),
/* 720 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _parser = __webpack_require__(721);

var _parser2 = _interopRequireDefault(_parser);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Struct from './Struct'

// plugin
exports.default = {
  // Component,
  Parser: _parser2.default
}; // import Component from './Component'

module.exports = exports['default'];

/***/ }),
/* 721 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PrefixerParser = {
  ruleset: function ruleset(selector, rulesObj, prerenderHelper, struct) {
    var prefixed = {};
    var transform = rulesObj.transform;
    if (transform) {
      // prefixed['-o-transform'] = transform
      prefixed['-ms-transform'] = transform;
      prefixed['-moz-transform'] = transform;
      prefixed['-webkit-transform'] = transform;
    }

    if ((0, _keys2.default)(prefixed)) return (0, _assign2.default)(prefixed, rulesObj);
    return rulesObj;
  }
};

exports.default = PrefixerParser;
module.exports = exports['default'];

/***/ }),
/* 722 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _parser = __webpack_require__(723);

var _parser2 = _interopRequireDefault(_parser);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Struct from './Struct'

var plugin = {
  // Component,
  Parser: _parser2.default
}; // import Component from './Component'
exports.default = plugin;
module.exports = exports['default'];

/***/ }),
/* 723 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _val = __webpack_require__(725);

var _val2 = _interopRequireDefault(_val);

var _selector = __webpack_require__(724);

var _selector2 = _interopRequireDefault(_selector);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Parser = {

  val: _val2.default,
  selector: _selector2.default

};

exports.default = Parser;
module.exports = exports['default'];

/***/ }),
/* 724 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var selectorParser = function selectorParser(selector) {
  if (selector.includes(':scope')) {
    // TODO: need @Peter to parse multiple selectors in one line

    return {
      deps: ['props.scope'],
      get: function get(scope) {
        // if (typeof scope === 'function') {
        //  if (params) return propVal.apply(this, params.split(','))
        //  return propVal.call(this)
        // }
        // if (params) throw new Error('Styleverse Props plugin: attempted executing props as function that is not function: ' + JSON.stringify({val, params, propVal}) + ' ' + propVal )
        return {
          selector: selector.replace(/:scope/g, scope)
        };
      }
    };
  }

  return undefined;
};

exports.default = selectorParser;
module.exports = exports['default'];

/***/ }),
/* 725 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _stringify = __webpack_require__(21);

var _stringify2 = _interopRequireDefault(_stringify);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var valParser = function valParser(key, val) {
  // {props.}...
  if (val.indexOf('props.') === 0) {
    // TODO: need @Peter! ... temporary hack for executing prop functions until we get proper parser
    var params = void 0;
    var paranOpenIndex = val.indexOf('(');
    if (paranOpenIndex > 0) {
      var paranCloseIndex = val.indexOf(')');
      if (paranCloseIndex !== val.length - 1) throw new Error('Styleverse Props plugin: cannot parse funcs with spaces yet :( ' + val);
      params = val.slice(paranOpenIndex + 1, val.length - 1);
      val = val.slice(0, paranOpenIndex);
    }

    return {
      deps: [val],
      get: function get(propVal) {
        if (typeof propVal === 'function') {
          if (params) return propVal.apply(this, params.split(','));
          return propVal.call(this);
        }
        if (params) throw new Error('Styleverse Props plugin: attempted executing props as function that is not function: ' + (0, _stringify2.default)({ val: val, params: params, propVal: propVal }) + ' ' + propVal);
        return propVal;
      }
    };
  }
  return undefined;
};

exports.default = valParser;
module.exports = exports['default'];

/***/ }),
/* 726 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _Store = __webpack_require__(727);

var _Store2 = _interopRequireDefault(_Store);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
import bassCSS from './style/base-css'
import familyCSS from './style/font-family-css'
import sizeRenderer from './style/font-size-renderer'

// TODO: use styleverse styleResolution to better express the nested rules below

const styleSheet = (
  <span>
    <Style id="staticTypographyStyles" key="staticTypographyStyles" perf={true}>
    {`
      ${bassCSS}
      ${familyCSS}
    `}
    </Style>
    <Style id="staticAdaptiveTypographyStyles" key="staticAdaptiveTypographyStyles" perf={true} parseObject={true}>
    {() => {
      return sizeRenderer()
    }}
    </Style>
  </span>
)
*/

var TypographyContext = function (_React$Component) {
  (0, _inherits3.default)(TypographyContext, _React$Component);

  function TypographyContext() {
    (0, _classCallCheck3.default)(this, TypographyContext);
    return (0, _possibleConstructorReturn3.default)(this, (TypographyContext.__proto__ || (0, _getPrototypeOf2.default)(TypographyContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(TypographyContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.execute('update-props', this.props);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.store.execute('update-props', nextProps);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return TypographyContext;
}(_infernoCompat2.default.Component);

TypographyContext.displayName = 'Styleverse_TypographyContext';
TypographyContext.propTypes = {
  renderCSS: _infernoCompat2.default.PropTypes.bool,
  children: _infernoCompat2.default.PropTypes.any.isRequired
};
TypographyContext.defaultProps = {
  renderCSS: false
};


TypographyContext = (0, _cymatics.installStore)(TypographyContext, 'styleverse-typography', function (componentInstance) {
  return new _Store2.default(componentInstance);
});

exports.default = TypographyContext;
module.exports = exports['default'];

/***/ }),
/* 727 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _Struct = __webpack_require__(247);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var initialState = new _Struct2.default();

var TypographyStore = function (_Store) {
  (0, _inherits3.default)(TypographyStore, _Store);

  function TypographyStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, TypographyStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = TypographyStore.__proto__ || (0, _getPrototypeOf2.default)(TypographyStore)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'styleverse-typography', _this.deferCommit = false, _this.state = initialState, _this.gotDep = false, _this.gotProps = false, _this.contextStores = {
      'styleverse-breakpoint': function styleverseBreakpoint(bpStore) {
        _this.gotDep = true;
        _this.execute('handle-parent-breakpoint', bpStore);
      }
    }, _this.actions = {

      'update-props': function updateProps(state, props) {
        _this.gotProps = true;
        var fonts = props.fonts;

        if (fonts) {
          state = state.set('fonts', fonts);
        }
        // NO PROPS!
        //return state.merge(props)
        return state;
      },

      'handle-parent-breakpoint': function handleParentBreakpoint(state, bpStore) {
        return state.merge({
          breakpoint: bpStore.state
        });
      },

      'teardown': function teardown() {
        _this.gotProps = false;
        _this.gotDep = false;
        return initialState;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(TypographyStore, [{
    key: 'shouldCommit',
    value: function shouldCommit() {
      return this.gotDep && this.gotProps;
    }
  }]);
  return TypographyStore;
}(_cymatics.Store);

exports.default = TypographyStore;
module.exports = exports['default'];

/***/ }),
/* 728 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Component = __webpack_require__(726);

var _Component2 = _interopRequireDefault(_Component);

var _parser = __webpack_require__(729);

var _parser2 = _interopRequireDefault(_parser);

var _Struct = __webpack_require__(247);

var _Struct2 = _interopRequireDefault(_Struct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// plugin
exports.default = {
  Component: _Component2.default,
  Parser: _parser2.default,
  Struct: _Struct2.default
};
module.exports = exports['default'];

/***/ }),
/* 729 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _val = __webpack_require__(731);

var _val2 = _interopRequireDefault(_val);

var _keyVals = __webpack_require__(730);

var _keyVals2 = _interopRequireDefault(_keyVals);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// parser
exports.default = {
  keyVal: function keyVal(_keyVal) {
    return _keyVals2.default[_keyVal];
  },

  val: _val2.default
};
module.exports = exports['default'];

/***/ }),
/* 730 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var keyVals = {

  // font family presets

  'fnt--d': {
    deps: ['styleStore.typography.fonts.d'],
    get: function get(font) {
      return font;
    }
  },

  'fnt--d2': {
    deps: ['styleStore.typography.fonts.d2'],
    get: function get(font) {
      return font;
    }
  },

  'fnt--d3': {
    deps: ['styleStore.typography.fonts.d3'],
    get: function get(font) {
      return font;
    }
  },

  'fnt--txt': {
    deps: ['styleStore.typography.fonts.txt'],
    get: function get(font) {
      return font;
    }
  },

  'fnt--txt2': {
    deps: ['styleStore.typography.fonts.txt2'],
    get: function get(font) {
      return font;
    }
  },

  'fnt--num': {
    deps: ['styleStore.typography.fonts.num'],
    get: function get(font) {
      return font;
    }
  },

  // font sizes
  // TODO: valPlugin instead for below

  'fnt-sz--i': {
    style: {
      'font-size': 'inherit'
    }
  },

  'fnt-sz--d-xxl': {
    deps: ['styleStore.typography.fnt-sz.d-xxl'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--d-xl': {
    deps: ['styleStore.typography.fnt-sz.d-xl'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--d-l': {
    deps: ['styleStore.typography.fnt-sz.d-l'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--d': {
    deps: ['styleStore.typography.fnt-sz.d'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--d-m': {
    deps: ['styleStore.typography.fnt-sz.d-m'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--d-s': {
    deps: ['styleStore.typography.fnt-sz.d-s'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--txt-l': {
    deps: ['styleStore.typography.fnt-sz.txt-l'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--txt': {
    deps: ['styleStore.typography.fnt-sz.txt'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--txt-s': {
    deps: ['styleStore.typography.fnt-sz.txt-s'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--txt-xs': {
    deps: ['styleStore.typography.fnt-sz.txt-xs'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  },
  'fnt-sz--icon': {
    deps: ['styleStore.typography.fnt-sz.icon'],
    get: function get(val) {
      return { style: { 'font-size': val + 'px' } };
    }
  }

};

exports.default = keyVals;
module.exports = exports['default'];

/***/ }),
/* 731 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var emTests = ['d-xxl', 'd-xl', 'd-l', 'd-m', 'd-s', 'd-xs', 'd', 'txt-xl', 'txt-l', 'txt-m', 'txt-s', 'txt-xs', 'txt'];

var valParser = function valParser(key, val) {
  var emIndex = val.indexOf('em-');
  if (emIndex !== -1) {
    var emPostfix = val.substr(emIndex + 3);
    if (emTests.includes(emPostfix)) {
      var n = Number(val.substr(0, emIndex));
      if (!isNaN(n)) {
        return {
          deps: ['styleStore.typography.fnt-sz.' + emPostfix],
          get: function get(val) {
            return n * val + 'px';
          }
        };
      }
    }
  }

  if (val.indexOf('typography.') !== 0) return undefined;

  var parts = val.split('.');
  parts.shift();
  var path = parts.join('.');
  return {
    deps: ['stylestore.typography'],
    get: function get(typography) {
      var result = typography.get(path);
      if (result === undefined) throw new Error('typography valPlugin cant get the val: ' + val);
      return result;
    }
  };
};

exports.default = valParser;
module.exports = exports['default'];

/***/ }),
/* 732 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var css = "\n* {\n  color: inherit;\n  margin: 0px;\n  padding: 0px;\n  box-sizing: border-box;\n  /*\n  font-size: inherit;\n  line-height: inherit;\n  */\n}\n\na {\n  text-decoration: none;\n  cursor: pointer;\n}\na:visited {\n  color: inherit;\n}\n\nul li {\n  list-style: none;\n}\nul, ul li {\n  margin: 0;\n  padding: 0;\n}\n\nh1,h2,h3,h4,h5,h6,\np,a,div,button,\n* {\n  font-weight: inherit;\n}\n\n.user-select--none {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;           /* Non-prefixed version, currently\n                                  not supported by any browser */\n}\n\ninput[type=\"button\" i], input[type=\"submit\" i], input[type=\"reset\" i], input[type=\"file\" i]::-webkit-file-upload-button, button {\n  align-items: inherit;\n  text-align: inherit;\n  cursor: inherit;\n  color: inherit;\n  border-image-source: initial;\n  border-image-slice: initial;\n  border-image-width: initial;\n  border-image-outset: initial;\n  border-image-repeat: initial;\n  background-color: inherit;\n  box-sizing: inherit;\n  padding: inherit;\n  border-width: inherit;\n  border-style: inherit;\n  border-color: inherit;\n}\ninput, textarea, keygen, select, button {\n  text-rendering: auto;\n  color: inherit;\n  letter-spacing: inherit;\n  word-spacing: normal;\n  text-transform: inherit;\n  text-indent: 0px;\n  text-shadow: inherit;\n  /*display: inline-block;*/\n  text-align: inherit;\n  margin: 0em 0em 0em 0em;\n  font: inherit;\n  outline: none;\n}\nbutton {\n  background-color: transparent;\n}\n\ninput {\n  max-width: 100%;\n  background: hsla(0, 0%, 0%, 0);\n  border: 0 solid hsla(0, 0%, 0%, 0);\n}\n\n[contenteditable]:focus {\n  outline: none;\n}\n";
exports.default = css;
module.exports = exports["default"];

/***/ }),
/* 733 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _immutable = __webpack_require__(6);

var initialState = void 0;

var makeStyleStoreStruct = function makeStyleStoreStruct(plugins) {
  /*
    StyleSheeet plugins are executed bottom up in plugin component hiearchy.
    Plugin components higher in hierachy provide context needed for child components.
    Child components have higher priority StyleSheet execution.
  */

  var namesWithParser = plugins.namesWithParser,
      namesWithComponent = plugins.namesWithComponent,
      parsers = plugins.parsers;


  var keyValParsers = [];
  var keyParsers = [];
  var valParsers = [];
  var renderParsers = [];

  for (var i = 0, len = namesWithParser.length; i < len; i++) {
    var key = namesWithParser[i];
    var keyValParser = parsers[key].keyVal;
    var keyParser = parsers[key].key;
    var valParser = parsers[key].val;
    var renderParser = parsers[key].render;
    if (keyValParser) keyValParsers.push(keyValParser);
    if (keyParser) keyParsers.push(keyParser);
    if (valParser) valParsers.push(valParser);
    if (renderParser) renderParsers.push(renderParser);
  }

  var schema = {
    isReady: {
      cache: false,
      params: ['_'],
      get: function get() {
        return !this.equals(initialState);
      }
    },
    meta: { default: (0, _immutable.Map)() }
  };
  for (var _i = 0, _len = namesWithComponent.length; _i < _len; _i++) {
    schema[namesWithComponent[_i]] = undefined;
  }

  var StyleStoreStruct = (0, _immutable.Struct)(schema);
  initialState = new StyleStoreStruct();
  StyleStoreStruct.initialState = initialState;
  // StyleStoreStruct
  return StyleStoreStruct;
};

exports.default = makeStyleStoreStruct;
module.exports = exports['default'];

/***/ }),
/* 734 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _StyleStoreContext = __webpack_require__(736);

var _StyleStoreContext2 = _interopRequireDefault(_StyleStoreContext);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0; // TODO ...

function StyleContext(props, context) {
  var styleverse = context.styleverse;

  var ROOT = props.ROOT,
      children = props.children;

  if (!ROOT) ROOT = false;
  if (!styleverse.plugins) throw new Error('StyleContext: no Styleverse plugins registered!');
  if (!children) throw new Error('StyleContext does not work without children to style!');
  if (children instanceof Array) throw new Error('StyleContext children cannot be an array');

  var pluginNames = styleverse.plugins.componentsToRenderFromProps(props);

  children = _infernoCompat2.default.createElement(_StyleStoreContext2.default, { ROOT: ROOT }, children);

  var pluginProps, PluginComponent, pluginName;
  for (var j = 0; j < pluginNames.length; j++) {
    pluginName = pluginNames[j];

    PluginComponent = styleverse.plugins.components[pluginName];
    pluginProps = props[pluginName];
    if (pluginProps.toJS && pluginProps.getIn) pluginProps = pluginProps.toJS();
    // pluginProps = pluginProps ? Object.assign({},pluginProps) : {}
    pluginProps.key = pluginName;
    children = _infernoCompat2.default.createElement(PluginComponent, pluginProps, children);
  }

  return _infernoCompat2.default.cloneElement(children);
}
StyleContext.contextTypes = {
  styleverse: _infernoCompat.PropTypes.object.isRequired
};

// class StyleContext extends Component {
//
//  static displayName = 'Styleverse_StyleContext'
//
//  static propTypes = {
//    // children must not be arrays
//    children: PropTypes.object.isRequired
//  }
//
//  static contextTypes = {
//    styleverse: PropTypes.object.isRequired
//  }
//
//  constructor(...args) {
//    super(...args)
//    //this.id = 'StyleContext-' + count
//    //count++
//  }
//
//  render() {
//    const styleverse = this.context.styleverse
//    const props = this.props
//    let children = props.children
//
//    if (!styleverse.plugins) throw new Error('no Styleverse plugins registered!')
//    if (!children) throw new Error('Styleverse does not work without children to style!')
//
//    const pluginNames = styleverse.plugins.componentsToRenderFromProps(props)
//
//    children = React.createElement(StyleStoreContext, {}, children)
//
//    for (let j = 0; j < pluginNames.length; j++) {
//      const pluginName = pluginNames[j]
//
//      const PluginComponent = styleverse.plugins.components[ pluginName ]
//      const pluginProps = props[pluginName]
//      pluginProps.key = pluginName
//
//      children = React.createElement(PluginComponent, pluginProps, children)
//    }
//
//    return children
//  }
//
// }


exports.default = StyleContext;
module.exports = exports['default'];

/***/ }),
/* 735 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _cymatics = __webpack_require__(12);

var _immutable = __webpack_require__(6);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EMPTY_MAP = (0, _immutable.Map)();
var defaultState = EMPTY_MAP;

var styleStore_pool = [];

var count = 0;

var StyleStore = function (_Store) {
  (0, _inherits3.default)(StyleStore, _Store);

  function StyleStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, StyleStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StyleStore.__proto__ || (0, _getPrototypeOf2.default)(StyleStore)).call.apply(_ref, [this].concat(args))), _this), _this.initIndex = count++, _this.debug = false, _this.name = 'styleStore', _this.deferCommit = false, _this.state = defaultState, _this.StyleStoreStruct = undefined, _this.layoutNodeStore = undefined, _this.didSetup = false, _this.gotBase = false, _this.gotBp = false, _this.gotLayout = false, _this.gotTypo = false, _this.gotChroma = false, _this.ROOT = false, _this.handleAsyncLifeCycle = function (asyncState, prev) {
      var meta = _this.state.get('meta', EMPTY_MAP);
      meta = meta.merge({ asyncState: asyncState });
      _this.execute('set', 'meta', meta);
    }, _this.contextStores = {

      'styleverse-base': function styleverseBase(pluginStore) {
        _this.gotBase = true;
        // if (!this.didSetup) return this.silently('handle-plugin', 'base', pluginStore)
        _this.execute('handle-plugin', 'base', pluginStore);
      },
      'styleverse-breakpoint': function styleverseBreakpoint(pluginStore) {
        // console.log("BREAKPOINT",this.count)
        _this.gotBp = true;
        // if (!this.didSetup) return this.silently('handle-plugin', 'breakpoint', pluginStore)
        _this.execute('handle-plugin', 'breakpoint', pluginStore);
      },
      'styleverse-layout': function styleverseLayout(pluginStore) {
        // console.log("LAYOUT",this.count)
        _this.gotLayout = true;
        // if (!this.didSetup) return this.silently('handle-plugin', 'layout', pluginStore)
        // TODO make more elegant
        _this.execute('merge', {
          layout: pluginStore.state,
          breakpoint: pluginStore.state.get('breakpoint'),
          typography: pluginStore.state.get('typography')
        });
      },
      'styleverse-typography': function styleverseTypography(pluginStore) {
        // console.log("TYPOGRAPHY",this.count)
        _this.gotTypo = true;
        // if (!this.didSetup) return this.silently('handle-plugin', 'typography', pluginStore)
        _this.execute('handle-plugin', 'typography', pluginStore);
      },
      'styleverse-chroma': function styleverseChroma(pluginStore) {
        _this.gotChroma = true;
        // if (!this.didSetup) return this.silently('handle-plugin', 'chroma', pluginStore)
        _this.execute('handle-plugin', 'chroma', pluginStore);
      }
    }, _this.actions = {

      'setup': function setup(state, styleverse, ROOT) {
        // if (!styleverse.StyleStoreStruct || this.didSetup) return state
        _this.didSetup = true;
        _this.ROOT = ROOT;
        _this.StyleStoreStruct = styleverse.StyleStoreStruct;
        return styleverse.StyleStoreStruct.initialState.merge(state);
      },

      'handle-plugin': function handlePlugin(state, pluginKey, pluginStore) {
        state = state.set(pluginKey, pluginStore.state);
        // console.log('StyleStore handle-plugin', state.toJS())
        return state;
      },

      'teardown': function teardown() {
        _this.ROOT = false;
        _this.didSetup = false;
        _this.gotBase = false;
        _this.gotBp = false;
        _this.gotLayout = false;
        _this.gotTypo = false;
        _this.gotChroma = false;
        _this.StyleStoreStruct = undefined;
        if (_this.layoutNodeStore) {
          _this.layoutNodeStore.disconnectAsyncLifeCycle(_this.handleAsyncLifeCycle);
        }
        _this.layoutNodeStore = undefined;
        _this.depCheck = {};
        styleStore_pool.push(_this);
        return defaultState;
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  } // hmmmmmmm


  (0, _createClass3.default)(StyleStore, [{
    key: 'shouldCommit',
    value: function shouldCommit(state) {
      if (!this.didSetup) return false;
      var asyncState = state.getIn(['meta', 'asyncState']);
      if (!(
      // TODO: FRAGILE?
      // if asyncState not set, then commit for initial render
      !asyncState ||
      // once asyncState is handled, only commit when near rendering
      asyncState === 'visible' || asyncState === 'display')) return false;
      return this.gotBase && this.gotBp && this.gotLayout && this.gotTypo && this.gotChroma;
    }
  }, {
    key: 'handleContextStores',
    value: function handleContextStores(stores) {
      this.layoutNodeStore = stores['layout-node'];
      if (this.layoutNodeStore) {
        this.layoutNodeStore.connectAsyncLifeCycle(this.handleAsyncLifeCycle);
      } else {
        this.handleAsyncLifeCycle('visible');
      }
    }

    // TODO make dynamic!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

  }]);
  return StyleStore;
}(_cymatics.Store);

StyleStore.displayName = 'StyleStore';

StyleStore.getInstance = function (component) {
  if (styleStore_pool.length) {
    var store = styleStore_pool.shift();
    return store;
  }
  return new StyleStore();
};

exports.default = StyleStore;
module.exports = exports['default'];

/***/ }),
/* 736 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _cymatics = __webpack_require__(12);

var _StyleStore = __webpack_require__(735);

var _StyleStore2 = _interopRequireDefault(_StyleStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var StyleStoreContext = function (_React$Component) {
  (0, _inherits3.default)(StyleStoreContext, _React$Component);

  function StyleStoreContext() {
    (0, _classCallCheck3.default)(this, StyleStoreContext);
    return (0, _possibleConstructorReturn3.default)(this, (StyleStoreContext.__proto__ || (0, _getPrototypeOf2.default)(StyleStoreContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(StyleStoreContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.store.execute('setup', this.context.styleverse, this.props.ROOT);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return StyleStoreContext;
}(_infernoCompat2.default.Component);

StyleStoreContext.displayName = 'Styleverse_StyleStoreContext';
StyleStoreContext.propTypes = {
  ROOT: _infernoCompat2.default.PropTypes.bool,
  children: _infernoCompat2.default.PropTypes.object.isRequired
};
StyleStoreContext.contextTypes = {
  styleverse: _infernoCompat2.default.PropTypes.object.isRequired
};


StyleStoreContext = (0, _cymatics.installStore)(StyleStoreContext, 'styleStore', function (componentInstance) {
  return _StyleStore2.default.getInstance(componentInstance);
});

exports.default = StyleStoreContext;
module.exports = exports['default'];

/***/ }),
/* 737 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _raf = __webpack_require__(29);

var _raf2 = _interopRequireDefault(_raf);

var _uiComponentDeprecated = __webpack_require__(14);

var _uiComponentDeprecated2 = _interopRequireDefault(_uiComponentDeprecated);

var _cymatics = __webpack_require__(12);

var _StyleStore = __webpack_require__(738);

var _StyleStore2 = _interopRequireDefault(_StyleStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO import {Component} from '@the-grid/ui'

// import {requestPerfFrame} from 'perf' // TODO!

var _id_count = 0;

var Style = function (_Component) {
  (0, _inherits3.default)(Style, _Component);

  function Style() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Style);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Style.__proto__ || (0, _getPrototypeOf2.default)(Style)).call.apply(_ref, [this].concat(args))), _this), _this._id = 'style-' + _id_count++, _this.perfCheckFunctions = false, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Style, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.isDead = false;
      var id = this.props.id || this._id;
      this.store.willMount(id, this.props, this.context);
      // if (!this.props.perfFrame) this.store.willMount(id, this.props, this.context)
      // raf(()=>{
      //    if (this.isDead) return
      //    this.isAwake = true
      //    this.store.willMount(id, this.props, this.context)
      // })
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      // if (!this.isAwake) return
      this.store.willGetProps(nextProps);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.isDead = true;
      this.isAwake = false;
      this.store.willUnmount();
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          children = _props.children,
          sheet = _props.sheet;

      if (sheet && children && typeof children !== 'string') return children;
      return null;
    }
  }]);
  return Style;
}(_uiComponentDeprecated2.default);

Style.displayName = 'Style';
Style.contextTypes = {
  styleverse: _infernoCompat.PropTypes.object.isRequired
};
Style.propTypes = {
  children: _infernoCompat.PropTypes.string.isRequired,
  sheet: _infernoCompat.PropTypes.string,
  perf: _infernoCompat.PropTypes.bool,
  perfFrame: _infernoCompat.PropTypes.bool,
  parseObject: _infernoCompat.PropTypes.bool
};
Style.defaultProps = {
  // TODO: set true by default?
  perf: true,
  perfFrame: false
};


Style = (0, _cymatics.installStore)(Style, 'style', function (componentInstance) {
  return _StyleStore2.default.getInstance(componentInstance);
});

exports.default = Style;
module.exports = exports['default'];

/***/ }),
/* 738 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectWithoutProperties2 = __webpack_require__(26);

var _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var DEBUG_PERF = false;

var StyleSheetState = (0, _deps.Struct)({
  // hashCode: undefined,
  id: undefined,

  css: {
    deps: ['id', 'node_string'],
    get: function get(id, node_string) {
      var css = '#';
      css += id;
      css += ' { ';
      css += node_string;
      css += ' } ';
      return css;
    }
  }
}, {
  cacheByHashCode: true,
  defaultCache: false
});

var initialState = new StyleSheetState();

var count = 0;

var styleSheetStore_pool = [];
var createVNode = Inferno.createVNode;

var StyleSheetStore = function (_Store) {
  (0, _inherits3.default)(StyleSheetStore, _Store);

  function StyleSheetStore() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, StyleSheetStore);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = StyleSheetStore.__proto__ || (0, _getPrototypeOf2.default)(StyleSheetStore)).call.apply(_ref, [this].concat(args))), _this), _this.__count = count++, _this.deferCommit = false, _this.state = initialState, _this.isMounted = false, _this.isReady = false, _this.id = undefined, _this.props = undefined, _this.renderList = undefined, _this.styleStore = undefined, _this.needingMerge = undefined, _this.sheet = undefined, _this.prerender = undefined, _this.rendered = undefined, _this.mergeIfNeeded = function () {
      if (_this.needingMerge) _this.silently('merge', _this.needingMerge);
      _this.needingMerge = undefined;
    }, _this.addToMerge = function (obj) {
      if (!_this.needingMerge) {
        _this.needingMerge = obj;
      } else {
        _this.needingMerge = (0, _assign2.default)(_this.needingMerge, obj);
      }
    }, _this.handleStyleStore = _deps.raf.throttle(function (styleStore) {
      if (_this.id === 'fab-0-renderStaticSetupStyles') debugger;

      if (!_this.isMounted) return;
      styleStore = styleStore.state;
      if (!styleStore || !styleStore.isReady) return;
      if (!styleStore.isReady()) return;

      _this.isReady = true;
      // let styleversePluginNames = this.renderList.get('styleversePluginNames')
      var renderList = _this.renderList;
      var nextRenderList = renderList.set('styleStore', styleStore);
      if (nextRenderList.equals(renderList)) return;
      _this.renderList = nextRenderList;
      return _this.executeRenderList();
    }, { leading: 1 }), _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(StyleSheetStore, [{
    key: 'shouldCommit',
    value: function shouldCommit() {
      return false;
    }
  }, {
    key: 'hashCode',
    value: function hashCode() {
      var rulesets = '';
      if (this.prerender) rulesets = this.prerender.rulesets;
      return this.sheet + ' ' + rulesets;
      // return this.state.hashCode()
    }
  }, {
    key: 'willMount',
    value: function willMount(id, props, context) {
      this.isMounted = true;
      this.id = id;
      this.props = props;
      var _props = this.props,
          children = _props.children,
          sheet = _props.sheet,
          rendererProps = (0, _objectWithoutProperties3.default)(_props, ['children', 'sheet']);

      if (!sheet) sheet = children;

      if (typeof sheet !== 'string') throw new Error('Style props{children || sheet} must be a string');
      if (sheet.includes(';')) throw new Error('Style must be of Stylverse syntax');
      this.sheet = sheet;

      // this.addToMerge({sheet, id})
      // this.mergeIfNeeded()

      // WARN: assuming string doesn't change & parsed only once!
      if (DEBUG_PERF) console.time('Style COMPILE ' + this.id + ' ' + this.props.scope);
      this.styleverse = context.styleverse;
      var renderList = this.styleverse.compile(sheet);
      this.renderList = renderList.merge({
        'props': rendererProps
      });
      if (DEBUG_PERF) console.timeEnd('Style COMPILE ' + this.id + ' ' + this.props.scope);

      var styleversePluginNames = this.renderList.get('styleversePluginNames');
      if (styleversePluginNames.length === 0) {
        this.isReady = true;
        this.executeRenderList();
      } else {
        this.styleStore = context.stores.styleStore;
        if (this.id === 'fab-0-renderStaticSetupStyles') debugger;
        this.styleStore.execute('connect', this.handleStyleStore);
      }
    }
  }, {
    key: 'willGetProps',
    value: function willGetProps(nextProps) {
      // sheets are not updated!!!!!!!

      // if (!this.props.updateProps) return
      var children = nextProps.children,
          rendererProps = (0, _objectWithoutProperties3.default)(nextProps, ['children']);

      var renderList = this.renderList.set('props', rendererProps);
      if (renderList === this.renderList) return;
      if (renderList.equals(this.renderList)) return;
      this.renderList = renderList;
      if (this.isReady) this.executeRenderList();
    }
  }, {
    key: 'willUnmount',
    value: function willUnmount() {
      this.styleverse.sheet_willUnmount(this.id);
      this.isMounted = false;
      this.isReady = false;
      this.renderList = undefined;
      this.styleverse = undefined;
      this.sheet = undefined;
      this.prerender = undefined;
      this.rendered = undefined;
      this.id = undefined;
      this.props = undefined;
      if (this.styleStore) {
        this.styleStore.execute('disconnect', this.handleStyleStore);
        this.styleStore = undefined;
      }
    }
  }, {
    key: 'executeRenderList',
    value: function executeRenderList() {
      if (DEBUG_PERF) console.time('Style PRERENDER ' + this.id + ' ' + this.props.scope);
      // console.log("Style executeRenderList() styleStore=",styleStore.toJS())
      // TODO: dont set state style store so much!!


      this.prerender = this.renderList.get('prerender');

      // const {
      //  rulesets,
      //  css,
      //  //html,
      //  components,
      // } = this.prerender

      if (DEBUG_PERF) console.timeEnd('Style PRERENDER ' + this.id + ' ' + this.props.scope);
      var _prerender = this.prerender,
          rulesets = _prerender.rulesets,
          css = _prerender.css,
          components = _prerender.components;


      var id = this.id;
      var rendered = components || [];
      if (rulesets) rendered.push(createVNode(2, 'style', {
        'id': id,
        'dangerouslySetInnerHTML': { __html: rulesets }
      }, null, null, id));
      if (css) rendered.push(createVNode(2, 'style', {
        'dangerouslySetInnerHTML': { __html: css.join('\n') }
      }, null, null, id + '-css-dump'));

      // console.log(this.props.children)
      // if (rendered.length === 1) {
      //   rendered = rendered[0]
      // }
      // else {
      //   rendered = (
      //     <span key={this.id} style={{display: 'block', height: 0, width: 0, position: 'absolute'}}>
      //       {rendered}
      //     </span>
      //   )
      // }
      this.rendered = rendered;

      // this.addToMerge(toMerge)
      // this.mergeIfNeeded()

      // console.log('userSheet_needsRender!!!!!!!!!!',this.state.toJS())
      this.styleverse.sheet_needsRender(this.id, this.rendered);

      // this.context.request('layout-node','handle-layout-style-render', {rulesets, css, components})
      //
      // const rendered = components || []
      // if (rulesets) rendered.push( <style key='style' id={id} className={className} dangerouslySetInnerHTML={{__html: rulesets}} /> )
      // if (css) rendered.push( <style key='css-dump' dangerouslySetInnerHTML={{__html: css.join('\n')}} /> )
      //
      // console.timeEnd('render styles')
      // if (rendered.length === 1) return rendered[0]
      //
      // return (
      //   <span style={{display: 'block', height: 0, width: 0, position: 'absolute'}}>
      //     {rendered}
      //   </span>
      // )
    }
  }]);
  return StyleSheetStore;
}(_cymatics.Store);

StyleSheetStore.getInstance = function (component) {
  if (styleSheetStore_pool.length) {
    var store = styleSheetStore_pool.shift();
    return store;
  }
  return new StyleSheetStore();
};

exports.default = StyleSheetStore;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 739 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Style = __webpack_require__(737);

var _Style2 = _interopRequireDefault(_Style);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Style2.default;
module.exports = exports['default'];

/***/ }),
/* 740 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _deps = __webpack_require__(13);

var _cymatics = __webpack_require__(12);

var _ViewportStore = __webpack_require__(249);

var _ViewportStore2 = _interopRequireDefault(_ViewportStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;

var ViewportContext = function (_React$Component) {
  (0, _inherits3.default)(ViewportContext, _React$Component);

  function ViewportContext() {
    (0, _classCallCheck3.default)(this, ViewportContext);
    return (0, _possibleConstructorReturn3.default)(this, (ViewportContext.__proto__ || (0, _getPrototypeOf2.default)(ViewportContext)).apply(this, arguments));
  }

  (0, _createClass3.default)(ViewportContext, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      // this.store.silently( 'update-props', this.props )
      this.store.execute('listenIfNeeded');
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      this.store.silently('teardown');
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children;
    }
  }]);
  return ViewportContext;
}(_deps.React.Component);

ViewportContext.displayName = 'ViewportContext';
ViewportContext.propTypes = {
  children: _deps.PropTypes.object.isRequired
};
exports.default = (0, _cymatics.installStore)(ViewportContext, 'viewport', function (component) {
  return new _ViewportStore2.default(component);
});
module.exports = exports['default'];

/***/ }),
/* 741 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ViewportStore = exports.ViewportContext = undefined;

var _ViewportContext = __webpack_require__(740);

var _ViewportContext2 = _interopRequireDefault(_ViewportContext);

var _ViewportStore = __webpack_require__(249);

var _ViewportStore2 = _interopRequireDefault(_ViewportStore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

console.log('@the-grid/ui-viewport-context');
exports.default = _ViewportContext2.default;
exports.ViewportContext = _ViewportContext2.default;
exports.ViewportStore = _ViewportStore2.default;

/***/ }),
/* 742 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _toConsumableArray2 = __webpack_require__(54);

var _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _immutable = __webpack_require__(121);

var _immutable2 = _interopRequireDefault(_immutable);

var _lodash = __webpack_require__(341);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Record = _immutable2.default.Record;
// import StructRecord from './StructRecord'
// let SeamlessImmutable = require('seamless-immutable')
// console.error({SeamlessImmutable})

// https://github.com/rtfeldman/seamless-immutable/issues/48

var EMPTY_ARRAY = [];
var EMPTY_OBJ = {};
var DEFAULT_CACHE = true;

var Map = _immutable2.default.Map,
    List = _immutable2.default.List;

var defaultConfig = {
  defaultCache: true,
  cacheByHashCode: false,
  setter: function setter(key, val) {
    // setter must return struct instance
    return this.merge(val);
  }
};

// let _structTypeCount = 0

var Struct = function Struct(schema, config) {

  // let structTypeIndex = _structTypeCount
  // _structTypeCount++

  // config
  // ==============================================================

  if (config) {
    config = (0, _assign2.default)({}, defaultConfig, config);
  } else {
    config = defaultConfig;
  }

  var _config = config,
      defaultCache = _config.defaultCache,
      cacheByHashCode = _config.cacheByHashCode;

  // cache
  // ==============================================================

  var cache = void 0;
  var cacheKeyLastIndex = void 0;
  var pathsByString;

  var cacheWrite = function cacheWrite(key, path, val, cacheSetting) {
    if (typeof cacheSetting === 'number') {
      var keyCurrentIndex = void 0;
      var keyLastIndex = cacheKeyLastIndex[key];
      var keyCache = void 0;

      if (keyLastIndex === undefined) {
        cacheKeyLastIndex[key] = 0;

        keyCache = {
          vals: [val],
          paths: List.of(path)
        };
        cache[key] = keyCache;
        return val;
      } else {
        keyCurrentIndex = keyLastIndex + 1;
        if (keyCurrentIndex >= cacheSetting) keyCurrentIndex = 0;
        cacheKeyLastIndex[key] = keyCurrentIndex;

        keyCache = cache[key];
        keyCache['vals'][keyCurrentIndex] = val;
        keyCache['paths'] = keyCache['paths'].set(keyCurrentIndex, path);
        return val;
      }
    }

    if (!cache[key]) cache[key] = Map();
    cache[key] = cache[key].set(path, val);
    return val;
  };
  var cacheRead = function cacheRead(key, path, cacheSetting) {
    var fallback = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;

    var keyCache = cache[key];
    if (!keyCache) return fallback;

    if (typeof cacheSetting === 'number') {
      var paths = keyCache.paths;

      var pathIndex = paths.indexOf(path);
      if (pathIndex === -1) return fallback;
      return keyCache.vals[pathIndex];
    }

    return keyCache.get(path, fallback);
  };
  var cacheReset = function cacheReset() {
    cache = {};
    cacheKeyLastIndex = {};
    pathsByString = {};
  };
  cacheReset();

  // schema
  // ==============================================================

  var defaultValues = {};
  var settables = [];
  var getters = {};
  var setters = {};
  var initters = {};
  var keysWithParms = [];
  var depHashCodesByKey = void 0;
  // let requiredKeys = {}
  var construct = void 0;
  // let DEBUG = false

  var schemaKeys = [];

  var keyPathKeys = (0, _keys2.default)(schema);
  for (var i = 0, len = keyPathKeys.length; i < len; i++) {
    var keyPath = keyPathKeys[i];

    // special case `construct` key
    var keyConfig = schema[keyPath];
    if (keyPath === 'construct') {
      construct = keyConfig;
      continue;
    }

    schemaKeys.push(keyPath);

    // if (keyPath === 'DEBUG') {
    //  DEBUG = keyConfig
    //  continue
    // }

    var rootKey = keyPath.split('.')[0];
    var isRootKey = rootKey === keyPath;

    // assign defaultValues
    var defaultValue = undefined;

    // if keyConfig is default value
    var keyConfigTypeof = typeof keyConfig === 'undefined' ? 'undefined' : (0, _typeof3.default)(keyConfig);
    if (keyConfigTypeof === 'string' || keyConfigTypeof === 'number' || keyConfigTypeof === 'function' || keyConfig instanceof Array || keyConfig === undefined || keyConfig === null || keyConfig.toJS && keyConfig.equals && keyConfig.hashCode) {
      defaultValue = keyConfig;
    } else if (keyConfigTypeof) {
      defaultValue = keyConfig.default;
    }

    if (isRootKey) {
      defaultValues[rootKey] = defaultValue;
    } else {
      if (defaultValue !== undefined) throw new Error('Struct({ ' + keyPath + ': cannot have default, only root keys');
      if (!defaultValues.hasOwnProperty(rootKey)) defaultValues[rootKey] = defaultValue;
    }

    // move along
    if (!keyConfig) {
      settables.push(keyPath);
      if (!isRootKey) settables.push(rootKey);
      continue;
    }

    // store getters & setters
    var setter = keyConfig.set;
    var getter = keyConfig.get;
    var initter = keyConfig.init;
    var deps = keyConfig.deps ? keyConfig.deps : EMPTY_ARRAY;
    var depMap = keyConfig.depMap ? keyConfig.depMap : EMPTY_OBJ;
    var depHashCode = keyConfig.depHashCode ? keyConfig.depHashCode : undefined;
    // if (depHashCode) depHashCode.__is_depHashCode = true
    var instanceCache = keyConfig.instanceCache === false ? keyConfig.instanceCache : true;
    var params = keyConfig.params ? keyConfig.params : EMPTY_ARRAY;
    // cache getters by default
    var _cache = keyConfig.cache === undefined ? defaultCache : !keyConfig.cache ? false // 0 is set to false
    : typeof keyConfig.cache === 'number' ? keyConfig.cache : true;

    if (getter) getters[keyPath] = { getter: getter, deps: deps, depMap: depMap, params: params, cache: _cache, instanceCache: instanceCache, depHashCode: depHashCode };
    if (setter) setters[keyPath] = setter;
    if (initter) initters[keyPath] = initter;
    if (keyConfig.params) keysWithParms.push(keyPath);
    if (keyConfig.depHashCode) {
      if (!depHashCodesByKey) depHashCodesByKey = {};
      depHashCodesByKey[keyPath] = depHashCode;
    }

    // computed props should not exist as normal Record prop
    // otherwise, equals and other methods will execute getter
    if (getter) {
      delete defaultValues[rootKey];
    }

    // which keys are settable with normal Immutable set
    if (setter || initter) {
      settables.push(keyPath);
      if (!isRootKey) settables.push(rootKey);
    } else if (!getter) {
      settables.push(keyPath);
      if (!isRootKey) settables.push(rootKey);
    }
  }

  // flatten deps

  var flattenDeps = function flattenDeps(key, deps, depMap, flattenedDeps) {
    if (!flattenedDeps) flattenedDeps = [];
    for (var _i = 0, _len = deps.length; _i < _len; _i++) {
      var depKey = deps[_i];
      if (depKey === key) throw new Error('Struct: deps cycle detected with key: ' + key);
      var inner = getters[depKey];

      if (inner && !depMap[depKey] && !inner.depHashCode) {
        // recurse
        flattenDeps(key, inner.deps, EMPTY_OBJ, flattenedDeps);
      } else {
        flattenedDeps.push(depKey);
      }
    }
    return flattenedDeps;
  };

  // deps="*" === allDeps
  var allDeps = (0, _keys2.default)(defaultValues);
  var computedKeyKeys = (0, _keys2.default)(getters);
  for (var _i2 = 0, _len2 = computedKeyKeys.length; _i2 < _len2; _i2++) {
    var computedKey = computedKeyKeys[_i2];
    var computer = getters[computedKey];
    var computerDeps = computer.deps;
    if (computerDeps === '*') {
      computer.deps = allDeps;
      computer.flattenedDeps = allDeps;
    } else {
      computer.flattenedDeps = flattenDeps(computedKey, computerDeps, computer.depMap);
    }
  }

  // StructType
  // ==============================================================

  // TODO StructRecord
  // let RecordType = StructRecord.prototype.MAKE(defaultValues)
  // SeamlessImmutable
  var RecordType = Record(defaultValues);
  // let RecordType = SeamlessImmutable // .makeImmutableObject(defaultValues)

  var _get = RecordType.prototype.get;
  var _set = RecordType.prototype.set;
  var _toJS = RecordType.prototype.toJS;

  var StructType = function (_RecordType) {
    (0, _inherits3.default)(StructType, _RecordType);

    function StructType(values) {
      var _this, _ret;

      (0, _classCallCheck3.default)(this, StructType);

      for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key = 1; _key < _len3; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (construct) values = construct.apply(undefined, [values].concat(args));

      var newValues = {};
      if (!values) return _ret = (_this = (0, _possibleConstructorReturn3.default)(this, (StructType.__proto__ || (0, _getPrototypeOf2.default)(StructType)).call(this, newValues)), _this), (0, _possibleConstructorReturn3.default)(_this, _ret);
      var keyKeys = (0, _keys2.default)(values);
      var objToMerge = void 0;
      for (var _i3 = 0, _len4 = keyKeys.length; _i3 < _len4; _i3++) {
        var key = keyKeys[_i3];

        if (initters[key] || setters[key]) {
          var _val2 = values[key];
          if (!objToMerge) objToMerge = {};
          if (initters[key]) {
            objToMerge = (0, _assign2.default)(objToMerge, initters[key](_val2, values));
          } else {
            objToMerge = (0, _assign2.default)(objToMerge, setters[key](_val2, values));
          }
          continue;
        }

        if (!values.hasOwnProperty(key)) continue;
        var val = values[key];

        // if undefined, use defaultValues, which will go through possible set or int
        if (val === undefined) val = defaultValues[key];

        if (getters[key]) continue;else {
          newValues[key] = val;
        }
      }
      if (objToMerge) newValues = (0, _assign2.default)(newValues, objToMerge);
      return (0, _possibleConstructorReturn3.default)(this, (StructType.__proto__ || (0, _getPrototypeOf2.default)(StructType)).call(this, newValues));

      // this.get = this.get.bind(this)
      // this.set = this.set.bind(this)
    }

    // get()
    // ---------------------------------------------------

    (0, _createClass3.default)(StructType, [{
      key: 'get',
      value: function get(path, fallback, inputParamVals) {

        if (path === 'StructType') return StructType;

        var depHashCode = depHashCodesByKey ? depHashCodesByKey[path] : undefined;
        var depHashCodeVal = void 0;
        // on-instance fast-track cache works with deps not params
        if (this.__get_fast && this.__get_fast[path]) return this.__get_fast[path];
        if (this.__get_fast_by_dep_hash && this.__get_fast_by_dep_hash[path]) {
          // depHashCodeVal = depHashCode.apply(this, inputParamVals)
          depHashCodeVal = depHashCode.call(this);
          var cached = this.__get_fast_by_dep_hash[path][depHashCodeVal];
          if (cached !== undefined) return cached;
        }

        var resultOrFallback;

        var computer = getters[path];
        if (!computer) {
          if (typeof path !== 'string') return _get.call(this, path, fallback);

          if (!path.includes('.')) {
            resultOrFallback = _get.call(this, path);
            if (resultOrFallback === undefined) return fallback;
            return resultOrFallback;
          }
          var paths = path.split('.'); /* pathsByString[path]
                                       if (!paths) {
                                       paths = path.split('.')
                                       pathsByString[path] = paths
                                       }
                                       */

          // hanlde dot syntax
          // return this.getIn(paths, fallback)
          var getCursor = this;
          var getKey;
          for (var i = 0; i < paths.length; i++) {
            getKey = paths[i];
            resultOrFallback = !getCursor.get ? getCursor[getKey] : getCursor.get(getKey);
            if (resultOrFallback === undefined) return fallback;
            getCursor = resultOrFallback;
          }
          return resultOrFallback;
        }

        // else cache & return computed getter
        // TODO
        // is fallback still valid w/ computed props? dont think so...

        var params = computer.params;
        if (params.length > 0 && !(inputParamVals instanceof Array)) {
          // if no params, return the computed function
          // instance methods & vals not from prototype do not survive immutable cloning, have to ensure the methods are bound
          if (!this['_didBindMethod--' + path]) {
            this['_didBindMethod--' + path] = true;
            this[path] = this[path].bind(this);
            // for (let i = 0, len = keysWithParms.length; i < len; i++) {
            //   const key = keysWithParms[i]
            //   this[key] = this[key].bind(this)
            // }
          }
          return this[path];
        }
        // let inputParamVals = args[2] instanceof Array ? args[2] : EMPTY_ARRAY
        var deps = computer.deps;

        var hasParams = params.length > 0 ? true : false;
        var hasDeps = deps.length > 0 ? true : false;

        // on-instance fast-track cache works with deps not params
        // if (!hasParams && hasDeps && this.__get_fast) return this.__get_fast[path]

        var paramCountCeil = params.length + deps.length;

        // do not cache when zero dependencies
        if (paramCountCeil === 0) {
          resultOrFallback = computer.getter.apply(this);
          // fallback only if undefined, not null or falsy
          if (resultOrFallback === undefined) return fallback;
          return resultOrFallback;
        }

        var computedParams = inputParamVals || [];
        var depVals = [];
        var cachePathCursor = void 0;
        var cachePath = void 0;
        var cacheSetting = computer.cache;
        if (cacheSetting) {
          if (depHashCode) {
            if (!depHashCodeVal) depHashCodeVal = depHashCode.call(this);
            cachePathCursor = depHashCodeVal;
            cachePath = null;
          } else {
            cachePathCursor = '';
            cachePath = [];
          }
        }

        var shouldBuildCachePath = cacheSetting && cachePath !== null;

        if (hasParams) {
          if (shouldBuildCachePath) {
            for (var _i4 = 0; _i4 < computedParams.length; _i4++) {
              var _val = computedParams[_i4];

              if (!_val) {
                cachePathCursor += ' ';
                cachePathCursor += _val;
                continue;
              }
              if (cacheByHashCode && _val.hashCode && typeof _val.hashCode === 'function') {
                cachePathCursor += ' ';
                cachePathCursor += _val.hashCode();
                continue;
              }
              var typeOfDepVal = typeof _val === 'undefined' ? 'undefined' : (0, _typeof3.default)(_val);
              if (typeOfDepVal === 'number' || typeOfDepVal === 'string' || typeOfDepVal === 'boolean' || typeOfDepVal === 'undefined' || _val === null) {
                cachePathCursor += ' ';
                cachePathCursor += _val;
              } else if (cacheByHashCode && _val._HASH_CODE) {
                cachePathCursor += ' ';
                cachePathCursor += _val._HASH_CODE;
              } else {
                if (cachePathCursor) cachePath.push(cachePathCursor);
                cachePath.push(_val);
                cachePathCursor = '';
              }
            }
          }

          if (computedParams.length !== params.length) {
            for (var _i5 = 0; computedParams.length !== params.length; _i5++) {
              computedParams.push(undefined);
              if (!shouldBuildCachePath) continue;
              cachePathCursor += ' ';
              cachePathCursor += undefined;
            }
          }
        }

        if (hasDeps) {
          var _depMap = computer.depMap;
          var paramCount = computedParams.length + deps.length;
          var startIndex = paramCount - paramCountCeil;
          for (var _i6 = startIndex, _len5 = deps.length; _i6 < _len5; _i6++) {
            var depKey = deps[_i6];

            // // if dep has params, return the function to be used
            // if (keysWithParms.includes( depKey )) {
            //  let depComputer = getters[depKey]
            //  depVals.push( this[depKey] )
            // }
            // // otherwise return get and return val
            // else {
            // depVals.push( this.get(depKey) )
            // }

            var _val3 = this.get(depKey);
            var mapFunc = _depMap[depKey];
            if (mapFunc) {
              _val3 = mapFunc.call.apply(mapFunc, [this, _val3].concat((0, _toConsumableArray3.default)(inputParamVals)));
            }
            computedParams.push(_val3);

            if (!shouldBuildCachePath) continue;

            if (depHashCodesByKey && depHashCodesByKey[depKey]) {
              cachePathCursor += ' ';
              cachePathCursor += depHashCodesByKey[depKey].call(this);
              continue;
            }

            if (!_val3) {
              cachePathCursor += ' ';
              cachePathCursor += _val3;
              continue;
            }
            if (cacheByHashCode && _val3.hashCode && typeof _val3.hashCode === 'function') {
              cachePathCursor += ' ';
              cachePathCursor += _val3.hashCode();
              continue;
            }
            var _typeOfDepVal = typeof _val3 === 'undefined' ? 'undefined' : (0, _typeof3.default)(_val3);
            if (_typeOfDepVal === 'number' || _typeOfDepVal === 'string' || _typeOfDepVal === 'boolean' || _typeOfDepVal === 'undefined') {
              cachePathCursor += ' ';
              cachePathCursor += _val3;
            } else if (cacheByHashCode && _val3._HASH_CODE) {
              cachePathCursor += ' ';
              cachePathCursor += _val3._HASH_CODE;
            } else {
              if (cachePathCursor) cachePath.push(cachePathCursor);
              cachePath.push(_val3);
              cachePathCursor = '';
            }
          }
        }

        // do not cache if configured so
        if (!cacheSetting) {
          resultOrFallback = computer.getter.apply(this, computedParams);
          // fallback only if undefined, not null or falsy
          if (resultOrFallback === undefined) return fallback;
          return resultOrFallback;
        }

        // cache cache baby

        var flattenedDeps = computer.flattenedDeps;

        if (flattenedDeps.length > 0 && cachePath !== null) {
          for (var _i7 = 0, _len6 = flattenedDeps.length; _i7 < _len6; _i7++) {
            var fdepKey = flattenedDeps[_i7];
            var indexInDeps = deps.indexOf(fdepKey);
            // if we dont alread have value from normal deps
            if (indexInDeps === -1) {
              if (depHashCodesByKey && depHashCodesByKey[fdepKey]) {
                cachePathCursor += ' ';
                cachePathCursor += depHashCodesByKey[fdepKey].call(this);
                continue;
              }

              var _val4 = this.get(fdepKey);
              if (!_val4) {
                cachePathCursor += ' ';
                cachePathCursor += _val4;
                continue;
              }
              if (cacheByHashCode && _val4.hashCode && typeof _val4.hashCode === 'function') {
                cachePathCursor += ' ';
                cachePathCursor += _val4.hashCode();
                continue;
              }
              var _typeOfDepVal2 = typeof _val4 === 'undefined' ? 'undefined' : (0, _typeof3.default)(_val4);
              if (_typeOfDepVal2 === 'number' || _typeOfDepVal2 === 'string' || _typeOfDepVal2 === 'boolean' || _typeOfDepVal2 === 'undefined' || _val4 === null) {
                cachePathCursor += ' ';
                cachePathCursor += _val4;
              } else if (cacheByHashCode && _val4._HASH_CODE) {
                cachePathCursor += ' ';
                cachePathCursor += _val4._HASH_CODE;
              } else {
                if (cachePathCursor) cachePath.push(cachePathCursor);
                cachePath.push(_val4);
                cachePathCursor = '';
              }
            }
          }
        }

        if (cachePath === null || !cachePath.length) {
          cachePath = cachePathCursor;
        } else {
          if (cachePathCursor) cachePath.push(cachePathCursor);
          // TODO: use hashCode?
          // cachePath = List(cachePath).hashCode()
          cachePath = List(cachePath);
        }

        // let cachePath = (inputParamVals)
        //         ? List(inputParamVals.concat(flattendDepVals))
        //         : (flattendDepVals)
        //           ? List(flattendDepVals)
        //           // TODO ?
        //           : 'PATH'

        var computedVal = cacheRead(path, cachePath, cacheSetting);
        if (computedVal === undefined) {
          computedVal = computer.getter.apply(this, computedParams);
          cacheWrite(path, cachePath, computedVal, cacheSetting);
        }
        // on-instance fast-track cache, works w/o params only
        if (computer.instanceCache) {
          if (depHashCode) {
            if (!this.__get_fast_by_dep_hash) this.__get_fast_by_dep_hash = {};
            if (!this.__get_fast_by_dep_hash[path]) this.__get_fast_by_dep_hash[path] = {};
            if (depHashCodeVal === undefined) depHashCodeVal = depHashCode.call(this);
            this.__get_fast_by_dep_hash[path][depHashCodeVal] = computedVal;
          } else if (!hasParams) {
            if (!this.__get_fast) this.__get_fast = {};
            this.__get_fast[path] = computedVal;
          }
        }

        resultOrFallback = computedVal;
        // fallback only if undefined, not null or falsy
        if (resultOrFallback === undefined) return fallback;
        return resultOrFallback;
      }

      // set()
      // ---------------------------------------------------

    }, {
      key: 'set',
      value: function set(path, val) {
        if (typeof path !== 'string') return _set.call(this, path, val);

        var setter = setters[path];
        if (setter) {
          if (!this.recursingSets) this.recursingSets = {};
          if (!this.recursingSets[path]) {
            this.recursingSets[path] = true;
            var _val = setter.call(this, val);
            if (_val === undefined) return this;
            var _result = config.setter.call(this, path, _val);
            this.recursingSets[path] = false;
            return _result;
          }
        }

        if (!path.includes('.')) {
          if (!settables.includes(path)) return this;
          return _set.call(this, path, val);
        }
        var paths = pathsByString[path];
        if (!paths) {
          paths = path.split('.');
          pathsByString[path] = paths;
        }

        // var t = SeamlessImmutable.from(this)
        // debugger
        // return t.setIn(paths, val)
        // var st = _set.bind(this)
        // return st(this, paths, val)

        if (paths.length > 3) return this.setIn(paths, val);

        // this allows setting 1 level deep
        // needs to be better for deeper
        var instance = this;
        // paths.forEach(p => {})

        // @example: items._data.eh

        // items._data
        var pathsButLast = paths.slice(0);

        // .eh
        var lastPath = pathsButLast.pop();

        // items
        var firstPath = paths.slice(0).shift();

        // this.get(items)
        var rootPath = this.get(firstPath);

        // if it is 2 dots deep, aka 3 levels deep
        if (paths.length === 3) {
          pathsButLast = pathsButLast.join('.');
          var twoLevelsDeep = this.get(pathsButLast);
          var twoLevelsDeepUpdated;
          if (twoLevelsDeep.toJS) {
            twoLevelsDeepUpdated = twoLevelsDeep.set(lastPath, val);
          } else {
            // twoLevelsDeepUpdated = _set(twoLevelsDeep, lastPath, val)
            twoLevelsDeepUpdated = twoLevelsDeep[lastPath] = val;
          }
          instance = instance.set(pathsButLast, twoLevelsDeepUpdated);
          return instance;
        }

        // @TODO:
        // // this.get(items._data)
        // var existing = this.get(pathsButLast)

        // get the deepest part
        // -> get a level up
        // -> set the level down on that level up
        // (loop until at root)
        //
        //
        // // actually skip the .eh
        // var data = .get(items._data)
        // .set(items._data, data)

        // for setting 2 deep
        instance = rootPath.set(lastPath, val);
        return instance;
      }

      // toJS( includeComputed = false )
      // ---------------------------------------------------

    }, {
      key: 'toJS',
      value: function toJS(includeComputed) {
        if (!includeComputed) return _toJS.call(this);

        var result = {};
        for (var _i8 = 0, _len7 = schemaKeys.length; _i8 < _len7; _i8++) {
          var key = schemaKeys[_i8];
          var val = this.get(key);
          if (!val) {
            result[key] = val;
            continue;
          }
          result[key] = val.toJS ? val.toJS(includeComputed) : val;
        }
        return result;
      }
    }]);
    return StructType;
  }(RecordType);

  // if (DEBUG) {
  //  let oget = StructType.prototype.get
  //  StructType.prototype.get = function (...args) {
  //    console.log("Struct::get", ...args)
  //    let val = oget.call(this, ...args)
  //    console.log("==>", val)
  //  }
  // }

  var _loop = function _loop(_i9, _len8) {
    var key = keysWithParms[_i9];
    if (StructType.prototype[key]) throw new Error('Can\'t add getter with params of key that clashes with prototype, key: ' + key);
    StructType.prototype[key] = function () {
      for (var _len9 = arguments.length, args = Array(_len9), _key2 = 0; _key2 < _len9; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return this.get(key, undefined, args);
    };
  };

  for (var _i9 = 0, _len8 = keysWithParms.length; _i9 < _len8; _i9++) {
    _loop(_i9, _len8);
  }

  StructType.schema = schema;
  StructType.cacheReset = cacheReset;

  return StructType;
};

exports.default = Struct;
module.exports = exports['default'];

/***/ }),
/* 743 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(49);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

exports.default = function () {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  // defaults
  options = (0, _assign2.default)({ closeMethod: 'hide' }, options);

  return function (target) {
    return function (_target) {
      (0, _inherits3.default)(CloseFabDecoratedComponent, _target);

      function CloseFabDecoratedComponent() {
        (0, _classCallCheck3.default)(this, CloseFabDecoratedComponent);
        return (0, _possibleConstructorReturn3.default)(this, (CloseFabDecoratedComponent.__proto__ || (0, _getPrototypeOf2.default)(CloseFabDecoratedComponent)).apply(this, arguments));
      }

      (0, _createClass3.default)(CloseFabDecoratedComponent, [{
        key: 'componentWillMount',
        value: function componentWillMount() {
          var _this2 = this;

          // console.debug('------------')
          // console.log(target, this, options)
          // console.log(super[options.closeMethod])
          // console.log(target[options.closeMethod])
          // console.log(this[options.closeMethod])
          // console.debug('------------')

          window.updateFabToClose(function (e) {
            if ((0, _get3.default)(CloseFabDecoratedComponent.prototype.__proto__ || (0, _getPrototypeOf2.default)(CloseFabDecoratedComponent.prototype), options.closeMethod, _this2)) return _this2[options.closeMethod]();
            if (target[options.closeMethod]) return target[options.closeMethod]();

            if (!_this2[options.closeMethod]) throw new Error('needs to have a hide method');
            _this2[options.closeMethod]();
          });
        }
      }]);
      return CloseFabDecoratedComponent;
    }(target);
  };
};

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = exports['default'];

/***/ }),
/* 744 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

exports.default = function (target) {
  var _desc, _value, _class;

  return _class = function (_target) {
    (0, _inherits3.default)(ElPropsComponent, _target);

    function ElPropsComponent() {
      (0, _classCallCheck3.default)(this, ElPropsComponent);
      return (0, _possibleConstructorReturn3.default)(this, (ElPropsComponent.__proto__ || (0, _getPrototypeOf2.default)(ElPropsComponent)).apply(this, arguments));
    }

    (0, _createClass3.default)(ElPropsComponent, [{
      key: 'elProps',
      value: function elProps() {
        var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

        if (obj.id) throw new Error('elProps({id}), id is already provided automatically in ' + this);
        var rootProps = (0, _assign2.default)({ id: this.getId() }, obj);
        var className = obj.className || '';
        className += ' ';
        className += this.props.className || '';
        var style = (0, _assign2.default)({}, obj.style, this.props.style);
        if (className !== ' ') rootProps.className = className;
        if ((0, _keys2.default)(style).length !== 0) rootProps.style = style;

        if (this.props.onClick) {
          if (rootProps.onClick) throw new Error(this.constructor.name + '::elProps() onClick is being passed down through props!');
          rootProps.onClick = this.props.onClick;
        }
        return rootProps;
      }
    }]);
    return ElPropsComponent;
  }(target), (_applyDecoratedDescriptor(_class.prototype, 'elProps', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class.prototype, 'elProps'), _class.prototype)), _class;
};

var _coreDecorators = __webpack_require__(38);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}

// can extend with options or just class


module.exports = exports['default'];

/***/ }),
/* 745 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getOwnPropertyDescriptor = __webpack_require__(20);

var _getOwnPropertyDescriptor2 = _interopRequireDefault(_getOwnPropertyDescriptor);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _get2 = __webpack_require__(49);

var _get3 = _interopRequireDefault(_get2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

exports.default = function () {
  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : readyPresets;
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  var defaultOptions = {
    ignoreFirstRender: true,
    thisArg: false,
    recheckEvery: false,
    recheckMax: 10
  };
  options = (0, _assign2.default)(defaultOptions, options);

  // if (typeof id !== 'string') return extendTarget(id)

  function extendTarget(target) {
    var _desc, _value, _class2;

    // var targetRender = target.render
    return _class2 = function (_target) {
      (0, _inherits3.default)(RenderWhenReady, _target);

      function RenderWhenReady() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, RenderWhenReady);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = RenderWhenReady.__proto__ || (0, _getPrototypeOf2.default)(RenderWhenReady)).call.apply(_ref, [this].concat(args))), _this), _this.ready = false, _this.renderCount = 0, _this.recheckCount = 0, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
      }

      // @TODO: put in ANOTHER decorator?


      (0, _createClass3.default)(RenderWhenReady, [{
        key: 'render',


        // @TODO: safety
        // if we need to check when things
        // are unmounting then ready is false
        // and add setState to a null cb
        value: function render() {
          if (options.ignoreFirstRender && this.renderCount === 0) {
            this.renderCount++;
            return createVNode(16, _uiLogoLoader2.default);
          }

          if (!this.ready && !this.state.ready || !this.readyCondition()) return createVNode(2, 'div', null, createVNode(16, _uiLogoLoader2.default));

          // return <div><LogoLoader /><h1>eh</h1></div>
          // if (!this.ready) return ll
          if ((0, _get3.default)(RenderWhenReady.prototype.__proto__ || (0, _getPrototypeOf2.default)(RenderWhenReady.prototype), 'render', this)) return (0, _get3.default)(RenderWhenReady.prototype.__proto__ || (0, _getPrototypeOf2.default)(RenderWhenReady.prototype), 'render', this).call(this, this.props, this.state);
        }

        // pass in ready condition into the options

      }, {
        key: 'readyCondition',
        value: function readyCondition() {
          var _this2 = this;

          if (this.checkConditionAgainTimeout) clearTimeout(this.checkConditionAgainTimeout);

          if (conditions.state) {
            if (!this.state) return false;
            var keys = (0, _keys2.default)(this.state);
            var satisfied = true;

            keys.forEach(function (key) {
              var val = _this2.state[key];

              // @TODO: has own property
              var condition = conditions.state[key];
              if (!condition) return; // continue
              if (typeof condition == 'boolean') {
                if (val) satisfied = true;
                // if (this.state.hasOwnProperty(key)) return true
                // if (condition === true && !val) satisfied = false
              } else if (typeof condition === 'function') {
                if (options.thisArg) {
                  if (!condition.call(_this2, val)) satisfied = false;
                } else if (!condition(val)) satisfied = false;
              }
            });

            if (!satisfied && options.recheckEvery && options.recheckMax < this.recheckCount++) this.checkConditionAgainTimeout = setTimeout(function () {
              console.debug('----- rechecking');
              _this2.setState({ forceCheckup: Math.random(0, 5000) });
            }, options.recheckEvery);

            return satisfied;
          }

          // if condition cb -> this.ready = true
          // this.forceUpdate
          //
          // add shouldUpdate
          //
          // add decorator for state with a struct
        }

        // componentDidUpdate() {
        //   var t = this.state
        //   debugger
        // }

        // @autobind
        // shouldComponentUpdate() {
        //   if (this.readyCondition()) {
        //     if (super.shouldComponentUpdate)
        //       this.shouldComponentUpdate = super.shouldComponentUpdate
        //     else
        //       this.shouldComponentUpdate = undefined
        //     return true
        //   }
        //
        //   return false
        // }

      }]);
      return RenderWhenReady;
    }(target), (_applyDecoratedDescriptor(_class2.prototype, 'render', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'render'), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, 'readyCondition', [_coreDecorators.autobind], (0, _getOwnPropertyDescriptor2.default)(_class2.prototype, 'readyCondition'), _class2.prototype)), _class2;
  }
  return extendTarget;
};

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _coreDecorators = __webpack_require__(38);

var _uiLogoLoader = __webpack_require__(79);

var _uiLogoLoader2 = _interopRequireDefault(_uiLogoLoader);

var _isBindable = __webpack_require__(252);

var _isBindable2 = _interopRequireDefault(_isBindable);

var _validators = __webpack_require__(146);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {
  var desc = {};
  Object['ke' + 'ys'](descriptor).forEach(function (key) {
    desc[key] = descriptor[key];
  });
  desc.enumerable = !!desc.enumerable;
  desc.configurable = !!desc.configurable;

  if ('value' in desc || desc.initializer) {
    desc.writable = true;
  }

  desc = decorators.slice().reverse().reduce(function (desc, decorator) {
    return decorator(target, property, desc) || desc;
  }, desc);

  if (context && desc.initializer !== void 0) {
    desc.value = desc.initializer ? desc.initializer.call(context) : void 0;
    desc.initializer = undefined;
  }

  if (desc.initializer === void 0) {
    Object['define' + 'Property'](target, property, desc);
    desc = null;
  }

  return desc;
}
// import {Styleverse} from 'styleverse'


var createVNode = Inferno.createVNode;

var ll = createVNode(16, _uiLogoLoader2.default);

// state, props
// fn callback, or exists
var readyPresets = {
  state: {
    redesigns: true,
    siteId: _validators.isUUID
  }
};

// can extend with options or just class
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 746 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectState = undefined;

var _cymatics = __webpack_require__(12);

// @TODO: generate cb like in my contextual
var connectState = function connectState(deps, callback) {
  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

  return function (target) {
    return (0, _cymatics.connectState)(target, deps, callback, options);
  };
};

exports.default = connectState;
exports.connectState = connectState;

/***/ }),
/* 747 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

exports.default = function (generalErrors) {
  var ignoredMessages = ['This revision of item', 'Setting publishing date to NULL', 'Publishing empty item'];

  // convet to js, get the keys, loop through, filter
  var errors = generalErrors || {};
  var errorsKeys = (0, _keys2.default)(errors);
  for (var i = 0, len = errorsKeys.length; i < len; i++) {
    var errKey = errorsKeys[i]; // isItemId
    var errVal = errors[errKey]; // object containing message
    if ((0, _helpers.stringContainsAnyOf)(errVal.message, ignoredMessages)) {
      delete errors[errKey];
    }
  }
  return errors;
};

var _helpers = __webpack_require__(251);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = exports['default'];

/**
 * @TODO:
 * - [ ] not convert to js and back to immutable
 */

/***/ }),
/* 748 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var FN_ARGS = /^function\s*[^\(]*\(\s*([^\)]*)\)/m;
var FN_ARG_SPLIT = /,/;
var FN_ARG = /^\s*(_?)(\S+?)\1\s*$/;
var STRIP_COMMENTS = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg;

function formalParameterList(fn) {
  var args = [];
  var fnText = fn.toString().replace(STRIP_COMMENTS, '');
  var argDecl = fnText.match(FN_ARGS);
  var r = argDecl[1].split(FN_ARG_SPLIT);

  for (var i = 0; i < r.length; i++) {
    var arg = r[i];
    arg.replace(FN_ARG, function (all, underscore, name) {
      args.push(name);
    });
  }

  return args;
}

exports.default = formalParameterList;
module.exports = exports['default'];

/***/ }),
/* 749 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _values = __webpack_require__(257);

var _values2 = _interopRequireDefault(_values);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _lodash = __webpack_require__(185);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getMulti(data, props) {
  var result = {};
  for (var i = 0; i < props.length; i++) {
    var val = props[i],
        last = i;
    if (val.includes('.')) last = val.split('.').pop();
    if (!result[last]) result[last] = (0, _lodash2.default)(data, props[i]);
  }
  return result;
}
function getMultiMapped(data, props) {
  var result = {};
  var keys = (0, _keys2.default)(props);
  var arr = (0, _values2.default)(props);
  for (var i = 0; i < arr.length; i++) {
    var key = keys[i];
    var value = arr[i];
    if (!result[key]) result[key] = (0, _lodash2.default)(data, value);
  }
  return result;
}

exports.default = { getMultiMapped: getMultiMapped, getMulti: getMulti, _get: _lodash2.default };
module.exports = exports['default'];

/***/ }),
/* 750 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _imgfloUrl = __webpack_require__(120);

var _imgfloUrl2 = _interopRequireDefault(_imgfloUrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function imgFloUrl(url) {
  var operation = 'noop';
  return (0, _imgfloUrl2.default)(di.config.IMGFLO, operation, { input: url });
}
function imgFloExt() {
  var operation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'passthrough';
  var obj = arguments[1];
  var format = arguments[2];

  return (0, _imgfloUrl2.default)(di.config.IMGFLO, operation, obj, format);
}

exports.default = {
  imgFloUrl: imgFloUrl,
  imgFloExt: imgFloExt,
  imgflo: _imgfloUrl2.default
};
module.exports = exports['default'];

/***/ }),
/* 751 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.itemHelper = undefined;

var _difference_in_minutes = __webpack_require__(321);

var _difference_in_minutes2 = _interopRequireDefault(_difference_in_minutes);

var _is_after = __webpack_require__(322);

var _is_after2 = _interopRequireDefault(_is_after);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @NOTE: keeping compatibility with immutables here
var itemHelper = {
  isEdited: function isEdited(item) {
    var published = undefined;
    var modified = undefined;
    var isImmutable = typeof item.get === 'function';

    if (isImmutable) published = item.getIn(['metadata', 'datePublished']);else published = item.metadata.datePublished;

    if (!published) return false;

    if (isImmutable) modified = item.getIn(['metadata', 'dateModified']);else modified = item.metadata.dateModified;

    // new Date(published).getTime()
    var edited = (0, _is_after2.default)(published, modified);

    // only check the minutes difference if the date is after
    if (edited) {
      var minutesDiff = (0, _difference_in_minutes2.default)(modified, published);
      if (minutesDiff < 1) edited = false;
    }

    return edited;
  },
  isDraft: function isDraft(item) {
    var isImmutable = typeof item.get === 'function';
    if (isImmutable) return !item.get('published');
    return !item.published;
  },
  isPublished: function isPublished(item) {
    var isImmutable = typeof item.get === 'function';
    if (isImmutable) return item.get('published');
    return item.published;
  },
  isNav: function isNav(item) {
    return item.published && di.ss.currentSite().navItemIds().includes(item.id);
    // var isImmutable = typeof item.get === 'function'
    // if (isImmutable) return item.get('published')
    // return _get(item,'block.metadata.hasPage', false) && item.published
  }
};

exports.default = itemHelper;
exports.itemHelper = itemHelper;

/***/ }),
/* 752 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.triggerPublish = triggerPublish;
exports.subscribeCb = subscribeCb;
exports.publish = publish;
exports.subscribe = subscribe;

var _radio = __webpack_require__(352);

var _radio2 = _interopRequireDefault(_radio);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function triggerPublish(topic, value) {
  (0, _radio2.default)(topic).broadcast(value);
}
function subscribeCb(topic, cb) {
  (0, _radio2.default)(topic).subscribe(function () {
    return cb.apply(undefined, arguments);
  });
}

// @decorator
function publish(topic) {
  return function (target, name, descriptor) {
    // console.debug({topic, target, name, descriptor, value: descriptor.value})
    var fn = descriptor.value;
    descriptor.value = function () {
      var value = fn.apply(this, arguments);
      (0, _radio2.default)(topic).broadcast(value);
      return value;
    };
  };
}

// @decorator
function subscribe(topic) {
  return function (target, name, descriptor) {
    var fn = descriptor.value;
    var componentDidMount = target.componentDidMount,
        componentWillUnmount = target.componentWillUnmount;

    target.componentDidMount = function () {
      var self = this;
      (0, _radio2.default)(topic).subscribe(function () {
        fn.apply(self, arguments);
      });
      if (componentDidMount) return componentDidMount.call(this);
    };

    target.componentWillUnmount = function () {
      (0, _radio2.default)(topic).unsubscribe(fn, this);
      if (componentWillUnmount) return componentWillUnmount.call(this);
    };
  };
}

/***/ }),
/* 753 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _values = __webpack_require__(257);

var _values2 = _interopRequireDefault(_values);

var _typeof2 = __webpack_require__(7);

var _typeof3 = _interopRequireDefault(_typeof2);

exports.default = remapById;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * @example
 * in: [
 *  {id: 'eh', val: 'canada'},
 *  {id: 'moose', val: 'igloo'}
 * ]
 *
 * out: {
 *  'eh': {id: 'eh', val: 'canada'},
 *  'moose': {id: 'moose', val: 'igloo'}
 * }
 */
function remapById(values) {
  // @TODO: should reload if there is no remap by id vals...
  if (!values || (typeof values === 'undefined' ? 'undefined' : (0, _typeof3.default)(values)) !== 'object') return {};

  var asObj = (0, _values2.default)(values);
  var remappedValues = {};

  // remap to add item id as object property
  var keys = (0, _keys2.default)(asObj);
  for (var i = 0, len = keys.length; i < len; i++) {
    var key = keys[i];
    var val = asObj[key];

    remappedValues[val.id] = val;
  }
  // console.debug('remapById', {values, asObj})

  return remappedValues;
}
module.exports = exports['default'];

/***/ }),
/* 754 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _lodash = __webpack_require__(185);

var _lodash2 = _interopRequireDefault(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var defaultBrandColors = ['hsl(0,0%,100%)', 'hsl(0,0%,80%)', 'hsl(0,0%,60%)', 'hsl(0,0%,30%)', 'hsl(0,0%,20%)'];

var createVNode = Inferno.createVNode;

var SiteAvatar = function (_Component) {
  (0, _inherits3.default)(SiteAvatar, _Component);

  function SiteAvatar() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, SiteAvatar);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = SiteAvatar.__proto__ || (0, _getPrototypeOf2.default)(SiteAvatar)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function (e) {
      if (_this.props.onClick) return _this.props.onClick(e);
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(SiteAvatar, [{
    key: 'render',
    value: function render() {
      var site = this.props.site;

      var siteId = site.id;
      var brandColors = (0, _lodash2.default)(site, 'config.color.brandColors', defaultBrandColors);

      return createVNode(2, 'div', (0, _extends3.default)({
        'data-tip': 'update header background',
        'data-for': 'header-tooltip',
        'data-effect': 'float',
        'data-place': 'top'
      }, this.elProps({ className: 'Avatar SiteAvatar' })), [brandColors.map(function (brandColor, index) {
        return createVNode(2, 'div', {
          'className': 'brand-color',
          'style': {
            backgroundColor: brandColor,
            width: 100 / brandColors.length + '%',
            height: '100%',
            float: 'left'
          }
        }, null, null, siteId + '_brandcolors_' + index);
      }), createVNode(2, 'div', {
        'className': 'frame-base'
      }), createVNode(2, 'div', {
        'className': 'frame-inset'
      }), createVNode(2, 'div', {
        'className': 'line-1'
      }), createVNode(2, 'div', {
        'className': 'line-2'
      }), createVNode(2, 'div', {
        'className': 'light'
      })], {
        'onClick': this.onClick
      });
    }
  }]);
  return SiteAvatar;
}(_uiComponentDeprecated.Component);

SiteAvatar.propTypes = {
  site: _infernoCompat2.default.PropTypes.object
};

exports.default = SiteAvatar;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 755 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _reactPlayer = __webpack_require__(192);

var _reactPlayer2 = _interopRequireDefault(_reactPlayer);

var _components = __webpack_require__(45);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function src_is_video(src) {
  if (src.includes('vimeo.com')) return true;
  if (src.includes('youtube.com')) return true;
  return false;
}

var count = 0;

var vimeoConfig = {
  background: 1,
  iframeParams: { background: 1 },
  preload: true
};

var style_bg_image = {
  position: 'absolute',
  opacity: 1,
  left: 0,
  right: 0,
  top: 0,
  bottom: 0,
  height: '100%',
  backfaceVisibility: 'hidden',
  transform: 'translate3d(0px,0px,0px)',
  backgroundSize: 'cover',
  backgroundPosition: '50% 50%',
  overflow: 'hidden',
  // zIndex: -1, // for svg-filters
  pointerEvents: 'none'
};

// :scope-Header-bg-media {
//  pos--a
//
//  o--1
//  l--0
//  r--0
//  t--0
//  h--100%
//
//  bf-viz -- hidden
//  tf -- translate3d(0px,0px,0px)
//  bg-sz--cover
//  bg--pos--50% 50%
//  ovf--hidden
//
//  chroma-filter--gradient-map
//
//  bg-clr -- chroma-box
//
//  z-idx -- -1
// }

var createVNode = Inferno.createVNode;

var BackgroundMedia = function (_React$Component) {
  (0, _inherits3.default)(BackgroundMedia, _React$Component);

  function BackgroundMedia() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, BackgroundMedia);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = BackgroundMedia.__proto__ || (0, _getPrototypeOf2.default)(BackgroundMedia)).call.apply(_ref, [this].concat(args))), _this), _this._id = 'background-media-' + count++, _this.onVideoStart = function () {}, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(BackgroundMedia, [{
    key: 'get_id',
    value: function get_id() {
      if (this.props.id) return this.props.id;
      return this._id;
    }
  }, {
    key: 'get_className',
    value: function get_className() {
      var className = this.props.className;

      if (!className) className = '';
      className += ' background-media';
      return className;
    }
  }, {
    key: 'shouldComponentUpdate',
    value: function shouldComponentUpdate(nextProps, nextState) {
      if (this.props.type !== nextProps.type) return true;
      if (this.props.videoSrc !== nextProps.videoSrc) return true;
      if (this.props.imgSrc !== nextProps.imgSrc) return true;
      return false;
    }
  }, {
    key: 'render',
    value: function render() {
      // getId('Header-bg')
      var type = this.props.type;

      return createVNode(2, 'div', {
        'id': this.get_id(),
        'className': 'type--' + type,
        'style': { width: '100%', height: '100%' }
      }, [type ? this.render_media() : null, this.render_styles()]);
    }
  }, {
    key: 'render_media',
    value: function render_media() {
      var _props = this.props,
          type = _props.type,
          videoSrc = _props.videoSrc,
          imgSrc = _props.imgSrc;

      if (videoSrc) return this.render_media_video(videoSrc);
      return this.render_media_image(imgSrc);
    }
  }, {
    key: 'render_media_video',
    value: function render_media_video(src) {
      return createVNode(16, _reactPlayer2.default, {
        'id': this.get_id() + '_src',
        'className': 'background-media_src',
        'url': src,
        'playing': true,
        'loop': true,
        'volume': 0,
        'vimeoConfig': vimeoConfig,
        'width': '100%',
        'height': '100%',
        'style': style_bg_image,
        'onStart': this.onVideoStart
      });
    }
  }, {
    key: 'render_media_image',
    value: function render_media_image(src) {
      // id={getId('Header-bg-media')}
      return createVNode(2, 'div', {
        'id': this.get_id() + '_src',
        'className': 'background-media_src',
        'style': (0, _assign2.default)({ backgroundImage: 'url(' + src + ')' }, style_bg_image)
      });
    }
  }, {
    key: 'render_styles',
    value: function render_styles() {
      if (this.styles) return this.styles;
      this.styles = createVNode(16, _components.Style, {
        'scope': '#' + this.get_id(),
        children: '\n        :scope {\n          bg-clr -- chroma-box\n\n          .background-media_src {\n            chroma-filter--gradient-map\n          }\n\n          iframe {\n            width -- 100vw !important\n            // 9/16*100 = 56.25\n            height -- 56.25vw !important\n            min-height -- 100vh\n            // 16/9*100 = 177.77\n            min-width -- 177.77vh\n            position -- absolute\n            top -- 50%\n            left -- 50%\n            transform -- translate(-50%, -50%)\n          }\n        }\n      '
      }, null, null, '#' + this.get_id());
      return this.styles;
    }
  }]);
  return BackgroundMedia;
}(_infernoCompat2.default.Component);

BackgroundMedia.displayName = 'BackgroundMedia';
exports.default = BackgroundMedia;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 756 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _AbstractMediaUploader = __webpack_require__(255);

var _AbstractMediaUploader2 = _interopRequireDefault(_AbstractMediaUploader);

var _components = __webpack_require__(45);

var _reactS3Uploader = __webpack_require__(193);

var _reactS3Uploader2 = _interopRequireDefault(_reactS3Uploader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var AbstractMediaUploaderInterface = function (_AbstractMediaUploade) {
  (0, _inherits3.default)(AbstractMediaUploaderInterface, _AbstractMediaUploade);

  function AbstractMediaUploaderInterface() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AbstractMediaUploaderInterface);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AbstractMediaUploaderInterface.__proto__ || (0, _getPrototypeOf2.default)(AbstractMediaUploaderInterface)).call.apply(_ref, [this].concat(args))), _this), _this.delegateClickFor = function (fieldName) {
      return function (event) {
        event.stopPropagation();
        event.preventDefault();
        _infernoCompat2.default.findDOMNode(_this.refs[fieldName]).click();
      };
    }, _this.clearImageFor = function (fieldName) {
      return function (event) {
        di.ls.remove('site_media_content');
        _this.isUploading = false;
        _this.isFinishedUploading = false;

        event.stopPropagation();
        event.preventDefault();

        var site = _this.state.site;

        if (site) site.config.content = [];

        _this.resetFileInput(fieldName);
        _this.setState({ site: site, deleted: true, loading: 'loading' });

        setTimeout(function () {
          _this.setState({ loading: 'loaded' });
        }, 1000);
      };
    }, _this.resetFileInput = function (fieldName) {
      var field = _this.refs[fieldName];
      if (field) {
        _infernoCompat2.default.findDOMNode(field).value = '';
      }
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AbstractMediaUploaderInterface, [{
    key: 'renderMediaicon',
    value: function renderMediaicon() {
      var fieldName = 'content';
      var label = 'mediaicon';
      var tip = 'Featured at the top of your site as a background';
      var site = this.state.site;


      if (this.isUploading) return createVNode(16, _components.LogoLoader);

      // empty array by default
      // const mediaContent = site.config[fieldName] || []
      // @SEE: header

      var _di$ss$headerMediaInf = di.ss.headerMediaInfo(),
          isVideo = _di$ss$headerMediaInf.isVideo,
          imgSrc = _di$ss$headerMediaInf.imgSrc,
          mediaContent = _di$ss$headerMediaInf.mediaContent,
          firstMediaObj = _di$ss$headerMediaInf.firstMediaObj,
          has = _di$ss$headerMediaInf.has; // site


      console.debug({ mediaContent: mediaContent, site: site, has: has, isVideo: isVideo, imgSrc: imgSrc });

      var clearOrUpload;
      if (has) {
        clearOrUpload = createVNode(2, 'div', {
          'className': 'upload--div'
        }, [this.imagePreviewFor(imgSrc), createVNode(2, 'div', {
          'data-tip': tip
        }, createVNode(16, _components.Button, {
          'className': 'button--clear',
          'label': 'Clear ' + label,
          'onClick': this.clearImageFor(fieldName)
        }))]);
      } else {
        clearOrUpload = createVNode(2, 'div', {
          'className': 'upload--div',
          'data-tip': tip
        }, [createVNode(2, 'div', {
          'className': 'button--upload',
          'data-tip': 'upload'
        }, createVNode(2, 'i', {
          'className': 'material-icons icon'
        }, 'publish'), {
          'onClick': this.delegateClickFor(fieldName)
        }), createVNode(2, 'div', {
          'data-tip': tip
        }, createVNode(16, _components.Button, {
          'className': 'button--clear',
          'label': 'Upload ' + label,
          'onClick': this.delegateClickFor(fieldName)
        }))]);
      }

      return createVNode(2, 'div', null, [clearOrUpload, createVNode(16, _reactS3Uploader2.default, (0, _extends3.default)({
        'style': { display: 'none' },
        'name': fieldName
      }, this.getS3Config(fieldName)), null, null, null, fieldName)]);
    }
  }, {
    key: 'imagePreviewFor',
    value: function imagePreviewFor(src, extraProps) {
      // console.error({src})
      // style={{
      //   height: '50px',
      // }}
      return createVNode(2, 'img', {
        'src': src,
        'className': 'button--upload--preview'
      });
    }
  }, {
    key: 'getS3Config',
    value: function getS3Config(fieldName) {
      var accept = fieldName === 'logo' ? 'image/gif, image/png, image/svgxml' : 'image/*';
      return {
        server: 'https://api.thegrid.io',
        signingUrl: '/share/sign',
        accept: accept,
        onProgress: this.onUploadProgress(fieldName),
        onError: this.onUploadError(fieldName),
        onFinish: this.onUploadFinish(fieldName),
        signingUrlHeaders: { Authorization: 'Bearer ' + di.token },
        uploadRequestHeaders: {} };
    }
  }]);
  return AbstractMediaUploaderInterface;
}(_AbstractMediaUploader2.default);

exports.default = AbstractMediaUploaderInterface;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 757 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _keys = __webpack_require__(11);

var _keys2 = _interopRequireDefault(_keys);

var _assign = __webpack_require__(8);

var _assign2 = _interopRequireDefault(_assign);

exports.default = function () {
  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  var defaults = {
    uploaders: {
      avatar: {
        onReset: 'onReset',
        onFinish: 'onFinish',
        onClear: '',
        showClear: true,
        refName: 'refName',
        tip: ''
      }
    }
  };

  options = (0, _assign2.default)(defaults, options);

  var uploaders = (0, _keys2.default)(options.uploaders);
  var firstUploader = uploaders[0];
  var uploader = options.uploaders[firstUploader];

  return function decorate(target) {
    var _class;

    var DecoratedMediaUploader = (0, _coreDecorators.autobind)(_class = function (_target) {
      (0, _inherits3.default)(DecoratedMediaUploader, _target);

      function DecoratedMediaUploader() {
        var _ref;

        var _temp, _this, _ret;

        (0, _classCallCheck3.default)(this, DecoratedMediaUploader);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }

        return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = DecoratedMediaUploader.__proto__ || (0, _getPrototypeOf2.default)(DecoratedMediaUploader)).call.apply(_ref, [this].concat(args))), _this), _this.uploaderClearImageFor = function (fieldName) {
          return function (event) {
            event.stopPropagation();
            event.preventDefault();

            _this.isUploading = false;
            _this.isFinishedUploading = false;

            _this.uploaderResetFileInput(fieldName);
            _this.setState({ loading: 'loading' });

            // uploaders[fieldName].uploader()
            _this[uploader.onClear](fieldName);

            // @TODO: only if mounted
            setTimeout(function () {
              return _this.setState({ loading: 'loaded' });
            }, 1000);
          };
        }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
      }

      (0, _createClass3.default)(DecoratedMediaUploader, [{
        key: 'uploaderMergeOptions',


        // updating the options if data changes
        // @TODO: and set options
        value: function uploaderMergeOptions(newOptions) {
          options = (0, _assign2.default)(options, newOptions);
        }

        // renderers --------------

        // @TODO:
        // - [ ] group the multi ones and single reusable ones

        // @TODO:
        // - [ ] loop uploaders here

      }, {
        key: 'renderUploader',
        value: function renderUploader(options) {
          return createVNode(2, 'div', null, [this.uploaderRenderProgress(options), this.uploaderRenderS3Uploader(options)], null, 's3-uploader-div');

          return [this.uploaderRenderProgress(options), this.uploaderRenderS3Uploader(options)];
        }
      }, {
        key: 'uploaderRenderUploadIconAndButton',
        value: function uploaderRenderUploadIconAndButton(options) {
          var uploadTip = options.uploadTip;


          return createVNode(2, 'div', {
            'className': 'upload--div',
            'data-tip': uploadTip
          }, [this.uploaderRenderUploadIcon(options), this.uploaderRenderClearButton(options)], null, 'uploader-upload-icon-and-button-div');
        }
      }, {
        key: 'uploaderRenderPreviewWithClearButton',
        value: function uploaderRenderPreviewWithClearButton(options) {
          var fieldName = options.fieldName,
              clearTip = options.clearTip,
              label = options.label;


          return createVNode(2, 'div', {
            'className': 'upload--div'
          }, [this.uploaderImagePreviewFor(options), this.uploaderRenderUploadButton(options)], null, 'uploader-upload-div' + label);
        }
      }, {
        key: 'uploaderRenderClearButton',
        value: function uploaderRenderClearButton(options) {
          var fieldName = options.fieldName,
              clearTip = options.clearTip,
              label = options.label;


          return createVNode(2, 'div', {
            'data-tip': clearTip
          }, createVNode(16, _components.Button, {
            'className': 'button--clear',
            'label': 'Clear ' + label,
            'onClick': this.uploaderClearImageFor(fieldName)
          }), null, 'uploader-clear-button' + clearTip);
        }

        // @TODO:

      }, {
        key: 'uploaderRenderUploadIcon',
        value: function uploaderRenderUploadIcon(options) {
          var uploadTip = options.uploadTip,
              fieldName = options.fieldName;

          return createVNode(2, 'div', {
            'className': 'button--upload',
            'data-tip': 'upload'
          }, createVNode(2, 'i', {
            'className': 'material-icons icon'
          }, 'publish'), {
            'onClick': this.uploaderDelegateClickFor(fieldName)
          }, 'uploader-upload-icon-button' + uploadTip);
        }
      }, {
        key: 'uploaderRenderUploadButton',
        value: function uploaderRenderUploadButton(options) {
          var fieldName = options.fieldName,
              uploadTip = options.uploadTip,
              label = options.label;


          return createVNode(2, 'div', {
            'data-tip': uploadTip
          }, createVNode(16, _components.Button, {
            'className': 'button--upload',
            'label': 'Upload ' + label,
            'onClick': this.uploaderDelegateClickFor(fieldName)
          }), null, 'uploader-upload-button' + uploadTip);
        }
      }, {
        key: 'uploaderRenderFor',
        value: function uploaderRenderFor(options) {
          var imgSrc = options.imgSrc;

          // render preview (with onClick upload)
          // and the clear button

          if (imgSrc) return this.uploaderRenderPreviewWithClearButton(options);

          // render upload icon,
          // and the upload button
          return this.uploaderRenderUploadIconAndButton();
        }
      }, {
        key: 'uploaderRenderProgressAndS3',
        value: function uploaderRenderProgressAndS3() {
          return [this.uploaderRenderProgress(), this.uploaderRenderS3Uploader()];
        }
      }, {
        key: 'uploaderPreviewWithLabels',
        value: function uploaderPreviewWithLabels(options) {
          return [this.uploaderRenderFor(options), this.uploaderRenderS3Uploader(options)];
        }
      }, {
        key: 'uploaderRenderProgress',
        value: function uploaderRenderProgress() {
          if (this.state.progress) return createVNode(16, _components.LogoLoader, null, null, null, 'uploader-logo-loader');
          return null;
        }

        // @TODO: for fieldname in state...

      }, {
        key: 'uploaderOnProgress',
        value: function uploaderOnProgress(fieldName) {
          this.setState({ progress: true });
        }

        // @TODO:

      }, {
        key: 'uploaderRenderPreviewForField',
        value: function uploaderRenderPreviewForField(fieldName) {}
      }, {
        key: 'uploaderRenderPreviewFor',
        value: function uploaderRenderPreviewFor(src) {
          if (this.isUploading) return createVNode(16, _components.LogoLoader);
          return createVNode(2, 'img', {
            'src': src,
            'className': 'button--upload--preview'
          });
        }

        // handlers --------------

      }, {
        key: 'uploaderOnError',
        value: function uploaderOnError(reason) {
          window.trackJs.track(reason);
          this.uploaderResetFileInput();
          this.setState({ progress: null, error: reason });
        }
      }, {
        key: 'uploaderUploadFinish',
        value: function uploaderUploadFinish(result) {
          this[uploader.onFinish](result);
          this.uploaderResetFileInput();
          this.setState({ progress: null, error: null, formStatus: 'SAVED' });
        }
      }, {
        key: 'uploaderResetFileInput',
        value: function uploaderResetFileInput(fieldName) {
          var field = this[fieldName];
          if (field) _infernoCompat2.default.findDOMNode(field).value = '';
        }

        // events --------

        // with multiple click handlers
        // we delegate to the handlers

      }, {
        key: 'uploaderDelegateClickFor',
        value: function uploaderDelegateClickFor(fieldName) {
          return this.uploaderHandleClickFor.bind(this);
        }
      }, {
        key: 'uploaderHandleClickFor',
        value: function uploaderHandleClickFor(event) {
          event.stopPropagation();
          event.preventDefault();

          // @TODO: this[fieldName]...
          _infernoCompat2.default.findDOMNode(this[uploader.refName]).click();
        }
      }, {
        key: 'uploaderStartEvent',
        value: function uploaderStartEvent(event) {
          event.stopPropagation();
          event.preventDefault();
          _infernoCompat2.default.findDOMNode(this[uploader.refName]).click();
        }
      }, {
        key: 'uploaderRenderS3UploaderFor',


        // s3 uploader --------

        value: function uploaderRenderS3UploaderFor(fieldName) {
          return createVNode(16, _reactS3Uploader2.default, (0, _extends3.default)({
            'style': { display: 'none' },
            'name': fieldName
          }, this.uploaderGetS3Config(fieldName)), null, null, 'react-s3-uploader-' + fieldName, fieldName);
        }
      }, {
        key: 'uploaderRenderS3Uploader',
        value: function uploaderRenderS3Uploader() {
          var refCb = function (uploaderRef) {
            this[uploader.refName] = uploaderRef;
          }.bind(this);

          return createVNode(16, _reactS3Uploader2.default, (0, _extends3.default)({
            'style': { display: 'none' },
            'name': uploader.refName
          }, this.uploaderGetS3Config()), null, null, 'react-s3-uploader', refCb);
        }
      }, {
        key: 'uploaderGetS3Config',
        value: function uploaderGetS3Config(fieldName) {
          var accept = fieldName === 'logo' ? 'image/gif, image/png, image/svgxml' : 'image/*';
          return {
            server: 'https://api.thegrid.io',
            signingUrl: '/share/sign',
            accept: accept,
            // onProgress: this.uploaderOnProgress(fieldName),
            // onError: this.uploaderOnError(fieldName),
            // onFinish: this.uploaderUploadFinish(fieldName),
            onProgress: this.uploaderOnProgress,
            onError: this.uploaderOnError,
            onFinish: this.uploaderUploadFinish,
            signingUrlHeaders: { Authorization: 'Bearer ' + di.token },
            uploadRequestHeaders: {} };
        }
      }]);
      return DecoratedMediaUploader;
    }(target)) || _class;

    return DecoratedMediaUploader;
  };
};

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _components = __webpack_require__(45);

var _reactS3Uploader = __webpack_require__(193);

var _reactS3Uploader2 = _interopRequireDefault(_reactS3Uploader);

var _coreDecorators = __webpack_require__(38);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TODO:
// - [ ] support for multiple uploaders (see site settings)
// - [ ] make open source lib
// - [ ] a bunch of stateless components?
// - [ ] shoot it needs to be diff param in renderers
var createVNode = Inferno.createVNode;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 758 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractMediaUploader = exports.MediaUploaderDecorator = exports.AbstractMediaUploaderInterface = undefined;

var _AbstractMediaUploaderInterface = __webpack_require__(756);

var _AbstractMediaUploaderInterface2 = _interopRequireDefault(_AbstractMediaUploaderInterface);

var _MediaUploaderDecorator = __webpack_require__(757);

var _MediaUploaderDecorator2 = _interopRequireDefault(_MediaUploaderDecorator);

var _AbstractMediaUploader = __webpack_require__(255);

var _AbstractMediaUploader2 = _interopRequireDefault(_AbstractMediaUploader);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _AbstractMediaUploaderInterface2.default;
exports.AbstractMediaUploaderInterface = _AbstractMediaUploaderInterface2.default;
exports.MediaUploaderDecorator = _MediaUploaderDecorator2.default;
exports.AbstractMediaUploader = _AbstractMediaUploader2.default;

/***/ }),
/* 759 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _style = __webpack_require__(256);

var _uiComponentDeprecated = __webpack_require__(14);

var _ItemCardStruct = __webpack_require__(760);

var _ItemCardStruct2 = _interopRequireDefault(_ItemCardStruct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ItemCard = function (_Component) {
  (0, _inherits3.default)(ItemCard, _Component);

  function ItemCard() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ItemCard);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ItemCard.__proto__ || (0, _getPrototypeOf2.default)(ItemCard)).call.apply(_ref, [this].concat(args))), _this), _this.perfCheckState = true, _this.state = {
      struct: undefined
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  // shouldUpdate only on setState with new struct


  (0, _createClass3.default)(ItemCard, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      var cell = this.context.cell;
      if (!cell) this.setState({ struct: new _ItemCardStruct2.default(this.props) });
      // TODO
      this.setState({ struct: new _ItemCardStruct2.default(this.props) });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(props) {
      var cell = this.context.cell;
      if (!cell) this.setState({ struct: new _ItemCardStruct2.default(this.props) });

      // if (!cell) this.setState({struct: this.state.struct.merge(props)})
      // TODO
      // this.setState({struct: this.state.struct.merge(props)})
      this.setState({ struct: new _ItemCardStruct2.default(this.props) });
    }
  }, {
    key: 'render',
    value: function render() {
      var struct = this.state.struct;
      return struct.get('renderContent');
    }
  }]);
  return ItemCard;
}(_uiComponentDeprecated.Component);

ItemCard.propTypes = {
  item: _infernoCompat2.default.PropTypes.object.isRequired,
  showEdited: _infernoCompat2.default.PropTypes.bool
};
ItemCard.contextTypes = {
  cell: _infernoCompat2.default.PropTypes.object
};
ItemCard.defaultProps = {
  showEdited: true
};
ItemCard.displayName = 'ItemCard';
ItemCard.staticStyle = _style.staticStyle;
ItemCard.Struct = _ItemCardStruct2.default;
exports.default = ItemCard;
module.exports = exports['default'];

/***/ }),
/* 760 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _helpers = __webpack_require__(251);

var _style = __webpack_require__(256);

var _styleverse = __webpack_require__(9);

var _uiRibbon = __webpack_require__(71);

var _getMulti = __webpack_require__(749);

var _VanillaStruct = __webpack_require__(106);

var _VanillaStruct2 = _interopRequireDefault(_VanillaStruct);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {Struct} from '@the-grid/immutable'
var createVNode = Inferno.createVNode;


var ItemCardStruct = (0, _VanillaStruct2.default)({
  // input
  item: undefined,
  showEdited: undefined,

  // computed
  id: {
    deps: ['item'],
    // get: item => 'card-' + item.id,
    get: function get(item) {
      if (item.toJS) item = item.toJS();
      return 'card-' + item.id;
    }
  },

  isPublished: {
    deps: ['item'],
    // get: item => itemHelper.isPublished(item),
    get: function get(item) {
      return _helpers.itemHelper.isPublished(item);
    }
  },

  isDraft: {
    deps: ['item'],
    get: function get(item) {
      return _helpers.itemHelper.isDraft(item);
    }
  },

  isNav: {
    deps: ['item'],
    get: function get(item) {
      return _helpers.itemHelper.isNav(item);
    }
  },

  // @TODO: if cached, then when we reorder won't show
  isEdited: {
    cache: true,
    deps: ['item', 'showEdited'],
    get: function get(item, showEdited) {
      if (!showEdited) return false;
      return _helpers.itemHelper.isEdited(item);
    }
  },

  colors: {
    deps: ['item'],
    // get: item =>_get(item, 'item.block.cover.colors'),
    get: function get(item) {
      return (0, _getMulti._get)(item, 'block.cover.colors');
    }
  },

  // don't want to cache these because we very well might update in ed
  coverURL: {
    // cache: false,
    deps: ['item'],
    get: function get(item) {
      if (item.toJS) item = item.toJS();

      var _getMultiMapped = (0, _getMulti.getMultiMapped)(item, {
        src: 'block.cover.src',
        unsalvagable: 'block.cover.unsalvageable'
      }),
          src = _getMultiMapped.src,
          unsalvagable = _getMultiMapped.unsalvagable,
          starredSrc = _getMultiMapped.starredSrc;

      if (item.starred && item.starred[0] && item.starred[0].cover && item.starred[0].cover.src) starredSrc = item.starred[0].cover.src;

      if (!src && !starredSrc) return undefined;
      if (!src && starredSrc) src = starredSrc;

      // @NOTE imgflo isn't smart enough to deal with types of images
      return 'url(' + (0, _helpers.imgFloExt)('passthrough', { input: src, width: 360 }) + ')';
    }
  },
  renderCover: {
    // cache: false,
    deps: ['id', 'coverURL'],
    get: function get(id, coverURL) {
      if (!coverURL) return null;
      return createVNode(2, 'div', {
        'id': id + '-cover',
        'style': { background: coverURL },
        'className': 'grid-card-cover'
      });
    }
  },

  renderTextBox: {
    deps: ['id', 'item'],
    get: function get(id, item) {
      if (item.toJS) item = item.toJS();

      var title, description, attr;

      if (item.metadata) {
        ;
        var _item$metadata = item.metadata;
        title = _item$metadata.title;
        description = _item$metadata.description;
      }if (item.publisher) attr = item.publisher.name;

      // if none of them are here, don't use it
      if (!title && !description && !attr) return null;

      // if some of them are here, use them
      if (title) title = createVNode(2, 'h3', {
        'id': id + '-title',
        'className': 'grid-card-title'
      }, title);
      if (description) description = createVNode(2, 'h5', {
        'id': id + '-desc',
        'className': 'grid-card-desc'
      }, description);
      if (attr) title = createVNode(2, 'h5', {
        'id': id + '-attr',
        'className': 'grid-card-attr'
      }, ['From ', createVNode(2, 'span', {
        'id': id + '-attr-pop',
        'className': 'grid-card-attr-pop'
      }, attr)]);

      return createVNode(2, 'div', {
        'id': id + '-text-content',
        'className': 'grid-card-text-content'
      }, createVNode(2, 'div', {
        'id': id + '-text-content-inner',
        'className': 'grid-card-text-content-inner'
      }, [attr, title, description]));
    }
  },

  renderEditedLine: {
    deps: ['isEdited', 'isDraft'],
    get: function get(isEdited, isDraft) {
      if (!isEdited || isDraft) return null;
      return createVNode(2, 'div', {
        'className': 'edited-line'
      }, 'unpublished edits');
    }
  },

  renderEditedRibbon: {
    deps: ['isEdited', 'isDraft', 'isNav'],
    get: function get(isEdited, isDraft, isNav) {
      if (!isEdited || isDraft || isNav) return null;
      return createVNode(16, _uiRibbon.Ribbon, {
        children: 'edited'
      });
    }
  },

  renderNavRibbon: {
    deps: ['isNav'],
    get: function get(isNav) {
      if (!isNav) return null;
      return createVNode(16, _uiRibbon.Ribbon, {
        children: 'nav'
      });
    }
  },

  renderChromaStyle: {
    deps: ['id', 'colors'],
    get: function get(id, colors) {
      if (!colors) return null;

      // simple computed prop...
      // but worth it b/c the cache, as you should w/ stateless components
      return (0, _style.chromaStyle)(id);
    }
  },

  renderContent: {
    // cache: false,
    deps: ['id', 'colors', 'renderCover', 'renderTextBox', 'renderChromaStyle', 'renderEditedRibbon', 'renderNavRibbon'],
    get: function get(id, colors, renderCover, renderTextBox, renderChromaStyle, renderEditedRibbon, renderNavRibbon) {
      var cardClassNames = 'grid-card';

      // set *persistent* default bg color based on id char
      cardClassNames += ' grid-card-bg-default' + id.charCodeAt(7) % 9;

      var rendered = createVNode(2, 'div', {
        'id': id,
        'className': cardClassNames
      }, [renderCover, renderTextBox, renderEditedRibbon, renderNavRibbon], null, id);

      if (!colors) return rendered;

      return createVNode(16, _styleverse.Styleverse, {
        'chroma': { colors: colors, renderCSS: false },
        children: createVNode(2, 'div', null, [renderChromaStyle, rendered])
      }, null, null, id + 'colorverse');
    }
  }
});

exports.default = ItemCardStruct;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 761 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ItemCard = __webpack_require__(759);

var _ItemCard2 = _interopRequireDefault(_ItemCard);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _ItemCard2.default;
module.exports = exports['default'];

/***/ }),
/* 762 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _button = __webpack_require__(43);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// TODO: @marsch: should be moved to the app-config
var UNIREGISTRY_URL = 'https://uniregistry.com/thegrid';
var RETURN_PATH = '/app/create-site/addDomainSuccess';

var createVNode = Inferno.createVNode;

var AddDomain = function (_Component) {
  (0, _inherits3.default)(AddDomain, _Component);

  function AddDomain() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, AddDomain);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = AddDomain.__proto__ || (0, _getPrototypeOf2.default)(AddDomain)).call.apply(_ref, [this].concat(args))), _this), _this.addDomain = function () {
      var _this$props = _this.props,
          siteID = _this$props.siteID,
          currentSite = _this$props.currentSite,
          user = _this$props.user;

      var userId = currentSite.owner;
      var userEmail = user.email;
      var RETURN_URL = encodeURIComponent('' + window.location.origin + RETURN_PATH);
      window.location.href = UNIREGISTRY_URL + '?partnerID=thegrid&userID=' + userId + '&siteID=' + siteID + '&email=' + userEmail + '&returnUrl=' + RETURN_URL;
    }, _this.skip = function () {
      _this.props.onSkip();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(AddDomain, [{
    key: 'render',
    value: function render() {
      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
        'className': 'WizStep-content fill'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, [createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, 'Your page was created successfully!'), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'WizStep-message-line even'
      }, 'Do you want to purchase a domain for your site?')]), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      }, [createVNode(16, _button.Button, {
        'className': 'WizStep-button suggest',
        'label': 'Skip',
        'onClick': this.skip
      }), createVNode(16, _button.Button, {
        'className': 'WizStep-button continue',
        'label': 'Purchase Domain',
        'type': 'submit',
        'onClick': this.addDomain
      })])]));
    }
  }]);
  return AddDomain;
}(_uiComponentDeprecated.Component);

;

exports.default = AddDomain;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 763 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _button = __webpack_require__(43);

var _uiLogoLoader = __webpack_require__(79);

var _uiComponentDeprecated = __webpack_require__(14);

var _querystring = __webpack_require__(187);

var _querystring2 = _interopRequireDefault(_querystring);

var _url = __webpack_require__(201);

var _url2 = _interopRequireDefault(_url);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TODO: use my parser for this
var COMPLETE = 'complete';
// const PENDING = 'pending'
// const CANCELLED = 'cancelled'
// const FAILED = 'failed'

var createVNode = Inferno.createVNode;

var AddDomainSuccess = function (_Component) {
  (0, _inherits3.default)(AddDomainSuccess, _Component);

  function AddDomainSuccess(props) {
    (0, _classCallCheck3.default)(this, AddDomainSuccess);

    var _this = (0, _possibleConstructorReturn3.default)(this, (AddDomainSuccess.__proto__ || (0, _getPrototypeOf2.default)(AddDomainSuccess)).call(this, props));

    _this.saveDomain = function (domain, site) {

      // @TODO:
      // - [ ] FIX FOR VALIDATION
      // - [ ] use a better parser :3
      var _url$parse = _url2.default.parse(domain, false, false),
          host = _url$parse.host,
          pathname = _url$parse.pathname;

      site.url = domain;
      site.path = pathname || null;
      site.domain = host || null;

      return window.G.actions.sites.saveSite(site).then(function () {
        window.G.actions.sites.saveSite(site);
        _this.setState({ loading: 'loaded' });
      }).catch(function (err) {
        console.warn('finished with error', err);
        _this.setState({ loading: 'failed' });
      });
    };

    var query = {};
    if (location.search) {
      query = _querystring2.default.parse(location.search.substr(1));
    }

    var _query = query,
        userID = _query.userID,
        siteID = _query.siteID,
        domainName = _query.domainName,
        orderId = _query.orderId,
        status = _query.status;


    var isValid = userID && siteID && domainName && orderId && status && status === COMPLETE;
    _this.state = {
      query: query,
      isValid: isValid,
      loading: isValid ? 'loading' : undefined
    };
    isValid && _this.saveDomain('http://' + domainName, props.site);
    return _this;
  }

  (0, _createClass3.default)(AddDomainSuccess, [{
    key: 'render',
    value: function render() {
      var _state = this.state,
          isValid = _state.isValid,
          loading = _state.loading,
          query = _state.query;


      if (loading === 'loading') {
        return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
          'className': 'WizStep-content fill'
        }, createVNode(16, _uiLogoLoader.LogoLoader)));
      }

      if (!isValid || loading === 'failed') {
        console.warn('something went wrong', query, loading);
        return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
          'className': 'WizStep-content fill'
        }, [createVNode(2, 'header', {
          'className': 'WizStep-message'
        }, [createVNode(2, 'span', {
          'className': 'WizStep-message-line odd'
        }, 'Something went wrong.'), createVNode(2, 'br'), createVNode(2, 'span', {
          'className': 'WizStep-message-line even'
        })]), createVNode(2, 'footer', {
          'className': 'WizStep-footer'
        }, createVNode(16, _button.Button, {
          'className': 'WizStep-button continue',
          'label': 'Continue',
          'onClick': this.props.onComplete
        }))]));
      }

      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
        'className': 'WizStep-content fill'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, [createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, 'We added your domain.'), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'WizStep-message-line even'
      })]), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      }, createVNode(16, _button.Button, {
        'className': 'WizStep-button continue',
        'label': 'Continue',
        'onClick': this.props.onComplete
      }))]));
    }
  }]);
  return AddDomainSuccess;
}(_uiComponentDeprecated.Component);

;

exports.default = AddDomainSuccess;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 764 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiColor = __webpack_require__(101);

var _button = __webpack_require__(43);

var _uiComponentDeprecated = __webpack_require__(14);

var _styleverse = __webpack_require__(9);

var _enhance = __webpack_require__(147);

var _enhance2 = _interopRequireDefault(_enhance);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var ChooseColor = function (_Component) {
  (0, _inherits3.default)(ChooseColor, _Component);

  function ChooseColor(props) {
    (0, _classCallCheck3.default)(this, ChooseColor);

    var _this = (0, _possibleConstructorReturn3.default)(this, (ChooseColor.__proto__ || (0, _getPrototypeOf2.default)(ChooseColor)).call(this, props));

    _this.state = {
      palette: null };
    _this.onSubmit = _this.onSubmit.bind(_this);
    return _this;
  }

  (0, _createClass3.default)(ChooseColor, [{
    key: 'prepareState',
    value: function prepareState(props) {
      if (props.value instanceof Array) {
        this.setState({ palette: props.value });
      } else if (props.value && typeof props.value.toJS == 'function') {
        this.setState({ palette: props.value.toJS() });
      } else if (typeof props.value == 'function') {
        this.setState({ palette: props.value() });
      } else if (!this.state.palette) {
        this.setState({ palette: _uiColor.palettes.getRandom() });
      }
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.prepareState(this.props);
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.prepareState(nextProps);
    }
  }, {
    key: 'render',
    value: function render() {
      var palette = this.state.palette;
      var sel = this.sel;

      // @NOTE: sillyness is preventing this from scrolling... oh well.
      return createVNode(34, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), [createVNode(2, 'style', null, '\n            html, html *:not(#fab) {\n              overflow-y: auto !important;\n            }\n          '), createVNode(16, _styleverse.Style, {
        'perf': true,
        'scope': sel(),
        children: '\n            :scope .brand-palette {\n              w--100%\n              h--3em\n              bdr-rad--2\n              box-sh--l\n              d--flx\n            }\n            :scope .brand-color {\n              w--20%\n              h--100%\n              flx-grow--1\n              flx-shrink--1\n              trans -- .25s width ease-out .1s\n            }\n            :scope .brand-color:hover {\n              w--33.33333333%\n            }\n          '
      }, null, null, sel()), createVNode(2, 'div', {
        'className': 'WizStep-content'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, [createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, 'Color Palette.'), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'WizStep-message-line even'
      }, [this.getQuestion(), '?'])]), createVNode(2, 'section', {
        'className': 'WizStep-body'
      }, createVNode(2, 'div', {
        'className': 'spring--3 brand-palette'
      }, palette.map(function (color, i) {
        return createVNode(2, 'div', {
          'className': 'brand-color',
          'style': { backgroundColor: color }
        }, null, null, 'color-' + i);
      }), {
        'onClick': this.props.onChoose
      })), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      }, [createVNode(16, _button.Button, {
        'qa-data-testing': 'wiz--button--suggest',
        'className': 'WizStep-button suggest',
        'label': 'Choose a new color',
        'onClick': this.props.onChoose
      }), createVNode(16, _button.Button, {
        'qa-data-testing': 'wiz--button--continue',
        'className': 'WizStep-button continue',
        'label': 'Continue',
        'type': 'submit',
        'onClick': this.onSubmit
      })])])]);
    }
  }, {
    key: 'onSubmit',
    value: function onSubmit(e) {
      e.preventDefault();
      e.stopPropagation();

      this.props.onSubmit(this.state.palette);

      // G.actions.authSetNickname(this.state.nickname);
      // G.history.push(`/hello/sitename`);
    }
  }, {
    key: 'onChange',
    value: function onChange(_ref) {
      var value = _ref.value;

      this.setState({ rating: value });
    }
  }, {
    key: 'getQuestion',
    value: function getQuestion() {
      if (this.props.getQuestion) {
        return this.props.getQuestion();
      }
      // const qs = ['What you think','Any good','You like','To your liking','Good enough','how do you rate'];
      // const q = qs[Math.floor(Math.random()*qs.length)];
      return 'How do you like it';
    }
  }]);
  return ChooseColor;
}(_uiComponentDeprecated.Component);

exports.default = (0, _enhance2.default)(ChooseColor);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 765 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiWizard = __webpack_require__(44);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var ChooseHeaderMedia = function (_React$Component) {
  (0, _inherits3.default)(ChooseHeaderMedia, _React$Component);

  function ChooseHeaderMedia() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ChooseHeaderMedia);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ChooseHeaderMedia.__proto__ || (0, _getPrototypeOf2.default)(ChooseHeaderMedia)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      selection: undefined
    }, _this.onClickUploadBackgroundImage = function () {
      return _this.props.onSubmit('image');
    }, _this.onClickBackgroundImageLink = function () {
      return _this.props.onSubmit('image-link');
    }, _this.onClickUseVideo = function () {
      return _this.props.onSubmit('video');
    }, _this.onClickSelectFromPublishedContent = function () {
      return _this.props.onSubmit('item');
    }, _this.onClickDelete = function () {
      return _this.props.onSubmit('delete');
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  // const ADD_HEADER_IMAGE = 'add-image'
  // const ADD_HEADER_VIDEO = 'add-video'
  // const CHOOSE_INTERNAL_MEDIA = 'select-item'


  (0, _createClass3.default)(ChooseHeaderMedia, [{
    key: 'render',


    //  - `upload background image`
    //  - `use youtube or vimeo video for background`
    //  - ***`select background from published content`
    //  - `delete background` (if applicable)
    // - cancel button
    value: function render() {
      var _props = this.props,
          header = _props.header,
          onCancel = _props.onCancel,
          hasHeaderMedia = _props.hasHeaderMedia;

      var onDelete = null;

      // @TODO:
      // if (hasHeaderMedia)
      onDelete = createVNode(2, 'li', null, 'Remove current background', {
        'onClick': this.onClickDelete
      });

      return createVNode(16, _uiWizard.WizardStep, {
        'onCancel': onCancel,
        children: [createVNode(16, _styleverse.Style, {
          children: '\n          .choose-cta-list {\n            w -- 100%\n          }\n          .choose-cta-list li {\n            ln-h -- 2em\n            cur -- p\n            clr -- chroma-text\n          }\n          .choose-cta-list li:hover {\n            clr -- chroma-text-pop\n          }\n        '
        }), createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(16, _uiWizard.WizardBody, {
          children: createVNode(2, 'ul', {
            'className': 'choose-cta-list'
          }, [createVNode(2, 'li', null, 'Upload background image', {
            'onClick': this.onClickUploadBackgroundImage
          }), createVNode(2, 'li', null, 'Share background image link', {
            'onClick': this.onClickBackgroundImageLink
          }), createVNode(2, 'li', null, 'Use a YouTube or Vimeo video', {
            'onClick': this.onClickUseVideo
          }), createVNode(2, 'li', null, 'Select from your published content', {
            'onClick': this.onClickSelectFromPublishedContent
          }), onDelete])
        })]
      });
    }
  }]);
  return ChooseHeaderMedia;
}(_infernoCompat2.default.Component);

exports.default = ChooseHeaderMedia;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 766 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _dec, _dec2, _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _itemCard = __webpack_require__(761);

var _itemCard2 = _interopRequireDefault(_itemCard);

var _components = __webpack_require__(45);

var _uiWizard = __webpack_require__(44);

var _coreDecorators = __webpack_require__(38);

var _connectState = __webpack_require__(746);

var _renderWhenReady = __webpack_require__(745);

var _renderWhenReady2 = _interopRequireDefault(_renderWhenReady);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;
var ChooseItem2 = (_dec = (0, _renderWhenReady2.default)({
  state: { items: true }
}), _dec2 = (0, _connectState.connectState)(['items.data'], function (data) {
  if (!data) return null;
  return {
    items: data,
    loading: 'loaded',
    ready: true
  };
}), (0, _coreDecorators.autobind)(_class = _dec(_class = _dec2(_class = (0, _coreDecorators.autobind)(_class = function (_React$Component) {
  (0, _inherits3.default)(ChooseItem2, _React$Component);

  function ChooseItem2() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, ChooseItem2);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = ChooseItem2.__proto__ || (0, _getPrototypeOf2.default)(ChooseItem2)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      sitename: '',
      loading: 'loading'
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(ChooseItem2, [{
    key: 'onClickCard',
    value: function onClickCard(e) {
      console.debug(e.target);
      if (!e || !e.target || !e.target.type) {
        return false;
      }

      if (e.target.type == 'item') {
        var item = e.target.item;
        this.props.onSubmit(item);
      }
    }

    // props, state

  }, {
    key: 'render',
    value: function render(_ref2, _ref3) {
      var _this2 = this;

      var header = _ref2.header,
          onCancel = _ref2.onCancel;
      var items = _ref3.items;

      var stepConfig = { onCancel: onCancel, items: items };
      return createVNode(16, _uiWizard.WizardStep, (0, _extends3.default)({}, stepConfig, {
        children: [createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(2, 'div', null, this.renderCards(items), {
          'onClick': function onClick(e) {
            _this2.onClickCard(e);
          }
        })]
      }));
    }
  }, {
    key: 'renderEmptyState',
    value: function renderEmptyState() {
      return createVNode(2, 'div', {
        'className': 'Emptystate_content overlay-filter-target'
      }, createVNode(2, 'div', {
        'className': 'Emptystate_content_text_long'
      }, 'You\'ll need published content to choose from.'));
    }
  }, {
    key: 'renderLoadError',
    value: function renderLoadError() {
      return createVNode(2, 'div', {
        'className': 'overlay-filter-target'
      }, 'Failed to load items');
    }
  }, {
    key: 'renderCards',
    value: function renderCards(items) {
      // if (this.state.loading == 'failed') return this.renderLoadError()
      if (items.length === 0) return this.renderEmptyState();
      return this.renderLoaded(items);
    }
  }, {
    key: 'renderLoaded',
    value: function renderLoaded(items) {
      // const itemCount = this.props.totalItems
      // if (itemCount === 0 || this.state.busy)
      //   return <section className="WizStep-body WizStep-choose-item cards"><LogoLoader /></section>

      return createVNode(2, 'section', {
        'className': 'WizStep-body WizStep-choose-item cards',
        'id': 'cards-selector'
      }, createVNode(16, _components.Grid, {
        'virtualized': true,
        'items': items,
        'itemCount': items.length,
        'getItemId': function getItemId(item) {
          return 'item-' + item.id;
        },
        'draggableOrder': false,
        'onOrderChange': function onOrderChange() {},
        'onRangeChange': this.onRangeChange,
        'scrollingElementId': 'cards-selector',
        'computeLayout': function computeLayout() {
          return {
            colsMin: 1,
            colsMax: 8,
            cellWidthMin: 128,
            cellWidthMax: 720,
            gutterMin: 32,
            gutterMax: 96,
            cellRatio: 3 / 4
          };
        },
        'renderBefore': function renderBefore() {
          return createVNode(2, 'span', null, _itemCard2.default.staticStyle('.grid-card'));
        },
        'renderItem': function renderItem(item) {
          return createVNode(2, 'div', {
            'className': 'action-card'
          }, createVNode(16, _itemCard2.default, {
            'item': item,
            'showEdited': false
          }), {
            'onClick': function onClick(e) {
              e.target = { type: 'item', item: item };
            }
          });
        }
      }));
    }
  }]);
  return ChooseItem2;
}(_infernoCompat2.default.Component)) || _class) || _class) || _class) || _class);
exports.default = ChooseItem2;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 767 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiWizard = __webpack_require__(44);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// @TOOD: confirmText
var createVNode = Inferno.createVNode;

var Confirm = function (_React$Component) {
  (0, _inherits3.default)(Confirm, _React$Component);

  function Confirm() {
    var _ref;

    var _temp, _this, _ret;

    (0, _classCallCheck3.default)(this, Confirm);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = Confirm.__proto__ || (0, _getPrototypeOf2.default)(Confirm)).call.apply(_ref, [this].concat(args))), _this), _this.onCancel = function (e) {
      e.preventDefault();
      e.stopPropagation();

      // @TODO: go back
      if (_this.props.onCancel) _this.props.onCancel();
    }, _this.onSubmit = function (e) {
      e.preventDefault();
      e.stopPropagation();
      _this.props.onSubmit();
    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);
  }

  (0, _createClass3.default)(Confirm, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          header = _props.header,
          infoMessage = _props.infoMessage,
          placeholder = _props.placeholder,
          validate = _props.validate,
          onCancel = _props.onCancel,
          cancelIcon = _props.cancelIcon,
          type = _props.type;


      var stepConfig = {
        validate: validate,
        submit: this.onSubmit,
        onCancel: onCancel,
        cancelIcon: cancelIcon
      };

      return createVNode(16, _uiWizard.WizardStep, (0, _extends3.default)({}, stepConfig, {
        children: [createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(16, _uiWizard.WizardFooter, {
          'secondaryLabel': 'Yes, delete',
          'onSecondary': this.onSubmit,
          'primaryLabel': 'No, cancel',
          'onPrimary': this.onCancel
        })]
      }));
    }
  }]);
  return Confirm;
}(_infernoCompat2.default.Component);

exports.default = Confirm;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 768 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _components = __webpack_require__(45);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Dialog = function (_Component) {
  (0, _inherits3.default)(Dialog, _Component);

  function Dialog() {
    (0, _classCallCheck3.default)(this, Dialog);
    return (0, _possibleConstructorReturn3.default)(this, (Dialog.__proto__ || (0, _getPrototypeOf2.default)(Dialog)).apply(this, arguments));
  }

  (0, _createClass3.default)(Dialog, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          primaryLabel = _props.primaryLabel,
          header = _props.header,
          infoMessage = _props.infoMessage,
          onCancel = _props.onCancel,
          cancelIcon = _props.cancelIcon,
          customStyles = _props.customStyles;


      var footerConfig = {
        secondaryLabel: 'Cancel',
        onSecondary: this.props.onCancel,
        primaryLabel: primaryLabel || 'Continue',
        onPrimary: this.props.onSubmit
      };

      var stepConfig = {
        submit: this.submit,
        onCancel: onCancel,
        customStyles: customStyles,
        cancelIcon: cancelIcon,
        header: header,
        infoMessage: infoMessage,
        footerConfig: footerConfig
      };

      return createVNode(16, _components.WizardStep, (0, _extends3.default)({}, stepConfig));
    }
  }]);
  return Dialog;
}(_components.Component);

exports.default = Dialog;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 769 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _button = __webpack_require__(43);

var _uiComponentDeprecated = __webpack_require__(14);

var _axios = __webpack_require__(279);

var _axios2 = _interopRequireDefault(_axios);

var _url = __webpack_require__(201);

var _url2 = _interopRequireDefault(_url);

var _validators = __webpack_require__(146);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var GetOnView = function (_Component) {
  (0, _inherits3.default)(GetOnView, _Component);

  function GetOnView(props) {
    (0, _classCallCheck3.default)(this, GetOnView);

    var _this = (0, _possibleConstructorReturn3.default)(this, (GetOnView.__proto__ || (0, _getPrototypeOf2.default)(GetOnView)).call(this, props));

    _this.state = {
      loading: false,
      value: props.value,
      errorMsg: ''
    };

    _this.onSubmit = _this.onSubmit.bind(_this);
    _this.submitEmail = _this.submitEmail.bind(_this);
    _this.onChange = _this.onChange.bind(_this);
    _this.onResponse = _this.onResponse.bind(_this);
    _this.onError = _this.onError.bind(_this);

    _this.onKeyPress = function (e) {
      var key = e.which || e.keyCode;
      if (key === 13) {
        // 13 is enter
        _this.onSubmit(e);
      }
    };
    return _this;
  }

  (0, _createClass3.default)(GetOnView, [{
    key: 'validate',
    value: function validate(value) {
      if (!value) return false;
      return (0, _validators.isEmail)(value);
    }
  }, {
    key: 'componentWillMount',
    value: function componentWillMount() {
      this.valid = this.validate ? this.validate(this.state.value) : true;
    }
  }, {
    key: 'componentWillUpdate',
    value: function componentWillUpdate(nextProps, nextState) {
      this.valid = this.validate ? this.validate(nextState.value) : true;
    }
  }, {
    key: 'componentDidMount',
    value: function componentDidMount() {
      window.document.body.addEventListener('keypress', this.onKeyPress);
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      window.document.body.removeEventListener('keypress', this.onKeyPress);
    }
  }, {
    key: 'render',
    value: function render() {
      var loading = this.state.loading;

      var validClassName = this.valid ? 'input-valid' : 'input-invalid';
      var loadingClassName = loading ? 'color-loading-bg-pop' : '';
      var onSubmit = this.valid ? this.onSubmit : null;

      // just add this to render when we want this enabled again
      var freeLink = 'https://plans.thegrid.io/?utm_source=thegrid&utm_medium=syndicate&plan=free';
      var freeButton = createVNode(16, _button.Button, {
        'disabled': loading,
        'className': 'WizStep-button input-valid continue ' + loadingClassName,
        'label': 'make a free account',
        'type': 'submit',
        'onClick': function onClick(e) {
          e.preventDefault();
          e.stopPropagation();
          window.open(freeLink);
        }
      });

      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
        'className': 'WizStep-content'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, [createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, this.props.greeting()), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'WizStep-message-line even'
      }, this.props.description())]), createVNode(2, 'section', null, [createVNode(512, 'input', {
        'className': 'WizStep-input ' + validClassName,
        'type': 'email',
        'autoFocus': 'true',
        'placeholder': 'enter@your.email',
        'value': this.state.value
      }, null, {
        'onChange': this.onChange
      }, null, 'emailInput'), createVNode(2, 'div', {
        'className': 'WizStep-input-message error-message'
      }, this.state.errorMsg)]), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      }, createVNode(16, _button.Button, {
        'disabled': loading,
        'className': 'WizStep-button ' + validClassName + ' continue ' + loadingClassName,
        'label': 'get on',
        'type': 'submit',
        'onClick': onSubmit
      }))]));
    }
  }, {
    key: 'onSubmit',
    value: function onSubmit(e) {
      e.preventDefault();
      e.stopPropagation();

      // console.log('')

      this.setState({
        loading: true,
        errorMsg: ''
      });

      if (!this.state.value) {
        return this.setState({
          loading: false,
          errorMsg: 'Please enter your email'
        });
      }

      this.submitEmail(this.state.value);
    }
  }, {
    key: 'onChange',
    value: function onChange(e) {
      this.setState({ value: e.target.value });
    }
  }, {
    key: 'submitEmail',
    value: function submitEmail(email) {
      var _this2 = this;

      var redirectURI = this.getRedirectURL();

      console.log('trying to submit');
      // prevent sending multiple emails quickly
      if (this.pressedSubmit) return;
      this.pressedSubmit = true;
      setTimeout(function () {
        _this2.pressedSubmit = false;
      }, 2000);
      console.log('submitting...');

      // @TODO: convert to fetch
      (0, _axios2.default)({
        method: 'post',
        timeout: 20000,
        url: 'https://passport.thegrid.io/api/auth/send',
        data: {
          email: email,
          redirectURI: redirectURI
        },
        headers: {
          'Content-Type': 'application/json'
        }
      }).then(this.onResponse).catch(this.onError);
    }
  }, {
    key: 'onResponse',
    value: function onResponse() {
      this.setState({
        loading: false,
        errorMsg: ''
      });
      this.props.onSubmit(this.state.value);
    }
  }, {
    key: 'onError',
    value: function onError(response) {
      var error = '';
      if (response.status === 404) {
        error = this.state.value + ' not found, please provide the email you used when you created your account, or contact us at support@thegrid.io and we will help you resolve this problem.';
      } else {
        error = 'Something went wrong. Please send an email to support@thegrid.io and we will help you resolve this problem.';
      }
      this.setState({
        loading: false,
        errorMsg: error
      });
    }
  }, {
    key: 'getRedirectURL',
    value: function getRedirectURL() {
      var parseQuery = true;
      var currentUrl = _url2.default.parse(window.location.href, parseQuery);

      currentUrl.query.provider = 'email';
      return _url2.default.format(currentUrl);
    }
  }]);
  return GetOnView;
}(_uiComponentDeprecated.Component);

exports.default = GetOnView;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 770 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _components = __webpack_require__(45);

var _styleverse = __webpack_require__(9);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var GetOnSuccessView = function (_Component) {
  (0, _inherits3.default)(GetOnSuccessView, _Component);

  function GetOnSuccessView() {
    (0, _classCallCheck3.default)(this, GetOnSuccessView);
    return (0, _possibleConstructorReturn3.default)(this, (GetOnSuccessView.__proto__ || (0, _getPrototypeOf2.default)(GetOnSuccessView)).apply(this, arguments));
  }

  (0, _createClass3.default)(GetOnSuccessView, [{
    key: 'render',
    value: function render() {
      var sel = this.sel;
      return createVNode(34, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), [createVNode(16, _styleverse.Style, {
        'perf': true,
        'scope': sel(),
        children: '\n        :scope {\n          chroma--loading-bg\n        }\n        :scope-success-bigger-text {\n          chroma--loading-text\n        }\n      '
      }, null, null, sel()), createVNode(2, 'div', {
        'className': 'WizStep-content fill'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, [createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, '\xA0'), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'WizStep-message-line even'
      }, 'We love you')]), createVNode(2, 'section', {
        'id': this.getId('success-bigger-text'),
        'className': 'WizStep-input LoginSuccess-check-email'
      }, 'Check your email...'), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      })])]);
    }
  }]);
  return GetOnSuccessView;
}(_components.Component);

exports.default = GetOnSuccessView;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 771 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiComponentDeprecated = __webpack_require__(14);

var _button = __webpack_require__(43);

var _enhance = __webpack_require__(147);

var _enhance2 = _interopRequireDefault(_enhance);

var _reactTooltip = __webpack_require__(195);

var _reactTooltip2 = _interopRequireDefault(_reactTooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var NavChoose = function (_Component) {
  (0, _inherits3.default)(NavChoose, _Component);

  function NavChoose(props) {
    (0, _classCallCheck3.default)(this, NavChoose);

    var _this = (0, _possibleConstructorReturn3.default)(this, (NavChoose.__proto__ || (0, _getPrototypeOf2.default)(NavChoose)).call(this, props));

    _this.onSubmit = function (choice) {
      _this.props.onSubmit(choice);
    };

    _this.state = {
      value: props.value
    };
    return _this;
  }

  (0, _createClass3.default)(NavChoose, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      // let msgs = this.props.getMessages()
      // @TODO: if no content, `disable=true` the internal
      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
        'className': 'WizStep-content'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, createVNode(2, 'span', {
        'className': 'NavChoose-title'
      }, 'What would you like to add to the Navigation of this site?'))), createVNode(2, 'section', {
        'className': 'WizStep-body'
      }, createVNode(2, 'span', {
        'className': 'WizStep-message-line even NavChoose-message'
      }, [createVNode(2, 'span', {
        'className': 'NavChoose-message-lines'
      }, [createVNode(2, 'span', {
        'className': 'NavChoose-message-line1'
      }, 'Nav'), ' is a collection of links for things such as "About Us" or "Portfolio".', ' ']), createVNode(2, 'span', {
        'className': 'NavChoose-message-line2'
      }, 'Think of it like a Table of Contents.'), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'NavChoose-message-line3'
      }, 'You can create a nav to an external link or a post published to this site.')])), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      }, [createVNode(2, 'span', {
        'data-tip': 'Create a navigation link away from your site on The Grid',
        'style': { marginRight: '1em' }
      }, createVNode(16, _button.Button, {
        'title': 'Create a navigation link away from your site on The Grid.',
        'className': 'WizStep-button NavChoose-footer-button-nav spring--3',
        'label': 'External Link',
        'onClick': function onClick() {
          _this2.onSubmit('external');
        }
      })), createVNode(2, 'span', {
        'data-tip': 'Create a navigation link to a post published to your site.'
      }, createVNode(16, _button.Button, {
        'title': 'Create a navigation link to a post published to your site.',
        'className': 'WizStep-button NavChoose-footer-button-publish continue spring--2',
        'label': 'Internal Link',
        'type': 'submit',
        'onClick': function onClick() {
          _this2.onSubmit('content');
        }
      })), createVNode(16, _reactTooltip2.default, {
        'effect': 'solid'
      })])]));
    }
  }]);
  return NavChoose;
}(_uiComponentDeprecated.Component);

exports.default = (0, _enhance2.default)(NavChoose);
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 772 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiWizard = __webpack_require__(44);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Nickname = function (_React$Component) {
  (0, _inherits3.default)(Nickname, _React$Component);

  function Nickname(props) {
    (0, _classCallCheck3.default)(this, Nickname);
    var value = props.value,
        validate = props.validate;

    var _this = (0, _possibleConstructorReturn3.default)(this, (Nickname.__proto__ || (0, _getPrototypeOf2.default)(Nickname)).call(this, props));

    _initialiseProps.call(_this);

    _this.state = {
      value: value,
      isValid: validate(value)
    };
    return _this;
  }

  (0, _createClass3.default)(Nickname, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          header = _props.header,
          infoMessage = _props.infoMessage,
          placeholder = _props.placeholder,
          validate = _props.validate;
      var _state = this.state,
          value = _state.value,
          isValid = _state.isValid;

      var inputConfig = {
        value: value,
        infoMessage: infoMessage,
        placeholder: placeholder,
        onChange: this.onChange
      };

      return createVNode(16, _uiWizard.WizardStep, {
        'value': value,
        'isValid': isValid,
        'validate': validate,
        children: [createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(16, _uiWizard.WizardBody, {
          children: createVNode(16, _uiWizard.WizardInput, (0, _extends3.default)({}, inputConfig))
        }), createVNode(16, _uiWizard.WizardFooter, {
          'primaryLabel': 'Continue',
          'secondaryLabel': 'Suggest',
          'onPrimary': this.onSubmit,
          'onSecondary': this.suggest
        })]
      });
    }
  }]);
  return Nickname;
}(_infernoCompat2.default.Component);

var _initialiseProps = function _initialiseProps() {
  var _this2 = this;

  this.onSubmit = function (e) {
    e.preventDefault();
    e.stopPropagation();
    _this2.props.onSubmit(_this2.state.value);
  };

  this.onChange = function (value) {
    var validate = _this2.props.validate;
    // FIXME move the isValid state into the wizard itself somehow.

    var isValid = validate(value);
    _this2.setState({
      value: value,
      isValid: isValid
    });
  };

  this.suggest = function () {
    var names = ['Smiley', 'Starshine', 'Captain', 'Governor', 'Boss', 'Skipper', 'Ace', 'Scout', 'Champ', 'Slick', 'Sparky', 'Pal', 'Sport', 'Partner', 'Comrade', 'Senator', 'Amigo', 'Slim', 'Sunshine', 'Friend'];
    var value = names[Math.floor(Math.random() * names.length)];
    _this2.setState({
      value: value
    });
  };
};

exports.default = Nickname;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 773 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _uiWizard = __webpack_require__(44);

var _uiComponentDeprecated = __webpack_require__(14);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var Onboard = function (_Component) {
  (0, _inherits3.default)(Onboard, _Component);

  function Onboard(props) {
    (0, _classCallCheck3.default)(this, Onboard);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Onboard.__proto__ || (0, _getPrototypeOf2.default)(Onboard)).call(this, props));

    _this.onSubmit = function (e) {
      e.preventDefault();
      e.stopPropagation();
      _this.props.onSubmit(_this.state.value);
    };

    _this.state = {
      value: props.value
    };
    return _this;
  }

  (0, _createClass3.default)(Onboard, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          header = _props.header,
          infoMessage = _props.infoMessage;


      return createVNode(16, _uiWizard.WizardStep, {
        children: [createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(16, _uiWizard.WizardBody, {
          children: createVNode(16, _uiWizard.WizardInfoMessage, {
            'text': infoMessage
          })
        }), createVNode(16, _uiWizard.WizardFooter, {
          'primaryLabel': 'Get on The Grid',
          'onPrimary': this.onSubmit
        })]
      });
    }
  }]);
  return Onboard;
}(_uiComponentDeprecated.Component);

exports.default = Onboard;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 774 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _components = __webpack_require__(45);

var _uiComponentDeprecated = __webpack_require__(14);

var _button = __webpack_require__(43);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var count = 0;
var createVNode = Inferno.createVNode;

var Rate = function (_Component) {
  (0, _inherits3.default)(Rate, _Component);

  function Rate(props) {
    (0, _classCallCheck3.default)(this, Rate);

    var _this = (0, _possibleConstructorReturn3.default)(this, (Rate.__proto__ || (0, _getPrototypeOf2.default)(Rate)).call(this, props));

    _this.state = {
      rating: -1 };

    _this.id = 'Rate-' + count++;
    return _this;
  }

  (0, _createClass3.default)(Rate, [{
    key: 'componentWillMount',
    value: function componentWillMount() {
      if (typeof this.props.value === 'number') this.setState({ rating: this.props.value });
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      if (typeof nextProps.value === 'number') this.setState({ rating: nextProps.value });
    }
  }, {
    key: 'render',
    value: function render() {
      var title = this.props.title;
      if (!title) title = 'Rating';

      var buttonClassName = this.state.rating >= 0 ? 'input-valid' : 'input-invalid';

      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep' })), createVNode(2, 'div', {
        'className': 'WizStep-content'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, [createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, ['The ', title, '.']), createVNode(2, 'br'), createVNode(2, 'span', {
        'className': 'WizStep-message-line even'
      }, [this.getQuestion(), '?'])]), createVNode(2, 'section', null, createVNode(16, _components.Rating, {
        'qa-data-testing': 'wiz--rating',
        'tooltips': ['Redesign me now', 'Redesign me', 'It’s OK', 'It’s good', 'Love it!'],
        'className': 'WizStep-Rating Rate-rating',
        'type': 'text',
        'value': this.state.rating,
        'onChange': this.onChange.bind(this)
      }, null, null, null, 'rating')), createVNode(2, 'footer', {
        'className': 'WizStep-footer'
      }, createVNode(16, _button.Button, {
        'qa-data-testing': 'wiz--button--continue',
        'className': 'WizStep-button ' + buttonClassName + ' continue',
        'label': 'Continue',
        'type': 'submit',
        'onClick': this.onSubmit.bind(this)
      }))]));
    }
  }, {
    key: 'onSubmit',
    value: function onSubmit(e) {
      e.preventDefault();
      e.stopPropagation();

      this.props.onSubmit(this.state.rating);

      // G.actions.authSetNickname(this.state.nickname)
      // G.history.push(`/hello/sitename`)
    }
  }, {
    key: 'onChange',
    value: function onChange(_ref) {
      var value = _ref.value;

      this.setState({ rating: value });
    }
  }, {
    key: 'getQuestion',
    value: function getQuestion() {
      // const qs = ['What you think','Any good','You like','To your liking','Good enough','Tickle your fancy'];
      // const q = qs[Math.floor(Math.random()*qs.length)];
      return 'Do you like it';
    }
  }]);
  return Rate;
}(_uiComponentDeprecated.Component);

exports.default = Rate;
;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 775 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _uiColor = __webpack_require__(101);

var _fileButton = __webpack_require__(489);

var _fileButton2 = _interopRequireDefault(_fileButton);

var _uiComponentDeprecated = __webpack_require__(14);

var _styleverse = __webpack_require__(9);

var _button = __webpack_require__(43);

var _components = __webpack_require__(45);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function extractPalette(pixels, cb) {
  __webpack_require__.e/* require.ensure */(0).then((function (require) {
    var RgbQuant = __webpack_require__(277);
    var q = new RgbQuant({
      colors: 5,
      method: 2,
      initColors: 4096
    });
    q.sample(pixels);
    var outputTuples = true;
    var nosort = true;
    var palette = q.palette(outputTuples, nosort).map(function (rgb) {
      return new _uiColor.Color('rgb(' + rgb.join(',') + ')').hexString();
    });
    cb(palette);
  }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
}

var createVNode = Inferno.createVNode;

var SelectGrid = function (_Component) {
  (0, _inherits3.default)(SelectGrid, _Component);

  function SelectGrid(props) {
    (0, _classCallCheck3.default)(this, SelectGrid);

    var _this = (0, _possibleConstructorReturn3.default)(this, (SelectGrid.__proto__ || (0, _getPrototypeOf2.default)(SelectGrid)).call(this, props));

    _this.renderExtracted = function () {
      var extractedColors = _this.state.extractedColors;

      return createVNode(2, 'div', {
        'id': _this.getId('Extractor')
      }, [createVNode(2, 'div', {
        'className': 'Extractor-palette brand-palette'
      }, extractedColors.map(function (color, i) {
        return createVNode(2, 'div', {
          'className': 'brand-color',
          'style': { backgroundColor: color }
        }, null, null, 'color-' + i);
      })), createVNode(16, _button.Button, {
        'label': 'Select',
        'className': 'WizStep-button continue Extractor-button',
        'onClick': function onClick() {
          _this.onSubmit(extractedColors);
        }
      }), createVNode(16, _button.Button, {
        'label': 'Reset',
        'className': 'WizStep-button Extractor-button',
        'onClick': function onClick() {
          _this.setState({ extractedColors: null });
        }
      })]);
    };

    _this.state = {
      selectedColors: null,
      extractedColors: null
    };

    _this.renderItem = function (item) {
      var palette = item.get('colors').toJS();
      return createVNode(2, 'div', {
        'id': item.get('id') + '-inner',
        'className': 'brand-palette spring-' + (item.get('index') % 3 + 1)
      }, palette.map(function (color, i) {
        return createVNode(2, 'div', {
          'className': 'brand-color',
          'style': { backgroundColor: color }
        }, null, null, 'color-' + i);
      }), {
        'onClick': function onClick() {
          _this.selectPalette(palette);
        }
      });
    };

    _this.selectPalette = function (palette) {
      // <a href="#top" id="top" />
      // document.getElementById('top').click()

      _this.setState({ selectedColors: palette });

      // Scroll to top
      _infernoCompat2.default.findDOMNode(_this.refs.pane1).scrollTop = 0;
    };

    _this.resetSelected = function () {
      _this.setState({ selectedColors: null });
    };

    _this.onSubmit = function (palette) {
      if (!palette) palette = _this.state.selectedColors || _this.props.value || _uiColor.palettes.getRandom();
      if (palette && palette.toJS) palette = palette.toJS();
      _this.props.onSubmit(palette);
    };
    return _this;
  }

  // @TODO: this only needs to be mapped once and does not need to be immutable


  (0, _createClass3.default)(SelectGrid, [{
    key: 'render',
    value: function render() {
      var _this2 = this;

      var paletteItems = _uiColor.palettes.getAll().map(function (p, i) {
        return {
          colors: p,
          id: 'color-' + i,
          index: i
        };
      });
      var items = (0, _immutable.fromJS)(paletteItems);
      var getId = this.getId;
      var sel = this.sel;
      var palette = this.state.selectedColors || this.props.value || null;

      // @NOTE: sillyness is preventing this from scrolling... oh well.
      // @see ./choosecolor as well
      return createVNode(2, 'div', (0, _extends3.default)({}, this.elProps({ className: 'WizStep layout--dual-pane' })), [createVNode(2, 'style', null, '\n          html, html *:not(#fab) {\n            overflow-y: auto !important;\n          }\n        '), createVNode(2, 'div', {
        'id': getId('pane1'),
        'className': 'WizStep_pane'
      }, [createVNode(16, _styleverse.Style, {
        'perf': true,
        'scope': sel(),
        children: '\n            :scope {\n              pos--r\n              w--100%\n              h--100%\n              d--flx\n              bg-clr--chroma-bg\n            }\n\n            :scope .WizStep_pane {\n              pos--r\n              w--50%\n              min-h--100%\n              ovf-y -- auto\n            }\n\n            :scope-pane1 {\n              bg-clr--chroma-box\n            }\n\n            :scope-Grid-wrap {\n              mar-t -- 1goldy\n            }\n\n            :scope .brand-palette {\n              ovf--h\n              bdr-rad--2\n              pos--r\n              h--100%\n              box-sh--m\n              d--flx\n            }\n\n            :scope .brand-color {\n              pos--r\n              w--20%\n              h--100%\n              flx-grow--1\n              flx-shrink--1\n              trans -- .25s width ease-out .1s\n            }\n            :scope .brand-color:hover {\n              w--33.333333333%\n            }\n\n            :scope .WizStep-content {\n              display -- block\n              height -- auto\n              mar-l-- 1goldx\n              mar-t-- 1goldy\n              w--     -2goldx\n            }\n\n            :scope .WizStep-current-palette {\n              margin -- 1em auto 0\n              h -- 1em\n              w -- 50%\n            }\n\n            :scope .WizStep-button {\n              mar -- 1em 0\n              width -- 100%\n            }\n          '
      }), this.props.headline && this.props.helpText && createVNode(2, 'div', {
        'className': 'WizStep-content'
      }, [createVNode(2, 'div', {
        'className': 'WizStep-fixed-broken'
      }, [createVNode(2, 'header', {
        'className': 'WizStep-message'
      }, createVNode(2, 'span', {
        'className': 'WizStep-message-line odd'
      }, this.props.headline())), createVNode(2, 'div', {
        'className': 'WizStep-input-message'
      }, this.props.helpText()), palette && createVNode(2, 'div', {
        'className': 'WizStep-current-palette brand-palette'
      }, palette.map(function (color, i) {
        return createVNode(2, 'div', {
          'className': 'brand-color',
          'style': { backgroundColor: color }
        }, null, null, 'color-' + i);
      })), createVNode(16, _button.Button, {
        'qa-data-testing': 'wiz--button--continue',
        'className': 'WizStep-button continue',
        'label': 'Continue',
        'type': 'submit',
        'onClick': function onClick() {
          _this2.onSubmit();
        }
      }), this.state.selectedColors && createVNode(16, _button.Button, {
        'className': 'WizStep-button reset',
        'label': 'Reset',
        'onClick': this.resetSelected
      })]), createVNode(2, 'div', {
        'id': getId('Grid-wrap')
      }, createVNode(16, _components.Grid, {
        'id': getId('Grid'),
        'items': items,
        'hideToolbar': true,
        'itemCount': items.size,
        'layoutValue': .8,
        'getItemId': function getItemId(item) {
          return item.get('id');
        },
        'draggableOrder': false,
        'onOrderChange': (function noop() { /* noop */ }),
        'renderItem': this.renderItem,
        'computeLayout': function computeLayout() {
          return {
            colsMin: 1,
            colsMax: 6,
            cellWidthMin: 16 * 5,
            cellWidthMax: 96 * 6,
            gutterMin: 24,
            gutterMax: 72,
            cellRatio: 5
          };
        }
      }))])], null, null, 'pane1'), createVNode(2, 'div', {
        'className': 'WizStep_pane'
      }, [createVNode(16, _styleverse.Style, {
        'perf': true,
        'scope': sel(),
        children: '\n            :scope-Extractor, :scope .Extractor {\n              pos--a\n              t--1goldy\n              r--1goldx\n              l--1goldx\n              pad -- 1goldx\n              d -- flex\n              flx-dir -- col\n              flx-aln -- mid\n              flx-jst -- flex-start\n\n              trans -- background-color .3s, box-shadow .3s\n            }\n            :scope-Extractor:hover {\n              bg-clr -- chroma-box\n              box-sh -- 0 8px 34px hsla(0,0%,0%,.15)\n            }\n\n            :scope h2 {\n              mar-t -- 1.5em\n              fnt -- d3\n              fnt-sz -- txt-l\n              ln-h -- 1.25em\n              txt-aln -- center\n            }\n\n            :scope p {\n              mar-t -- 1.5em\n              mar-b -- 1.5em\n\n              fnt -- txt\n              fnt-sz -- txt\n              ln-h -- 1.5em\n              txt-aln -- justify\n              clr -- chroma-meta\n            }\n\n            :scope-Extractor_icons {\n              mar-b -- auto\n\n              w -- 100%\n              d -- flex\n              flx-dir -- row\n              flx-aln -- mid\n              flx-jst -- mid\n\n              bdr -- 4px dashed transparent\n              trans -- border-color .3s\n            }\n\n            :scope-Extractor:hover :scope-Extractor_icons {\n              bdr -- 4px dashed chroma-line\n            }\n\n            :scope-Extractor_icons .icon {\n              fnt-sz -- d-l\n              clr -- chroma-meta\n              mar -- .25em\n              mar-t -- 1em\n              mar-b -- 1em\n              trans -- color .3s\n            }\n\n            :scope-Extractor_icons .icon-arrow {\n              fnt-sz -- d\n              o -- .5\n            }\n\n            :scope-Extractor:hover .icon-photo {\n              clr -- chroma-text-pop\n            }\n\n            :scope-Extractor:hover .icon-palette {\n              clr -- chroma-text-pop2\n            }\n\n            :scope-Extractor_button {\n              mar-t -- auto\n\n              fnt-sz -- txt\n              ln-h -- 1.5em\n              fnt -- d3\n              bg-clr -- chroma-box-pop\n              clr -- chroma-box-pop-text\n              txt-aln -- center\n              pad -- .5em\n              pad-l -- 1em\n              pad-r -- 1em\n            }\n\n            :scope-Extractor .Extractor-palette {\n              margin -- 1em auto\n              h -- 1em\n              w -- 100%\n            }\n\n            :scope-Extractor .Extractor-button {\n              w -- 100%\n            }\n          '
      }), this.state.extractedColors ? this.renderExtracted() : this.renderFile()])]);
    }
  }, {
    key: 'renderFile',
    value: function renderFile() {
      var _this3 = this;

      return createVNode(16, _fileButton2.default, {
        'id': this.getId('Extractor'),
        'handleFile': function handleFile(file) {
          var canvas = document.createElement('canvas');
          var ctx = canvas.getContext('2d');
          var reader = new FileReader();
          var img = new Image();
          img.onload = function () {
            ctx.canvas.width = Math.min(256, img.width);
            ctx.canvas.height = Math.min(256, img.height);
            ctx.drawImage(img, 0, 0, ctx.canvas.width, ctx.canvas.height);
            extractPalette(canvas, function (extractedColors) {
              _this3.setState({ extractedColors: extractedColors });
            });
          };
          reader.onloadend = function () {
            img.src = reader.result;
          };
          reader.readAsDataURL(file);
        },
        children: [createVNode(2, 'div', {
          'id': this.getId('Extractor_icons')
        }, [createVNode(2, 'i', {
          'className': 'material-icons icon icon-photo'
        }, 'photo'), createVNode(2, 'i', {
          'className': 'material-icons icon icon-arrow',
          'style': { transform: 'scaleX(-1)' }
        }, 'keyboard_backspace'), createVNode(2, 'i', {
          'className': 'material-icons icon icon-palette'
        }, 'palette')]), createVNode(2, 'h2', null, 'Extract color palette from an image'), createVNode(2, 'p', null, 'A photo is worth 16 million colors. Have a palette in mind for your site? Upload a photo with desired colors. Not sure what you want? Upload something interesting & see what we can do with it.'), createVNode(16, _button.Button, {
          'id': this.getId('Extractor_button'),
          'label': 'upload photo with desired colors'
        })]
      });
    }
  }]);
  return SelectGrid;
}(_uiComponentDeprecated.Component);

exports.default = SelectGrid;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 776 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _class;

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _validators = __webpack_require__(146);

var _validators2 = _interopRequireDefault(_validators);

var _coreDecorators = __webpack_require__(38);

var _uiWizard = __webpack_require__(44);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var TextInput2 = (0, _coreDecorators.autobind)(_class = function (_React$Component) {
  (0, _inherits3.default)(TextInput2, _React$Component);

  function TextInput2(props) {
    (0, _classCallCheck3.default)(this, TextInput2);

    var _this = (0, _possibleConstructorReturn3.default)(this, (TextInput2.__proto__ || (0, _getPrototypeOf2.default)(TextInput2)).call(this, props));

    var value = props.value,
        validate = props.validate;

    if (typeof validate === 'string') validate = _validators2.default[validate];
    // safety for if they do not pass in a validator
    var isValid = validate ? isValid = validate(value) : true;

    _this.state = {
      value: value,
      isValid: isValid
    };
    return _this;
  }

  (0, _createClass3.default)(TextInput2, [{
    key: 'render',
    value: function render() {
      var _props = this.props,
          header = _props.header,
          infoMessage = _props.infoMessage,
          placeholder = _props.placeholder,
          validate = _props.validate,
          onCancel = _props.onCancel,
          cancelIcon = _props.cancelIcon,
          type = _props.type;
      var _state = this.state,
          value = _state.value,
          isValid = _state.isValid;

      if (typeof validate === 'string') validate = _validators2.default[validate];

      var stepConfig = {
        value: value,
        isValid: isValid,
        validate: validate,
        submit: this.submit,
        onCancel: onCancel,
        cancelIcon: cancelIcon
      };
      var inputConfig = {
        value: value,
        infoMessage: infoMessage,
        placeholder: placeholder,
        submit: this.submit,
        type: type,
        // onKeyDown={this.onKeyDown}
        onChange: this.onChange
      };

      return createVNode(16, _uiWizard.WizardStep, (0, _extends3.default)({}, stepConfig, {
        children: [createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(16, _uiWizard.WizardBody, {
          children: createVNode(16, _uiWizard.WizardInput, (0, _extends3.default)({}, inputConfig))
        }), createVNode(16, _uiWizard.WizardFooter, {
          'primaryLabel': 'Continue',
          'onPrimary': this.onSubmit
        })]
      }));
    }
  }, {
    key: 'submit',
    value: function submit() {
      this.props.onSubmit(this.state.value);
    }
  }, {
    key: 'onSubmit',
    value: function onSubmit(e) {
      if (this.state.isValid) {
        e.preventDefault();
        e.stopPropagation();
        this.submit();
      }
    }

    // WizardInput returns value, not event

  }, {
    key: 'onChange',
    value: function onChange(value) {
      var _props2 = this.props,
          infoMessage = _props2.infoMessage,
          validate = _props2.validate,
          thresholdErrorMessage = _props2.thresholdErrorMessage,
          keySet = _props2.keySet,
          onChange = _props2.onChange;

      if (typeof validate === 'string') validate = _validators2.default[validate];
      var isValid = validate ? isValid = validate(value) : true;

      if (onChange) {
        onChange({
          value: value,
          infoMessage: infoMessage,
          validate: validate,
          isValid: isValid,
          thresholdErrorMessage: thresholdErrorMessage,
          keySet: keySet
        });
      }
      this.setState({
        value: value,
        isValid: isValid
      });
    }
  }]);
  return TextInput2;
}(_infernoCompat2.default.Component)) || _class;

TextInput2.PropTypes = {
  placeholder: _infernoCompat2.default.PropTypes.string,
  header: _infernoCompat2.default.PropTypes.string,
  infoMessage: _infernoCompat2.default.PropTypes.string,
  validate: _infernoCompat2.default.PropTypes.func,
  onCancel: _infernoCompat2.default.PropTypes.func,
  cancelIcon: _infernoCompat2.default.PropTypes.string,
  type: _infernoCompat2.default.PropTypes.string
};
TextInput2.defaultProps = {
  placeholder: '',
  cancelIcon: 'back'
};
exports.default = TextInput2;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 777 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = undefined;

var _extends2 = __webpack_require__(10);

var _extends3 = _interopRequireDefault(_extends2);

var _regenerator = __webpack_require__(117);

var _regenerator2 = _interopRequireDefault(_regenerator);

var _asyncToGenerator2 = __webpack_require__(108);

var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);

var _getPrototypeOf = __webpack_require__(1);

var _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);

var _classCallCheck2 = __webpack_require__(2);

var _classCallCheck3 = _interopRequireDefault(_classCallCheck2);

var _createClass2 = __webpack_require__(3);

var _createClass3 = _interopRequireDefault(_createClass2);

var _possibleConstructorReturn2 = __webpack_require__(5);

var _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);

var _inherits2 = __webpack_require__(4);

var _inherits3 = _interopRequireDefault(_inherits2);

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _mediaUploader = __webpack_require__(758);

var _mediaUploader2 = _interopRequireDefault(_mediaUploader);

var _uiWizard = __webpack_require__(44);

var _uiLogoLoader = __webpack_require__(79);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var createVNode = Inferno.createVNode;

var UploadImage = function (_AbstractMediaUploade) {
  (0, _inherits3.default)(UploadImage, _AbstractMediaUploade);

  function UploadImage(props) {
    (0, _classCallCheck3.default)(this, UploadImage);

    var _this = (0, _possibleConstructorReturn3.default)(this, (UploadImage.__proto__ || (0, _getPrototypeOf2.default)(UploadImage)).call(this, props));

    _this.submit = function () {
      _this.props.onSubmit(_this.state.value, _this.state.site);
    };

    _this.onSubmit = function (e) {
      console.log('isFinishedUploading', _this.isFinishedUploading, _this);
      if (_this.state.isValid && _this.isFinishedUploading) {
        e.preventDefault();
        e.stopPropagation();
        _this.submit();
      }
    };

    var value = props.value,
        validate = props.validate;

    // safety for if they do not pass in a validator

    var isValid = validate ? isValid = validate(value) : true;

    _this.state = {
      site: props.site,
      uploads: {},
      errors: {},
      value: value,
      isValid: isValid
    };
    return _this;
  }

  (0, _createClass3.default)(UploadImage, [{
    key: 'onError',
    value: function onError(fieldName, reason) {
      di.ls.remove('site_media_content');
      console.error('was an upload error...', reason);
      G.actions.ui.addGeneralError('Upload Image', 'was an upload error...');
      this.resetFileInput(fieldName);
    }
  }, {
    key: 'onFinish',
    value: function () {
      var _ref = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(fieldName, result) {
        var publicUrl, site, shared, fetchedSite;
        return _regenerator2.default.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                publicUrl = result.publicUrl;
                site = this.state.site;

                di.ls.save(publicUrl, 'site_media_content');
                // @TODO: DON'T SHARE IT HERE, DO IT IN WIZ
                _context.next = 5;
                return window.G.actions.share.shareUrl({ site: site.repo, url: publicUrl, sitemedia: true });

              case 5:
                shared = _context.sent;
                _context.next = 8;
                return di.apis.fetchSite(site.id);

              case 8:
                fetchedSite = _context.sent;

                window.G.actions.sites.fetchSite(site.id);
                // var managedToSave = false

                if (!fetchedSite || fetchedSite.config) {
                  fetchedSite = site;
                }
                this.setState({ site: fetchedSite, value: publicUrl });
                this.resetFileInput(fieldName);

              case 13:
              case 'end':
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function onFinish(_x, _x2) {
        return _ref.apply(this, arguments);
      }

      return onFinish;
    }()
  }, {
    key: 'onClear',
    value: function onClear(fieldName) {
      var _this2 = this;

      di.ls.remove('site_media_content');
      var site = this.state.site;

      if (site) site.config.content = [];

      this.resetFileInput(fieldName);
      this.setState({ site: site, deleted: true, loading: 'loading' });

      setTimeout(function () {
        _this2.setState({ loading: 'loaded' });
      }, 1000);
    }
  }, {
    key: 'render',
    value: function render() {
      console.log('rendering...');
      var _props = this.props,
          header = _props.header,
          validate = _props.validate,
          onCancel = _props.onCancel,
          cancelIcon = _props.cancelIcon,
          type = _props.type;
      var _state = this.state,
          value = _state.value,
          isValid = _state.isValid,
          loading = _state.loading;

      var mediaIcon = this.renderMediaicon();
      if (loading === 'loading') {
        mediaIcon = createVNode(16, _uiLogoLoader.LogoLoader);
        return mediaIcon;
      }

      var stepConfig = {
        value: value,
        isValid: isValid,
        validate: validate,
        submit: this.submit,
        onCancel: onCancel,
        cancelIcon: cancelIcon
      };

      return createVNode(16, _uiWizard.WizardStep, (0, _extends3.default)({}, stepConfig, {
        children: [createVNode(16, _uiWizard.WizardHeader, {
          children: header
        }), createVNode(16, _uiWizard.WizardBody, {
          children: mediaIcon
        }), createVNode(16, _uiWizard.WizardFooter, {
          'primaryLabel': 'Continue',
          'onPrimary': this.onSubmit
        })]
      }));
    }
  }]);
  return UploadImage;
}(_mediaUploader2.default);

exports.default = UploadImage;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ }),
/* 778 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(790), __esModule: true };

/***/ }),
/* 779 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(791), __esModule: true };

/***/ }),
/* 780 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(795), __esModule: true };

/***/ }),
/* 781 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(800), __esModule: true };

/***/ }),
/* 782 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(805), __esModule: true };

/***/ }),
/* 783 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = { "default": __webpack_require__(806), __esModule: true };

/***/ }),
/* 784 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _from = __webpack_require__(52);

var _from2 = _interopRequireDefault(_from);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (arr) {
  return Array.isArray(arr) ? arr : (0, _from2.default)(arr);
};

/***/ }),
/* 785 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(68);
__webpack_require__(831);
module.exports = __webpack_require__(15).Array.from;

/***/ }),
/* 786 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(69);
__webpack_require__(68);
module.exports = __webpack_require__(829);

/***/ }),
/* 787 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(69);
__webpack_require__(68);
module.exports = __webpack_require__(830);

/***/ }),
/* 788 */
/***/ (function(module, exports, __webpack_require__) {

var core  = __webpack_require__(15)
  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});
module.exports = function stringify(it){ // eslint-disable-line no-unused-vars
  return $JSON.stringify.apply($JSON, arguments);
};

/***/ }),
/* 789 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(86);
__webpack_require__(68);
__webpack_require__(69);
__webpack_require__(833);
__webpack_require__(849);
module.exports = __webpack_require__(15).Map;

/***/ }),
/* 790 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(834);
module.exports = __webpack_require__(15).Math.imul;

/***/ }),
/* 791 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(835);
module.exports = __webpack_require__(15).Number.isInteger;

/***/ }),
/* 792 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(836);
module.exports = __webpack_require__(15).Object.assign;

/***/ }),
/* 793 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(837);
var $Object = __webpack_require__(15).Object;
module.exports = function create(P, D){
  return $Object.create(P, D);
};

/***/ }),
/* 794 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(838);
var $Object = __webpack_require__(15).Object;
module.exports = function defineProperty(it, key, desc){
  return $Object.defineProperty(it, key, desc);
};

/***/ }),
/* 795 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(839);
module.exports = __webpack_require__(15).Object.freeze;

/***/ }),
/* 796 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(840);
var $Object = __webpack_require__(15).Object;
module.exports = function getOwnPropertyDescriptor(it, key){
  return $Object.getOwnPropertyDescriptor(it, key);
};

/***/ }),
/* 797 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(841);
var $Object = __webpack_require__(15).Object;
module.exports = function getOwnPropertyNames(it){
  return $Object.getOwnPropertyNames(it);
};

/***/ }),
/* 798 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(273);
module.exports = __webpack_require__(15).Object.getOwnPropertySymbols;

/***/ }),
/* 799 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(842);
module.exports = __webpack_require__(15).Object.getPrototypeOf;

/***/ }),
/* 800 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(843);
module.exports = __webpack_require__(15).Object.isExtensible;

/***/ }),
/* 801 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(844);
module.exports = __webpack_require__(15).Object.keys;

/***/ }),
/* 802 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(845);
module.exports = __webpack_require__(15).Object.setPrototypeOf;

/***/ }),
/* 803 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(850);
module.exports = __webpack_require__(15).Object.values;

/***/ }),
/* 804 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(86);
__webpack_require__(68);
__webpack_require__(69);
__webpack_require__(846);
module.exports = __webpack_require__(15).Promise;

/***/ }),
/* 805 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(854);
module.exports = __webpack_require__(15).setImmediate;

/***/ }),
/* 806 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(86);
__webpack_require__(68);
__webpack_require__(69);
__webpack_require__(847);
__webpack_require__(851);
module.exports = __webpack_require__(15).Set;

/***/ }),
/* 807 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(273);
__webpack_require__(86);
__webpack_require__(852);
__webpack_require__(853);
module.exports = __webpack_require__(15).Symbol;

/***/ }),
/* 808 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(68);
__webpack_require__(69);
module.exports = __webpack_require__(166).f('iterator');

/***/ }),
/* 809 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(86);
__webpack_require__(69);
__webpack_require__(848);
module.exports = __webpack_require__(15).WeakMap;

/***/ }),
/* 810 */
/***/ (function(module, exports) {

module.exports = function(){ /* empty */ };

/***/ }),
/* 811 */
/***/ (function(module, exports, __webpack_require__) {

var forOf = __webpack_require__(82);

module.exports = function(iter, ITERATOR){
  var result = [];
  forOf(iter, false, result.push, result, ITERATOR);
  return result;
};


/***/ }),
/* 812 */
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__(50)
  , toLength  = __webpack_require__(115)
  , toIndex   = __webpack_require__(828);
module.exports = function(IS_INCLUDES){
  return function($this, el, fromIndex){
    var O      = toIObject($this)
      , length = toLength(O.length)
      , index  = toIndex(fromIndex, length)
      , value;
    // Array#includes uses SameValueZero equality algorithm
    if(IS_INCLUDES && el != el)while(length > index){
      value = O[index++];
      if(value != value)return true;
    // Array#toIndex ignores holes, Array#includes - not
    } else for(;length > index; index++)if(IS_INCLUDES || index in O){
      if(O[index] === el)return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};

/***/ }),
/* 813 */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(33)
  , isArray  = __webpack_require__(263)
  , SPECIES  = __webpack_require__(27)('species');

module.exports = function(original){
  var C;
  if(isArray(original)){
    C = original.constructor;
    // cross-realm fallback
    if(typeof C == 'function' && (C === Array || isArray(C.prototype)))C = undefined;
    if(isObject(C)){
      C = C[SPECIES];
      if(C === null)C = undefined;
    }
  } return C === undefined ? Array : C;
};

/***/ }),
/* 814 */
/***/ (function(module, exports, __webpack_require__) {

// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = __webpack_require__(813);

module.exports = function(original, length){
  return new (speciesConstructor(original))(length);
};

/***/ }),
/* 815 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var redefineAll       = __webpack_require__(114)
  , getWeak           = __webpack_require__(73).getWeak
  , anObject          = __webpack_require__(41)
  , isObject          = __webpack_require__(33)
  , anInstance        = __webpack_require__(109)
  , forOf             = __webpack_require__(82)
  , createArrayMethod = __webpack_require__(151)
  , $has              = __webpack_require__(57)
  , arrayFind         = createArrayMethod(5)
  , arrayFindIndex    = createArrayMethod(6)
  , id                = 0;

// fallback for uncaught frozen keys
var uncaughtFrozenStore = function(that){
  return that._l || (that._l = new UncaughtFrozenStore);
};
var UncaughtFrozenStore = function(){
  this.a = [];
};
var findUncaughtFrozen = function(store, key){
  return arrayFind(store.a, function(it){
    return it[0] === key;
  });
};
UncaughtFrozenStore.prototype = {
  get: function(key){
    var entry = findUncaughtFrozen(this, key);
    if(entry)return entry[1];
  },
  has: function(key){
    return !!findUncaughtFrozen(this, key);
  },
  set: function(key, value){
    var entry = findUncaughtFrozen(this, key);
    if(entry)entry[1] = value;
    else this.a.push([key, value]);
  },
  'delete': function(key){
    var index = arrayFindIndex(this.a, function(it){
      return it[0] === key;
    });
    if(~index)this.a.splice(index, 1);
    return !!~index;
  }
};

module.exports = {
  getConstructor: function(wrapper, NAME, IS_MAP, ADDER){
    var C = wrapper(function(that, iterable){
      anInstance(that, C, NAME, '_i');
      that._i = id++;      // collection id
      that._l = undefined; // leak store for uncaught frozen objects
      if(iterable != undefined)forOf(iterable, IS_MAP, that[ADDER], that);
    });
    redefineAll(C.prototype, {
      // 23.3.3.2 WeakMap.prototype.delete(key)
      // 23.4.3.3 WeakSet.prototype.delete(value)
      'delete': function(key){
        if(!isObject(key))return false;
        var data = getWeak(key);
        if(data === true)return uncaughtFrozenStore(this)['delete'](key);
        return data && $has(data, this._i) && delete data[this._i];
      },
      // 23.3.3.4 WeakMap.prototype.has(key)
      // 23.4.3.4 WeakSet.prototype.has(value)
      has: function has(key){
        if(!isObject(key))return false;
        var data = getWeak(key);
        if(data === true)return uncaughtFrozenStore(this).has(key);
        return data && $has(data, this._i);
      }
    });
    return C;
  },
  def: function(that, key, value){
    var data = getWeak(anObject(key), true);
    if(data === true)uncaughtFrozenStore(that).set(key, value);
    else data[that._i] = value;
    return that;
  },
  ufstore: uncaughtFrozenStore
};

/***/ }),
/* 816 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $defineProperty = __webpack_require__(37)
  , createDesc      = __webpack_require__(84);

module.exports = function(object, index, value){
  if(index in object)$defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};

/***/ }),
/* 817 */
/***/ (function(module, exports, __webpack_require__) {

// all enumerable object keys, includes symbols
var getKeys = __webpack_require__(67)
  , gOPS    = __webpack_require__(158)
  , pIE     = __webpack_require__(83);
module.exports = function(it){
  var result     = getKeys(it)
    , getSymbols = gOPS.f;
  if(getSymbols){
    var symbols = getSymbols(it)
      , isEnum  = pIE.f
      , i       = 0
      , key;
    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);
  } return result;
};

/***/ }),
/* 818 */
/***/ (function(module, exports) {

// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function(fn, args, that){
  var un = that === undefined;
  switch(args.length){
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return              fn.apply(that, args);
};

/***/ }),
/* 819 */
/***/ (function(module, exports, __webpack_require__) {

// 20.1.2.3 Number.isInteger(number)
var isObject = __webpack_require__(33)
  , floor    = Math.floor;
module.exports = function isInteger(it){
  return !isObject(it) && isFinite(it) && floor(it) === it;
};

/***/ }),
/* 820 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var create         = __webpack_require__(113)
  , descriptor     = __webpack_require__(84)
  , setToStringTag = __webpack_require__(85)
  , IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__(58)(IteratorPrototype, __webpack_require__(27)('iterator'), function(){ return this; });

module.exports = function(Constructor, NAME, next){
  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});
  setToStringTag(Constructor, NAME + ' Iterator');
};

/***/ }),
/* 821 */
/***/ (function(module, exports, __webpack_require__) {

var getKeys   = __webpack_require__(67)
  , toIObject = __webpack_require__(50);
module.exports = function(object, el){
  var O      = toIObject(object)
    , keys   = getKeys(O)
    , length = keys.length
    , index  = 0
    , key;
  while(length > index)if(O[key = keys[index++]] === el)return key;
};

/***/ }),
/* 822 */
/***/ (function(module, exports, __webpack_require__) {

var global    = __webpack_require__(32)
  , macrotask = __webpack_require__(162).set
  , Observer  = global.MutationObserver || global.WebKitMutationObserver
  , process   = global.process
  , Promise   = global.Promise
  , isNode    = __webpack_require__(81)(process) == 'process';

module.exports = function(){
  var head, last, notify;

  var flush = function(){
    var parent, fn;
    if(isNode && (parent = process.domain))parent.exit();
    while(head){
      fn   = head.fn;
      head = head.next;
      try {
        fn();
      } catch(e){
        if(head)notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if(parent)parent.enter();
  };

  // Node.js
  if(isNode){
    notify = function(){
      process.nextTick(flush);
    };
  // browsers with MutationObserver
  } else if(Observer){
    var toggle = true
      , node   = document.createTextNode('');
    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new
    notify = function(){
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if(Promise && Promise.resolve){
    var promise = Promise.resolve();
    notify = function(){
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function(){
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function(fn){
    var task = {fn: fn, next: undefined};
    if(last)last.next = task;
    if(!head){
      head = task;
      notify();
    } last = task;
  };
};

/***/ }),
/* 823 */
/***/ (function(module, exports, __webpack_require__) {

var dP       = __webpack_require__(37)
  , anObject = __webpack_require__(41)
  , getKeys  = __webpack_require__(67);

module.exports = __webpack_require__(42) ? Object.defineProperties : function defineProperties(O, Properties){
  anObject(O);
  var keys   = getKeys(Properties)
    , length = keys.length
    , i = 0
    , P;
  while(length > i)dP.f(O, P = keys[i++], Properties[P]);
  return O;
};

/***/ }),
/* 824 */
/***/ (function(module, exports, __webpack_require__) {

var getKeys   = __webpack_require__(67)
  , toIObject = __webpack_require__(50)
  , isEnum    = __webpack_require__(83).f;
module.exports = function(isEntries){
  return function(it){
    var O      = toIObject(it)
      , keys   = getKeys(O)
      , length = keys.length
      , i      = 0
      , result = []
      , key;
    while(length > i)if(isEnum.call(O, key = keys[i++])){
      result.push(isEntries ? [key, O[key]] : O[key]);
    } return result;
  };
};

/***/ }),
/* 825 */
/***/ (function(module, exports, __webpack_require__) {

// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = __webpack_require__(33)
  , anObject = __webpack_require__(41);
var check = function(O, proto){
  anObject(O);
  if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function(test, buggy, set){
      try {
        set = __webpack_require__(55)(Function.call, __webpack_require__(157).f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch(e){ buggy = true; }
      return function setPrototypeOf(O, proto){
        check(O, proto);
        if(buggy)O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};

/***/ }),
/* 826 */
/***/ (function(module, exports, __webpack_require__) {

// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject  = __webpack_require__(41)
  , aFunction = __webpack_require__(150)
  , SPECIES   = __webpack_require__(27)('species');
module.exports = function(O, D){
  var C = anObject(O).constructor, S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};

/***/ }),
/* 827 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(163)
  , defined   = __webpack_require__(111);
// true  -> String#at
// false -> String#codePointAt
module.exports = function(TO_STRING){
  return function(that, pos){
    var s = String(defined(that))
      , i = toInteger(pos)
      , l = s.length
      , a, b;
    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};

/***/ }),
/* 828 */
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__(163)
  , max       = Math.max
  , min       = Math.min;
module.exports = function(index, length){
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

/***/ }),
/* 829 */
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__(41)
  , get      = __webpack_require__(167);
module.exports = __webpack_require__(15).getIterator = function(it){
  var iterFn = get(it);
  if(typeof iterFn != 'function')throw TypeError(it + ' is not iterable!');
  return anObject(iterFn.call(it));
};

/***/ }),
/* 830 */
/***/ (function(module, exports, __webpack_require__) {

var classof   = __webpack_require__(110)
  , ITERATOR  = __webpack_require__(27)('iterator')
  , Iterators = __webpack_require__(72);
module.exports = __webpack_require__(15).isIterable = function(it){
  var O = Object(it);
  return O[ITERATOR] !== undefined
    || '@@iterator' in O
    || Iterators.hasOwnProperty(classof(O));
};

/***/ }),
/* 831 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ctx            = __webpack_require__(55)
  , $export        = __webpack_require__(25)
  , toObject       = __webpack_require__(75)
  , call           = __webpack_require__(264)
  , isArrayIter    = __webpack_require__(262)
  , toLength       = __webpack_require__(115)
  , createProperty = __webpack_require__(816)
  , getIterFn      = __webpack_require__(167);

$export($export.S + $export.F * !__webpack_require__(265)(function(iter){ Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike/*, mapfn = undefined, thisArg = undefined*/){
    var O       = toObject(arrayLike)
      , C       = typeof this == 'function' ? this : Array
      , aLen    = arguments.length
      , mapfn   = aLen > 1 ? arguments[1] : undefined
      , mapping = mapfn !== undefined
      , index   = 0
      , iterFn  = getIterFn(O)
      , length, result, step, iterator;
    if(mapping)mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if(iterFn != undefined && !(C == Array && isArrayIter(iterFn))){
      for(iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++){
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for(result = new C(length); length > index; index++){
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});


/***/ }),
/* 832 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var addToUnscopables = __webpack_require__(810)
  , step             = __webpack_require__(266)
  , Iterators        = __webpack_require__(72)
  , toIObject        = __webpack_require__(50);

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__(156)(Array, 'Array', function(iterated, kind){
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function(){
  var O     = this._t
    , kind  = this._k
    , index = this._i++;
  if(!O || index >= O.length){
    this._t = undefined;
    return step(1);
  }
  if(kind == 'keys'  )return step(0, index);
  if(kind == 'values')return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');

/***/ }),
/* 833 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var strong = __webpack_require__(258);

// 23.1 Map Objects
module.exports = __webpack_require__(152)('Map', function(get){
  return function Map(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.1.3.6 Map.prototype.get(key)
  get: function get(key){
    var entry = strong.getEntry(this, key);
    return entry && entry.v;
  },
  // 23.1.3.9 Map.prototype.set(key, value)
  set: function set(key, value){
    return strong.def(this, key === 0 ? 0 : key, value);
  }
}, strong, true);

/***/ }),
/* 834 */
/***/ (function(module, exports, __webpack_require__) {

// 20.2.2.18 Math.imul(x, y)
var $export = __webpack_require__(25)
  , $imul   = Math.imul;

// some WebKit versions fails with big numbers, some has wrong arity
$export($export.S + $export.F * __webpack_require__(56)(function(){
  return $imul(0xffffffff, 5) != -5 || $imul.length != 2;
}), 'Math', {
  imul: function imul(x, y){
    var UINT16 = 0xffff
      , xn = +x
      , yn = +y
      , xl = UINT16 & xn
      , yl = UINT16 & yn;
    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0);
  }
});

/***/ }),
/* 835 */
/***/ (function(module, exports, __webpack_require__) {

// 20.1.2.3 Number.isInteger(number)
var $export = __webpack_require__(25);

$export($export.S, 'Number', {isInteger: __webpack_require__(819)});

/***/ }),
/* 836 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.1 Object.assign(target, source)
var $export = __webpack_require__(25);

$export($export.S + $export.F, 'Object', {assign: __webpack_require__(267)});

/***/ }),
/* 837 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(25)
// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
$export($export.S, 'Object', {create: __webpack_require__(113)});

/***/ }),
/* 838 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(25);
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !__webpack_require__(42), 'Object', {defineProperty: __webpack_require__(37).f});

/***/ }),
/* 839 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.5 Object.freeze(O)
var isObject = __webpack_require__(33)
  , meta     = __webpack_require__(73).onFreeze;

__webpack_require__(74)('freeze', function($freeze){
  return function freeze(it){
    return $freeze && isObject(it) ? $freeze(meta(it)) : it;
  };
});

/***/ }),
/* 840 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject                 = __webpack_require__(50)
  , $getOwnPropertyDescriptor = __webpack_require__(157).f;

__webpack_require__(74)('getOwnPropertyDescriptor', function(){
  return function getOwnPropertyDescriptor(it, key){
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});

/***/ }),
/* 841 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 Object.getOwnPropertyNames(O)
__webpack_require__(74)('getOwnPropertyNames', function(){
  return __webpack_require__(268).f;
});

/***/ }),
/* 842 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 Object.getPrototypeOf(O)
var toObject        = __webpack_require__(75)
  , $getPrototypeOf = __webpack_require__(270);

__webpack_require__(74)('getPrototypeOf', function(){
  return function getPrototypeOf(it){
    return $getPrototypeOf(toObject(it));
  };
});

/***/ }),
/* 843 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.11 Object.isExtensible(O)
var isObject = __webpack_require__(33);

__webpack_require__(74)('isExtensible', function($isExtensible){
  return function isExtensible(it){
    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false;
  };
});

/***/ }),
/* 844 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 Object.keys(O)
var toObject = __webpack_require__(75)
  , $keys    = __webpack_require__(67);

__webpack_require__(74)('keys', function(){
  return function keys(it){
    return $keys(toObject(it));
  };
});

/***/ }),
/* 845 */
/***/ (function(module, exports, __webpack_require__) {

// 19.1.3.19 Object.setPrototypeOf(O, proto)
var $export = __webpack_require__(25);
$export($export.S, 'Object', {setPrototypeOf: __webpack_require__(825).set});

/***/ }),
/* 846 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY            = __webpack_require__(112)
  , global             = __webpack_require__(32)
  , ctx                = __webpack_require__(55)
  , classof            = __webpack_require__(110)
  , $export            = __webpack_require__(25)
  , isObject           = __webpack_require__(33)
  , aFunction          = __webpack_require__(150)
  , anInstance         = __webpack_require__(109)
  , forOf              = __webpack_require__(82)
  , speciesConstructor = __webpack_require__(826)
  , task               = __webpack_require__(162).set
  , microtask          = __webpack_require__(822)()
  , PROMISE            = 'Promise'
  , TypeError          = global.TypeError
  , process            = global.process
  , $Promise           = global[PROMISE]
  , process            = global.process
  , isNode             = classof(process) == 'process'
  , empty              = function(){ /* empty */ }
  , Internal, GenericPromiseCapability, Wrapper;

var USE_NATIVE = !!function(){
  try {
    // correct subclassing with @@species support
    var promise     = $Promise.resolve(1)
      , FakePromise = (promise.constructor = {})[__webpack_require__(27)('species')] = function(exec){ exec(empty, empty); };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;
  } catch(e){ /* empty */ }
}();

// helpers
var sameConstructor = function(a, b){
  // with library wrapper special case
  return a === b || a === $Promise && b === Wrapper;
};
var isThenable = function(it){
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var newPromiseCapability = function(C){
  return sameConstructor($Promise, C)
    ? new PromiseCapability(C)
    : new GenericPromiseCapability(C);
};
var PromiseCapability = GenericPromiseCapability = function(C){
  var resolve, reject;
  this.promise = new C(function($$resolve, $$reject){
    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject  = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject  = aFunction(reject);
};
var perform = function(exec){
  try {
    exec();
  } catch(e){
    return {error: e};
  }
};
var notify = function(promise, isReject){
  if(promise._n)return;
  promise._n = true;
  var chain = promise._c;
  microtask(function(){
    var value = promise._v
      , ok    = promise._s == 1
      , i     = 0;
    var run = function(reaction){
      var handler = ok ? reaction.ok : reaction.fail
        , resolve = reaction.resolve
        , reject  = reaction.reject
        , domain  = reaction.domain
        , result, then;
      try {
        if(handler){
          if(!ok){
            if(promise._h == 2)onHandleUnhandled(promise);
            promise._h = 1;
          }
          if(handler === true)result = value;
          else {
            if(domain)domain.enter();
            result = handler(value);
            if(domain)domain.exit();
          }
          if(result === reaction.promise){
            reject(TypeError('Promise-chain cycle'));
          } else if(then = isThenable(result)){
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch(e){
        reject(e);
      }
    };
    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if(isReject && !promise._h)onUnhandled(promise);
  });
};
var onUnhandled = function(promise){
  task.call(global, function(){
    var value = promise._v
      , abrupt, handler, console;
    if(isUnhandled(promise)){
      abrupt = perform(function(){
        if(isNode){
          process.emit('unhandledRejection', value, promise);
        } else if(handler = global.onunhandledrejection){
          handler({promise: promise, reason: value});
        } else if((console = global.console) && console.error){
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if(abrupt)throw abrupt.error;
  });
};
var isUnhandled = function(promise){
  if(promise._h == 1)return false;
  var chain = promise._a || promise._c
    , i     = 0
    , reaction;
  while(chain.length > i){
    reaction = chain[i++];
    if(reaction.fail || !isUnhandled(reaction.promise))return false;
  } return true;
};
var onHandleUnhandled = function(promise){
  task.call(global, function(){
    var handler;
    if(isNode){
      process.emit('rejectionHandled', promise);
    } else if(handler = global.onrejectionhandled){
      handler({promise: promise, reason: promise._v});
    }
  });
};
var $reject = function(value){
  var promise = this;
  if(promise._d)return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if(!promise._a)promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function(value){
  var promise = this
    , then;
  if(promise._d)return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if(promise === value)throw TypeError("Promise can't be resolved itself");
    if(then = isThenable(value)){
      microtask(function(){
        var wrapper = {_w: promise, _d: false}; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch(e){
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch(e){
    $reject.call({_w: promise, _d: false}, e); // wrap
  }
};

// constructor polyfill
if(!USE_NATIVE){
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor){
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch(err){
      $reject.call(this, err);
    }
  };
  Internal = function Promise(executor){
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = __webpack_require__(114)($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected){
      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail   = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if(this._a)this._a.push(reaction);
      if(this._s)notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function(onRejected){
      return this.then(undefined, onRejected);
    }
  });
  PromiseCapability = function(){
    var promise  = new Internal;
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject  = ctx($reject, promise, 1);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});
__webpack_require__(85)($Promise, PROMISE);
__webpack_require__(272)(PROMISE);
Wrapper = __webpack_require__(15)[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r){
    var capability = newPromiseCapability(this)
      , $$reject   = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x){
    // instanceof instead of internal slot check because we should fix it without replacement native Promise core
    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;
    var capability = newPromiseCapability(this)
      , $$resolve  = capability.resolve;
    $$resolve(x);
    return capability.promise;
  }
});
$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(265)(function(iter){
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable){
    var C          = this
      , capability = newPromiseCapability(C)
      , resolve    = capability.resolve
      , reject     = capability.reject;
    var abrupt = perform(function(){
      var values    = []
        , index     = 0
        , remaining = 1;
      forOf(iterable, false, function(promise){
        var $index        = index++
          , alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function(value){
          if(alreadyCalled)return;
          alreadyCalled  = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if(abrupt)reject(abrupt.error);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable){
    var C          = this
      , capability = newPromiseCapability(C)
      , reject     = capability.reject;
    var abrupt = perform(function(){
      forOf(iterable, false, function(promise){
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if(abrupt)reject(abrupt.error);
    return capability.promise;
  }
});

/***/ }),
/* 847 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var strong = __webpack_require__(258);

// 23.2 Set Objects
module.exports = __webpack_require__(152)('Set', function(get){
  return function Set(){ return get(this, arguments.length > 0 ? arguments[0] : undefined); };
}, {
  // 23.2.3.1 Set.prototype.add(value)
  add: function add(value){
    return strong.def(this, value = value === 0 ? 0 : value, value);
  }
}, strong);

/***/ }),
/* 848 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var each         = __webpack_require__(151)(0)
  , redefine     = __webpack_require__(159)
  , meta         = __webpack_require__(73)
  , assign       = __webpack_require__(267)
  , weak         = __webpack_require__(815)
  , isObject     = __webpack_require__(33)
  , getWeak      = meta.getWeak
  , isExtensible = Object.isExtensible
  , uncaughtFrozenStore = weak.ufstore
  , tmp          = {}
  , InternalMap;

var wrapper = function(get){
  return function WeakMap(){
    return get(this, arguments.length > 0 ? arguments[0] : undefined);
  };
};

var methods = {
  // 23.3.3.3 WeakMap.prototype.get(key)
  get: function get(key){
    if(isObject(key)){
      var data = getWeak(key);
      if(data === true)return uncaughtFrozenStore(this).get(key);
      return data ? data[this._i] : undefined;
    }
  },
  // 23.3.3.5 WeakMap.prototype.set(key, value)
  set: function set(key, value){
    return weak.def(this, key, value);
  }
};

// 23.3 WeakMap Objects
var $WeakMap = module.exports = __webpack_require__(152)('WeakMap', wrapper, methods, weak, true, true);

// IE11 WeakMap frozen keys fix
if(new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7){
  InternalMap = weak.getConstructor(wrapper);
  assign(InternalMap.prototype, methods);
  meta.NEED = true;
  each(['delete', 'has', 'get', 'set'], function(key){
    var proto  = $WeakMap.prototype
      , method = proto[key];
    redefine(proto, key, function(a, b){
      // store frozen objects on internal weakmap shim
      if(isObject(a) && !isExtensible(a)){
        if(!this._f)this._f = new InternalMap;
        var result = this._f[key](a, b);
        return key == 'set' ? this : result;
      // store all the rest on native weakmap
      } return method.call(this, a, b);
    });
  });
}

/***/ }),
/* 849 */
/***/ (function(module, exports, __webpack_require__) {

// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export  = __webpack_require__(25);

$export($export.P + $export.R, 'Map', {toJSON: __webpack_require__(259)('Map')});

/***/ }),
/* 850 */
/***/ (function(module, exports, __webpack_require__) {

// https://github.com/tc39/proposal-object-values-entries
var $export = __webpack_require__(25)
  , $values = __webpack_require__(824)(false);

$export($export.S, 'Object', {
  values: function values(it){
    return $values(it);
  }
});

/***/ }),
/* 851 */
/***/ (function(module, exports, __webpack_require__) {

// https://github.com/DavidBruant/Map-Set.prototype.toJSON
var $export  = __webpack_require__(25);

$export($export.P + $export.R, 'Set', {toJSON: __webpack_require__(259)('Set')});

/***/ }),
/* 852 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(165)('asyncIterator');

/***/ }),
/* 853 */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(165)('observable');

/***/ }),
/* 854 */
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__(25)
  , $task   = __webpack_require__(162);
$export($export.G + $export.B, {
  setImmediate:   $task.set,
  clearImmediate: $task.clear
});

/***/ }),
/* 855 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {// This method of obtaining a reference to the global object needs to be
// kept identical to the way it is obtained in runtime.js
var g =
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this;

// Use `getOwnPropertyNames` because not all browsers support calling
// `hasOwnProperty` on the global `self` object in a worker. See #183.
var hadRuntime = g.regeneratorRuntime &&
  Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime") >= 0;

// Save the old regeneratorRuntime in case it needs to be restored later.
var oldRuntime = hadRuntime && g.regeneratorRuntime;

// Force reevalutation of runtime.js.
g.regeneratorRuntime = undefined;

module.exports = __webpack_require__(856);

if (hadRuntime) {
  // Restore the original runtime.
  g.regeneratorRuntime = oldRuntime;
} else {
  // Remove the global property added by runtime.js.
  try {
    delete g.regeneratorRuntime;
  } catch(e) {
    g.regeneratorRuntime = undefined;
  }
}

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22)))

/***/ }),
/* 856 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, process) {/**
 * Copyright (c) 2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * https://raw.github.com/facebook/regenerator/master/LICENSE file. An
 * additional grant of patent rights can be found in the PATENTS file in
 * the same directory.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration. If the Promise is rejected, however, the
          // result for this iteration will be rejected with the same
          // reason. Note that rejections of yielded Promises are not
          // thrown back into the generator function, as is the case
          // when an awaited Promise is rejected. This difference in
          // behavior between yield and await is important, because it
          // allows the consumer to decide what to do with the yielded
          // rejection (swallow it and continue, manually .throw it back
          // into the generator, abandon iteration, whatever). With
          // await, by contrast, there is no opportunity to examine the
          // rejection reason outside the generator function, so the
          // only option is to throw it from the await expression, and
          // let the generator function handle the exception.
          result.value = unwrapped;
          resolve(result);
        }, reject);
      }
    }

    if (typeof process === "object" && process.domain) {
      invoke = process.domain.bind(invoke);
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // Among the various tricks for obtaining a reference to the global
  // object, this seems to be the most reliable technique that does not
  // use indirect eval (which violates Content Security Policy).
  typeof global === "object" ? global :
  typeof window === "object" ? window :
  typeof self === "object" ? self : this
);

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(22), __webpack_require__(77)))

/***/ }),
/* 857 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(Inferno) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _infernoCompat = __webpack_require__(0);

var _infernoCompat2 = _interopRequireDefault(_infernoCompat);

var _immutable = __webpack_require__(6);

var _uiSemantics = __webpack_require__(169);

var _dsApp = __webpack_require__(274);

var _dsApp2 = _interopRequireDefault(_dsApp);

var _site = __webpack_require__(168);

var _site2 = _interopRequireDefault(_site);

var _ui = __webpack_require__(276);

var _ui2 = _interopRequireDefault(_ui);

var _hotel_mandarinNewYork = __webpack_require__(275);

var _hotel_mandarinNewYork2 = _interopRequireDefault(_hotel_mandarinNewYork);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//import vectors from './fixtures/hotel_chateau_frontenac'
// import vectors from './fixtures/hotel_kakslauttanen_fi'

var space = new _uiSemantics.SemanticSpace({ vectors: (0, _immutable.fromJS)(_hotel_mandarinNewYork2.default), components: _ui2.default });

var createVNode = Inferno.createVNode;
function mountApp() {
  // let initState = base64.decode(window.pageReactInitState);
  // initState = JSON.parse(initState);
  var initState = window.pageReactInitState;
  window.initState = initState;

  // ????????????????????????????????????????????????????????????????????????????
  window.theGridSiteType = 'permalink';

  // routes.initState = initState;
  // ReactDOM.render(<Router history={browserHistory}  onUpdate={() => { if (typeof window !== 'undefined') window.scrollTo(0, 0)}} routes={routes} />, document.getElementById('app'));   hihkjhjh
  return _infernoCompat2.default.render(createVNode(16, _dsApp2.default, {
    children: createVNode(16, _uiSemantics.SemanticDisplay, {
      'space': space
    })
  }), document.getElementById('app'));
}
if (typeof window !== 'undefined') mountApp();
// const window = (typeof window !== 'undefined') ? window : global
// window.mountApp = mountApp

exports.default = mountApp;
module.exports = exports['default'];
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0)))

/***/ })
/******/ ]);
//# sourceMappingURL=ds-renderer.map